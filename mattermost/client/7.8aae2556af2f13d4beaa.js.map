{"version":3,"sources":["webpack:///7.8aae2556af2f13d4beaa.js","webpack:///./components/needs_team/index.js","webpack:///./node_modules/webrtc-adapter/src/js/utils.js","webpack:///./components/get_link_modal.jsx","webpack:///./node_modules/react-custom-scrollbars/lib/index.js","webpack:///./node_modules/dom-css/index.js","webpack:///./components/settings_sidebar.jsx","webpack:///./images/ring.mp3","webpack:///./node_modules/sdp/sdp.js","webpack:///./components/needs_team/needs_team.jsx","webpack:///./node_modules/inobounce/inobounce.js","webpack:///./components/delete_post_modal.jsx","webpack:///./components/edit_post_modal/index.js","webpack:///./actions/views/edit_post_modal.js","webpack:///./selectors/posts.js","webpack:///./components/edit_post_modal/edit_post_modal.jsx","webpack:///./components/get_post_link_modal/index.js","webpack:///./components/get_post_link_modal/get_post_link_modal.jsx","webpack:///./components/get_team_invite_link_modal/index.js","webpack:///./components/get_team_invite_link_modal/get_team_invite_link_modal.jsx","webpack:///./components/get_public_link_modal/index.js","webpack:///./components/get_public_link_modal/get_public_link_modal.jsx","webpack:///./components/invite_member_modal.jsx","webpack:///./components/leave_team_modal.jsx","webpack:///./components/modals/leave_private_channel_modal.jsx","webpack:///./components/navbar/index.js","webpack:///./components/navbar/navbar.jsx","webpack:///./components/notify_counts.jsx","webpack:///./components/quick_switch_modal/index.js","webpack:///./components/quick_switch_modal/quick_switch_modal.jsx","webpack:///./components/suggestion/switch_channel_provider.jsx","webpack:///./components/suggestion/switch_team_provider.jsx","webpack:///./components/navbar/navbar_info_button.jsx","webpack:///./components/removed_from_channel_modal.jsx","webpack:///./components/reset_status_modal/index.js","webpack:///./components/reset_status_modal/reset_status_modal.jsx","webpack:///./components/shortcuts_modal.jsx","webpack:///./components/sidebar_right/index.js","webpack:///./components/sidebar_right/sidebar_right.jsx","webpack:///./components/rhs_thread/index.js","webpack:///./components/rhs_thread/rhs_thread.jsx","webpack:///./node_modules/react-custom-scrollbars/lib/Scrollbars/index.js","webpack:///./node_modules/raf/index.js","webpack:///./node_modules/performance-now/lib/performance-now.js","webpack:///./node_modules/prefix-style/index.js","webpack:///./node_modules/to-camel-case/index.js","webpack:///./node_modules/to-space-case/index.js","webpack:///./node_modules/to-no-case/index.js","webpack:///./node_modules/add-px-to-style/index.js","webpack:///./node_modules/react-custom-scrollbars/node_modules/prop-types/index.js","webpack:///./node_modules/react-custom-scrollbars/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/react-custom-scrollbars/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/isString.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/returnFalse.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js","webpack:///./node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js","webpack:///./node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js","webpack:///./components/create_comment/index.js","webpack:///./actions/views/create_comment.jsx","webpack:///./components/create_comment/create_comment.jsx","webpack:///./components/post_view/date_separator.jsx","webpack:///./components/rhs_comment.jsx","webpack:///./components/rhs_header_post/index.js","webpack:///./components/rhs_header_post/rhs_header_post.jsx","webpack:///./components/rhs_root_post.jsx","webpack:///./components/search_results/index.jsx","webpack:///./components/search_results/search_results.jsx","webpack:///./components/search_results_header/index.jsx","webpack:///./components/search_results_header/search_results_header.jsx","webpack:///./components/search_results_item.jsx","webpack:///./components/sidebar_right_menu/index.js","webpack:///./components/sidebar_right_menu/sidebar_right_menu.jsx","webpack:///./components/team_settings_modal.jsx","webpack:///./components/team_settings.jsx","webpack:///./components/team_general_tab.jsx","webpack:///./components/team_import_tab.jsx","webpack:///./components/setting_upload.jsx","webpack:///./components/user_settings/import_theme_modal.jsx","webpack:///./components/user_settings/user_settings_modal.jsx","webpack:///./components/user_settings/user_settings.jsx","webpack:///./components/user_settings/user_settings_advanced.jsx","webpack:///./components/user_settings/user_settings_display.jsx","webpack:///./components/user_settings/manage_languages.jsx","webpack:///./components/user_settings/user_settings_theme.jsx","webpack:///./components/user_settings/custom_theme_chooser.jsx","webpack:///./node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js","webpack:///./components/user_settings/color_chooser.jsx","webpack:///./components/color_input.jsx","webpack:///./components/user_settings/premade_theme_chooser.jsx","webpack:///./components/user_settings/user_settings_general/index.js","webpack:///./components/user_settings/user_settings_general/user_settings_general.jsx","webpack:///./components/setting_picture.jsx","webpack:///./node_modules/exif2css/src/index.js","webpack:///./components/user_settings/user_settings_notifications.jsx","webpack:///./components/user_settings/desktop_notification_settings.jsx","webpack:///./components/user_settings/email_notification_setting.jsx","webpack:///./components/user_settings/user_settings_security/index.js","webpack:///./components/user_settings/user_settings_security/user_settings_security.jsx","webpack:///./components/access_history_modal/index.js","webpack:///./components/access_history_modal/access_history_modal.jsx","webpack:///./components/activity_log_modal/index.js","webpack:///./components/activity_log_modal/activity_log_modal.jsx","webpack:///./components/user_settings/user_settings_sidebar.jsx","webpack:///./components/webrtc/components/webrtc_notification.jsx","webpack:///./components/webrtc/components/webrtc_sidebar.jsx","webpack:///./components/webrtc/webrtc_controller.jsx","webpack:///./non_npm_dependencies/janus/index.js","webpack:///./node_modules/webrtc-adapter/src/js/adapter_core.js","webpack:///./node_modules/webrtc-adapter/src/js/adapter_factory.js","webpack:///./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","webpack:///./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","webpack:///./node_modules/webrtc-adapter/src/js/edge/edge_shim.js","webpack:///./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","webpack:///./node_modules/webrtc-adapter/src/js/edge/getusermedia.js","webpack:///./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","webpack:///./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","webpack:///./node_modules/webrtc-adapter/src/js/safari/safari_shim.js","webpack:///./node_modules/webrtc-adapter/src/js/common_shim.js","webpack:///./components/webrtc/components/webrtc_header.jsx","webpack:///./components/modal_controller/index.js","webpack:///./components/modal_controller/modal_controller.jsx"],"names":["webpackJsonp","2005","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","_extends3","theme","_preferences","getTheme","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","viewChannel","getMyChannelMembers","Object","defineProperty","value","_extends2","_reactRedux","_channels","_needs_team","_needs_team2","connect","2035","logDisabled_","deprecationWarnings_","utils","disableLog","bool","Error","disableWarnings","log","window","console","apply","arguments","deprecated","oldMethod","newMethod","warn","extractVersion","uastring","expr","pos","match","length","parseInt","detectBrowser","navigator","result","browser","version","mozGetUserMedia","this","userAgent","webkitGetUserMedia","webkitRTCPeerConnection","mediaDevices","shimCreateObjectURL","bind","2057","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_reactBootstrap","_reactIntl","GetLinkModal","_React$PureComponent","props","_this","__proto__","call","onHide","setState","copiedLink","copyLink","textarea","refs","focus","setSelectionRange","link","document","execCommand","err","key","helpText","createElement","queryCommandSupported","id","data-copy-btn","type","className","onClick","FormattedMessage","defaultMessage","linkText","ref","readOnly","copyLinkConfirm","Modal","show","Header","closeButton","title","Body","Footer","PureComponent","propTypes","isRequired","func","string","defaultProps","2064","Scrollbars","undefined","_Scrollbars","_Scrollbars2","2065","style","element","property","camel","cache","detect","addPxToStyle","each","properties","k","hasOwnProperty","cssProp","toCamelCase","prefix","set","cssText","float","get","Array","isArray","reduce","prop","2066","_jquery","_jquery2","_user_agent","UserAgent","newObj","prototype","SettingsSidebar","_React$Component","handleClick","tab","e","preventDefault","updateTab","name","target","closest","addClass","isFirefox","_this2","tabList","tabs","map","activeTab","icon","uiName","Component","arrayOf","shape","2067","p","2068","SDPUtils","generateIdentifier","Math","random","toString","substr","localCName","splitLines","blob","trim","split","line","splitSections","part","index","matchPrefix","filter","indexOf","parseCandidate","parts","substring","candidate","foundation","component","protocol","toLowerCase","priority","ip","port","i","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","sdp","push","toUpperCase","join","parseIceOptions","parseRtpMap","parsed","payloadType","shift","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","keys","params","forEach","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","concat","password","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","parse","stringify","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","stream","track","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","writeMediaSection","transceiver","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseMLine","fmt","slice","2252","_interopRequireWildcard","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_reactRouter","_inobounce","_inobounce2","_status_actions","_user_actions","_websocket_actions","_channel_store","_channel_store2","_preference_store","_preference_store2","_team_store","_team_store2","_user_store","_user_store2","_pluggable","_pluggable2","_constants","_constants2","_utils","Utils","_announcement_bar","_announcement_bar2","_delete_post_modal","_delete_post_modal2","_edit_post_modal","_edit_post_modal2","_get_post_link_modal","_get_post_link_modal2","_get_team_invite_link_modal","_get_team_invite_link_modal2","_get_public_link_modal","_get_public_link_modal2","_invite_member_modal","_invite_member_modal2","_leave_team_modal","_leave_team_modal2","_leave_private_channel_modal","_leave_private_channel_modal2","_navbar","_navbar2","_removed_from_channel_modal","_removed_from_channel_modal2","_reset_status_modal","_reset_status_modal2","_shortcuts_modal","_shortcuts_modal2","_sidebar_right","_sidebar_right2","_sidebar_right_menu","_sidebar_right_menu2","_team_settings_modal","_team_settings_modal2","_import_theme_modal","_import_theme_modal2","_user_settings_modal","_user_settings_modal2","_webrtc_notification","_webrtc_notification2","_webrtc_sidebar","_webrtc_sidebar2","_modal_controller","_modal_controller2","TutorialSteps","Preferences","NeedsTeam","teamChanged","onTeamChanged","shortcutKeyDown","onShortcutKeyDown","blurTime","Date","getTime","team","getCurrent","shiftKey","cmdOrCtrlPressed","keyCode","KeyCodes","L","getElementById","getInt","TUTORIAL_STEP","getCurrentId","INTRO_SCREENS","browserHistory","getCurrentTeamRelativeUrl","addChangeListener","startPeriodicStatusUpdates","startPeriodicSync","isActive","on","mark","_callee","wrap","_context","prev","next","resetCounts","emitChange","then","loadProfilesForSidebar","stop","getCurrentUser","applyTheme","isIosSafari","enable","addEventListener","removeChangeListener","off","disable","stopPeriodicStatusUpdates","stopPeriodicSync","removeEventListener","prevProps","areObjectsEqual","content","children","navbar","team_sidebar","sidebar","cloneElement","center","user","teamType","pluggableName","isMac","oneOfType","object","2253","global","startY","enabled","handleTouchmove","evt","el","body","getComputedStyle","nodeName","getAttribute","scrolling","getPropertyValue","overflowY","height","isScrollable","canScroll","scrollHeight","offsetHeight","curY","touches","screenY","isAtTop","scrollTop","isAtBottom","parentNode","handleTouchstart","isEnabled","testDiv","documentElement","appendChild","WebkitOverflowScrolling","scrollSupport","removeChild","iNoBounce","define","2254","_reactDom","_reactDom2","_post_actions","_modal_store","_modal_store2","ActionTypes","DeletePostModal","handleDelete","handleToggle","handleHide","post","commentCount","error","addModalListener","TOGGLE_DELETE_POST_MODAL","removeModalListener","prevState","setTimeout","findDOMNode","deletePostBtn","_this3","deletePost","channel_id","message","args","commentWarning","values","count","postTerm","root_id","Title","term","2255","ctrlSend","getBool","CATEGORY_ADVANCED_SETTINGS","config","_general","getConfig","editingPost","_posts2","getEditingPost","editPost","setEditingPost","addMessageIntoHistory","_posts","_edit_post_modal3","2256","_ref","getState","PostActions","sent","_app_dispatcher2","handleServerAction","RECEIVED_ERROR","server_error_id","abrupt","_x","_x2","_app_dispatcher","2257","_reselect","createSelector","views","posts","postId","getPost","2258","Selectors","_global_actions","GlobalActions","_redux_store","_redux_store2","_emoji_picker_overlay","_emoji_picker_overlay2","_textbox","_textbox2","EditPostModal","mustBeShown","hidding","getContainer","editModalBody","toggleEmojiPicker","showEmojiPicker","hideEmojiPicker","handleEmojiClick","emoji","emojiAlias","aliases","editText","newMessage","test","editbox","getEditPostControls","editPostEmoji","handlePostError","postError","handleEdit","updatedPost","_ref2","data","errorClass","ANIMATION_TIMEOUT","showDeletePostModal","commentsCount","scrollTo","handleChange","handleEditKeyPress","isMobile","which","ENTER","altKey","ctrlKey","blur","handleKeyDown","handleEnter","handleEntered","recalculateSize","handleExit","hidePreview","handleExited","refocusId","errorBoxClass","postErrorClass","emojiPicker","EnableEmojiPicker","container","onEmojiClick","rightOffset","topOffset","dangerouslySetInnerHTML","__html","EMOJI_ICON_SVG","dialogClassName","onKeyDown","onEnter","onEntered","onExit","onExited","bsClass","onChange","onKeyPress","channelId","emojiEnabled","createMessage","localizeMessage","supportsCommands","suggestionListStyle","2259","currentTeam","_teams","getCurrentTeam","currentTeamUrl","_url","getSiteURL","2260","_get_link_modal","_get_link_modal2","GetPostLinkModal","hide","TOGGLE_GET_POST_LINK_MODAL","postUrl","2261","2262","GetTeamInviteLinkModal","TOGGLE_GET_TEAM_INVITE_LINK_MODAL","inviteUrl","invite_id","EnableUserCreation","2263","getFilePublicLink","_files","_files2","2264","GetPublicLinkModal","fileId","TOGGLE_GET_PUBLIC_LINK_MODAL","2265","_team_actions","_confirm_modal","_confirm_modal2","holders","defineMessages","emailError","firstname","lastname","modalTitle","modalMessage","modalButton","InviteMemberModal","teamChange","handleSubmit","addInviteFields","clearFields","removeInviteFields","showGetTeamInviteLinkModal","inviteIds","idCount","emailErrors","firstNameErrors","lastNameErrors","emailEnabled","mm_config","SendEmailNotifications","userCreationEnabled","showConfirmModal","isSendingEmails","TOGGLE_INVITE_MEMBER_MODAL","serverError","invites","valid","invite","email","firstName","lastName","isEmail","intl","formatMessage","inviteMembers","detailed_error","requireConfirm","notEmpty","splice","currentUser","inviteSections","firstNameError","lastNameError","removeButton","emailClass","nameFields","firstNameClass","lastNameClass","placeholder","maxLength","disabled","spellCheck","onKeyUp","displayNameKeyUp","sendButton","defaultChannelName","getByName","DEFAULT_CHANNEL","display_name","FormattedHTMLMessage","channel","sendButtonLabel","teamInviteLink","enforceFocus","backdrop","confirmButtonText","onConfirm","onCancel","intlShape","injectIntl","2266","_webrtc_store","_webrtc_store2","LeaveTeamModal","handleKeyPress","TOGGLE_LEAVE_TEAM_MODAL","isBusy","emitChanged","action","WebrtcActionTypes","IN_PROGRESS","emitLeaveTeam","toggleSideBarRightMenuAction","2267","_channel_actions","ChannelActions","LeavePrivateChannelModal","mounted","TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL","leaveChannel","button","confirmButtonClass","2268","isPinnedPosts","_rhs2","getRhsState","RHSStates","PIN","closeRightHandSide","updateRhsState","_rhs","2269","_edit_channel_header_modal","_edit_channel_header_modal2","_edit_channel_purpose_modal","_edit_channel_purpose_modal2","_webrtc_actions","WebrtcActions","_channel_utils","ChannelUtils","_channel_info_modal","_channel_info_modal2","_channel_invite_modal","_channel_invite_modal2","_channel_members_modal","_channel_members_modal2","_channel_notifications_modal","_channel_notifications_modal2","_delete_channel_modal","_delete_channel_modal2","_notify_counts","_notify_counts2","_quick_switch_modal","_quick_switch_modal2","_rename_channel_modal","_rename_channel_modal2","_status_icon","_status_icon2","_toggle_modal_button","_toggle_modal_button2","_toggle_modal_button_redux","_toggle_modal_button_redux2","_navbar_info_button","_navbar_info_button2","Navbar","getStateFromStores","contactId","getUserIdFromChannelName","member","getCurrentMember","users","userCount","getCurrentStats","member_count","isFavorite","isFavoriteChannel","isStateValid","handleLeave","Constants","PRIVATE_CHANNEL","showLeavePrivateChannelModal","hideSidebars","outerWidth","removeClass","toggleLeftSidebar","toggleClass","toggleRightSidebar","showSearch","SEARCH","showEditChannelHeaderModal","hideEditChannelHeaderModal","showChannelNotificationsModal","hideChannelNotificationsModal","showChannelPurposeModal","showEditChannelPurposeModal","hideChannelPurposeModal","showRenameChannelModal","hideRenameChannelModal","showMembersModal","hideMembersModal","handleQuickSwitchKeyPress","K","toggleQuickSwitchModal","mode","showQuickSwitchModal","quickSwitchMode","hideQuickSwitchModal","openDirectMessageModal","handleViewAction","TOGGLE_DM_MODAL","getPinnedPosts","emitCloseRightHandSide","toggleFavorite","unmarkFavorite","markFavorite","onBusy","initWebrtc","isContactNotAvailable","createDropdown","channelTitle","isSystemAdmin","isTeamAdmin","isChannelAdmin","isDirect","isGroup","viewInfoOption","webrtcOption","viewPinnedPostsOption","addMembersOption","manageMembersOption","setChannelHeaderOption","setChannelPurposeOption","notificationPreferenceOption","renameChannelOption","deleteChannelOption","leaveChannelOption","href","generateWebrtcDropdown","modalId","ModalIdentifiers","CHANNEL_INFO","dialogType","dialogProps","isDefault","canManageMembers","showManagementOptions","showDeleteOptionForCurrentUser","toggleFavoriteOption","generateWebrtcIcon","data-toggle","aria-expanded","status","getTeammateStatus","headerOverlay","Link","to","getCurrentTeamUrl","createCollapseButtons","currentId","buttons","menuIcon","MENU_ICON_SVG","data-target","aria-hidden","MENU_ICON","currentUserId","teammate","find","getStatus","addStatsChangeListener","addStatusesChangeListener","TOGGLE_QUICK_SWITCH_MODAL","TOGGLE_CHANNEL_HEADER_UPDATE_MODAL","TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL","TOGGLE_CHANNEL_NAME_UPDATE_MODAL","addChangedListener","addBusyListener","click","removeStatsChangeListener","removeStatusesChangeListener","removeChangedListener","removeBusyListener","contactStatus","UserStatuses","OFFLINE","DND","userMedia","getUserMedia","PreReleaseFeatures","PRE_RELEASE_FEATURES","EnableWebrtc","isFeatureEnabled","WEBRTC_PREVIEW","isWebrtcEnabled","linkClass","circleClass","teamDisplayName","isTeamAdminForCurrentTeam","isSystemAdminForCurrentUser","editChannelHeaderModal","editChannelPurposeModal","renameChannelModal","channelMembersModal","channelNotificationsModal","quickSwitchModal","isChannelAdminForCurrentChannel","DM_CHANNEL","teammateId","displayUsername","GM_CHANNEL","onModalDismissed","showInviteModal","channelInviteModalButton","isAdmin","channelMember","initialMode","collapseButtons","searchIcon","SEARCH_ICON_SVG","searchButton","channelMenuDropdown","2270","NotifyCounts","onListenerChange","getCountsStateFromStores","newState","mentionCount","messageCount","2271","showTeamSwitcher","2272","_suggestion_box","_suggestion_box2","_suggestion_list","_suggestion_list2","_switch_channel_provider","_switch_channel_provider2","_switch_team_provider","_switch_team_provider2","QuickSwitchModal","setSwitchBoxRef","input","switchBox","focusTextbox","onShow","switchToChannel","switchMode","enableChannelProvider","enableTeamProvider","channelProviders","teamProviders","text","nextProps","textbox","getTextbox","activeElement","placeCaretAtEnd","querySelector","TAB","selected","selectedChannel","openDirectChannelToUser","ch","getChannel","goToChannel","disableDispatches","providers","header","renderDividers","channelShortcut","defaultChannelShortcut","teamShortcut","defaultTeamShortcut","channelsActiveClass","teamsActiveClass","help","onItemSelected","listComponent","listStyle","completeOnTab","2273","quickSwitchSorter","wrappedA","wrappedB","MENTION_CHANNELS","MENTION_MORE_CHANNELS","deactivated","a","b","aDisplayName","getChannelDisplayName","bDisplayName","aStartsWith","startsWith","bStartsWith","sortChannelsByDisplayName","_keys","_keys2","_getIterator2","_getIterator3","_assign","_assign2","_client","_users","_provider","_provider2","_suggestion","_suggestion2","SwitchChannelSuggestion","_Suggestion","_props","item","isSelection","globeIcon","GLOBE_ICON_SVG","lockIcon","LOCK_ICON_SVG","displayName","OPEN_CHANNEL","src","imageURLForUser","SwitchChannelProvider","_Provider","suggestionId","channelPrefix","startNewRequest","channels","getChannelsInCurrentTeam","getGroupChannels","searchProfiles","formatChannelsAndDispatch","fetchUsersAndChannels","teamId","usersAsync","channelsAsync","usersFromServer","channelsFromServer","getCurrentTeamId","RestrictDirectMessage","Client4","autocompleteUsers","searchChannels","t0","shouldCancelDispatch","allChannels","skipNotInChannel","members","getMyChannelMemberships","getCurrentUserId","completedChannels","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","done","newChannel","wrappedChannel","CATEGORY_GROUP_CHANNEL_SHOW","return","isDMVisible","CATEGORY_DIRECT_CHANNEL_SHOW","username","first_name","last_name","nickname","getFullName","delete_at","update_at","last_picture_update","channelNames","sort","loading","SUGGESTION_RECEIVED_SUGGESTIONS","matchedPretext","terms","items","2274","locale","_localization_store2","getLocale","localeCompare","numeric","_localization_store","SwitchTeamSuggestion","SwitchTeamProvider","teamPrefix","allTeams","getMyTeams","teams","teamNames","2275","_message_wrapper","_message_wrapper2","NavbarInfoButton","_temp","_ret","_len","_key","popoverContent","options","singleline","mentionHighlight","newline","popover","Popover","bsStyle","placement","OverlayTrigger","trigger","overlay","rootClose","INFO_ICON_SVG","2276","_browser_store","_browser_store2","RemovedFromChannelModal","handleShow","handleClose","channelName","remover","getItem","removeItem","townSquare","tabIndex","data-dismiss","aria-label","2277","entities","autoResetPref","_preferences2","CATEGORY_AUTO_RESET_MANUAL_STATUS","autoResetStatus","setStatus","savePreferences","2278","ResetStatusModal","checked","newStatus","currentUserStatus","pref","category","user_id","statusIsManual","manual","autoResetPrefNotSet","Boolean","userStatus","userStatusId","manualStatusTitle","toTitleCase","manualStatusMessage","manualStatusButton","manualStatusId","manualStatusCancel","manualStatusCheckbox","cancelButtonText","showCheckbox","checkboxText","2279","renderShortcut","shortcut","allShortcuts","mainHeader","mac","navHeader","navPrev","navNext","navUnreadPrev","navUnreadNext","navSwitcher","navDMMenu","navSettings","navMentions","navFocusCenter","msgHeader","msgInputHeader","msgEdit","msgReply","msgReprintPrev","msgReprintNext","msgCompHeader","msgCompUsername","msgCompChannel","msgCompEmoji","filesHeader","filesUpload","browserHeader","browserChannelPrev","browserChannelNext","browserFontIncrease","browserFontDecrease","browserInputHeader","browserHighlightPrev","browserHighlightNext","browserNewline","info","ShortcutsModal","TOGGLE_SHORTCUTS_MODAL","shortcuts","s","getShortcuts","2280","rhsState","getSelectedChannelId","_post_store2","getFocusedPostId","postRightVisible","getSelectedPostId","searchVisible","previousRhsState","getPreviousRhsState","isMentionSearch","MENTION","isFlaggedPosts","FLAG","getFlaggedPosts","_post_store","2281","_diagnostics_actions","_file_upload_overlay","_file_upload_overlay2","_rhs_thread","_rhs_thread2","_search_bar","_search_bar2","_search_results","_search_results2","SidebarRight","doStrangeThings","onPreferenceChange","useMilitaryTime","CATEGORY_DISPLAY_SETTINGS","USE_MILITARY_TIME","onPostPinnedChange","onShrink","expanded","toggleSize","plScrolledToBottom","addPostPinnedChangeListener","removePostPinnedChangeListener","isOpen","willOpen","trackEvent","emitRhsChanged","wasOpen","postListScrollChange","expandedClass","searchForm","isFocus","channelDisplayName","shrink","overlayType","isWebrtc","2282","makeMapStateToProps","getPostsForThread","makeGetPostsForThread","getPostsEmbedVisibleObj","makeGetPostsEmbedVisibleObj","getSelectedPost","rootId","previewCollapsed","COLLAPSE_DISPLAY","COLLAPSE_DISPLAY_DEFAULT","postsEmbedVisibleObj","previewEnabled","LINK_PREVIEW_DISPLAY","LINK_PREVIEW_DISPLAY_DEFAULT","removePost","2283","renderView","renderThumbHorizontal","renderThumbVertical","_stringify","_stringify2","_reactCustomScrollbars","_reactCustomScrollbars2","_delayed_action","_delayed_action2","_create_comment","_create_comment2","_date_separator","_date_separator2","_floating_timestamp","_floating_timestamp2","_rhs_comment","_rhs_comment2","_rhs_header_post","_rhs_header_post2","_rhs_root_post","_rhs_root_post2","RhsThread","_initialiseProps","scrollStopAction","handleScrollStop","openTime","windowWidth","windowHeight","profiles","getProfiles","compactDisplay","MESSAGE_DISPLAY","MESSAGE_DISPLAY_DEFAULT","MESSAGE_DISPLAY_COMPACT","flaggedPosts","getCategory","CATEGORY_FLAGGED_POST","statuses","getStatuses","previewsCollapsed","isScrolling","topRhsPostCreateAt","onUserChange","onStatusChange","scrollToBottom","handleResize","prevPostsArray","curPostsArray","nextState","postsArray","filterPosts","profile","isRootFlagged","rootStatus","createAt","create_at","rootPostDay","getDateForUnixTicks","previousPostDay","commentsLists","postsLength","comPost","isFlagged","currentPostDay","toDateString","date","keyPrefix","pending_post_id","reverseCount","lastPostCount","TEST_ID_COUNT","isEmbedVisible","createComment","PostTypes","FAKE_PARENT_DELETED","latestPostId","getSidebarBody","getDirectTeammate","isRhsPost","autoHide","autoHideTimeout","autoHideDuration","onScroll","handleScroll","forceUpdateInfo","postList","forceUpdate","cpost","unshift","parent","updateFloatingTimestamp","childNodes","rhspostlist","viewPort","getBoundingClientRect","offsetTop","top","fireAfter","SCROLL_DELAY","sidebarbody","2284","_objectWithoutProperties","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","_extends","assign","source","_createClass","defineProperties","descriptor","protoProps","staticProps","_raf2","_raf3","_domCss","_domCss2","_isString","_isString2","_getScrollbarWidth","_getScrollbarWidth2","_returnFalse","_returnFalse2","_getInnerWidth","_getInnerWidth2","_getInnerHeight","_getInnerHeight2","_styles","_defaultRenderElements","_Component","rest","getPrototypeOf","getScrollLeft","getScrollTop","getScrollWidth","getScrollHeight","getClientWidth","getClientHeight","getValues","getThumbHorizontalWidth","getThumbVerticalHeight","getScrollLeftForOffset","getScrollTopForOffset","scrollLeft","scrollToLeft","scrollToTop","scrollToRight","handleTrackMouseEnter","handleTrackMouseLeave","handleHorizontalTrackMouseDown","handleVerticalTrackMouseDown","handleHorizontalThumbMouseDown","handleVerticalThumbMouseDown","handleWindowResize","handleDrag","handleDragEnd","didMountUniversal","addListeners","update","componentDidMountUniversal","universal","removeListeners","cancel","requestFrame","clearTimeout","hideTracksTimeout","clearInterval","detectScrollingInterval","view","scrollWidth","clientWidth","clientHeight","_ref2$scrollLeft","_ref2$scrollTop","_ref2$scrollWidth","_ref2$scrollHeight","_ref2$clientWidth","_ref2$clientHeight","left","thumbSize","thumbMinSize","_view","trackWidth","trackHorizontal","width","ceil","max","_props2","_view2","trackHeight","trackVertical","offset","_view3","_view4","thumbHorizontal","thumbVertical","teardownDragging","event","_props3","onScrollFrame","viewScrollLeft","viewScrollTop","detectScrolling","onScrollStart","handleScrollStartAutoHide","showTracks","onScrollStop","handleScrollStopAutoHide","hideTracks","clientX","_target$getBoundingCl","targetLeft","thumbWidth","abs","clientY","_target$getBoundingCl2","targetTop","thumbHeight","handleDragStart","offsetWidth","_target$getBoundingCl3","prevPageX","_target$getBoundingCl4","prevPageY","disableSelectStyle","onselectstart","disableSelectStyleReset","dragging","stopImmediatePropagation","setupDragging","_trackHorizontal$getB","trackLeft","clickPosition","_trackVertical$getBou","trackTop","_clickPosition","_offset","handleDragEndAutoHide","trackMouseOver","handleTrackMouseEnterAutoHide","handleTrackMouseLeaveAutoHide","opacity","_this4","handleScrollStart","setInterval","lastViewScrollLeft","lastViewScrollTop","callback","_this5","_this6","raf","_update","_props4","onUpdate","hideTracksWhenNotNeeded","trackHorizontalWidth","thumbHorizontalWidth","thumbHorizontalX","thumbHorizontalStyle","transform","trackVerticalHeight","thumbVerticalHeight","thumbVerticalY","thumbVerticalStyle","trackHorizontalStyle","visibility","trackVerticalStyle","_this7","scrollbarWidth","_props5","renderTrackHorizontal","renderTrackVertical","tagName","autoHeight","autoHeightMin","autoHeightMax","containerStyle","containerStyleDefault","containerStyleAutoHeight","minHeight","maxHeight","viewStyle","viewStyleDefault","marginRight","marginBottom","viewStyleAutoHeight","viewStyleUniversalInitial","trackAutoHeightStyle","transition","trackHorizontalStyleDefault","display","trackVerticalStyleDefault","_ref3","_ref4","_ref5","thumbHorizontalStyleDefault","_ref6","_ref7","thumbVerticalStyleDefault","_ref8","number","node","renderViewDefault","renderTrackHorizontalDefault","renderTrackVerticalDefault","renderThumbHorizontalDefault","renderThumbVerticalDefault","2285","now","root","vendors","suffix","caf","last","queue","_now","cp","cancelled","round","handle","fn","polyfill","requestAnimationFrame","cancelAnimationFrame","2286","process","getNanoSeconds","hrtime","loadTime","performance","hr","2287","div","prefixes","titleCase","charAt","2288","space","replace","matches","letter","2289","toSpaceCase","clean","2290","toNoCase","hasSpace","hasSeparator","unseparate","hasCamel","uncamelize","separatorSplitter","m","camelSplitter","previous","uppers","2291","IS_UNITLESS","animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","stopOpacity","strokeDashoffset","strokeOpacity","strokeWidth","2292","2293","emptyFunction","invariant","ReactPropTypesSecret","shim","propName","componentName","location","propFullName","secret","getShim","ReactPropTypes","array","symbol","any","instanceOf","objectOf","oneOf","checkPropTypes","PropTypes","2294","2295","isString","maybe","2296","getScrollbarWidth","position","overflow","MsOverflowStyle","2297","returnFalse","2298","getInnerWidth","_getComputedStyle","paddingLeft","paddingRight","parseFloat","2299","getInnerHeight","paddingTop","paddingBottom","2300","right","bottom","userSelect","2301","finalStyle","borderRadius","cursor","backgroundColor","2302","requests","createPost","getCommentDraft","makeGetCommentDraft","draft","enableAddButton","fileInfos","createPostErrorId","makeOnUpdateCommentDraft","updateCommentDraft","makeMapDispatchToProps","onResetHistoryIndex","resetHistoryIndex","Posts","MESSAGE_TYPES","COMMENT","onUpdateCommentDraft","onSubmit","onMoveHistoryIndexBack","onMoveHistoryIndexForward","onEditLatestPost","makeOnMoveHistoryIndex","makeOnEditLatestPost","makeOnSubmit","clearCommentDraftUploads","_create_comment3","2303","_storage","actionOnGlobalItemsWithPrefix","StoragePrefixes","COMMENT_DRAFT","uploadsInProgress","setGlobalItem","getMessageInHistory","makeGetMessageInHistoryItem","moveHistoryIndexBack","moveHistoryIndexForward","nextMessageInHistory","submitPost","userId","time","getTimestamp","file_ids","parent_id","emitUserCommentedEvent","submitReaction","emojiName","addReaction","removeReaction","submitCommand","team_id","_promise2","resolve","reject","executeCommand","sendMessage","isReaction","emojis","emojiMap","_create_post","REACTION_PATTERN","exec","_emojis","getCustomEmojisByName","_emoji_store","EmojiMap","has","makeGetCurrentUsersLatestPost","postsInChannel","postIds","getPostById","lastPost","from_webhook","POST_DELETED","SYSTEM_MESSAGE_PREFIX","getCurrentUsersLatestPost","getCommentCount","makeGetCommentCountForPost","_promise","2304","_toConsumableArray2","_toConsumableArray3","_file_preview","_file_preview2","_file_upload","_file_upload2","_msg_typing","_msg_typing2","_post_deleted_modal","_post_deleted_modal2","CreateComment","fasterThanHumanWillClick","forceFocus","lastBlurAt","commentMsgKeyPress","emitLocalUserTypingEvent","$el","updatedDraft","metaKey","UP","DOWN","handleFileUploadChange","handleUploadStart","clientIds","handleFileUploadComplete","newFileInfos","preview","scrollIntoView","handleUploadError","clientId","removePreview","findIndex","fileUpload","getWrappedInstance","cancelUpload","getFileCount","_this$state$draft","getFileUploadTarget","getCreateCommentControls","createCommentControls","keepFocus","showPostDeletedModal","hidePostDeletedModal","handleBlur","newProps","onRemove","uploadsInProgressText","addButtonClass","getTarget","onFileUploadChange","onUploadStart","onFileUpload","onUploadError","postType","onBlur","initialText","isRHS","popoverMentionKeyClick","parentId","2305","DateSeparator","FormattedDate","weekday","month","day","year","2306","_post_utils","PostUtils","_dot_menu","_dot_menu2","_file_attachment_list","_file_attachment_list2","_failed_post_options","_failed_post_options2","_post_body_additional_content","_post_body_additional_content2","_post_flag_icon","_post_flag_icon2","_post_message_view","_post_message_view2","_reaction_list","_reaction_list2","_profile_picture","_profile_picture2","_user_profile","_user_profile2","RhsComment","dropdownOpened","getClassName","isSystemMessage","is_pinned","reactEmojiClick","handleDropdownOpened","currentTeamDisplayName","updateWindowDimensions","timeOptions","dateTime","toISOString","toLocaleString","timeTag","emitEmojiPosted","isOpened","mattermostLogo","MATTERMOST_ICON_SVG","isEphemeral","isPostEphemeral","botIndicator","userProfile","hasMention","visibleMessage","override_username","EnablePostUsernameOverride","overwriteName","disablePopover","overwriteImage","SYSTEM_MESSAGE_PROFILE_IMAGE","failedPostOptions","postClass","failed","isEdited","profilePic","getProfilePicSrcForPost","profilePicContainer","fileAttachment","react","dotMenu","spaceRequiredAbove","spaceRequiredBelow","createRemovePostButton","idPrefix","RHS","pinnedBadge","hour","minute","hour12","renderTimeTag","2307","showSearchResults","showMentions","showFlaggedPosts","showPinnedPosts","2308","_values","_values2","RhsHeaderPost","handleBack","back","closeSidebarTooltip","Tooltip","backToResultsTooltip","expandSidebarTooltip","shrinkSidebarTooltip","delayShow","OVERLAY_TIME_DELAY","2309","RhsRootPost","testStateObj","RHS_ROOT","dotMenuContainer","postFlagIcon","2310","results","isFlaggedByPostId","newResults","getSearchResults","_map2","channelIds","newFlaggedPosts","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","searchTerms","getSearchTerms","getIsSearching","PreferenceSelectors","_map","makeGetCategory","selectPost","2311","_search_results_header","_search_results_header2","_search_results_item","_search_results_item2","SearchResults","resize","noResults","flagIcon","FLAG_ICON_SVG","ctls","tips","DataRetentionEnableMessageDeletion","days","DataRetentionMessageRetentionDays","quotationMarks","fromUser","inChannel","sortedResults","postA","postB","idx","arr","isFlaggedSearch","onSelect","isLoading","2312","2313","SearchResultsHeader","2314","_comment_icon","_comment_icon2","SearchResultsItem","onUpdateWindowDimensions","handleFocusRHSClick","handleJumpClick","shrinkSidebar","displayUsernameForUser","overrideUsername","disableProfilePopover","BOT_NAME","flagContent","rhsControls","SEARCH_POST","handleCommentClick","searchStyle","searchTerm","2315","2316","_about_build_modal","_about_build_modal2","_add_users_to_team","_add_users_to_team2","_team_members_modal","_team_members_modal2","_tutorial_tip","SidebarRightMenu","handleAboutModal","showAboutModal","aboutModalDismissed","showAddUsersToTeamModal","showDropdown","hideAddUsersToTeamModal","getFlagged","closeRightSidebar","tutorialStep","teamMembers","getMyTeamMembers","teamListings","getTeamListings","showTutorialTip","MENU_POPOVER","searchMentions","closeLeftSidebar","classList","remove","openRightSidebar","add","teamLink","inviteLink","addUserToTeamLink","teamSettingsLink","manageLink","consoleLink","joinAnotherTeamLink","createTeam","showInviteMemberModal","OPEN_TEAM","mm_license","IsLicensed","RestrictTeamInvite","PERMISSIONS_SYSTEM_ADMIN","PERMISSIONS_TEAM_ADMIN","moreTeams","isAlreadyMember","EnableTeamCreation","leaveTeam","showLeaveTeamModal","LEAVE_TEAM_SVG","siteName","SiteName","helpLink","HelpLink","rel","reportLink","ReportAProblemLink","tutorialTip","createMenuTip","nativeAppLink","AppDownloadLink","isMobileApp","useSafeUrl","addUsersToTeamModal","teamDivider","consoleDivider","showAccountSettingsModal","emitUserLoggedOutEvent","2317","_settings_sidebar","_settings_sidebar2","_team_settings","_team_settings2","generalTab","importTab","TeamSettingsModal","updateSection","activeSection","modal","perfectScrollbar","section","2318","_team_general_tab","_team_general_tab2","_team_import_tab","_team_import_tab2","TeamSettings","2319","_setting_item_max","_setting_item_max2","_setting_item_min","_setting_item_min2","GeneralTab","handleNameSubmit","handleInviteIdSubmit","handleOpenInviteSubmit","handleDescriptionSubmit","onUpdateNameSection","updateName","updateDescription","onUpdateDescriptionSection","onUpdateInviteIdSection","updateInviteId","onUpdateOpenInviteSection","handleOpenInviteRadio","handleGenerateInviteId","setupInitialState","allow_open_invite","clientError","newId","floor","openInvite","updateTeam","openInviteSection","inputs","defaultChecked","submit","server_error","describe","inviteSection","getTeamInviteLink","client_error","nameSection","teamNameLabel","MAX_TEAMNAME_LENGTH","nameExtraInfo","extraInfo","descriptionSection","teamDescriptionLabel","MAX_TEAMDESCRIPTION_LENGTH","descriptionExtraInfo","describemsg","2320","_setting_upload","_setting_upload2","importSlack","TeamImportTab","onImportFailure","onImportSuccess","doImportSlack","encodeURIComponent","atob","file","messageSection","uploadDocsLink","uploadExportInstructions","uploadExporterLink","uploadHelpText","exportInstructions","slackAdvancedExporterLink","uploadSection","fileTypesAccepted","download","2321","SettingsUpload","doFileSelect","doSubmit","filename","val","inputnode","uploadinput","files","fileNameText","submitButtonClass","accept","2322","ImportThemeModal","updateShow","inputError","TOGGLE_IMPORT_THEME_MODAL","isInputValid","colors","sidebarBg","sidebarText","sidebarUnreadText","sidebarTextHoverBg","sidebarTextActiveBorder","sidebarTextActiveColor","sidebarHeaderBg","sidebarHeaderTextColor","onlineIndicator","awayIndicator","mentionBg","mentionColor","centerChannelBg","centerChannelColor","newMessageSeparator","linkColor","buttonBg","buttonColor","mentionHighlightBg","mentionHighlightLink","codeTheme","2323","_user_settings","_user_settings2","general","security","notifications","advanced","confirmTitle","confirmMsg","confirmBtns","UserSettingsModal","handleHidden","handleCollapse","handleConfirm","handleCancelConfirmation","closeModal","collapseModal","onUserChanged","active_tab","active_section","TOGGLE_ACCOUNT_SETTINGS_MODAL","A","afterConfirm","modalBody","skipConfirm","CloseUnusedDirectMessages","setEnforceFocus","setRequireConfirm","2324","_user_settings_advanced","_user_settings_advanced2","_user_settings_display","_user_settings_display2","_user_settings_general","_user_settings_general2","_user_settings_notifications","_user_settings_notifications2","_user_settings_security","_user_settings_security2","_user_settings_sidebar","_user_settings_sidebar2","UserSettings","2325","_slicedToArray2","_slicedToArray3","AdvancedSettingsDisplay","updateSetting","toggleFeature","saveEnabledFeatures","renderFormattingSection","renderJoinLeaveSection","preReleaseFeaturesKeys","advancedSettings","settings","send_on_ctrl_enter","formatting","join_leave","f","enabledFeatures","_step$value","feature","FeatureTogglePrefix","label","previewFeaturesEnabled","EnablePreviewFeatures","preReleaseFeatures","isSaving","setting","String","lastIndexOf","features","preferences","saving","renderOnOffLabel","BuildEnterpriseReady","ctrlSendSection","ctrlSendActive","formattingSection","formattingSectionDivider","displayJoinLeaveSection","displayJoinLeaveSectionDivider","previewFeaturesSection","previewFeaturesSectionDivider","renderFeatureLabel","2326","getDisplayStateFromStores","militaryTime","channelDisplayMode","CHANNEL_DISPLAY_MODE","CHANNEL_DISPLAY_MODE_DEFAULT","messageDisplay","collapseDisplay","linkPreviewDisplay","_i18n","I18n","_manage_languages","_manage_languages2","_user_settings_theme","_user_settings_theme2","UserSettingsDisplay","handleClockRadio","updateState","timePreference","channelDisplayModePreference","messageDisplayPreference","collapseDisplayPreference","linkPreviewDisplayPreference","firstOption","secondOption","firstMessage","radionButtonText","moreColon","firstMessageMore","moreId","moreMessage","secondMessageMore","secondMessage","messageTitle","messageDesc","format","handleUpdateSection","firstDisplay","secondDisplay","handleOnChange","collapseSection","createSection","defaultDisplay","isEnableLinkPreviews","EnableLinkPreviews","linkPreviewSection","clockSection","messageDisplaySection","MESSAGE_DISPLAY_CLEAN","channelDisplayModeSection","CHANNEL_DISPLAY_MODE_FULL_SCREEN","CHANNEL_DISPLAY_MODE_CENTERED","languagesSection","userLocale","isLanguageAvailable","DefaultClientLocale","getLanguageInfo","getLanguages","themeSection","EnableThemeSelection","2327","ManageLanguage","setLanguage","changeLanguage","submitUser","updateUser","newLocalizationSelected","locales","l","lang","2328","UserActions","_custom_theme_chooser","_custom_theme_chooser2","_premade_theme_chooser","_premade_theme_chooser2","ThemeSetting","submitTheme","updateTheme","resetFields","handleImportModal","originalTheme","DEFAULT_CODE_THEME","showAllTeamsCheckbox","applyToAllTeams","LDAP","getAll","CATEGORY_THEME","size","saveTheme","themeChanged","field","displayCustom","allowCustomThemes","AllowCustomThemes","custom","premade","themeUI","updateType","allTeamsCheckbox","submitExtra","2329","_defineProperty2","_defineProperty3","_extends4","_color_chooser","_color_chooser2","messages","dndIndicator","errorTextColor","CustomThemeChooser","handleColorChange","settingId","color","_this$props","newTheme","mentionBj","pasteBoxChange","clipboardData","getData","copyTheme","onChangeHandle","stopPropagation","toggleSidebarStyles","sidebarStylesHeader","toggleSection","sidebarStyles","toggleCenterChannelStyles","centerChannelStylesHeader","centerChannelStyles","toggleLinkAndButtonStyles","linkAndButtonStylesHeader","linkAndButtonStyles","onCodeThemeChange","selectTheme","image","isIos","slideToggle","sidebarElements","centerChannelElements","linkAndButtonElements","THEME_ELEMENTS","codeThemeOptions","codeThemeURL","themes","codeThemeIndex","iconURL","defaultValue","group","pasteBox","onPaste","2330","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","jq","$","Color","predefinedColors","fallbackColor","fallbackFormat","hexNumberSignPrefix","fallbackValue","h","origFormat","extend","webColors","setColor","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent","getValue","setValue","_sanitizeNumber","isNaN","isTransparent","strVal","rgbaIsTransparent","rgba","r","g","parsedColor","setHue","setSaturation","setBrightness","setAlpha","toRGB","R","G","B","X","C","toHex","ignoreFormat","rgb","toHSL","H","S","toAlias","c","original","alias","RGBtoHSB","V","min","HueToRGB","q","HSLtoRGB","tr","tg","tb","that","isAlias","stringParsers","parser","re","getValidFallbackFormat","formats","forceRawValue","translateAlias","execResult","colorNameToHex","defaults","horizontal","inline","sliders","saturation","maxLeft","maxTop","callLeft","callTop","hue","alpha","slidersHorz","template","align","customClass","colorSelectors","Colorpicker","is","createColor","updateInput","updateData","$picker","picker","colorpicker","selectorsContainer","$btn","css","append","proxy","currentTarget","mousedown","appendTo","keyup.colorpicker","keyup","change.colorpicker","change","focus.colorpicker","focusout.colorpicker","click.colorpicker","attr","destroy","removeData","reposition","outerHeight","isDisabled","hasInput","mousedown.colorpicker","parents","updatePicker","sl","icns","eq","end","updateComponent","icn","force","currentSlider","mousePointer","pageX","pageY","originalEvent","zone","guide","mousemove.colorpicker","mousemove","touchmove.colorpicker","mouseup.colorpicker","mouseup","touchend.colorpicker","option","apiArgs","isSingleElement","returnValue","$jq","$this","inst","isFunction","2331","_color_input","_color_input2","ColorChooser","newColor","2332","_reactColor","ColorInput","checkClick","colorPicker","contains","togglePicker","newColorData","hex","idOpened","prevIsOpened","ChromePicker","2333","PremadeThemeChooser","premadeThemes","allowedThemes","AllowedThemes","hasAllowedThemes","THEMES","premadeTheme","activeClass","2334","getMe","2335","_error_store","_error_store2","_setting_picture","_setting_picture2","usernameReserved","usernameRestrictions","validEmail","emailMatch","checkEmail","validImage","imageTooLarge","uploadImage","uploadImageMobile","fullName","profilePicture","close","UserSettingsGeneralTab","submitActive","submitUsername","submitNickname","submitName","submitEmail","submitPicture","submitPosition","updateUsername","updateFirstName","updateLastName","updateNickname","updateEmail","updateConfirmEmail","updatePicture","updatePosition","usernameError","isValidUsername","MIN_USERNAME_LENGTH","MAX_USERNAME_LENGTH","confirmEmail","emailUpdated","sectionIsSaving","RequireEmailVerification","storeLastError","emailChangeInProgress","pictureFile","maxFileSize","loadingPicture","uploadProfileImage","originalEmail","MaxFileSize","emailSection","emailVerificationEnabled","newEmail","auth_service","GITLAB_SERVICE","GOOGLE_SERVICE","OFFICE365_SERVICE","LDAP_SERVICE","SAML_SERVICE","LdapFristNameAttributeSet","LdapLastNameAttributeSet","SamlFirstNameAttributeSet","SamlLastNameAttributeSet","notifClick","notifLink","notify","nicknameSection","LdapNicknameAttributeSet","nicknameLabel","MAX_NICKNAME_LENGTH","autoCapitalize","usernameSection","usernameLabel","positionSection","PositionAttributeSet","positionLabel","MAX_POSITION_LENGTH","createEmailSection","pictureSection","onFileChange","minMessage","2336","_exif2css2","_exif2css3","_load","_load2","_form_error","_form_error2","SettingPicture","setPicture","previewBlob","URL","createObjectURL","reader","FileReader","onload","orientation","getExifOrientation","orientationStyles","getOrientationStyles","readAsArrayBuffer","revokeObjectURL","DataView","getUint16","byteLength","marker","getUint32","little","tags","_exif2css","transformOrigin","img","imageStyles","backgroundImage","confirmButton","selectButtonSpinner","fileInputDisabled","PROFILE_WIDTH","errors","2337","expandTransforms","transforms","o","propMap","expandTransform","ep","expandTransformStrings","exif2css","transformsMap","transformOriginMap","allTransforms","allTransformStrings","transformStrings","ry","t","ty","2","3","4","5","6","7","8","2338","getNotificationsStateFromStores","desktop","NotificationLevels","DEFAULT","sound","desktopDuration","comments","enableEmail","pushActivity","pushStatus","ONLINE","notify_props","desktop_sound","desktop_duration","push_status","usernameKey","customKeys","firstNameKey","channelKey","mention_keys","desktopActivity","desktopSound","customKeysChecked","notifyCommentsLevel","_desktop_notification_settings","_desktop_notification_settings2","_email_notification_setting","_email_notification_setting2","NotificationsTab","handleCancel","setStateValue","handleEmailRadio","updateUsernameKey","updateFirstNameKey","updateChannelKey","updateCustomMentionKeys","onCustomChange","createPushNotificationSection","_ref$enableEmail","mentionKeys","stringKeys","updateUserNotifyProps","wrapper","customcheck","custommentions","SendPushNotifications","pushActivityRadio","ALL","NONE","pushStatusRadio","AWAY","pushStatusSettings","handlePushStatusRadio","handlePushRadio","handleUpdatePushSection","keysSection","handleUpdateKeysSection","handleUpdateFirstNameKey","handleUpdateUsernameKey","handleUpdateChannelKey","commentsSection","handleUpdateCommentsSection","commentsActive","handleNotifyCommentsRadio","pushNotificationSection","activity","duration","setParentState","active","emailInterval","getEmailInterval","2339","DesktopNotificationSettings","buildMaximizedSetting","buildMinimizedSetting","activityRadio","soundSection","durationSection","soundRadio","hasSoundOptions","durationRadio","seconds","handleUpdateDesktopSection","2340","EmailNotificationSetting","_this$state","savePreference","CATEGORY_NOTIFICATIONS","EMAIL_INTERVAL","handleExpand","INTERVAL_IMMEDIATE","INTERVAL_HOUR","batchingOptions","batchingInfo","EnableEmailBatching","INTERVAL_FIFTEEN_MINUTES","INTERVAL_NEVER","2341","tokensEnabled","EnableUserAccessTokens","userHasTokenRole","UserUtils","hasUserAccessTokenRole","roles","userAccessTokens","myUserAccessTokens","canUseAccessTokens","getUserAccessTokensForUser","createUserAccessToken","revokeUserAccessToken","enableUserAccessToken","disableUserAccessToken","clearUserAccessTokens","_user_utils","2342","_icon50x","_icon50x2","_access_history_modal","_access_history_modal2","_activity_log_modal","_activity_log_modal2","TOKEN_CREATING","TOKEN_CREATED","TOKEN_NOT_CREATING","SecurityTab","submitPassword","currentPassword","newPassword","confirmPassword","passwordError","passwordErr","isValidPassword","getPasswordConfig","defaultState","getDefaultState","savingPassword","updatePassword","setupMfa","removeMfa","deactivateMfa","MFA","EnableMultifactorAuthentication","EnforceMultifactorAuthentication","updateCurrentPassword","updateNewPassword","updateConfirmPassword","deauthorizeApp","appId","deauthorizeOAuthApp","authorizedApps","app","createMfaSection","updateSectionStatus","mfa_active","mfaRemoveHelp","mfaButtonText","createPasswordSection","d","last_password_update","hours12","FormattedTime","createSignInSection","emailOption","gitlabOption","googleOption","office365Option","ldapOption","samlOption","EnableSignUpWithGitLab","EnableSignUpWithGoogle","EnableSignUpWithOffice365","EnableLdap","EnableSaml","EnableSignUpWithEmail","createOAuthAppsSection","apps","homepage","data-app","alt","icon_url","wrapperClass","startCreatingToken","tokenCreationState","stopCreatingToken","handleCreateToken","handleCancelConfirm","newtokendescription","tokenError","newToken","confirmMessage","confirmComplete","confirmCreateToken","saveTokenKeyPress","confirmRevokeToken","tokenId","token","revokeToken","_callee2","_context2","activateToken","_callee3","_context3","deactivateToken","_callee4","_context4","_x3","createTokensSection","tokenListClass","tokenList","activeLink","activeStatus","is_active","noTokenText","newTokenSection","infoPosition","authService","EnableOAuthServiceProvider","getAuthorizedApps","passwordSection","numMethods","signInSection","ExperimentalEnableAuthenticationTransfer","mfaSection","oauthSection","tokensSection","2343","getUserAudits","2344","_audit_table","_audit_table2","_loading_screen","_loading_screen2","AccessHistoryModal","onAuditChange","getStateFromStoresForAudits","moreInfo","audits","getAudits","addAuditsChangeListener","removeAuditsChangeListener","showIp","showSession","bsSize","2345","getSessions","revokeSession","2346","ActivityLogModal","isMobileSession","session","device_id","includes","mobileSessionInfo","deviceTypeId","deviceTypeMessage","devicePicture","General","PUSH_NOTIFY_APPLE_REACT_NATIVE","PUSH_NOTIFY_ANDROID_REACT_NATIVE","devicePlatform","submitRevoke","handleMoreInfo","sessions","altId","modalContent","addSessionsChangeListener","removeSessionsChangeListener","newMoreInfo","activityList","currentSession","lastAccessTime","last_activity_at","firstAccessTime","platform","sessionInfo","os","2347","SidebarSettingsDisplay","renderAutoCloseDMSection","close_unused_direct_messages","CATEGORY_SIDEBAR_SETTINGS","renderAutoCloseDMLabel","autoCloseDMSection","2348","_web_websocket_client","_web_websocket_client2","_ring","_ring2","WebrtcNotification","closeNotification","onIncomingCall","onCancelCall","onRhs","handleAnswer","handleTimeout","stopRinging","userCalling","rhsOpened","addNotifyListener","addRhsChangedListener","removeNotifyListener","removeRhsChangedListener","ring","removeListener","pause","currentTime","incoming","from_user_id","BUSY","to_user_id","setVideoCallWith","getProfile","UNSUPPORTED","DISABLED","CANCEL","from_user_uid","calling_user_id","NO_ANSWER","caller","callerId","ANSWER","DECLINE","profileImgSrc","profileImg","answerBtn","xmlns","viewBox","cx","cy","fill","rejectBtn","msg","marginTop","autoPlay","getVideoCallWith","2349","_webrtc_controller","_webrtc_controller2","onInitializeVideoCall","videoCallVisible","isCaller","videoCallWithUserId","addInitListener","removeInitListener","2350","_janus","_janus2","_webrtc_header","_webrtc_header2","WebrtcController","localMedia","videocall","clearError","getLocalMedia","stopMediaStream","previewVideo","handleMakeOffer","handleCancelOffer","handleWebrtcEvent","handleVideoCallEvent","handleRemoteStream","onCallDeclined","onUnsupported","onNoAnswer","onDisabled","onFailed","onCancelled","onConnectCall","onSessionCreated","onSessionError","doCall","doAnswer","doHangup","doCleanup","renderButtons","onToggleVideo","onToggleAudio","onToggleRemoteMute","toggleIcons","remoteUser","remoteUserImage","currentUserImage","localMediaLoaded","isPaused","isMuted","isRemotePaused","isRemoteMuted","isCalling","isAnswering","callInProgress","errorType","ended","startCall","WEBRTC_CLEAR_ERROR_DELAY","constraints","media","audio","video","srcObject","catch","getTracks","minAspectRatio","maxAspectRatio","connectingMsg","NOTIFY","FAILED","MUTED","jsep","handleRemoteJsep","errorCode","error_code","videoTracks","getVideoTracks","audioTracks","getAudioTracks","muted","icons","webrtcToken","iceServers","stun_uri","urls","turn_uri","turn_username","credential","turn_password","init","debug","EnableDeveloper","server","gateway_url","success","attach","plugin","send","request","onmessage","onremotestream","createOffer","WEBRTC_TIME_DELAY","createAnswer","jsepSuccess","hangup","detach","shouldPause","unmuteVideo","muteVideo","mute","shouldMute","unmuteAudio","muteAudio","toggle","_this8","audioOnClass","audioOffClass","videoOnClass","videoOffClass","audioTitle","videoTitle","remoteImage","localImage","localVideoHidden","remoteVideoHidden","remoteMute","localImageHidden","remoteImageHidden","calling","connecting","onClose","2351","Janus","gatewayCallbacks","eventHandler","sessionId","connected","longpoll","maxev","apisecret","httpAPICall","verb","withCredentials","handleEvent","timeout","textStatus","errorThrown","retries","json","skipTimeout","websockets","vdebug","sender","pluginHandle","pluginHandles","webrtcState","detached","ondetached","mediaState","slowLink","code","reason","transaction","reportSuccess","transactions","plugindata","keepAlive","wsKeepaliveTimeoutId","janus","session_id","randomString","ws","createSession","callbacks","servers","serversIndex","newWebSocket","wsHandlers","open","eventName","destroySession","noop","asyncRequest","destroyed","unbindWebSocket","onUnbindMessage","onUnbindError","async","createHandle","consentDialog","iceState","onlocalstream","ondata","ondataopen","oncleanup","opaqueId","opaque_id","webRTCAdapter","browserDetails","handleId","webrtcStuff","started","myStream","streamExternal","remoteStream","mySdp","pc","dataChannel","dtmfSender","trickle","iceDone","sdpSent","volume","timer","bitrate","bsnow","bsbefore","tsnow","tsbefore","getId","getPlugin","getVolume","isAudioMuted","isVideoMuted","getBitrate","sendData","dtmf","sendDtmf","prepareWebrtc","prepareWebrtcPeer","sendRequest","cleanupWebrtc","destroyHandle","sendTrickleCandidate","tracks","local_audio_track","createDTMFSender","ontonechange","tone","tones","gap","insertDTMF","streamsDone","pc_config","iceTransportPolicy","bundlePolicy","pc_constraints","optional","DtlsSrtpKeyAgreement","ipv6Support","googIPv6","rtcConstraints","RTCPeerConnection","getStats","oniceconnectionstatechange","iceConnectionState","onicecandidate","completed","sendSDP","sdpMid","sdpMLineIndex","addTrack","ontrack","streams","isDataEnabled","onDataChannelMessage","onDataChannelStateChange","dcState","readyState","onDataChannelError","createDataChannel","ordered","onopen","onclose","onerror","setRemoteDescription","RTCSessionDescription","callbackUserMedia","getScreenMedia","gsmCallback","useAudio","audioStream","webrtcError","isTrickleEnabled","isAudioSendEnabled","isVideoSendEnabled","mandatory","audioSupport","videoSupport","simulcast","firefoxVer","require","ideal","maxWidth","minWidth","screenshareFrameRate","chromever","maxver","googLeakyBucket","screen","minFrameRate","maxFrameRate","chromeMediaSource","pending","postMessage","ffver","mozMediaSource","mediaSource","lastTime","polly","onended","origin","sourceId","googTemporalLayeredScreencast","chromeMediaSourceId","enumerateDevices","devices","audioExist","some","device","videoExist","audioSend","videoSend","needAudioDevice","isAudioSendRequired","needVideoDevice","isVideoSendRequired","haveAudioDevice","haveVideoDevice","mediaConstraints","offerToReceiveAudio","isAudioRecvEnabled","offerToReceiveVideo","isVideoRecvEnabled","OfferToReceiveAudio","OfferToReceiveVideo","sendVideo","getSenders","getParameters","setParameters","encodings","rid","offer","mungeSdpForSimulcasting","setLocalDescription","answer","localDescription","stats","res","stat","inStats","mediaType","bytesReceived","googCodecName","timestamp","timePassed","bitRate","hangupRequest","mst","ssrc_fid","mslabel","insertAt","medium","fid","endsWith","failIfNoAudio","audioRecv","failIfNoVideo","videoRecv","initDone","isWebrtcSupported","ipv6","max_poll_events","destroyOnUnload","getServer","isConnected","getSessionId","jQuery","adapter","extensionId","isExtensionEnabled","checkJanusExtension","useDefaultDependencies","deps","fetch","Promise","socketCls","WebSocket","proto","url","fetchOptions","method","credentials","fetching","timerId","race","response","ok","useOldDependencies","payload","contentType","xhrFields","ajax","dataType","xhr","trace","usedDependencies","dependencies","listDevices","attachMediaStream","reattachMediaStream","from","oldOBF","onbeforeunload","len","charSet","randomPoz","2352","adapterFactory","2353","opts","shimChrome","shimFirefox","shimEdge","shimSafari","logging","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","shimAddTrackRemoveTrack","shimGetSendersWithDtmf","shimRTCIceCandidate","shimRemoveStream","shimReplaceTrack","shimRTCIceServerUrls","shimCallbacksAPI","shimLocalStreamsAPI","shimRemoteStreamsAPI","shimTrackEventTransceiver","shimCreateOfferLegacy","2354","MediaStream","webkitMediaStream","_ontrack","origSetRemoteDescription","_ontrackpoly","te","receiver","getReceivers","Event","dispatchEvent","shimSenderWithDtmf","_dtmf","_pc","_senders","origAddTrack","origRemoveTrack","removeTrack","origAddStream","addStream","origRemoveStream","removeStream","RTCRtpSender","origGetSenders","senders","HTMLMediaElement","_srcObject","replaceInternalStreamId","_reverseStreams","internalId","externalStream","internalStream","_streams","RegExp","replaceExternalStreamId","origGetLocalStreams","getLocalStreams","nativeStreams","DOMException","newStream","signalingState","oldStream","nativeMethod","desc","origSetLocalDescription","origLocalDescription","getOwnPropertyDescriptor","streamid","OrigPeerConnection","pcConfig","pcConstraints","newIceServers","generateCertificate","iceTransports","origGetStats","selector","successCallback","errorCallback","fixChromeStats_","standardReport","report","standardStats","localcandidate","remotecandidate","names","makeMapStats","Map","successCallbackWrapper_","promise","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","2355","constraintsToChrome_","cc","exact","oldname_","oc","mix","shimConstraints_","remap","face","facingMode","getSupportedFacingModeLies","getSupportedConstraints","dev","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","groupId","echoCancellation","frameRate","origGetUserMedia","cs","2356","shimRTCPeerConnection","RTCIceGatherer","origMSTEnabled","ev","RTCDtmfSender","replaceTrack","setTrack","2357","dtlsRole","filterIceServers","edgeVersion","hasTurn","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","addRemoteCandidate","_eventTarget","createDocumentFragment","onaddstream","onremovestream","onsignalingstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","remoteDescription","iceGatheringState","usingBundle","rtcpMuxPolicy","_iceGatherers","iceCandidatePoolSize","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","hasBundleTransport","recvEncodingParameters","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","_createIceGatherer","candidates","bufferCandidates","_gather","onlocalcandidate","cand","sections","complete","every","RTCIceTransport","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","_disposeIceAndDtlsTransports","_transceive","recv","receive","isIceLite","isDatachannel","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","cb","receiverList","iceOptions","rejected","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","isNewTrack","sid","states","new","closed","checking","disconnected","offerOptions","numAudioTracks","numVideoTracks","getLocalCandidates","mediaSectionsInOffer","localTrack","candidateString","promises","fixStatsType","inboundrtp","outboundrtp","candidatepair","all","2358","2359","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","2360","InternalError","NotSupportedError","SecurityError","The operation is insecure.","constraintsToFF37_","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","2361","_localStreams","getStreamById","_remoteStreams","_addTrack","_onaddstream","_onaddstreampoly","failureCallback","withCallback","errcb","RTCTransceiver","origCreateOffer","audioTransceiver","getTransceivers","setDirection","addTransceiver","videoTransceiver","2362","wrapPeerConnectionEvent","eventNameToWrap","nativeAddEventListener","nativeEventName","wrappedCallback","_eventMap","nativeRemoveEventListener","unwrappedCb","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","toJSON","nativeCreateObjectURL","nativeRevokeObjectURL","delete","dsc","nativeSetAttribute","setAttribute","2363","WebrtcHeader","2364","modals","_modals","2365","_objectWithoutProperties2","_objectWithoutProperties3","ModalController","modalState","modalOutput","modalComponent"],"mappings":"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","file":"7.8aae2556af2f13d4beaa.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 2005:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _channels = __webpack_require__(54);\n\nvar _preferences = __webpack_require__(62);\n\nvar _needs_team = __webpack_require__(2252);\n\nvar _needs_team2 = _interopRequireDefault(_needs_team);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        theme: (0, _preferences.getTheme)(state)\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            viewChannel: _channels.viewChannel,\n            getMyChannelMembers: _channels.getMyChannelMembers\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_needs_team2.default);\n\n/***/ }),\n\n/***/ 2035:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  deprecated: utils.deprecated,\n  disableLog: utils.disableLog,\n  disableWarnings: utils.disableWarnings,\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n\n\n/***/ }),\n\n/***/ 2057:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar GetLinkModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(GetLinkModal, _React$PureComponent);\n\n    function GetLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetLinkModal)).call(this, props));\n\n        _this.onHide = function () {\n            _this.setState({ copiedLink: false });\n            _this.props.onHide();\n        };\n\n        _this.copyLink = function () {\n            var textarea = _this.refs.textarea;\n            textarea.focus();\n            textarea.setSelectionRange(0, _this.props.link.length);\n\n            try {\n                if (document.execCommand('copy')) {\n                    _this.setState({ copiedLink: true });\n                } else {\n                    _this.setState({ copiedLink: false });\n                }\n            } catch (err) {\n                _this.setState({ copiedLink: false });\n            }\n        };\n\n        _this.state = {\n            copiedLink: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetLinkModal, [{\n        key: 'render',\n        value: function render() {\n            var helpText = null;\n            if (this.props.helpText) {\n                helpText = _react2.default.createElement(\n                    'p',\n                    null,\n                    this.props.helpText,\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement('br', null)\n                );\n            }\n\n            var copyLink = null;\n\n            if (document.queryCommandSupported('copy')) {\n                copyLink = _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'linkModalCopyLink',\n                        'data-copy-btn': 'true',\n                        type: 'button',\n                        className: 'btn btn-primary pull-left',\n                        onClick: this.copyLink\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'get_link.copy',\n                        defaultMessage: 'Copy Link'\n                    })\n                );\n            }\n\n            var linkText = _react2.default.createElement('textarea', {\n                id: 'linkModalTextArea',\n                className: 'form-control no-resize min-height',\n                ref: 'textarea',\n                value: this.props.link,\n                onClick: this.copyLink,\n                readOnly: true\n            });\n\n            var copyLinkConfirm = null;\n            if (this.state.copiedLink) {\n                copyLinkConfirm = _react2.default.createElement(\n                    'p',\n                    { className: 'alert alert-success alert--confirm' },\n                    _react2.default.createElement('i', { className: 'fa fa-check' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'get_link.clipboard',\n                        defaultMessage: ' Link copied'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.props.show,\n                    onHide: this.onHide\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        'h4',\n                        { className: 'modal-title' },\n                        this.props.title\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    helpText,\n                    linkText\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'linkModalCloseButton',\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.onHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'get_link.close',\n                            defaultMessage: 'Close'\n                        })\n                    ),\n                    copyLink,\n                    copyLinkConfirm\n                )\n            );\n        }\n    }]);\n    return GetLinkModal;\n}(_react2.default.PureComponent);\n\nGetLinkModal.propTypes = {\n    show: _propTypes2.default.bool.isRequired,\n    onHide: _propTypes2.default.func.isRequired,\n    title: _propTypes2.default.string.isRequired,\n    helpText: _propTypes2.default.string,\n    link: _propTypes2.default.string.isRequired\n};\nGetLinkModal.defaultProps = {\n    helpText: null\n};\nexports.default = GetLinkModal;\n\n/***/ }),\n\n/***/ 2064:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = __webpack_require__(2284);\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];\n\n\n/***/ }),\n\n/***/ 2065:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar prefix = __webpack_require__(2287)\nvar toCamelCase = __webpack_require__(2288)\nvar cache = { 'float': 'cssFloat' }\nvar addPxToStyle = __webpack_require__(2291)\n\nfunction style (element, property, value) {\n  var camel = cache[property]\n  if (typeof camel === 'undefined') {\n    camel = detect(property)\n  }\n\n  // may be false if CSS prop is unsupported\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel]\n    }\n\n    element.style[camel] = addPxToStyle(camel, value)\n  }\n}\n\nfunction each (element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k])\n    }\n  }\n}\n\nfunction detect (cssProp) {\n  var camel = toCamelCase(cssProp)\n  var result = prefix(camel)\n  cache[camel] = cache[cssProp] = cache[result] = result\n  return result\n}\n\nfunction set () {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1]\n    } else {\n      each(arguments[0], arguments[1])\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2])\n  }\n}\n\nmodule.exports = set\nmodule.exports.set = set\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '')\n      return obj\n    }, {})\n  } else {\n    return style(element, properties || '')\n  }\n}\n\n\n\n/***/ }),\n\n/***/ 2066:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SettingsSidebar = function (_React$Component) {\n    (0, _inherits3.default)(SettingsSidebar, _React$Component);\n\n    function SettingsSidebar(props) {\n        (0, _classCallCheck3.default)(this, SettingsSidebar);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SettingsSidebar.__proto__ || (0, _getPrototypeOf2.default)(SettingsSidebar)).call(this, props));\n\n        _this.handleClick = _this.handleClick.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(SettingsSidebar, [{\n        key: 'handleClick',\n        value: function handleClick(tab, e) {\n            e.preventDefault();\n            this.props.updateTab(tab.name);\n            (0, _jquery2.default)(e.target).closest('.settings-modal').addClass('display--content');\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (UserAgent.isFirefox()) {\n                (0, _jquery2.default)('.settings-modal .settings-table .nav').addClass('position--top');\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var tabList = this.props.tabs.map(function (tab) {\n                var key = tab.name + '_li';\n                var className = '';\n                if (_this2.props.activeTab === tab.name) {\n                    className = 'active';\n                }\n\n                return _react2.default.createElement(\n                    'li',\n                    {\n                        id: tab.name + 'Li',\n                        key: key,\n                        className: className\n                    },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: tab.name + 'Button',\n                            className: 'cursor--pointer style--none',\n                            onClick: _this2.handleClick.bind(null, tab)\n                        },\n                        _react2.default.createElement('i', { className: tab.icon }),\n                        tab.uiName\n                    )\n                );\n            });\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'ul',\n                    {\n                        id: 'tabList',\n                        className: 'nav nav-pills nav-stacked'\n                    },\n                    tabList\n                )\n            );\n        }\n    }]);\n    return SettingsSidebar;\n}(_react2.default.Component);\n\nexports.default = SettingsSidebar;\n\n\nSettingsSidebar.propTypes = {\n    tabs: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        name: _propTypes2.default.string.isRequired,\n        uiName: _propTypes2.default.string.isRequired,\n        icon: _propTypes2.default.string.isRequired\n    })).isRequired,\n    activeTab: _propTypes2.default.string,\n    updateTab: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2067:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"files/a4a8b617d1f6c75ad4bf17bafc2aec6a.mp3\";\n\n/***/ }),\n\n/***/ 2068:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return {\n    kind: mline[0].substr(2),\n    port: parseInt(mline[1], 10),\n    protocol: mline[2],\n    fmt: mline.slice(3).join(' ')\n  };\n};\n\n// Expose public methods.\nif (true) {\n  module.exports = SDPUtils;\n}\n\n\n\n/***/ }),\n\n/***/ 2252:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _inobounce = __webpack_require__(2253);\n\nvar _inobounce2 = _interopRequireDefault(_inobounce);\n\nvar _status_actions = __webpack_require__(224);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _websocket_actions = __webpack_require__(286);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _pluggable = __webpack_require__(221);\n\nvar _pluggable2 = _interopRequireDefault(_pluggable);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _announcement_bar = __webpack_require__(1951);\n\nvar _announcement_bar2 = _interopRequireDefault(_announcement_bar);\n\nvar _delete_post_modal = __webpack_require__(2254);\n\nvar _delete_post_modal2 = _interopRequireDefault(_delete_post_modal);\n\nvar _edit_post_modal = __webpack_require__(2255);\n\nvar _edit_post_modal2 = _interopRequireDefault(_edit_post_modal);\n\nvar _get_post_link_modal = __webpack_require__(2259);\n\nvar _get_post_link_modal2 = _interopRequireDefault(_get_post_link_modal);\n\nvar _get_team_invite_link_modal = __webpack_require__(2261);\n\nvar _get_team_invite_link_modal2 = _interopRequireDefault(_get_team_invite_link_modal);\n\nvar _get_public_link_modal = __webpack_require__(2263);\n\nvar _get_public_link_modal2 = _interopRequireDefault(_get_public_link_modal);\n\nvar _invite_member_modal = __webpack_require__(2265);\n\nvar _invite_member_modal2 = _interopRequireDefault(_invite_member_modal);\n\nvar _leave_team_modal = __webpack_require__(2266);\n\nvar _leave_team_modal2 = _interopRequireDefault(_leave_team_modal);\n\nvar _leave_private_channel_modal = __webpack_require__(2267);\n\nvar _leave_private_channel_modal2 = _interopRequireDefault(_leave_private_channel_modal);\n\nvar _navbar = __webpack_require__(2268);\n\nvar _navbar2 = _interopRequireDefault(_navbar);\n\nvar _removed_from_channel_modal = __webpack_require__(2276);\n\nvar _removed_from_channel_modal2 = _interopRequireDefault(_removed_from_channel_modal);\n\nvar _reset_status_modal = __webpack_require__(2277);\n\nvar _reset_status_modal2 = _interopRequireDefault(_reset_status_modal);\n\nvar _shortcuts_modal = __webpack_require__(2279);\n\nvar _shortcuts_modal2 = _interopRequireDefault(_shortcuts_modal);\n\nvar _sidebar_right = __webpack_require__(2280);\n\nvar _sidebar_right2 = _interopRequireDefault(_sidebar_right);\n\nvar _sidebar_right_menu = __webpack_require__(2315);\n\nvar _sidebar_right_menu2 = _interopRequireDefault(_sidebar_right_menu);\n\nvar _team_settings_modal = __webpack_require__(2317);\n\nvar _team_settings_modal2 = _interopRequireDefault(_team_settings_modal);\n\nvar _import_theme_modal = __webpack_require__(2322);\n\nvar _import_theme_modal2 = _interopRequireDefault(_import_theme_modal);\n\nvar _user_settings_modal = __webpack_require__(2323);\n\nvar _user_settings_modal2 = _interopRequireDefault(_user_settings_modal);\n\nvar _webrtc_notification = __webpack_require__(2348);\n\nvar _webrtc_notification2 = _interopRequireDefault(_webrtc_notification);\n\nvar _webrtc_sidebar = __webpack_require__(2349);\n\nvar _webrtc_sidebar2 = _interopRequireDefault(_webrtc_sidebar);\n\nvar _modal_controller = __webpack_require__(2364);\n\nvar _modal_controller2 = _interopRequireDefault(_modal_controller);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TutorialSteps = _constants2.default.TutorialSteps; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Preferences = _constants2.default.Preferences;\n\nvar UNREAD_CHECK_TIME_MILLISECONDS = 10000;\n\nvar NeedsTeam = function (_React$Component) {\n    (0, _inherits3.default)(NeedsTeam, _React$Component);\n\n    function NeedsTeam(params) {\n        (0, _classCallCheck3.default)(this, NeedsTeam);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NeedsTeam.__proto__ || (0, _getPrototypeOf2.default)(NeedsTeam)).call(this, params));\n\n        _this.teamChanged = function (e) {\n            return _this.onTeamChanged(e);\n        };\n        _this.shortcutKeyDown = function (e) {\n            return _this.onShortcutKeyDown(e);\n        };\n\n        _this.blurTime = new Date().getTime();\n\n        var team = _team_store2.default.getCurrent();\n\n        _this.state = {\n            team: team\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(NeedsTeam, [{\n        key: 'onShortcutKeyDown',\n        value: function onShortcutKeyDown(e) {\n            if (e.shiftKey && Utils.cmdOrCtrlPressed(e) && e.keyCode === _constants2.default.KeyCodes.L) {\n                if (document.getElementById('sidebar-right').className.match('sidebar--right sidebar--right--expanded')) {\n                    document.getElementById('reply_textbox').focus();\n                } else {\n                    document.getElementById('post_textbox').focus();\n                }\n            }\n        }\n    }, {\n        key: 'onTeamChanged',\n        value: function onTeamChanged() {\n            var team = _team_store2.default.getCurrent();\n\n            this.setState({\n                team: team\n            });\n        }\n    }, {\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            // Go to tutorial if we are first arriving\n            var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n            if (tutorialStep <= TutorialSteps.INTRO_SCREENS) {\n                _reactRouter.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/tutorial');\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            _team_store2.default.addChangeListener(this.teamChanged);\n\n            (0, _status_actions.startPeriodicStatusUpdates)();\n            (0, _websocket_actions.startPeriodicSync)();\n\n            // Set up tracking for whether the window is active\n            window.isActive = true;\n            (0, _jquery2.default)(window).on('focus', (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _channel_store2.default.resetCounts([_channel_store2.default.getCurrentId()]);\n                                _channel_store2.default.emitChange();\n                                window.isActive = true;\n\n                                _context.next = 5;\n                                return _this2.props.actions.viewChannel(_channel_store2.default.getCurrentId());\n\n                            case 5:\n                                if (new Date().getTime() - _this2.blurTime > UNREAD_CHECK_TIME_MILLISECONDS) {\n                                    _this2.props.actions.getMyChannelMembers(_team_store2.default.getCurrentId()).then(_user_actions.loadProfilesForSidebar);\n                                }\n\n                            case 6:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            })));\n\n            (0, _jquery2.default)(window).on('blur', function () {\n                window.isActive = false;\n                _this2.blurTime = new Date().getTime();\n                if (_user_store2.default.getCurrentUser()) {\n                    _this2.props.actions.viewChannel('');\n                }\n            });\n\n            Utils.applyTheme(this.props.theme);\n\n            if (UserAgent.isIosSafari()) {\n                // Use iNoBounce to prevent scrolling past the boundaries of the page\n                _inobounce2.default.enable();\n            }\n            document.addEventListener('keydown', this.shortcutKeyDown);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.teamChanged);\n            (0, _jquery2.default)(window).off('focus');\n            (0, _jquery2.default)(window).off('blur');\n\n            if (UserAgent.isIosSafari()) {\n                _inobounce2.default.disable();\n            }\n            (0, _status_actions.stopPeriodicStatusUpdates)();\n            (0, _websocket_actions.stopPeriodicSync)();\n            document.removeEventListener('keydown', this.shortcutKeyDown);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var theme = this.props.theme;\n\n            if (!Utils.areObjectsEqual(prevProps.theme, theme)) {\n                Utils.applyTheme(theme);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = [];\n            if (this.props.children) {\n                content = this.props.children;\n            } else {\n                content.push(this.props.navbar);\n                content.push(this.props.team_sidebar);\n                content.push(this.props.sidebar);\n                content.push(_react2.default.createElement(\n                    'div',\n                    {\n                        id: 'inner-wrap-webrtc',\n                        key: 'inner-wrap',\n                        className: 'inner-wrap channel__wrap'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row header' },\n                        _react2.default.createElement(\n                            'div',\n                            { id: 'navbar' },\n                            _react2.default.createElement(_navbar2.default, null)\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row main' },\n                        _react2.default.cloneElement(this.props.center, {\n                            user: this.props.user,\n                            team: this.state.team\n                        })\n                    )\n                ));\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'channel-view' },\n                _react2.default.createElement(_announcement_bar2.default, null),\n                _react2.default.createElement(_webrtc_notification2.default, null),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'container-fluid' },\n                    _react2.default.createElement(_sidebar_right2.default, null),\n                    _react2.default.createElement(_sidebar_right_menu2.default, { teamType: this.state.team.type }),\n                    _react2.default.createElement(_webrtc_sidebar2.default, null),\n                    content,\n                    _react2.default.createElement(_pluggable2.default, { pluggableName: 'Root' }),\n                    _react2.default.createElement(_user_settings_modal2.default, null),\n                    _react2.default.createElement(_get_post_link_modal2.default, null),\n                    _react2.default.createElement(_get_public_link_modal2.default, null),\n                    _react2.default.createElement(_get_team_invite_link_modal2.default, null),\n                    _react2.default.createElement(_invite_member_modal2.default, null),\n                    _react2.default.createElement(_leave_team_modal2.default, null),\n                    _react2.default.createElement(_import_theme_modal2.default, null),\n                    _react2.default.createElement(_team_settings_modal2.default, null),\n                    _react2.default.createElement(_edit_post_modal2.default, null),\n                    _react2.default.createElement(_delete_post_modal2.default, null),\n                    _react2.default.createElement(_removed_from_channel_modal2.default, null),\n                    _react2.default.createElement(_reset_status_modal2.default, null),\n                    _react2.default.createElement(_leave_private_channel_modal2.default, null),\n                    _react2.default.createElement(_shortcuts_modal2.default, { isMac: Utils.isMac() }),\n                    _react2.default.createElement(_modal_controller2.default, null)\n                )\n            );\n        }\n    }]);\n    return NeedsTeam;\n}(_react2.default.Component);\n\nNeedsTeam.propTypes = {\n    children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.element), _propTypes2.default.element]),\n    navbar: _propTypes2.default.element,\n    params: _propTypes2.default.object,\n    sidebar: _propTypes2.default.element,\n    team_sidebar: _propTypes2.default.element,\n    center: _propTypes2.default.element,\n    user: _propTypes2.default.object,\n    actions: _propTypes2.default.shape({\n        viewChannel: _propTypes2.default.func.isRequired,\n        getMyChannelMembers: _propTypes2.default.func.isRequired\n    }).isRequired,\n    theme: _propTypes2.default.object.isRequired\n};\nexports.default = NeedsTeam;\n\n/***/ }),\n\n/***/ 2253:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*! iNoBounce - v0.1.0\n* https://github.com/lazd/iNoBounce/\n* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function(global) {\n\t// Stores the Y position where the touch started\n\tvar startY = 0;\n\n\t// Store enabled status\n\tvar enabled = false;\n\n\tvar handleTouchmove = function(evt) {\n\t\t// Get the element that was scrolled upon\n\t\tvar el = evt.target;\n\n\t\t// Check all parent elements for scrollability\n\t\twhile (el !== document.body && el !== document) {\n\t\t\t// Get some style properties\n\t\t\tvar style = window.getComputedStyle(el);\n\n\t\t\tif (!style) {\n\t\t\t\t// If we've encountered an element we can't compute the style for, get out\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Ignore range input element\n\t\t\tif (el.nodeName === 'INPUT' && el.getAttribute('type') === 'range') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar scrolling = style.getPropertyValue('-webkit-overflow-scrolling');\n\t\t\tvar overflowY = style.getPropertyValue('overflow-y');\n\t\t\tvar height = parseInt(style.getPropertyValue('height'), 10);\n\n\t\t\t// Determine if the element should scroll\n\t\t\tvar isScrollable = scrolling === 'touch' && (overflowY === 'auto' || overflowY === 'scroll');\n\t\t\tvar canScroll = el.scrollHeight > el.offsetHeight;\n\n\t\t\tif (isScrollable && canScroll) {\n\t\t\t\t// Get the current Y position of the touch\n\t\t\t\tvar curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n\t\t\t\t// Determine if the user is trying to scroll past the top or bottom\n\t\t\t\t// In this case, the window will bounce, so we have to prevent scrolling completely\n\t\t\t\tvar isAtTop = (startY <= curY && el.scrollTop === 0);\n\t\t\t\tvar isAtBottom = (startY >= curY && el.scrollHeight - el.scrollTop === height);\n\n\t\t\t\t// Stop a bounce bug when at the bottom or top of the scrollable element\n\t\t\t\tif (isAtTop || isAtBottom) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// No need to continue up the DOM, we've done our job\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Test the next parent\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\t// Stop the bouncing -- no parents are scrollable\n\t\tevt.preventDefault();\n\t};\n\n\tvar handleTouchstart = function(evt) {\n\t\t// Store the first Y position of the touch\n\t\tstartY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\t};\n\n\tvar enable = function() {\n\t\t// Listen to a couple key touch events\n\t\twindow.addEventListener('touchstart', handleTouchstart, false);\n\t\twindow.addEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = true;\n\t};\n\n\tvar disable = function() {\n\t\t// Stop listening\n\t\twindow.removeEventListener('touchstart', handleTouchstart, false);\n\t\twindow.removeEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = false;\n\t};\n\n\tvar isEnabled = function() {\n\t\treturn enabled;\n\t};\n\n\t// Enable by default if the browser supports -webkit-overflow-scrolling\n\t// Test this by setting the property with JavaScript on an element that exists in the DOM\n\t// Then, see if the property is reflected in the computed style\n\tvar testDiv = document.createElement('div');\n\tdocument.documentElement.appendChild(testDiv);\n\ttestDiv.style.WebkitOverflowScrolling = 'touch';\n\tvar scrollSupport = 'getComputedStyle' in window && window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch';\n\tdocument.documentElement.removeChild(testDiv);\n\n\tif (scrollSupport) {\n\t\tenable();\n\t}\n\n\t// A module to support enabling/disabling iNoBounce\n\tvar iNoBounce = {\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tisEnabled: isEnabled\n\t};\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\t// Node.js Support\n\t\tmodule.exports = iNoBounce;\n\t}\n\tif (typeof global.define === 'function') {\n\t\t// AMD Support\n\t\t(function(define) {\n\t\t\tdefine('iNoBounce', [], function() { return iNoBounce; });\n\t\t}(global.define));\n\t}\n\telse {\n\t\t// Browser support\n\t\tglobal.iNoBounce = iNoBounce;\n\t}\n}(this));\n\n\n\n/***/ }),\n\n/***/ 2254:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _post_actions = __webpack_require__(71);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants2.default.ActionTypes;\n\nvar DeletePostModal = function (_React$Component) {\n    (0, _inherits3.default)(DeletePostModal, _React$Component);\n\n    function DeletePostModal(props) {\n        (0, _classCallCheck3.default)(this, DeletePostModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DeletePostModal.__proto__ || (0, _getPrototypeOf2.default)(DeletePostModal)).call(this, props));\n\n        _this.handleDelete = _this.handleDelete.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n\n        _this.state = {\n            show: false,\n            post: null,\n            commentCount: 0,\n            error: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(DeletePostModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var _this2 = this;\n\n            if (this.state.show && !prevState.show) {\n                setTimeout(function () {\n                    (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this2.refs.deletePostBtn)).focus();\n                }, 0);\n            }\n        }\n    }, {\n        key: 'handleDelete',\n        value: function handleDelete() {\n            var _this3 = this;\n\n            (0, _post_actions.deletePost)(this.state.post.channel_id, this.state.post, function () {\n                _this3.handleHide();\n            }, function (err) {\n                _this3.setState({ error: err.message });\n            });\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                post: args.post,\n                commentCount: args.commentCount,\n                error: ''\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.post) {\n                return null;\n            }\n\n            var error = null;\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.error\n                    )\n                );\n            }\n\n            var commentWarning = '';\n            if (this.state.commentCount > 0) {\n                commentWarning = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'delete_post.warning',\n                    defaultMessage: 'This post has {count, number} {count, plural, one {comment} other {comments}} on it.',\n                    values: {\n                        count: this.state.commentCount\n                    }\n                });\n            }\n\n            var postTerm = this.state.post.root_id ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'delete_post.comment',\n                defaultMessage: 'Comment'\n            }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'delete_post.post',\n                defaultMessage: 'Post'\n            });\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.state.show,\n                    onHide: this.handleHide\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.confirm',\n                            defaultMessage: 'Confirm {term} Delete',\n                            values: {\n                                term: postTerm\n                            }\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'delete_post.question',\n                        defaultMessage: 'Are you sure you want to delete this {term}?',\n                        values: {\n                            term: postTerm\n                        }\n                    }),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement('br', null),\n                    commentWarning,\n                    error\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.handleHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.cancel',\n                            defaultMessage: 'Cancel'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            ref: 'deletePostBtn',\n                            type: 'button',\n                            className: 'btn btn-danger',\n                            onClick: this.handleDelete\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.del',\n                            defaultMessage: 'Delete'\n                        })\n                    )\n                )\n            );\n        }\n    }]);\n    return DeletePostModal;\n}(_react2.default.Component);\n\nexports.default = DeletePostModal;\n\n/***/ }),\n\n/***/ 2255:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _posts = __webpack_require__(74);\n\nvar _constants = __webpack_require__(25);\n\nvar _preferences = __webpack_require__(62);\n\nvar _general = __webpack_require__(192);\n\nvar _post_actions = __webpack_require__(71);\n\nvar _edit_post_modal = __webpack_require__(2256);\n\nvar _posts2 = __webpack_require__(2257);\n\nvar _edit_post_modal2 = __webpack_require__(2258);\n\nvar _edit_post_modal3 = _interopRequireDefault(_edit_post_modal2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        ctrlSend: (0, _preferences.getBool)(state, _constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        config: (0, _general.getConfig)(state),\n        editingPost: (0, _posts2.getEditingPost)(state)\n    });\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            editPost: _edit_post_modal.editPost,\n            setEditingPost: _post_actions.setEditingPost,\n            addMessageIntoHistory: _posts.addMessageIntoHistory\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_edit_post_modal3.default);\n\n/***/ }),\n\n/***/ 2256:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nexports.editPost = editPost;\n\nvar _posts = __webpack_require__(74);\n\nvar PostActions = _interopRequireWildcard(_posts);\n\nvar _app_dispatcher = __webpack_require__(39);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _constants = __webpack_require__(9);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction editPost(post) {\n    var _this = this;\n\n    return function () {\n        var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(dispatch, getState) {\n            var result;\n            return _regenerator2.default.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _context.next = 2;\n                            return PostActions.editPost(post)(dispatch, getState);\n\n                        case 2:\n                            result = _context.sent;\n\n\n                            if (result.error) {\n                                _app_dispatcher2.default.handleServerAction({\n                                    type: _constants.ActionTypes.RECEIVED_ERROR,\n                                    err: (0, _extends3.default)({\n                                        id: result.error.server_error_id\n                                    }, result.error)\n                                });\n                            }\n\n                            return _context.abrupt('return', result);\n\n                        case 5:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, _this);\n        }));\n\n        return function (_x, _x2) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\n/***/ }),\n\n/***/ 2257:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getEditingPost = undefined;\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reselect = __webpack_require__(63);\n\nvar _posts = __webpack_require__(92);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getEditingPost = exports.getEditingPost = (0, _reselect.createSelector)(function (state) {\n    if (state.views.posts.editingPost && state.views.posts.editingPost.postId) {\n        return (0, _posts.getPost)(state, state.views.posts.editingPost.postId);\n    }\n\n    return null;\n}, function (state) {\n    return state.views.posts.editingPost;\n}, function (post, editingPost) {\n    return (0, _extends3.default)({}, editingPost, {\n        post: post\n    });\n});\n\n/***/ }),\n\n/***/ 2258:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _posts = __webpack_require__(92);\n\nvar Selectors = _interopRequireWildcard(_posts);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _redux_store = __webpack_require__(32);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _emoji_picker_overlay = __webpack_require__(284);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _textbox = __webpack_require__(393);\n\nvar _textbox2 = _interopRequireDefault(_textbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar KeyCodes = _constants2.default.KeyCodes; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getState = _redux_store2.default.getState;\n\nvar EditPostModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(EditPostModal, _React$PureComponent);\n\n    function EditPostModal(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, EditPostModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EditPostModal.__proto__ || (0, _getPrototypeOf2.default)(EditPostModal)).call(this, props));\n\n        _this.mustBeShown = function () {\n            if (_this.state.hidding) {\n                return false;\n            }\n            if (!_this.props.editingPost || !_this.props.editingPost.post) {\n                return false;\n            }\n            return true;\n        };\n\n        _this.getContainer = function () {\n            return _this.refs.editModalBody;\n        };\n\n        _this.toggleEmojiPicker = function () {\n            _this.setState({ showEmojiPicker: !_this.state.showEmojiPicker });\n        };\n\n        _this.hideEmojiPicker = function () {\n            _this.setState({ showEmojiPicker: false });\n        };\n\n        _this.handleEmojiClick = function (emoji) {\n            var emojiAlias = emoji && (emoji.name || emoji.aliases && emoji.aliases[0]);\n\n            if (!emojiAlias) {\n                //Oops.. There went something wrong\n                return;\n            }\n\n            if (_this.state.editText === '') {\n                _this.setState({ editText: ':' + emojiAlias + ': ' });\n            } else {\n                //check whether there is already a blank at the end of the current message\n                var newMessage = /\\s+$/.test(_this.state.editText) ? _this.state.editText + ':' + emojiAlias + ': ' : _this.state.editText + ' :' + emojiAlias + ': ';\n\n                _this.setState({ editText: newMessage });\n            }\n\n            _this.setState({ showEmojiPicker: false });\n\n            _this.refs.editbox.focus();\n        };\n\n        _this.getEditPostControls = function () {\n            return _this.refs.editPostEmoji;\n        };\n\n        _this.handlePostError = function (postError) {\n            if (_this.state.postError !== postError) {\n                _this.setState({ postError: postError });\n            }\n        };\n\n        _this.handleEdit = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n            var updatedPost, _ref2, data;\n\n            return _regenerator2.default.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            updatedPost = {\n                                message: _this.state.editText,\n                                id: _this.props.editingPost.postId,\n                                channel_id: _this.props.editingPost.post.channel_id\n                            };\n\n                            if (!_this.state.postError) {\n                                _context.next = 5;\n                                break;\n                            }\n\n                            _this.setState({ errorClass: 'animation--highlight' });\n                            setTimeout(function () {\n                                _this.setState({ errorClass: null });\n                            }, _constants2.default.ANIMATION_TIMEOUT);\n                            return _context.abrupt('return');\n\n                        case 5:\n                            if (!(updatedPost.message === _this.props.editingPost.post.message)) {\n                                _context.next = 8;\n                                break;\n                            }\n\n                            // no changes so just close the modal\n                            _this.handleHide();\n                            return _context.abrupt('return');\n\n                        case 8:\n                            if (!(updatedPost.message.trim().length === 0)) {\n                                _context.next = 12;\n                                break;\n                            }\n\n                            _this.handleHide();\n                            GlobalActions.showDeletePostModal(Selectors.getPost(getState(), _this.props.editingPost.postId), _this.props.editingPost.commentsCount);\n                            return _context.abrupt('return');\n\n                        case 12:\n\n                            _this.props.actions.addMessageIntoHistory(updatedPost.message);\n\n                            _context.next = 15;\n                            return _this.props.actions.editPost(updatedPost);\n\n                        case 15:\n                            _ref2 = _context.sent;\n                            data = _ref2.data;\n\n                            if (data) {\n                                window.scrollTo(0, 0);\n                            }\n\n                            _this.handleHide();\n\n                        case 19:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, _this2);\n        }));\n\n        _this.handleChange = function (e) {\n            var message = e.target.value;\n            _this.setState({\n                editText: message\n            });\n        };\n\n        _this.handleEditKeyPress = function (e) {\n            if (!UserAgent.isMobile() && !_this.props.ctrlSend && e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                _reactDom2.default.findDOMNode(_this.refs.editbox).blur();\n                _this.handleEdit();\n            } else if (_this.props.ctrlSend && e.ctrlKey && e.which === KeyCodes.ENTER) {\n                e.preventDefault();\n                _reactDom2.default.findDOMNode(_this.refs.editbox).blur();\n                _this.handleEdit();\n            }\n        };\n\n        _this.handleKeyDown = function (e) {\n            if (_this.props.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n                _this.handleEdit();\n            }\n        };\n\n        _this.handleHide = function () {\n            _this.setState({ hidding: true });\n        };\n\n        _this.handleEnter = function () {\n            _this.setState({\n                editText: _this.props.editingPost.post.message\n            });\n        };\n\n        _this.handleEntered = function () {\n            _this.refs.editbox.focus();\n            _this.refs.editbox.recalculateSize();\n        };\n\n        _this.handleExit = function () {\n            _this.refs.editbox.hidePreview();\n        };\n\n        _this.handleExited = function () {\n            var refocusId = _this.props.editingPost.refocusId;\n            if (refocusId !== '') {\n                setTimeout(function () {\n                    var element = document.getElementById(refocusId);\n                    if (element) {\n                        element.focus();\n                    }\n                });\n            }\n            _this.props.actions.setEditingPost();\n            _this.setState({ editText: '', postError: '', errorClass: null, hidding: false, showEmojiPicker: false });\n        };\n\n        _this.state = {\n            editText: '',\n            postError: '',\n            errorClass: null,\n            showEmojiPicker: false,\n            hidding: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EditPostModal, [{\n        key: 'render',\n        value: function render() {\n            var errorBoxClass = 'edit-post-footer' + (this.state.postError ? ' has-error' : '');\n            var postError = null;\n            if (this.state.postError) {\n                var postErrorClass = 'post-error' + (this.state.errorClass ? ' ' + this.state.errorClass : '');\n                postError = _react2.default.createElement(\n                    'label',\n                    { className: postErrorClass },\n                    this.state.postError\n                );\n            }\n\n            var emojiPicker = null;\n            if (this.props.config.EnableEmojiPicker === 'true') {\n                emojiPicker = _react2.default.createElement(\n                    'span',\n                    { className: 'emoji-picker__container' },\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        container: this.getContainer,\n                        target: this.getEditPostControls,\n                        onHide: this.hideEmojiPicker,\n                        onEmojiClick: this.handleEmojiClick,\n                        rightOffset: 50,\n                        topOffset: -20\n                    }),\n                    _react2.default.createElement('span', {\n                        className: 'icon icon--emoji',\n                        onClick: this.toggleEmojiPicker,\n                        dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG }\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'edit-modal',\n                    show: this.mustBeShown(),\n                    onKeyDown: this.handleKeyDown,\n                    onHide: this.handleHide,\n                    onEnter: this.handleEnter,\n                    onEntered: this.handleEntered,\n                    onExit: this.handleExit,\n                    onExited: this.handleExited\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'edit_post.edit',\n                            defaultMessage: 'Edit {title}',\n                            values: {\n                                title: this.props.editingPost.title\n                            }\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    {\n                        bsClass: 'modal-body edit-modal-body',\n                        ref: 'editModalBody'\n                    },\n                    _react2.default.createElement(_textbox2.default, {\n                        onChange: this.handleChange,\n                        onKeyPress: this.handleEditKeyPress,\n                        onKeyDown: this.handleKeyDown,\n                        handlePostError: this.handlePostError,\n                        value: this.state.editText,\n                        channelId: this.props.editingPost.post && this.props.editingPost.post.channel_id,\n                        emojiEnabled: this.props.config.EnableEmojiPicker === 'true',\n                        createMessage: Utils.localizeMessage('edit_post.editPost', 'Edit the post...'),\n                        supportsCommands: false,\n                        suggestionListStyle: 'bottom',\n                        id: 'edit_textbox',\n                        ref: 'editbox'\n                    }),\n                    _react2.default.createElement(\n                        'span',\n                        {\n                            ref: 'editPostEmoji',\n                            className: 'edit-post__actions'\n                        },\n                        emojiPicker\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: errorBoxClass },\n                        postError\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.handleHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'edit_post.cancel',\n                            defaultMessage: 'Cancel'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-primary',\n                            onClick: this.handleEdit\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'edit_post.save',\n                            defaultMessage: 'Save'\n                        })\n                    )\n                )\n            );\n        }\n    }]);\n    return EditPostModal;\n}(_react2.default.PureComponent);\n\nEditPostModal.propTypes = {\n\n    /**\n     * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n     */\n    ctrlSend: _propTypes2.default.bool,\n\n    /**\n     * Global config object\n     */\n    config: _propTypes2.default.object.isRequired,\n\n    /**\n     * Editing post information\n     */\n    editingPost: _propTypes2.default.object.isRequired,\n\n    actions: _propTypes2.default.shape({\n        editPost: _propTypes2.default.func.isRequired,\n        addMessageIntoHistory: _propTypes2.default.func.isRequired,\n        setEditingPost: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = EditPostModal;\n\n/***/ }),\n\n/***/ 2259:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _teams = __webpack_require__(81);\n\nvar _url = __webpack_require__(70);\n\nvar _get_post_link_modal = __webpack_require__(2260);\n\nvar _get_post_link_modal2 = _interopRequireDefault(_get_post_link_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    var currentTeam = (0, _teams.getCurrentTeam)(state);\n    var currentTeamUrl = (0, _url.getSiteURL)() + '/' + currentTeam.name;\n    return (0, _extends3.default)({}, ownProps, {\n        currentTeamUrl: currentTeamUrl\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_get_post_link_modal2.default);\n\n/***/ }),\n\n/***/ 2260:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _get_link_modal = __webpack_require__(2057);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar GetPostLinkModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(GetPostLinkModal, _React$PureComponent);\n\n    function GetPostLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetPostLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetPostLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetPostLinkModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.hide = _this.hide.bind(_this);\n\n        _this.state = {\n            show: false,\n            post: {}\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetPostLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                post: args.post\n            });\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var postUrl = this.props.currentTeamUrl + '/pl/' + this.state.post.id;\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: this.hide,\n                title: Utils.localizeMessage('get_post_link_modal.title', 'Copy Permalink'),\n                helpText: Utils.localizeMessage('get_post_link_modal.help', 'The link below allows authorized users to see your post.'),\n                link: postUrl\n            });\n        }\n    }]);\n    return GetPostLinkModal;\n}(_react2.default.PureComponent);\n\nGetPostLinkModal.propTypes = {\n\n    /**\n     * URL of current team\n     */\n    currentTeamUrl: _propTypes2.default.string.isRequired\n};\nexports.default = GetPostLinkModal;\n\n/***/ }),\n\n/***/ 2261:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _teams = __webpack_require__(81);\n\nvar _general = __webpack_require__(192);\n\nvar _get_team_invite_link_modal = __webpack_require__(2262);\n\nvar _get_team_invite_link_modal2 = _interopRequireDefault(_get_team_invite_link_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        currentTeam: (0, _teams.getCurrentTeam)(state),\n        config: (0, _general.getConfig)(state)\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_get_team_invite_link_modal2.default);\n\n/***/ }),\n\n/***/ 2262:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _url = __webpack_require__(70);\n\nvar _get_link_modal = __webpack_require__(2057);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetTeamInviteLinkModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(GetTeamInviteLinkModal, _React$PureComponent);\n\n    function GetTeamInviteLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetTeamInviteLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetTeamInviteLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetTeamInviteLinkModal)).call(this, props));\n\n        _this.handleToggle = function (value) {\n            _this.setState({\n                show: value\n            });\n        };\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetTeamInviteLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var inviteUrl = (0, _url.getSiteURL)() + '/signup_user_complete/?id=' + this.props.currentTeam.invite_id;\n\n            var helpText = void 0;\n            if (this.props.config.EnableUserCreation === 'true') {\n                helpText = Utils.localizeMessage('get_team_invite_link_modal.help', 'Send teammates the link below for them to sign-up to this team site. The Team Invite Link can be shared with multiple teammates as it does not change unless it\\'s regenerated in Team Settings by a Team Admin.');\n            } else {\n                helpText = Utils.localizeMessage('get_team_invite_link_modal.helpDisabled', 'User creation has been disabled for your team. Please ask your team administrator for details.');\n            }\n\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: function onHide() {\n                    return _this2.handleToggle(false);\n                },\n                title: Utils.localizeMessage('get_team_invite_link_modal.title', 'Team Invite Link'),\n                helpText: helpText,\n                link: inviteUrl\n            });\n        }\n    }]);\n    return GetTeamInviteLinkModal;\n}(_react2.default.PureComponent); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nGetTeamInviteLinkModal.propTypes = {\n\n    /**\n     * Current team object\n     */\n    currentTeam: _propTypes2.default.object.isRequired,\n\n    /**\n     * Global config object\n     */\n    config: _propTypes2.default.object.isRequired\n};\nexports.default = GetTeamInviteLinkModal;\n\n/***/ }),\n\n/***/ 2263:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _files = __webpack_require__(398);\n\nvar _files2 = __webpack_require__(399);\n\nvar Selectors = _interopRequireWildcard(_files2);\n\nvar _get_public_link_modal = __webpack_require__(2264);\n\nvar _get_public_link_modal2 = _interopRequireDefault(_get_public_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        link: Selectors.getFilePublicLink(state).link\n    });\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getFilePublicLink: _files.getFilePublicLink\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_get_public_link_modal2.default);\n\n/***/ }),\n\n/***/ 2264:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _get_link_modal = __webpack_require__(2057);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar GetPublicLinkModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(GetPublicLinkModal, _React$PureComponent);\n\n    function GetPublicLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetPublicLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetPublicLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetPublicLinkModal)).call(this, props));\n\n        _this.handleToggle = function (value, args) {\n            _this.setState({\n                show: value,\n                fileId: args.fileId\n            });\n        };\n\n        _this.onHide = function () {\n            _this.setState({\n                show: false\n            });\n        };\n\n        _this.state = {\n            show: false,\n            fileId: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetPublicLinkModal, [{\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (this.state.show && !prevState.show) {\n                this.props.actions.getFilePublicLink(this.state.fileId);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: this.onHide,\n                title: Utils.localizeMessage('get_public_link_modal.title', 'Copy Public Link'),\n                helpText: Utils.localizeMessage('get_public_link_modal.help', 'The link below allows anyone to see this file without being registered on this server.'),\n                link: this.props.link\n            });\n        }\n    }]);\n    return GetPublicLinkModal;\n}(_react2.default.PureComponent);\n\nGetPublicLinkModal.propTypes = {\n\n    /**\n     * Public link of the file\n     */\n    link: _propTypes2.default.string,\n\n    actions: _propTypes2.default.shape({\n\n        /**\n         * An action to get public link\n         */\n        getFilePublicLink: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nGetPublicLinkModal.defaultProps = {\n    link: ''\n};\nexports.default = GetPublicLinkModal;\n\n/***/ }),\n\n/***/ 2265:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _team_actions = __webpack_require__(387);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _confirm_modal = __webpack_require__(283);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    emailError: {\n        id: 'invite_member.emailError',\n        defaultMessage: 'Please enter a valid email address'\n    },\n    firstname: {\n        id: 'invite_member.firstname',\n        defaultMessage: 'First name'\n    },\n    lastname: {\n        id: 'invite_member.lastname',\n        defaultMessage: 'Last name'\n    },\n    modalTitle: {\n        id: 'invite_member.modalTitle',\n        defaultMessage: 'Discard Invitations?'\n    },\n    modalMessage: {\n        id: 'invite_member.modalMessage',\n        defaultMessage: 'You have unsent invitations, are you sure you want to discard them?'\n    },\n    modalButton: {\n        id: 'invite_member.modalButton',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nvar InviteMemberModal = function (_React$Component) {\n    (0, _inherits3.default)(InviteMemberModal, _React$Component);\n\n    function InviteMemberModal(props) {\n        (0, _classCallCheck3.default)(this, InviteMemberModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (InviteMemberModal.__proto__ || (0, _getPrototypeOf2.default)(InviteMemberModal)).call(this, props));\n\n        _this.teamChange = _this.teamChange.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.addInviteFields = _this.addInviteFields.bind(_this);\n        _this.clearFields = _this.clearFields.bind(_this);\n        _this.removeInviteFields = _this.removeInviteFields.bind(_this);\n        _this.showGetTeamInviteLinkModal = _this.showGetTeamInviteLinkModal.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n\n        var team = _team_store2.default.getCurrent();\n\n        _this.state = {\n            show: false,\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {},\n            emailEnabled: global.window.mm_config.SendEmailNotifications === 'true',\n            userCreationEnabled: global.window.mm_config.EnableUserCreation === 'true',\n            showConfirmModal: false,\n            isSendingEmails: false,\n            teamType: team ? team.type : null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(InviteMemberModal, [{\n        key: 'teamChange',\n        value: function teamChange() {\n            var team = _team_store2.default.getCurrent();\n            var teamType = team ? team.type : null;\n            this.setState({\n                teamType: teamType\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n            _team_store2.default.addChangeListener(this.teamChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n            _team_store2.default.removeChangeListener(this.teamChange);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value,\n                serverError: null\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var _this2 = this;\n\n            if (!this.state.emailEnabled) {\n                return;\n            }\n\n            var inviteIds = this.state.inviteIds;\n            var count = inviteIds.length;\n            var invites = [];\n            var emailErrors = this.state.emailErrors;\n            var firstNameErrors = this.state.firstNameErrors;\n            var lastNameErrors = this.state.lastNameErrors;\n            var valid = true;\n\n            for (var i = 0; i < count; i++) {\n                var invite = {};\n                var index = inviteIds[i];\n                invite.email = _reactDom2.default.findDOMNode(this.refs['email' + index]).value.trim();\n                invite.firstName = _reactDom2.default.findDOMNode(this.refs['first_name' + index]).value.trim();\n                invite.lastName = _reactDom2.default.findDOMNode(this.refs['last_name' + index]).value.trim();\n                if (invite.email !== '' || index === 0) {\n                    if (!invite.email || !utils.isEmail(invite.email)) {\n                        emailErrors[index] = this.props.intl.formatMessage(holders.emailError);\n                        valid = false;\n                    } else {\n                        emailErrors[index] = '';\n                    }\n                    invites.push(invite);\n                }\n            }\n\n            this.setState({ emailErrors: emailErrors, firstNameErrors: firstNameErrors, lastNameErrors: lastNameErrors });\n\n            if (!valid || invites.length === 0) {\n                return;\n            }\n\n            var data = {};\n            data.invites = invites;\n\n            this.setState({ isSendingEmails: true });\n\n            (0, _team_actions.inviteMembers)(data, function () {\n                _this2.handleHide(false);\n                _this2.setState({ isSendingEmails: false });\n            }, function (err) {\n                if (err.id === 'api.team.invite_members.already.app_error') {\n                    emailErrors[err.detailed_error] = err.message;\n                    _this2.setState({ emailErrors: emailErrors });\n                } else {\n                    _this2.setState({ serverError: err.message });\n                }\n\n                _this2.setState({ isSendingEmails: false });\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide(requireConfirm) {\n            if (requireConfirm) {\n                var notEmpty = false;\n                for (var i = 0; i < this.state.inviteIds.length; i++) {\n                    var index = this.state.inviteIds[i];\n                    if (_reactDom2.default.findDOMNode(this.refs['email' + index]).value.trim() !== '') {\n                        notEmpty = true;\n                        break;\n                    }\n                }\n\n                if (notEmpty) {\n                    this.setState({\n                        showConfirmModal: true\n                    });\n\n                    return;\n                }\n            }\n\n            this.clearFields();\n\n            this.setState({\n                show: false,\n                showConfirmModal: false\n            });\n        }\n    }, {\n        key: 'addInviteFields',\n        value: function addInviteFields() {\n            var count = this.state.idCount + 1;\n            var inviteIds = this.state.inviteIds;\n            inviteIds.push(count);\n            this.setState({ inviteIds: inviteIds, idCount: count });\n        }\n    }, {\n        key: 'clearFields',\n        value: function clearFields() {\n            var inviteIds = this.state.inviteIds;\n\n            for (var i = 0; i < inviteIds.length; i++) {\n                var index = inviteIds[i];\n                _reactDom2.default.findDOMNode(this.refs['email' + index]).value = '';\n                _reactDom2.default.findDOMNode(this.refs['first_name' + index]).value = '';\n                _reactDom2.default.findDOMNode(this.refs['last_name' + index]).value = '';\n            }\n\n            this.setState({\n                inviteIds: [0],\n                idCount: 0,\n                emailErrors: {},\n                firstNameErrors: {},\n                lastNameErrors: {}\n            });\n        }\n    }, {\n        key: 'removeInviteFields',\n        value: function removeInviteFields(index) {\n            var count = this.state.idCount;\n            var inviteIds = this.state.inviteIds;\n            var i = inviteIds.indexOf(index);\n            if (i > -1) {\n                inviteIds.splice(i, 1);\n            }\n            if (!inviteIds.length) {\n                inviteIds.push(++count);\n            }\n            this.setState({ inviteIds: inviteIds, idCount: count });\n        }\n    }, {\n        key: 'showGetTeamInviteLinkModal',\n        value: function showGetTeamInviteLinkModal() {\n            this.handleHide(false);\n\n            GlobalActions.showGetTeamInviteLinkModal();\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (e.keyCode === _constants2.default.KeyCodes.ENTER) {\n                e.preventDefault();\n                this.handleSubmit();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var currentUser = _user_store2.default.getCurrentUser();\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            if (currentUser != null && this.state.teamType != null) {\n                var inviteSections = [];\n                var inviteIds = this.state.inviteIds;\n                for (var i = 0; i < inviteIds.length; i++) {\n                    var index = inviteIds[i];\n                    var emailError = null;\n                    if (this.state.emailErrors[index]) {\n                        emailError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.emailErrors[index]\n                        );\n                    }\n                    var firstNameError = null;\n                    if (this.state.firstNameErrors[index]) {\n                        firstNameError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.firstNameErrors[index]\n                        );\n                    }\n                    var lastNameError = null;\n                    if (this.state.lastNameErrors[index]) {\n                        lastNameError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.lastNameErrors[index]\n                        );\n                    }\n\n                    var removeButton = null;\n                    if (index) {\n                        removeButton = _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-link remove__member',\n                                    onClick: this.removeInviteFields.bind(this, index)\n                                },\n                                _react2.default.createElement('span', { className: 'fa fa-trash' })\n                            )\n                        );\n                    }\n                    var emailClass = 'form-group invite';\n                    if (emailError) {\n                        emailClass += ' has-error';\n                    }\n\n                    var nameFields = null;\n\n                    var firstNameClass = 'form-group';\n                    if (firstNameError) {\n                        firstNameClass += ' has-error';\n                    }\n                    var lastNameClass = 'form-group';\n                    if (lastNameError) {\n                        lastNameClass += ' has-error';\n                    }\n                    nameFields = _react2.default.createElement(\n                        'div',\n                        { className: 'row row--invite' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-6' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: firstNameClass },\n                                _react2.default.createElement('input', {\n                                    onKeyDown: this.handleKeyDown,\n                                    type: 'text',\n                                    className: 'form-control',\n                                    ref: 'first_name' + index,\n                                    placeholder: formatMessage(holders.firstname),\n                                    maxLength: '64',\n                                    disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                    spellCheck: 'false'\n                                }),\n                                firstNameError\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-6' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: lastNameClass },\n                                _react2.default.createElement('input', {\n                                    onKeyDown: this.handleKeyDown,\n                                    type: 'text',\n                                    className: 'form-control',\n                                    ref: 'last_name' + index,\n                                    placeholder: formatMessage(holders.lastname),\n                                    maxLength: '64',\n                                    disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                    spellCheck: 'false'\n                                }),\n                                lastNameError\n                            )\n                        )\n                    );\n\n                    inviteSections[index] = _react2.default.createElement(\n                        'div',\n                        { key: 'key' + index },\n                        removeButton,\n                        _react2.default.createElement(\n                            'div',\n                            { className: emailClass },\n                            _react2.default.createElement('input', {\n                                onKeyUp: this.displayNameKeyUp,\n                                onKeyDown: this.handleKeyDown,\n                                type: 'text',\n                                ref: 'email' + index,\n                                className: 'form-control',\n                                placeholder: 'email@domain.com',\n                                maxLength: '64',\n                                disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                spellCheck: 'false'\n                            }),\n                            emailError\n                        ),\n                        nameFields\n                    );\n                }\n\n                var serverError = null;\n                if (this.state.serverError) {\n                    serverError = _react2.default.createElement(\n                        'div',\n                        { className: 'form-group has-error' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.serverError\n                        )\n                    );\n                }\n\n                var content = null;\n                var sendButton = null;\n\n                var defaultChannelName = '';\n                if (_channel_store2.default.getByName(_constants2.default.DEFAULT_CHANNEL)) {\n                    defaultChannelName = _channel_store2.default.getByName(_constants2.default.DEFAULT_CHANNEL).display_name;\n                }\n\n                if (this.state.emailEnabled && this.state.userCreationEnabled) {\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        serverError,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.addInviteFields\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.addAnother',\n                                defaultMessage: 'Add another'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'invite_member.autoJoin',\n                                defaultMessage: 'People invited automatically join the <strong>{channel}</strong> channel.',\n                                values: {\n                                    channel: defaultChannelName\n                                }\n                            })\n                        )\n                    );\n\n                    var sendButtonLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'invite_member.send',\n                        defaultMessage: 'Send Invitation'\n                    });\n                    if (this.state.isSendingEmails) {\n                        sendButtonLabel = _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement('i', { className: 'fa fa-spinner fa-spin' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.sending',\n                                defaultMessage: ' Sending'\n                            })\n                        );\n                    } else if (this.state.inviteIds.length > 1) {\n                        sendButtonLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'invite_member.send2',\n                            defaultMessage: 'Send Invitations'\n                        });\n                    }\n\n                    sendButton = _react2.default.createElement(\n                        'button',\n                        {\n                            onClick: this.handleSubmit,\n                            type: 'button',\n                            className: 'btn btn-primary',\n                            disabled: this.state.isSendingEmails\n                        },\n                        sendButtonLabel\n                    );\n                } else if (this.state.userCreationEnabled) {\n                    var teamInviteLink = null;\n                    if (currentUser && this.state.teamType === 'O') {\n                        var link = _react2.default.createElement(\n                            'button',\n                            {\n                                className: 'color--link style--none',\n                                onClick: this.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.inviteLink',\n                                defaultMessage: 'Team Invite Link'\n                            })\n                        );\n\n                        teamInviteLink = _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.teamInviteLink',\n                                defaultMessage: 'You can also invite people using the {link}.',\n                                values: {\n                                    link: link\n                                }\n                            })\n                        );\n                    }\n\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.content',\n                                defaultMessage: 'Email is currently disabled for your team, and email invitations cannot be sent. Contact your System Administrator to enable email and email invitations.'\n                            })\n                        ),\n                        teamInviteLink\n                    );\n                } else {\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.disabled',\n                                defaultMessage: 'User creation has been disabled for your team. Please ask your Team Administrator for details.'\n                            })\n                        )\n                    );\n                }\n\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal,\n                        {\n                            dialogClassName: 'modal-invite-member',\n                            show: this.state.show,\n                            onHide: this.handleHide.bind(this, true),\n                            enforceFocus: !this.state.showConfirmModal,\n                            backdrop: this.state.isSendingEmails ? 'static' : true\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Header,\n                            { closeButton: !this.state.isSendingEmails },\n                            _react2.default.createElement(\n                                _reactBootstrap.Modal.Title,\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'invite_member.newMember',\n                                    defaultMessage: 'Send Email Invite'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            { ref: 'modalBody' },\n                            _react2.default.createElement(\n                                'form',\n                                { role: 'form' },\n                                inviteSections\n                            ),\n                            content\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: this.handleHide.bind(this, true),\n                                    disabled: this.state.isSendingEmails\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'invite_member.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            sendButton\n                        )\n                    ),\n                    _react2.default.createElement(_confirm_modal2.default, {\n                        title: formatMessage(holders.modalTitle),\n                        message: formatMessage(holders.modalMessage),\n                        confirmButtonText: formatMessage(holders.modalButton),\n                        show: this.state.showConfirmModal,\n                        onConfirm: this.handleHide.bind(this, false),\n                        onCancel: function onCancel() {\n                            return _this3.setState({ showConfirmModal: false });\n                        }\n                    })\n                );\n            }\n\n            return null;\n        }\n    }]);\n    return InviteMemberModal;\n}(_react2.default.Component);\n\nInviteMemberModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(InviteMemberModal);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2266:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar LeaveTeamModal = function (_React$Component) {\n    (0, _inherits3.default)(LeaveTeamModal, _React$Component);\n\n    function LeaveTeamModal(props) {\n        (0, _classCallCheck3.default)(this, LeaveTeamModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LeaveTeamModal.__proto__ || (0, _getPrototypeOf2.default)(LeaveTeamModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(LeaveTeamModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n            document.addEventListener('keypress', this.handleKeyPress);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n            document.removeEventListener('keypress', this.handleKeyPress);\n        }\n    }, {\n        key: 'handleKeyPress',\n        value: function handleKeyPress(e) {\n            if (e.key === 'Enter' && this.state.show) {\n                this.handleSubmit(e);\n            }\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            this.setState({\n                show: false\n            });\n\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n                return;\n            }\n\n            GlobalActions.emitLeaveTeam();\n            GlobalActions.toggleSideBarRightMenuAction();\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n\n            if (currentUser != null) {\n                return _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        className: 'modal-confirm',\n                        show: this.state.show,\n                        onHide: this.handleHide\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: false },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.title',\n                                defaultMessage: 'Leave the team?'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Body,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'leave_team_modal.desc',\n                            defaultMessage: 'You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Footer,\n                        null,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.handleHide\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.no',\n                                defaultMessage: 'No'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-danger',\n                                onClick: this.handleSubmit\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.yes',\n                                defaultMessage: 'Yes'\n                            })\n                        )\n                    )\n                );\n            }\n\n            return null;\n        }\n    }]);\n    return LeaveTeamModal;\n}(_react2.default.Component);\n\nLeaveTeamModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(LeaveTeamModal);\n\n/***/ }),\n\n/***/ 2267:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _confirm_modal = __webpack_require__(283);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar LeavePrivateChannelModal = function (_React$Component) {\n    (0, _inherits3.default)(LeavePrivateChannelModal, _React$Component);\n\n    function LeavePrivateChannelModal(props) {\n        (0, _classCallCheck3.default)(this, LeavePrivateChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LeavePrivateChannelModal.__proto__ || (0, _getPrototypeOf2.default)(LeavePrivateChannelModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n\n        _this.state = {\n            show: false,\n            channel: null\n        };\n        _this.mounted = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(LeavePrivateChannelModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleKeyPress',\n        value: function handleKeyPress(e) {\n            if (e.key === 'Enter' && this.state.show) {\n                this.handleSubmit();\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var channelId = this.state.channel.id;\n            this.setState({\n                show: false,\n                channel: null\n            });\n            ChannelActions.leaveChannel(channelId);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                channel: value,\n                show: value !== null\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var title = '';\n            var message = '';\n            if (this.state.channel) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'leave_private_channel_modal.title',\n                    defaultMessage: 'Leave Private Channel {channel}',\n                    values: {\n                        channel: _react2.default.createElement(\n                            'b',\n                            null,\n                            this.state.channel.display_name\n                        )\n                    }\n                });\n\n                message = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'leave_private_channel_modal.message',\n                    defaultMessage: 'Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.',\n                    values: {\n                        channel: _react2.default.createElement(\n                            'b',\n                            null,\n                            this.state.channel.display_name\n                        )\n                    }\n                });\n            }\n\n            var buttonClass = 'btn btn-danger';\n            var button = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'leave_private_channel_modal.leave',\n                defaultMessage: 'Yes, leave channel'\n            });\n\n            return _react2.default.createElement(_confirm_modal2.default, {\n                show: this.state.show,\n                title: title,\n                message: message,\n                confirmButtonClass: buttonClass,\n                confirmButtonText: button,\n                onConfirm: this.handleSubmit,\n                onCancel: this.handleHide\n            });\n        }\n    }]);\n    return LeavePrivateChannelModal;\n}(_react2.default.Component);\n\nLeavePrivateChannelModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(LeavePrivateChannelModal);\n\n/***/ }),\n\n/***/ 2268:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _rhs = __webpack_require__(219);\n\nvar _rhs2 = __webpack_require__(218);\n\nvar _constants = __webpack_require__(9);\n\nvar _navbar = __webpack_require__(2269);\n\nvar _navbar2 = _interopRequireDefault(_navbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state) {\n    var rhsState = (0, _rhs2.getRhsState)(state);\n\n    return {\n        isPinnedPosts: rhsState === _constants.RHSStates.PIN\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            closeRightHandSide: _rhs.closeRightHandSide,\n            updateRhsState: _rhs.updateRhsState\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_navbar2.default);\n\n/***/ }),\n\n/***/ 2269:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _edit_channel_header_modal = __webpack_require__(400);\n\nvar _edit_channel_header_modal2 = _interopRequireDefault(_edit_channel_header_modal);\n\nvar _edit_channel_purpose_modal = __webpack_require__(691);\n\nvar _edit_channel_purpose_modal2 = _interopRequireDefault(_edit_channel_purpose_modal);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _webrtc_actions = __webpack_require__(285);\n\nvar WebrtcActions = _interopRequireWildcard(_webrtc_actions);\n\nvar _post_actions = __webpack_require__(71);\n\nvar _app_dispatcher = __webpack_require__(39);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _channel_utils = __webpack_require__(101);\n\nvar ChannelUtils = _interopRequireWildcard(_channel_utils);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _channel_info_modal = __webpack_require__(692);\n\nvar _channel_info_modal2 = _interopRequireDefault(_channel_info_modal);\n\nvar _channel_invite_modal = __webpack_require__(290);\n\nvar _channel_invite_modal2 = _interopRequireDefault(_channel_invite_modal);\n\nvar _channel_members_modal = __webpack_require__(403);\n\nvar _channel_members_modal2 = _interopRequireDefault(_channel_members_modal);\n\nvar _channel_notifications_modal = __webpack_require__(695);\n\nvar _channel_notifications_modal2 = _interopRequireDefault(_channel_notifications_modal);\n\nvar _delete_channel_modal = __webpack_require__(696);\n\nvar _delete_channel_modal2 = _interopRequireDefault(_delete_channel_modal);\n\nvar _notify_counts = __webpack_require__(2270);\n\nvar _notify_counts2 = _interopRequireDefault(_notify_counts);\n\nvar _quick_switch_modal = __webpack_require__(2271);\n\nvar _quick_switch_modal2 = _interopRequireDefault(_quick_switch_modal);\n\nvar _rename_channel_modal = __webpack_require__(697);\n\nvar _rename_channel_modal2 = _interopRequireDefault(_rename_channel_modal);\n\nvar _status_icon = __webpack_require__(390);\n\nvar _status_icon2 = _interopRequireDefault(_status_icon);\n\nvar _toggle_modal_button = __webpack_require__(659);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nvar _toggle_modal_button_redux = __webpack_require__(698);\n\nvar _toggle_modal_button_redux2 = _interopRequireDefault(_toggle_modal_button_redux);\n\nvar _pluggable = __webpack_require__(221);\n\nvar _pluggable2 = _interopRequireDefault(_pluggable);\n\nvar _navbar_info_button = __webpack_require__(2275);\n\nvar _navbar_info_button2 = _interopRequireDefault(_navbar_info_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Navbar = function (_React$Component) {\n    (0, _inherits3.default)(Navbar, _React$Component);\n\n    function Navbar(props) {\n        (0, _classCallCheck3.default)(this, Navbar);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Navbar.__proto__ || (0, _getPrototypeOf2.default)(Navbar)).call(this, props));\n\n        _this.getStateFromStores = function () {\n            var channel = _channel_store2.default.getCurrent();\n\n            var contactId = null;\n            if (channel && channel.type === 'D') {\n                contactId = Utils.getUserIdFromChannelName(channel);\n            }\n\n            return {\n                channel: channel,\n                member: _channel_store2.default.getCurrentMember(),\n                users: [],\n                userCount: _channel_store2.default.getCurrentStats().member_count,\n                currentUser: _user_store2.default.getCurrentUser(),\n                isFavorite: channel && ChannelUtils.isFavoriteChannel(channel),\n                contactId: contactId,\n                isBusy: _webrtc_store2.default.isBusy()\n            };\n        };\n\n        _this.isStateValid = function () {\n            return _this.state.channel && _this.state.member && _this.state.users && _this.state.currentUser;\n        };\n\n        _this.handleLeave = function () {\n            if (_this.state.channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n                GlobalActions.showLeavePrivateChannelModal(_this.state.channel);\n            } else {\n                ChannelActions.leaveChannel(_this.state.channel.id);\n            }\n        };\n\n        _this.hideSidebars = function (e) {\n            var windowWidth = (0, _jquery2.default)(window).outerWidth();\n            if (windowWidth <= 768) {\n                _this.props.actions.closeRightHandSide();\n\n                if (e.target.className !== 'navbar-toggle' && e.target.className !== 'icon-bar') {\n                    (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right move--left move--left-small');\n                    (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n                    (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n                    (0, _jquery2.default)('.app__body .sidebar--right').removeClass('move--left');\n                    (0, _jquery2.default)('.app__body .sidebar--menu').removeClass('move--left');\n                }\n            }\n        };\n\n        _this.toggleLeftSidebar = function () {\n            (0, _jquery2.default)('.app__body .inner-wrap').toggleClass('move--right');\n            (0, _jquery2.default)('.app__body .sidebar--left').toggleClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').toggleClass('move--right');\n        };\n\n        _this.toggleRightSidebar = function () {\n            (0, _jquery2.default)('.app__body .inner-wrap').toggleClass('move--left-small');\n            (0, _jquery2.default)('.app__body .sidebar--menu').toggleClass('move--left');\n        };\n\n        _this.showSearch = function () {\n            _this.props.actions.updateRhsState(_constants.RHSStates.SEARCH);\n        };\n\n        _this.onChange = function () {\n            _this.setState(_this.getStateFromStores());\n        };\n\n        _this.showEditChannelHeaderModal = function () {\n            _this.setState({\n                showEditChannelHeaderModal: true\n            });\n        };\n\n        _this.hideEditChannelHeaderModal = function () {\n            _this.setState({\n                showEditChannelHeaderModal: false\n            });\n        };\n\n        _this.showChannelNotificationsModal = function (e) {\n            e.preventDefault();\n\n            _this.setState({\n                showChannelNotificationsModal: true\n            });\n        };\n\n        _this.hideChannelNotificationsModal = function () {\n            _this.setState({\n                showChannelNotificationsModal: false\n            });\n        };\n\n        _this.showChannelPurposeModal = function () {\n            _this.setState({\n                showEditChannelPurposeModal: true\n            });\n        };\n\n        _this.hideChannelPurposeModal = function () {\n            _this.setState({\n                showEditChannelPurposeModal: false\n            });\n        };\n\n        _this.showRenameChannelModal = function () {\n            _this.setState({\n                showRenameChannelModal: true\n            });\n        };\n\n        _this.hideRenameChannelModal = function () {\n            _this.setState({\n                showRenameChannelModal: false\n            });\n        };\n\n        _this.showMembersModal = function (e) {\n            e.preventDefault();\n\n            _this.setState({ showMembersModal: true });\n        };\n\n        _this.hideMembersModal = function () {\n            _this.setState({ showMembersModal: false });\n        };\n\n        _this.handleQuickSwitchKeyPress = function (e) {\n            if (Utils.cmdOrCtrlPressed(e) && !e.shiftKey && e.keyCode === _constants.Constants.KeyCodes.K) {\n                if (!e.altKey) {\n                    e.preventDefault();\n                    _this.toggleQuickSwitchModal('channel');\n                }\n            }\n        };\n\n        _this.toggleQuickSwitchModal = function () {\n            var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'channel';\n\n            if (_this.state.showQuickSwitchModal) {\n                _this.setState({ showQuickSwitchModal: false, quickSwitchMode: 'channel' });\n            } else {\n                _this.setState({ showQuickSwitchModal: true, quickSwitchMode: mode });\n            }\n        };\n\n        _this.hideQuickSwitchModal = function () {\n            _this.setState({\n                showQuickSwitchModal: false,\n                quickSwitchMode: 'channel'\n            });\n        };\n\n        _this.openDirectMessageModal = function () {\n            _app_dispatcher2.default.handleViewAction({\n                type: _constants.ActionTypes.TOGGLE_DM_MODAL,\n                value: true,\n                channelId: _this.state.channel.id\n            });\n        };\n\n        _this.getPinnedPosts = function (e) {\n            e.preventDefault();\n            if (_this.props.isPinnedPosts) {\n                GlobalActions.emitCloseRightHandSide();\n            } else {\n                (0, _post_actions.getPinnedPosts)(_this.state.channel.id);\n            }\n        };\n\n        _this.toggleFavorite = function (e) {\n            e.preventDefault();\n\n            if (_this.state.isFavorite) {\n                ChannelActions.unmarkFavorite(_this.state.channel.id);\n            } else {\n                ChannelActions.markFavorite(_this.state.channel.id);\n            }\n        };\n\n        _this.onBusy = function (isBusy) {\n            _this.setState({ isBusy: isBusy });\n        };\n\n        _this.initWebrtc = function () {\n            if (!_this.isContactNotAvailable()) {\n                GlobalActions.emitCloseRightHandSide();\n                WebrtcActions.initWebrtc(_this.state.contactId, true);\n            }\n        };\n\n        _this.createDropdown = function (channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup) {\n            if (channel) {\n                var viewInfoOption = void 0;\n                var webrtcOption = void 0;\n                var viewPinnedPostsOption = void 0;\n                var addMembersOption = void 0;\n                var manageMembersOption = void 0;\n                var setChannelHeaderOption = void 0;\n                var setChannelPurposeOption = void 0;\n                var notificationPreferenceOption = void 0;\n                var renameChannelOption = void 0;\n                var deleteChannelOption = void 0;\n                var leaveChannelOption = void 0;\n\n                if (isDirect) {\n                    setChannelHeaderOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: _this.showEditChannelHeaderModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_header.channelHeader',\n                                defaultMessage: 'Edit Channel Header'\n                            })\n                        )\n                    );\n\n                    webrtcOption = _this.generateWebrtcDropdown();\n                } else if (isGroup) {\n                    setChannelHeaderOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: _this.showEditChannelHeaderModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_header.channelHeader',\n                                defaultMessage: 'Edit Channel Header'\n                            })\n                        )\n                    );\n\n                    notificationPreferenceOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: _this.showChannelNotificationsModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.preferences',\n                                defaultMessage: 'Notification Preferences'\n                            })\n                        )\n                    );\n\n                    addMembersOption = _react2.default.createElement(\n                        'li',\n                        {\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: _this.openDirectMessageModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.addMembers',\n                                defaultMessage: 'Add Members'\n                            })\n                        )\n                    );\n                } else {\n                    viewInfoOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            _toggle_modal_button_redux2.default,\n                            {\n                                role: 'menuitem',\n                                modalId: _constants.ModalIdentifiers.CHANNEL_INFO,\n                                dialogType: _channel_info_modal2.default,\n                                dialogProps: { channel: channel }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.viewInfo',\n                                defaultMessage: 'View Info'\n                            })\n                        )\n                    );\n\n                    viewPinnedPostsOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: _this.getPinnedPosts\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.viewPinnedPosts',\n                                defaultMessage: 'View Pinned Posts'\n                            })\n                        )\n                    );\n\n                    if (_channel_store2.default.isDefault(channel)) {\n                        manageMembersOption = _react2.default.createElement(\n                            'li',\n                            {\n                                key: 'view_members',\n                                role: 'presentation'\n                            },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: _this.showMembersModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.viewMembers',\n                                    defaultMessage: 'View Members'\n                                })\n                            )\n                        );\n                    } else {\n                        addMembersOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                _toggle_modal_button2.default,\n                                {\n                                    ref: 'channelInviteModalButton',\n                                    role: 'menuitem',\n                                    dialogType: _channel_invite_modal2.default,\n                                    dialogProps: { channel: channel, currentUser: _this.state.currentUser }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'navbar.addMembers',\n                                    defaultMessage: 'Add Members'\n                                })\n                            )\n                        );\n\n                        if (ChannelUtils.canManageMembers(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                            manageMembersOption = _react2.default.createElement(\n                                'li',\n                                {\n                                    key: 'manage_members',\n                                    role: 'presentation'\n                                },\n                                _react2.default.createElement(\n                                    'a',\n                                    {\n                                        role: 'menuitem',\n                                        href: '#',\n                                        onClick: _this.showMembersModal\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_header.manageMembers',\n                                        defaultMessage: 'Manage Members'\n                                    })\n                                )\n                            );\n                        } else {\n                            manageMembersOption = _react2.default.createElement(\n                                'li',\n                                {\n                                    key: 'view_members',\n                                    role: 'presentation'\n                                },\n                                _react2.default.createElement(\n                                    'a',\n                                    {\n                                        role: 'menuitem',\n                                        href: '#',\n                                        onClick: _this.showMembersModal\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_header.viewMembers',\n                                        defaultMessage: 'View Members'\n                                    })\n                                )\n                            );\n                        }\n                    }\n\n                    notificationPreferenceOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: _this.showChannelNotificationsModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.preferences',\n                                defaultMessage: 'Notification Preferences'\n                            })\n                        )\n                    );\n\n                    if (ChannelUtils.showManagementOptions(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                        setChannelHeaderOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: _this.showEditChannelHeaderModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.setHeader',\n                                    defaultMessage: 'Edit Channel Header'\n                                })\n                            )\n                        );\n\n                        setChannelPurposeOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: _this.showChannelPurposeModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.setPurpose',\n                                    defaultMessage: 'Edit Channel Purpose'\n                                })\n                            )\n                        );\n\n                        renameChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: _this.showRenameChannelModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.rename',\n                                    defaultMessage: 'Rename Channel'\n                                })\n                            )\n                        );\n                    }\n\n                    if (ChannelUtils.showDeleteOptionForCurrentUser(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                        deleteChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                _toggle_modal_button2.default,\n                                {\n                                    role: 'menuitem',\n                                    dialogType: _delete_channel_modal2.default,\n                                    dialogProps: { channel: channel }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.delete',\n                                    defaultMessage: 'Delete Channel'\n                                })\n                            )\n                        );\n                    }\n\n                    if (!_channel_store2.default.isDefault(channel)) {\n                        leaveChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: _this.handleLeave\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.leave',\n                                    defaultMessage: 'Leave Channel'\n                                })\n                            )\n                        );\n                    }\n                }\n\n                var toggleFavoriteOption = _react2.default.createElement(\n                    'li',\n                    {\n                        key: 'toggle_favorite',\n                        role: 'presentation'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            role: 'menuitem',\n                            href: '#',\n                            onClick: _this.toggleFavorite\n                        },\n                        _this.state.isFavorite ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channelHeader.removeFromFavorites',\n                            defaultMessage: 'Remove from Favorites'\n                        }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channelHeader.addToFavorites',\n                            defaultMessage: 'Add to Favorites'\n                        })\n                    )\n                );\n\n                return _react2.default.createElement(\n                    'div',\n                    { className: 'navbar-brand' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'dropdown' },\n                        _this.generateWebrtcIcon(),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                className: 'dropdown-toggle theme',\n                                type: 'button',\n                                'data-toggle': 'dropdown',\n                                'aria-expanded': 'true'\n                            },\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'heading' },\n                                _react2.default.createElement(_status_icon2.default, { status: _this.getTeammateStatus() }),\n                                channelTitle,\n                                ' '\n                            ),\n                            _react2.default.createElement('span', { className: 'fa fa-angle-down header-dropdown__icon' })\n                        ),\n                        _react2.default.createElement(\n                            'ul',\n                            {\n                                className: 'dropdown-menu',\n                                role: 'menu'\n                            },\n                            viewInfoOption,\n                            webrtcOption,\n                            viewPinnedPostsOption,\n                            notificationPreferenceOption,\n                            addMembersOption,\n                            manageMembersOption,\n                            setChannelHeaderOption,\n                            setChannelPurposeOption,\n                            renameChannelOption,\n                            deleteChannelOption,\n                            leaveChannelOption,\n                            toggleFavoriteOption,\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    className: 'close visible-xs-block',\n                                    onClick: function onClick() {\n                                        return _this.refs.headerOverlay.hide();\n                                    }\n                                },\n                                ''\n                            )\n                        )\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'navbar-brand' },\n                _react2.default.createElement(\n                    _reactRouter.Link,\n                    {\n                        to: _team_store2.default.getCurrentTeamUrl() + '/channels/town-square',\n                        className: 'heading'\n                    },\n                    channelTitle\n                )\n            );\n        };\n\n        _this.createCollapseButtons = function (currentId) {\n            var buttons = [];\n            var menuIcon = _constants.Constants.MENU_ICON_SVG;\n\n            if (currentId == null) {\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-collapse',\n                        type: 'button',\n                        className: 'navbar-toggle',\n                        'data-toggle': 'collapse',\n                        'data-target': '#navbar-collapse-1'\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sr-only' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.toggle1',\n                            defaultMessage: 'Toggle sidebar'\n                        })\n                    ),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' })\n                ));\n            } else {\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-sidebar',\n                        type: 'button',\n                        className: 'navbar-toggle',\n                        'data-toggle': 'collapse',\n                        'data-target': '#sidebar-nav',\n                        onClick: _this.toggleLeftSidebar\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sr-only' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.toggle2',\n                            defaultMessage: 'Toggle sidebar'\n                        })\n                    ),\n                    _react2.default.createElement('span', {\n                        className: 'icon icon__menu icon--sidebarHeaderTextColor',\n                        dangerouslySetInnerHTML: { __html: menuIcon },\n                        'aria-hidden': 'true'\n                    }),\n                    _react2.default.createElement(_notify_counts2.default, null)\n                ));\n\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-menu',\n                        type: 'button',\n                        className: 'navbar-toggle navbar-right__icon menu-toggle pull-right',\n                        'data-toggle': 'collapse',\n                        'data-target': '#sidebar-nav',\n                        onClick: _this.toggleRightSidebar\n                    },\n                    _react2.default.createElement('span', { dangerouslySetInnerHTML: { __html: _constants.Constants.MENU_ICON } })\n                ));\n            }\n\n            return buttons;\n        };\n\n        _this.getTeammateStatus = function () {\n            var channel = _this.state.channel;\n\n            // get status for direct message channels\n            if (channel.type === 'D') {\n                var currentUserId = _this.state.currentUser.id;\n                var teammate = _this.state.users.find(function (user) {\n                    return user.id !== currentUserId;\n                });\n                if (teammate) {\n                    return _user_store2.default.getStatus(teammate.id);\n                }\n            }\n            return null;\n        };\n\n        _this.state = (0, _extends3.default)({}, _this.getStateFromStores(), {\n            showEditChannelPurposeModal: false,\n            showEditChannelHeaderModal: false,\n            showMembersModal: false,\n            showRenameChannelModal: false,\n            showQuickSwitchModal: false,\n            showChannelNotificationsModal: false,\n            quickSwitchMode: 'channel'\n        });\n        return _this;\n    }\n\n    (0, _createClass3.default)(Navbar, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.onChange);\n            _channel_store2.default.addStatsChangeListener(this.onChange);\n            _user_store2.default.addStatusesChangeListener(this.onChange);\n            _user_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.showEditChannelHeaderModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.showChannelPurposeModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.showRenameChannelModal);\n            _webrtc_store2.default.addChangedListener(this.onChange);\n            _webrtc_store2.default.addBusyListener(this.onBusy);\n            (0, _jquery2.default)('.inner-wrap').click(this.hideSidebars);\n            document.addEventListener('keydown', this.handleQuickSwitchKeyPress);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.onChange);\n            _channel_store2.default.removeStatsChangeListener(this.onChange);\n            _user_store2.default.removeStatusesChangeListener(this.onChange);\n            _user_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n            _modal_store2.default.removeModalListener(_constants.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.hideEditChannelHeaderModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.hideChannelPurposeModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.hideRenameChannelModal);\n            _webrtc_store2.default.removeChangedListener(this.onChange);\n            _webrtc_store2.default.removeBusyListener(this.onBusy);\n            document.removeEventListener('keydown', this.handleQuickSwitchKeyPress);\n        }\n    }, {\n        key: 'isContactNotAvailable',\n        value: function isContactNotAvailable() {\n            var contactStatus = _user_store2.default.getStatus(this.state.contactId);\n\n            return contactStatus === _constants.UserStatuses.OFFLINE || contactStatus === _constants.UserStatuses.DND || this.state.isBusy;\n        }\n    }, {\n        key: 'isWebrtcEnabled',\n        value: function isWebrtcEnabled() {\n            var userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n            var PreReleaseFeatures = _constants.Constants.PRE_RELEASE_FEATURES;\n            return global.mm_config.EnableWebrtc === 'true' && userMedia && Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n        }\n    }, {\n        key: 'generateWebrtcDropdown',\n        value: function generateWebrtcDropdown() {\n            if (!this.isWebrtcEnabled()) {\n                return null;\n            }\n\n            var linkClass = '';\n            if (this.isContactNotAvailable()) {\n                linkClass = 'disable-links';\n            }\n\n            return _react2.default.createElement(\n                'li',\n                {\n                    role: 'presentation',\n                    className: 'webrtc__option'\n                },\n                _react2.default.createElement(\n                    'a',\n                    {\n                        role: 'menuitem',\n                        href: '#',\n                        onClick: this.initWebrtc,\n                        className: linkClass\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.webrtc.call',\n                        defaultMessage: 'Start Video Call'\n                    })\n                )\n            );\n        }\n    }, {\n        key: 'generateWebrtcIcon',\n        value: function generateWebrtcIcon() {\n            if (!this.isWebrtcEnabled()) {\n                return null;\n            }\n\n            var circleClass = '';\n            if (this.isContactNotAvailable()) {\n                circleClass = 'offline';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'pull-right description navbar-right__icon webrtc__button ' + circleClass },\n                _react2.default.createElement(\n                    'a',\n                    { onClick: this.initWebrtc },\n                    'WebRTC'\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            if (!this.isStateValid()) {\n                return null;\n            }\n\n            var currentId = this.state.currentUser.id;\n            var channel = this.state.channel;\n            var channelTitle = this.props.teamDisplayName;\n            var isTeamAdmin = _team_store2.default.isTeamAdminForCurrentTeam();\n            var isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n            var isChannelAdmin = false;\n            var isDirect = false;\n            var isGroup = false;\n\n            var editChannelHeaderModal = null;\n            var editChannelPurposeModal = null;\n            var renameChannelModal = null;\n            var channelMembersModal = null;\n            var channelNotificationsModal = null;\n            var quickSwitchModal = null;\n\n            if (channel) {\n                isChannelAdmin = _channel_store2.default.isChannelAdminForCurrentChannel();\n                channelTitle = channel.display_name;\n\n                if (channel.type === _constants.Constants.DM_CHANNEL) {\n                    isDirect = true;\n                    var teammateId = Utils.getUserIdFromChannelName(channel);\n                    channelTitle = Utils.displayUsername(teammateId);\n                } else if (channel.type === _constants.Constants.GM_CHANNEL) {\n                    isGroup = true;\n                }\n\n                if (this.state.showEditChannelHeaderModal) {\n                    editChannelHeaderModal = _react2.default.createElement(_edit_channel_header_modal2.default, {\n                        onHide: function onHide() {\n                            return _this2.setState({ showEditChannelHeaderModal: false });\n                        },\n                        channel: channel\n                    });\n                }\n\n                if (this.state.showEditChannelPurposeModal) {\n                    editChannelPurposeModal = _react2.default.createElement(_edit_channel_purpose_modal2.default, {\n                        onModalDismissed: this.hideChannelPurposeModal,\n                        channel: channel\n                    });\n                }\n\n                renameChannelModal = _react2.default.createElement(_rename_channel_modal2.default, {\n                    show: this.state.showRenameChannelModal,\n                    onHide: this.hideRenameChannelModal,\n                    channel: channel\n                });\n\n                if (this.state.showMembersModal) {\n                    channelMembersModal = _react2.default.createElement(_channel_members_modal2.default, {\n                        show: true,\n                        onModalDismissed: this.hideMembersModal,\n                        showInviteModal: function showInviteModal() {\n                            return _this2.refs.channelInviteModalButton.show();\n                        },\n                        channel: channel,\n                        isAdmin: isTeamAdmin || isSystemAdmin\n                    });\n                }\n\n                channelNotificationsModal = _react2.default.createElement(_channel_notifications_modal2.default, {\n                    show: this.state.showChannelNotificationsModal,\n                    onHide: this.hideChannelNotificationsModal,\n                    channel: channel,\n                    channelMember: this.state.member,\n                    currentUser: this.state.currentUser\n                });\n\n                quickSwitchModal = _react2.default.createElement(_quick_switch_modal2.default, {\n                    show: this.state.showQuickSwitchModal,\n                    onHide: this.hideQuickSwitchModal,\n                    initialMode: this.state.quickSwitchMode\n                });\n            }\n\n            var collapseButtons = this.createCollapseButtons(currentId);\n\n            var searchIcon = _constants.Constants.SEARCH_ICON_SVG;\n            var searchButton = _react2.default.createElement(\n                'button',\n                {\n                    type: 'button',\n                    className: 'navbar-toggle navbar-right__icon navbar-search pull-right',\n                    onClick: this.showSearch\n                },\n                _react2.default.createElement('span', {\n                    className: 'icon icon__search',\n                    dangerouslySetInnerHTML: { __html: searchIcon },\n                    'aria-hidden': 'true'\n                })\n            );\n\n            var channelMenuDropdown = this.createDropdown(channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup);\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'nav',\n                    {\n                        className: 'navbar navbar-default navbar-fixed-top',\n                        role: 'navigation'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'container-fluid theme' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'navbar-header' },\n                            collapseButtons,\n                            searchButton,\n                            _react2.default.createElement(_navbar_info_button2.default, {\n                                ref: 'headerOverlay',\n                                channel: channel,\n                                showEditChannelHeaderModal: this.showEditChannelHeaderModal\n                            }),\n                            _react2.default.createElement(_pluggable2.default, { pluggableName: 'MobileChannelHeaderButton' }),\n                            channelMenuDropdown\n                        )\n                    )\n                ),\n                editChannelHeaderModal,\n                editChannelPurposeModal,\n                renameChannelModal,\n                channelMembersModal,\n                channelNotificationsModal,\n                quickSwitchModal\n            );\n        }\n    }]);\n    return Navbar;\n}(_react2.default.Component);\n\nNavbar.propTypes = {\n    teamDisplayName: _propTypes2.default.string,\n    isPinnedPosts: _propTypes2.default.bool,\n    actions: _propTypes2.default.shape({\n        closeRightHandSide: _propTypes2.default.func,\n        updateRhsState: _propTypes2.default.func\n    })\n};\nNavbar.defaultProps = {\n    teamDisplayName: ''\n};\nexports.default = Navbar;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2270:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _channel_utils = __webpack_require__(101);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NotifyCounts = function (_React$Component) {\n    (0, _inherits3.default)(NotifyCounts, _React$Component);\n\n    function NotifyCounts(props) {\n        (0, _classCallCheck3.default)(this, NotifyCounts);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NotifyCounts.__proto__ || (0, _getPrototypeOf2.default)(NotifyCounts)).call(this, props));\n\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n\n        _this.state = (0, _channel_utils.getCountsStateFromStores)();\n        _this.mounted = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(NotifyCounts, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n            _channel_store2.default.addChangeListener(this.onListenerChange);\n            _team_store2.default.addChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n            _channel_store2.default.removeChangeListener(this.onListenerChange);\n            _team_store2.default.removeChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            if (this.mounted) {\n                var newState = (0, _channel_utils.getCountsStateFromStores)();\n                if (!utils.areObjectsEqual(newState, this.state)) {\n                    this.setState(newState);\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.state.mentionCount) {\n                return _react2.default.createElement(\n                    'span',\n                    { className: 'badge badge-notify' },\n                    this.state.mentionCount\n                );\n            } else if (this.state.messageCount) {\n                return _react2.default.createElement(\n                    'span',\n                    { className: 'badge badge-notify' },\n                    ''\n                );\n            }\n            return null;\n        }\n    }]);\n    return NotifyCounts;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = NotifyCounts;\n\n/***/ }),\n\n/***/ 2271:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _quick_switch_modal = __webpack_require__(2272);\n\nvar _quick_switch_modal2 = _interopRequireDefault(_quick_switch_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        showTeamSwitcher: false\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_quick_switch_modal2.default);\n\n/***/ }),\n\n/***/ 2272:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _channels = __webpack_require__(91);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar _redux_store = __webpack_require__(32);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _suggestion_box = __webpack_require__(394);\n\nvar _suggestion_box2 = _interopRequireDefault(_suggestion_box);\n\nvar _suggestion_list = __webpack_require__(395);\n\nvar _suggestion_list2 = _interopRequireDefault(_suggestion_list);\n\nvar _switch_channel_provider = __webpack_require__(2273);\n\nvar _switch_channel_provider2 = _interopRequireDefault(_switch_channel_provider);\n\nvar _switch_team_provider = __webpack_require__(2274);\n\nvar _switch_team_provider2 = _interopRequireDefault(_switch_team_provider);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getState = _redux_store2.default.getState; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CHANNEL_MODE = 'channel';\nvar TEAM_MODE = 'team';\n\nvar QuickSwitchModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(QuickSwitchModal, _React$PureComponent);\n\n    function QuickSwitchModal(props) {\n        (0, _classCallCheck3.default)(this, QuickSwitchModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (QuickSwitchModal.__proto__ || (0, _getPrototypeOf2.default)(QuickSwitchModal)).call(this, props));\n\n        _this.setSwitchBoxRef = function (input) {\n            _this.switchBox = input;\n            _this.focusTextbox();\n        };\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.onShow = _this.onShow.bind(_this);\n        _this.onHide = _this.onHide.bind(_this);\n        _this.onExited = _this.onExited.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.switchToChannel = _this.switchToChannel.bind(_this);\n        _this.switchMode = _this.switchMode.bind(_this);\n        _this.focusTextbox = _this.focusTextbox.bind(_this);\n\n        _this.enableChannelProvider = _this.enableChannelProvider.bind(_this);\n        _this.enableTeamProvider = _this.enableTeamProvider.bind(_this);\n        _this.channelProviders = [new _switch_channel_provider2.default()];\n        _this.teamProviders = [new _switch_team_provider2.default()];\n\n        _this.switchBox = null;\n\n        _this.state = {\n            text: '',\n            mode: props.initialMode\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(QuickSwitchModal, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (!this.props.show && nextProps.show) {\n                this.setState({ mode: nextProps.initialMode, text: '' });\n            }\n        }\n    }, {\n        key: 'focusTextbox',\n        value: function focusTextbox() {\n            if (this.switchBox == null) {\n                return;\n            }\n\n            var textbox = this.switchBox.getTextbox();\n            if (document.activeElement !== textbox) {\n                textbox.focus();\n                Utils.placeCaretAtEnd(textbox);\n            }\n        }\n    }, {\n        key: 'onShow',\n        value: function onShow() {\n            this.setState({\n                text: ''\n            });\n        }\n    }, {\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({\n                text: ''\n            });\n            this.props.onHide();\n        }\n    }, {\n        key: 'onExited',\n        value: function onExited() {\n            if (!UserAgent.isMobile()) {\n                setTimeout(function () {\n                    var textbox = document.querySelector('#post_textbox');\n                    if (textbox) {\n                        textbox.focus();\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange(e) {\n            this.setState({ text: e.target.value });\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (e.keyCode === _constants2.default.KeyCodes.TAB) {\n                e.preventDefault();\n                this.switchMode();\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(selected) {\n            var _this2 = this;\n\n            var channel = null;\n\n            if (!selected) {\n                return;\n            }\n\n            if (this.state.mode === CHANNEL_MODE) {\n                var selectedChannel = selected.channel;\n                if (selectedChannel.type === _constants2.default.DM_CHANNEL) {\n                    (0, _channel_actions.openDirectChannelToUser)(selectedChannel.id, function (ch) {\n                        channel = ch;\n                        _this2.switchToChannel(channel);\n                    }, function () {\n                        channel = null;\n                        _this2.switchToChannel(channel);\n                    });\n                } else if (selectedChannel.type === _constants2.default.GM_CHANNEL) {\n                    channel = (0, _channels.getChannel)(getState(), selectedChannel.id);\n                    this.switchToChannel(channel);\n                } else {\n                    this.switchToChannel(selectedChannel);\n                }\n            } else {\n                _reactRouter.browserHistory.push('/' + selected.name);\n                this.onHide();\n            }\n        }\n    }, {\n        key: 'switchToChannel',\n        value: function switchToChannel(channel) {\n            if (channel != null) {\n                (0, _channel_actions.goToChannel)(channel);\n                this.onHide();\n            }\n        }\n    }, {\n        key: 'enableChannelProvider',\n        value: function enableChannelProvider() {\n            this.channelProviders[0].disableDispatches = false;\n            this.teamProviders[0].disableDispatches = true;\n        }\n    }, {\n        key: 'enableTeamProvider',\n        value: function enableTeamProvider() {\n            this.teamProviders[0].disableDispatches = false;\n            this.channelProviders[0].disableDispatches = true;\n        }\n    }, {\n        key: 'switchMode',\n        value: function switchMode() {\n            if (this.state.mode === CHANNEL_MODE && this.props.showTeamSwitcher) {\n                this.enableTeamProvider();\n                this.setState({ mode: TEAM_MODE });\n            } else if (this.state.mode === TEAM_MODE) {\n                this.enableChannelProvider();\n                this.setState({ mode: CHANNEL_MODE });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var providers = this.channelProviders;\n            var header = void 0;\n            var renderDividers = true;\n\n            var channelShortcut = 'quick_switch_modal.channelsShortcut.windows';\n            var defaultChannelShortcut = 'CTRL+K';\n            if (Utils.isMac()) {\n                channelShortcut = 'quick_switch_modal.channelsShortcut.mac';\n                defaultChannelShortcut = 'CMD+K';\n            }\n\n            var teamShortcut = 'quick_switch_modal.teamsShortcut.windows';\n            var defaultTeamShortcut = 'CTRL+ALT+K';\n            if (Utils.isMac()) {\n                teamShortcut = 'quick_switch_modal.teamsShortcut.mac';\n                defaultTeamShortcut = 'CMD+ALT+K';\n            }\n\n            if (this.props.showTeamSwitcher) {\n                var channelsActiveClass = '';\n                var teamsActiveClass = '';\n                if (this.state.mode === TEAM_MODE) {\n                    providers = this.teamProviders;\n                    renderDividers = false;\n                    teamsActiveClass = 'active';\n                } else {\n                    channelsActiveClass = 'active';\n                }\n\n                header = _react2.default.createElement(\n                    'div',\n                    { className: 'nav nav-tabs' },\n                    _react2.default.createElement(\n                        'li',\n                        { className: channelsActiveClass },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: function onClick(e) {\n                                    e.preventDefault();\n                                    _this3.enableChannelProvider();\n                                    _this3.setState({ mode: 'channel' });\n                                    _this3.focusTextbox();\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'quick_switch_modal.channels',\n                                defaultMessage: 'Channels'\n                            }),\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'small' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: channelShortcut,\n                                    defaultMessage: defaultChannelShortcut\n                                })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'li',\n                        { className: teamsActiveClass },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: function onClick(e) {\n                                    e.preventDefault();\n                                    _this3.enableTeamProvider();\n                                    _this3.setState({ mode: 'team' });\n                                    _this3.focusTextbox();\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'quick_switch_modal.teams',\n                                defaultMessage: 'Teams'\n                            }),\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'small' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: teamShortcut,\n                                    defaultMessage: defaultTeamShortcut\n                                })\n                            )\n                        )\n                    )\n                );\n            }\n\n            var help = void 0;\n            if (Utils.isMobile()) {\n                help = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'quick_switch_modal.help_mobile',\n                    defaultMessage: 'Type to find a channel.'\n                });\n            } else if (this.props.showTeamSwitcher) {\n                help = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'quick_switch_modal.help',\n                    defaultMessage: 'Start typing then use TAB to toggle channels/teams, \\u2191\\u2193 to browse, \\u21B5 to select, and ESC to dismiss.'\n                });\n            } else {\n                help = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'quick_switch_modal.help_no_team',\n                    defaultMessage: 'Type to find a channel. Use \\u2191\\u2193 to browse, \\u21B5 to select, ESC to dismiss.'\n                });\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'channel-switch-modal modal--overflow',\n                    ref: 'modal',\n                    show: this.props.show,\n                    onHide: this.onHide,\n                    onExited: this.onExited\n                },\n                _react2.default.createElement(_reactBootstrap.Modal.Header, { closeButton: true }),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    header,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal__hint' },\n                        help\n                    ),\n                    _react2.default.createElement(_suggestion_box2.default, {\n                        ref: this.setSwitchBoxRef,\n                        className: 'form-control focused',\n                        type: 'input',\n                        onChange: this.onChange,\n                        value: this.state.text,\n                        onKeyDown: this.handleKeyDown,\n                        onItemSelected: this.handleSubmit,\n                        listComponent: _suggestion_list2.default,\n                        maxLength: '64',\n                        providers: providers,\n                        listStyle: 'bottom',\n                        completeOnTab: false,\n                        renderDividers: renderDividers\n                    })\n                )\n            );\n        }\n    }]);\n    return QuickSwitchModal;\n}(_react2.default.PureComponent);\n\nQuickSwitchModal.propTypes = {\n\n    /**\n     * The mode to start in when showing the modal, either 'channel' or 'team'\n     */\n    initialMode: _propTypes2.default.string.isRequired,\n\n    /**\n     * Set to show the modal\n     */\n    show: _propTypes2.default.bool.isRequired,\n\n    /**\n     * The function called to hide the modal\n     */\n    onHide: _propTypes2.default.func.isRequired,\n\n    /**\n     * Set to show team switcher\n     */\n    showTeamSwitcher: _propTypes2.default.bool\n};\nQuickSwitchModal.defaultProps = {\n    initialMode: CHANNEL_MODE\n};\nexports.default = QuickSwitchModal;\n\n/***/ }),\n\n/***/ 2273:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(51);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getIterator2 = __webpack_require__(45);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _client = __webpack_require__(28);\n\nvar _constants = __webpack_require__(25);\n\nvar _channels = __webpack_require__(91);\n\nvar _preferences = __webpack_require__(62);\n\nvar _teams = __webpack_require__(81);\n\nvar _users = __webpack_require__(46);\n\nvar _app_dispatcher = __webpack_require__(39);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _redux_store = __webpack_require__(32);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _channel_utils = __webpack_require__(101);\n\nvar _constants2 = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _provider = __webpack_require__(222);\n\nvar _provider2 = _interopRequireDefault(_provider);\n\nvar _suggestion = __webpack_require__(167);\n\nvar _suggestion2 = _interopRequireDefault(_suggestion);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getState = _redux_store2.default.getState;\n\nvar SwitchChannelSuggestion = function (_Suggestion) {\n    (0, _inherits3.default)(SwitchChannelSuggestion, _Suggestion);\n\n    function SwitchChannelSuggestion() {\n        (0, _classCallCheck3.default)(this, SwitchChannelSuggestion);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchChannelSuggestion.__proto__ || (0, _getPrototypeOf2.default)(SwitchChannelSuggestion)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchChannelSuggestion, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                item = _props.item,\n                isSelection = _props.isSelection;\n\n            var channel = item.channel;\n            var globeIcon = _constants2.Constants.GLOBE_ICON_SVG;\n            var lockIcon = _constants2.Constants.LOCK_ICON_SVG;\n\n            var className = 'mentions__name';\n            if (isSelection) {\n                className += ' suggestion--selected';\n            }\n\n            var displayName = channel.display_name;\n            var icon = null;\n            if (channel.type === _constants2.Constants.OPEN_CHANNEL) {\n                icon = _react2.default.createElement('span', {\n                    className: 'icon icon__globe icon--body',\n                    dangerouslySetInnerHTML: { __html: globeIcon }\n                });\n            } else if (channel.type === _constants2.Constants.PRIVATE_CHANNEL) {\n                icon = _react2.default.createElement('span', {\n                    className: 'icon icon__lock icon--body',\n                    dangerouslySetInnerHTML: { __html: lockIcon }\n                });\n            } else if (channel.type === _constants2.Constants.GM_CHANNEL) {\n                displayName = (0, _channel_utils.getChannelDisplayName)(channel);\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'status status--group' },\n                    'G'\n                );\n            } else {\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'pull-left' },\n                    _react2.default.createElement('img', {\n                        className: 'mention__image',\n                        src: Utils.imageURLForUser(channel)\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    onClick: this.handleClick,\n                    className: className\n                },\n                icon,\n                displayName\n            );\n        }\n    }]);\n    return SwitchChannelSuggestion;\n}(_suggestion2.default);\n\nvar prefix = '';\n\nfunction quickSwitchSorter(wrappedA, wrappedB) {\n    if (wrappedA.type === _constants2.Constants.MENTION_CHANNELS && wrappedB.type === _constants2.Constants.MENTION_MORE_CHANNELS) {\n        return -1;\n    } else if (wrappedB.type === _constants2.Constants.MENTION_CHANNELS && wrappedA.type === _constants2.Constants.MENTION_MORE_CHANNELS) {\n        return 1;\n    }\n\n    if (wrappedA.deactivated && !wrappedB.deactivated) {\n        return 1;\n    } else if (wrappedB.deactivated && !wrappedA.deactivated) {\n        return -1;\n    }\n\n    var a = wrappedA.channel;\n    var b = wrappedB.channel;\n\n    var aDisplayName = (0, _channel_utils.getChannelDisplayName)(a).toLowerCase();\n    var bDisplayName = (0, _channel_utils.getChannelDisplayName)(b).toLowerCase();\n\n    if (a.type === _constants2.Constants.DM_CHANNEL) {\n        aDisplayName = aDisplayName.substring(1);\n    }\n\n    if (b.type === _constants2.Constants.DM_CHANNEL) {\n        bDisplayName = bDisplayName.substring(1);\n    }\n\n    var aStartsWith = aDisplayName.startsWith(prefix);\n    var bStartsWith = bDisplayName.startsWith(prefix);\n    if (aStartsWith && bStartsWith) {\n        return (0, _channel_utils.sortChannelsByDisplayName)(a, b);\n    } else if (!aStartsWith && !bStartsWith) {\n        return (0, _channel_utils.sortChannelsByDisplayName)(a, b);\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nvar SwitchChannelProvider = function (_Provider) {\n    (0, _inherits3.default)(SwitchChannelProvider, _Provider);\n\n    function SwitchChannelProvider() {\n        (0, _classCallCheck3.default)(this, SwitchChannelProvider);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchChannelProvider.__proto__ || (0, _getPrototypeOf2.default)(SwitchChannelProvider)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchChannelProvider, [{\n        key: 'handlePretextChanged',\n        value: function handlePretextChanged(suggestionId, channelPrefix) {\n            if (channelPrefix) {\n                prefix = channelPrefix;\n                this.startNewRequest(suggestionId, channelPrefix);\n\n                // Dispatch suggestions for local data\n                var channels = (0, _channels.getChannelsInCurrentTeam)(getState()).concat((0, _channels.getGroupChannels)(getState()));\n                var users = (0, _assign2.default)([], (0, _users.searchProfiles)(getState(), channelPrefix, true));\n                this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users, true);\n\n                // Fetch data from the server and dispatch\n                this.fetchUsersAndChannels(channelPrefix, suggestionId);\n\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'fetchUsersAndChannels',\n        value: function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(channelPrefix, suggestionId) {\n                var teamId, usersAsync, channelsAsync, usersFromServer, channelsFromServer, users, channels;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                teamId = (0, _teams.getCurrentTeamId)(getState());\n\n                                if (teamId) {\n                                    _context.next = 3;\n                                    break;\n                                }\n\n                                return _context.abrupt('return');\n\n                            case 3:\n                                usersAsync = void 0;\n\n                                if (global.window.mm_config.RestrictDirectMessage === 'team') {\n                                    usersAsync = _client.Client4.autocompleteUsers(channelPrefix, teamId, '');\n                                } else {\n                                    usersAsync = _client.Client4.autocompleteUsers(channelPrefix, '', '');\n                                }\n\n                                channelsAsync = _client.Client4.searchChannels(teamId, channelPrefix);\n                                usersFromServer = [];\n                                channelsFromServer = [];\n                                _context.prev = 8;\n                                _context.next = 11;\n                                return usersAsync;\n\n                            case 11:\n                                usersFromServer = _context.sent;\n                                _context.next = 14;\n                                return channelsAsync;\n\n                            case 14:\n                                channelsFromServer = _context.sent;\n                                _context.next = 20;\n                                break;\n\n                            case 17:\n                                _context.prev = 17;\n                                _context.t0 = _context['catch'](8);\n\n                                _app_dispatcher2.default.handleServerAction({\n                                    type: _constants2.ActionTypes.RECEIVED_ERROR,\n                                    err: _context.t0\n                                });\n\n                            case 20:\n                                if (!this.shouldCancelDispatch(channelPrefix)) {\n                                    _context.next = 22;\n                                    break;\n                                }\n\n                                return _context.abrupt('return');\n\n                            case 22:\n                                users = (0, _assign2.default)([], (0, _users.searchProfiles)(getState(), channelPrefix, true)).concat(usersFromServer.users);\n                                channels = (0, _channels.getChannelsInCurrentTeam)(getState()).concat((0, _channels.getGroupChannels)(getState())).concat(channelsFromServer);\n\n                                this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users);\n\n                            case 25:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[8, 17]]);\n            }));\n\n            function fetchUsersAndChannels(_x, _x2) {\n                return _ref.apply(this, arguments);\n            }\n\n            return fetchUsersAndChannels;\n        }()\n    }, {\n        key: 'formatChannelsAndDispatch',\n        value: function formatChannelsAndDispatch(channelPrefix, suggestionId, allChannels, users) {\n            var skipNotInChannel = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n            var channels = [];\n            var members = (0, _channels.getMyChannelMemberships)(getState());\n\n            if (this.shouldCancelDispatch(channelPrefix)) {\n                return;\n            }\n\n            var currentId = (0, _users.getCurrentUserId)(getState());\n\n            var completedChannels = {};\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)((0, _keys2.default)(allChannels)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var id = _step.value;\n\n                    var channel = allChannels[id];\n\n                    if (completedChannels[channel.id]) {\n                        continue;\n                    }\n\n                    var member = members[channel.id];\n\n                    if (channel.display_name.toLowerCase().indexOf(channelPrefix.toLowerCase()) !== -1) {\n                        var newChannel = (0, _assign2.default)({}, channel);\n                        var _wrappedChannel = { channel: newChannel, name: newChannel.name, deactivated: false };\n                        if (newChannel.type === _constants2.Constants.GM_CHANNEL) {\n                            newChannel.name = (0, _channel_utils.getChannelDisplayName)(newChannel);\n                            _wrappedChannel.name = newChannel.name;\n                            var isGMVisible = (0, _preferences.getBool)(getState(), _constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW, newChannel.id, false);\n                            if (isGMVisible) {\n                                _wrappedChannel.type = _constants2.Constants.MENTION_CHANNELS;\n                            } else {\n                                _wrappedChannel.type = _constants2.Constants.MENTION_MORE_CHANNELS;\n                                if (skipNotInChannel) {\n                                    continue;\n                                }\n                            }\n                        } else if (member) {\n                            _wrappedChannel.type = _constants2.Constants.MENTION_CHANNELS;\n                        } else {\n                            _wrappedChannel.type = _constants2.Constants.MENTION_MORE_CHANNELS;\n                            if (skipNotInChannel || !newChannel.display_name.toLowerCase().startsWith(channelPrefix)) {\n                                continue;\n                            }\n                        }\n\n                        completedChannels[channel.id] = true;\n                        channels.push(_wrappedChannel);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            for (var i = 0; i < users.length; i++) {\n                var user = users[i];\n\n                if (completedChannels[user.id]) {\n                    continue;\n                }\n\n                var isDMVisible = (0, _preferences.getBool)(getState(), _constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW, user.id, false);\n                var displayName = '@' + user.username;\n\n                if (user.id === currentId) {\n                    continue;\n                }\n\n                if ((user.first_name || user.last_name) && user.nickname) {\n                    displayName += ' - ' + Utils.getFullName(user) + ' (' + user.nickname + ')';\n                } else if (user.nickname) {\n                    displayName += ' - (' + user.nickname + ')';\n                } else if (user.first_name || user.last_name) {\n                    displayName += ' - ' + Utils.getFullName(user);\n                }\n\n                if (user.delete_at) {\n                    displayName += ' - ' + Utils.localizeMessage('channel_switch_modal.deactivated', 'Deactivated');\n                }\n\n                var wrappedChannel = {\n                    channel: {\n                        display_name: displayName,\n                        name: user.username,\n                        id: user.id,\n                        update_at: user.update_at,\n                        type: _constants2.Constants.DM_CHANNEL,\n                        last_picture_update: user.last_picture_update || 0\n                    },\n                    name: user.username,\n                    deactivated: user.delete_at\n                };\n\n                if (isDMVisible) {\n                    wrappedChannel.type = _constants2.Constants.MENTION_CHANNELS;\n                } else {\n                    wrappedChannel.type = _constants2.Constants.MENTION_MORE_CHANNELS;\n                    if (skipNotInChannel) {\n                        continue;\n                    }\n                }\n\n                completedChannels[user.id] = true;\n                channels.push(wrappedChannel);\n            }\n\n            var channelNames = channels.sort(quickSwitchSorter).map(function (wrappedChannel) {\n                return wrappedChannel.channel.name;\n            });\n\n            if (skipNotInChannel) {\n                channels.push({\n                    type: _constants2.Constants.MENTION_MORE_CHANNELS,\n                    loading: true\n                });\n            }\n\n            setTimeout(function () {\n                _app_dispatcher2.default.handleServerAction({\n                    type: _constants2.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                    id: suggestionId,\n                    matchedPretext: channelPrefix,\n                    terms: channelNames,\n                    items: channels,\n                    component: SwitchChannelSuggestion\n                });\n            }, 0);\n        }\n    }]);\n    return SwitchChannelProvider;\n}(_provider2.default);\n\nexports.default = SwitchChannelProvider;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2274:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _teams = __webpack_require__(81);\n\nvar Selectors = _interopRequireWildcard(_teams);\n\nvar _app_dispatcher = __webpack_require__(39);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _localization_store = __webpack_require__(195);\n\nvar _localization_store2 = _interopRequireDefault(_localization_store);\n\nvar _redux_store = __webpack_require__(32);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _provider = __webpack_require__(222);\n\nvar _provider2 = _interopRequireDefault(_provider);\n\nvar _suggestion = __webpack_require__(167);\n\nvar _suggestion2 = _interopRequireDefault(_suggestion);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getState = _redux_store2.default.getState;\n\nvar SwitchTeamSuggestion = function (_Suggestion) {\n    (0, _inherits3.default)(SwitchTeamSuggestion, _Suggestion);\n\n    function SwitchTeamSuggestion() {\n        (0, _classCallCheck3.default)(this, SwitchTeamSuggestion);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchTeamSuggestion.__proto__ || (0, _getPrototypeOf2.default)(SwitchTeamSuggestion)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchTeamSuggestion, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                item = _props.item,\n                isSelection = _props.isSelection;\n\n\n            var className = 'mentions__name';\n            if (isSelection) {\n                className += ' suggestion--selected';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    onClick: this.handleClick,\n                    className: className\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'status' },\n                    _react2.default.createElement('i', { className: 'fa fa-group' })\n                ),\n                item.display_name\n            );\n        }\n    }]);\n    return SwitchTeamSuggestion;\n}(_suggestion2.default);\n\nvar prefix = '';\n\nfunction quickSwitchSorter(a, b) {\n    var aDisplayName = a.display_name.toLowerCase();\n    var bDisplayName = b.display_name.toLowerCase();\n    var aStartsWith = aDisplayName.startsWith(prefix);\n    var bStartsWith = bDisplayName.startsWith(prefix);\n\n    if (aStartsWith && bStartsWith) {\n        var locale = _localization_store2.default.getLocale();\n\n        if (aDisplayName !== bDisplayName) {\n            return aDisplayName.localeCompare(bDisplayName, locale, { numeric: true });\n        }\n\n        return a.name.localeCompare(b.name, locale, { numeric: true });\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nvar SwitchTeamProvider = function (_Provider) {\n    (0, _inherits3.default)(SwitchTeamProvider, _Provider);\n\n    function SwitchTeamProvider() {\n        (0, _classCallCheck3.default)(this, SwitchTeamProvider);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchTeamProvider.__proto__ || (0, _getPrototypeOf2.default)(SwitchTeamProvider)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchTeamProvider, [{\n        key: 'handlePretextChanged',\n        value: function handlePretextChanged(suggestionId, teamPrefix) {\n            if (teamPrefix) {\n                prefix = teamPrefix;\n                this.startNewRequest(suggestionId, teamPrefix);\n\n                var allTeams = Selectors.getMyTeams(getState());\n\n                var teams = allTeams.filter(function (team) {\n                    return team.display_name.toLowerCase().indexOf(teamPrefix) !== -1 || team.name.indexOf(teamPrefix) !== -1;\n                });\n\n                var teamNames = teams.sort(quickSwitchSorter).map(function (team) {\n                    return team.name;\n                });\n\n                setTimeout(function () {\n                    _app_dispatcher2.default.handleServerAction({\n                        type: _constants.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                        id: suggestionId,\n                        matchedPretext: teamPrefix,\n                        terms: teamNames,\n                        items: teams,\n                        component: SwitchTeamSuggestion\n                    });\n                }, 0);\n\n                return true;\n            }\n\n            return false;\n        }\n    }]);\n    return SwitchTeamProvider;\n}(_provider2.default);\n\nexports.default = SwitchTeamProvider;\n\n/***/ }),\n\n/***/ 2275:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _message_wrapper = __webpack_require__(699);\n\nvar _message_wrapper2 = _interopRequireDefault(_message_wrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar NavbarInfoButton = function (_React$PureComponent) {\n    (0, _inherits3.default)(NavbarInfoButton, _React$PureComponent);\n\n    function NavbarInfoButton() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, NavbarInfoButton);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = NavbarInfoButton.__proto__ || (0, _getPrototypeOf2.default)(NavbarInfoButton)).call.apply(_ref, [this].concat(args))), _this), _this.showEditChannelHeaderModal = function () {\n            _this.refs.headerOverlay.hide();\n\n            _this.props.showEditChannelHeaderModal();\n        }, _this.hide = function () {\n            _this.refs.headerOverlay.hide();\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(NavbarInfoButton, [{\n        key: 'render',\n        value: function render() {\n            var popoverContent = null;\n            if (this.props.channel) {\n                if (this.props.channel.header) {\n                    popoverContent = _react2.default.createElement(_message_wrapper2.default, {\n                        message: this.props.channel.header,\n                        options: { singleline: true, mentionHighlight: false }\n                    });\n                } else {\n                    var link = _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: this.showEditChannelHeaderModal\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.click',\n                            defaultMessage: 'Click here'\n                        })\n                    );\n\n                    popoverContent = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.noHeader',\n                            defaultMessage: 'No channel header yet.{newline}{link} to add one.',\n                            values: {\n                                newline: _react2.default.createElement('br', null),\n                                link: link\n                            }\n                        })\n                    );\n                }\n            }\n\n            var popover = _react2.default.createElement(\n                _reactBootstrap.Popover,\n                {\n                    bsStyle: 'info',\n                    placement: 'bottom',\n                    id: 'header-popover'\n                },\n                popoverContent,\n                _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'close visible-xs-block',\n                        onClick: this.hide\n                    },\n                    ''\n                )\n            );\n\n            return _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    ref: 'headerOverlay',\n                    trigger: 'click',\n                    placement: 'bottom',\n                    overlay: popover,\n                    className: 'description',\n                    rootClose: true\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'navbar-toggle navbar-right__icon navbar-info-button pull-right' },\n                    _react2.default.createElement('span', {\n                        className: 'icon icon__info',\n                        dangerouslySetInnerHTML: { __html: _constants2.default.INFO_ICON_SVG },\n                        'aria-hidden': 'true'\n                    })\n                )\n            );\n        }\n    }]);\n    return NavbarInfoButton;\n}(_react2.default.PureComponent);\n\nNavbarInfoButton.propTypes = {\n    channel: _propTypes2.default.object,\n    showEditChannelHeaderModal: _propTypes2.default.func.isRequired\n};\nexports.default = NavbarInfoButton;\n\n/***/ }),\n\n/***/ 2276:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _browser_store = __webpack_require__(126);\n\nvar _browser_store2 = _interopRequireDefault(_browser_store);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RemovedFromChannelModal = function (_React$Component) {\n    (0, _inherits3.default)(RemovedFromChannelModal, _React$Component);\n\n    function RemovedFromChannelModal(props) {\n        (0, _classCallCheck3.default)(this, RemovedFromChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RemovedFromChannelModal.__proto__ || (0, _getPrototypeOf2.default)(RemovedFromChannelModal)).call(this, props));\n\n        _this.handleShow = _this.handleShow.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n\n        _this.state = {\n            channelName: '',\n            remover: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RemovedFromChannelModal, [{\n        key: 'handleShow',\n        value: function handleShow() {\n            var newState = {};\n            if (_browser_store2.default.getItem('channel-removed-state')) {\n                newState = _browser_store2.default.getItem('channel-removed-state');\n                _browser_store2.default.removeItem('channel-removed-state');\n            }\n\n            var townSquare = _channel_store2.default.getByName('town-square');\n            setTimeout(function () {\n                _reactRouter.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + townSquare.name);\n            }, 1);\n\n            this.setState(newState);\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose() {\n            this.setState({ channelName: '', remover: '' });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).on('show.bs.modal', this.handleShow);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).on('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).off('show.bs.modal', this.handleShow);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).off('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n\n            var channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'removed_channel.channelName',\n                defaultMessage: 'the channel'\n            });\n            if (this.state.channelName) {\n                channelName = this.state.channelName;\n            }\n\n            var remover = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'removed_channel.someone',\n                defaultMessage: 'Someone'\n            });\n            if (this.state.remover) {\n                remover = this.state.remover;\n            }\n\n            if (currentUser != null) {\n                return _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'modal fade',\n                        ref: 'modal',\n                        id: 'removed_from_channel',\n                        tabIndex: '-1',\n                        role: 'dialog',\n                        'aria-hidden': 'true'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-dialog' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-content' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-header' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        type: 'button',\n                                        className: 'close',\n                                        'data-dismiss': 'modal',\n                                        'aria-label': 'Close'\n                                    },\n                                    _react2.default.createElement(\n                                        'span',\n                                        { 'aria-hidden': 'true' },\n                                        ''\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'h4',\n                                    { className: 'modal-title' },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.from',\n                                        defaultMessage: 'Removed from '\n                                    }),\n                                    _react2.default.createElement(\n                                        'span',\n                                        { className: 'name' },\n                                        channelName\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-body' },\n                                _react2.default.createElement(\n                                    'p',\n                                    null,\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.remover',\n                                        defaultMessage: '{remover} removed you from {channel}',\n                                        values: {\n                                            remover: remover,\n                                            channel: channelName\n                                        }\n                                    })\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-footer' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        type: 'button',\n                                        className: 'btn btn-primary',\n                                        'data-dismiss': 'modal'\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.okay',\n                                        defaultMessage: 'Okay'\n                                    })\n                                )\n                            )\n                        )\n                    )\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return RemovedFromChannelModal;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = RemovedFromChannelModal;\n\n/***/ }),\n\n/***/ 2277:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _preferences = __webpack_require__(194);\n\nvar _users = __webpack_require__(61);\n\nvar _constants = __webpack_require__(25);\n\nvar _preferences2 = __webpack_require__(62);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _reset_status_modal = __webpack_require__(2278);\n\nvar _reset_status_modal2 = _interopRequireDefault(_reset_status_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    var currentUserId = state.entities.users.currentUserId;\n\n    return (0, _extends3.default)({}, ownProps, {\n        autoResetPref: (0, _preferences2.get)(state, _constants.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, currentUserId, '')\n    });\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            autoResetStatus: _user_actions.autoResetStatus,\n            setStatus: _users.setStatus,\n            savePreferences: _preferences.savePreferences\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_reset_status_modal2.default);\n\n/***/ }),\n\n/***/ 2278:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(25);\n\nvar _utils = __webpack_require__(16);\n\nvar _confirm_modal = __webpack_require__(283);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ResetStatusModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(ResetStatusModal, _React$PureComponent);\n\n    function ResetStatusModal(props) {\n        (0, _classCallCheck3.default)(this, ResetStatusModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ResetStatusModal.__proto__ || (0, _getPrototypeOf2.default)(ResetStatusModal)).call(this, props));\n\n        _this.onConfirm = function (checked) {\n            _this.setState({ show: false });\n\n            var newStatus = (0, _extends3.default)({}, _this.state.currentUserStatus);\n            newStatus.status = 'online';\n            _this.props.actions.setStatus(newStatus);\n\n            if (checked) {\n                var pref = { category: _constants.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: newStatus.user_id, name: newStatus.user_id, value: 'true' };\n                _this.props.actions.savePreferences(pref.user_id, [pref]);\n            }\n        };\n\n        _this.onCancel = function (checked) {\n            _this.setState({ show: false });\n\n            if (checked) {\n                var status = (0, _extends3.default)({}, _this.state.currentUserStatus);\n                var pref = { category: _constants.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: status.user_id, name: status.user_id, value: 'false' };\n                _this.props.actions.savePreferences(pref.user_id, [pref]);\n            }\n        };\n\n        _this.state = {\n            show: false,\n            currentUserStatus: {}\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ResetStatusModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.props.actions.autoResetStatus().then(function (status) {\n                var statusIsManual = status.manual;\n                var autoResetPrefNotSet = _this2.props.autoResetPref === '';\n\n                _this2.setState({\n                    currentUserStatus: status, // Set in state until status refactor where we store 'manual' field in redux\n                    show: Boolean(statusIsManual && autoResetPrefNotSet)\n                });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var userStatus = this.state.currentUserStatus.status || '';\n            var userStatusId = 'modal.manaul_status.title_' + userStatus;\n            var manualStatusTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: userStatusId,\n                defaultMessage: 'Your status is set to \"{status}\"',\n                values: {\n                    status: (0, _utils.toTitleCase)(userStatus)\n                }\n            });\n\n            var manualStatusMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.message',\n                defaultMessage: 'Would you like to switch your status to \"Online\"?'\n            });\n\n            var manualStatusButton = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.button',\n                defaultMessage: 'Yes, set my status to \"Online\"'\n            });\n            var manualStatusId = 'modal.manual_status.cancel_' + userStatus;\n            var manualStatusCancel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: manualStatusId,\n                defaultMessage: 'No, keep it as \"{status}\"',\n                values: {\n                    status: (0, _utils.toTitleCase)(userStatus)\n                }\n            });\n\n            var manualStatusCheckbox = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.ask',\n                defaultMessage: 'Do not ask me again'\n            });\n\n            return _react2.default.createElement(_confirm_modal2.default, {\n                show: this.state.show,\n                title: manualStatusTitle,\n                message: manualStatusMessage,\n                confirmButtonText: manualStatusButton,\n                onConfirm: this.onConfirm,\n                cancelButtonText: manualStatusCancel,\n                onCancel: this.onCancel,\n                showCheckbox: true,\n                checkboxText: manualStatusCheckbox\n            });\n        }\n    }]);\n    return ResetStatusModal;\n}(_react2.default.PureComponent);\n\nResetStatusModal.propTypes = {\n\n    /*\n     * The user's preference for whether their status is automatically reset\n     */\n    autoResetPref: _propTypes2.default.string,\n    actions: _propTypes2.default.shape({\n\n        /*\n         * Function to get and then reset the user's status if needed\n         */\n        autoResetStatus: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to set the status for a user\n         */\n        setStatus: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to save user preferences\n         */\n        savePreferences: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = ResetStatusModal;\n\n/***/ }),\n\n/***/ 2279:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(51);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar allShortcuts = (0, _reactIntl.defineMessages)({\n    mainHeader: {\n        default: {\n            id: 'shortcuts.header',\n            defaultMessage: 'Keyboard Shortcuts\\tCtrl|/'\n        },\n        mac: {\n            id: 'shortcuts.header.mac',\n            defaultMessage: 'Keyboard Shortcuts\\t|/'\n        }\n    },\n    navHeader: {\n        id: 'shortcuts.nav.header',\n        defaultMessage: 'Navigation'\n    },\n    navPrev: {\n        default: {\n            id: 'shortcuts.nav.prev',\n            defaultMessage: 'Previous channel:\\tAlt|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.prev.mac',\n            defaultMessage: 'Previous channel:\\t|Up'\n        }\n    },\n    navNext: {\n        default: {\n            id: 'shortcuts.nav.next',\n            defaultMessage: 'Next channel:\\tAlt|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.next.mac',\n            defaultMessage: 'Next channel:\\t|Down'\n        }\n    },\n    navUnreadPrev: {\n        default: {\n            id: 'shortcuts.nav.unread_prev',\n            defaultMessage: 'Previous unread channel:\\tAlt|Shift|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_prev.mac',\n            defaultMessage: 'Previous unread channel:\\t|Shift|Up'\n        }\n    },\n    navUnreadNext: {\n        default: {\n            id: 'shortcuts.nav.unread_next',\n            defaultMessage: 'Next unread channel:\\tAlt|Shift|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_next.mac',\n            defaultMessage: 'Next unread channel:\\t|Shift|Down'\n        }\n    },\n    navSwitcher: {\n        default: {\n            id: 'shortcuts.nav.switcher',\n            defaultMessage: 'Quick channel switcher:\\tCtrl|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.switcher.mac',\n            defaultMessage: 'Quick channel switcher:\\t|K'\n        }\n    },\n    navDMMenu: {\n        default: {\n            id: 'shortcuts.nav.direct_messages_menu',\n            defaultMessage: 'Direct messages menu:\\tCtrl|Shift|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.direct_messages_menu.mac',\n            defaultMessage: 'Direct messages menu:\\t|Shift|K'\n        }\n    },\n    navSettings: {\n        default: {\n            id: 'shortcuts.nav.settings',\n            defaultMessage: 'Account settings:\\tCtrl|Shift|A'\n        },\n        mac: {\n            id: 'shortcuts.nav.settings.mac',\n            defaultMessage: 'Account settings:\\t|Shift|A'\n        }\n    },\n    navMentions: {\n        default: {\n            id: 'shortcuts.nav.recent_mentions',\n            defaultMessage: 'Recent mentions:\\tCtrl|Shift|M'\n        },\n        mac: {\n            id: 'shortcuts.nav.recent_mentions.mac',\n            defaultMessage: 'Recent mentions:\\t|Shift|M'\n        }\n    },\n    navFocusCenter: {\n        default: {\n            id: 'shortcuts.nav.focus_center',\n            defaultMessage: 'Set focus to input field:\\tCtrl|Shift|L'\n        },\n        mac: {\n            id: 'shortcuts.nav.focus_center.mac',\n            defaultMessage: 'Set focus to input field:\\t|Shift|L'\n        }\n    },\n    msgHeader: {\n        id: 'shortcuts.msgs.header',\n        defaultMessage: 'Messages'\n    },\n    msgInputHeader: {\n        id: 'shortcuts.msgs.input.header',\n        defaultMessage: 'Works inside an empty input field'\n    },\n    msgEdit: {\n        id: 'shortcuts.msgs.edit',\n        defaultMessage: 'Edit last message in channel:\\tUp'\n    },\n    msgReply: {\n        id: 'shortcuts.msgs.reply',\n        defaultMessage: 'Reply to last message in channel:\\tShift|Up'\n    },\n    msgReprintPrev: {\n        default: {\n            id: 'shortcuts.msgs.reprint_prev',\n            defaultMessage: 'Reprint previous message:\\tCtrl|Up'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_prev.mac',\n            defaultMessage: 'Reprint previous message:\\t|Up'\n        }\n    },\n    msgReprintNext: {\n        default: {\n            id: 'shortcuts.msgs.reprint_next',\n            defaultMessage: 'Reprint next message:\\tCtrl|Down'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_next.mac',\n            defaultMessage: 'Reprint next message:\\t|Down'\n        }\n    },\n    msgCompHeader: {\n        id: 'shortcuts.msgs.comp.header',\n        defaultMessage: 'Autocomplete'\n    },\n    msgCompUsername: {\n        id: 'shortcuts.msgs.comp.username',\n        defaultMessage: 'Username:\\t@|[a-z]|Tab'\n    },\n    msgCompChannel: {\n        id: 'shortcuts.msgs.comp.channel',\n        defaultMessage: 'Channel:\\t~|[a-z]|Tab'\n    },\n    msgCompEmoji: {\n        id: 'shortcuts.msgs.comp.emoji',\n        defaultMessage: 'Emoji:\\t:|[a-z]|Tab'\n    },\n    filesHeader: {\n        id: 'shortcuts.files.header',\n        defaultMessage: 'Files'\n    },\n    filesUpload: {\n        default: {\n            id: 'shortcuts.files.upload',\n            defaultMessage: 'Upload files:\\tCtrl|U'\n        },\n        mac: {\n            id: 'shortcuts.files.upload.mac',\n            defaultMessage: 'Upload files:\\t|U'\n        }\n    },\n    browserHeader: {\n        id: 'shortcuts.browser.header',\n        defaultMessage: 'Built-in Browser Commands'\n    },\n    browserChannelPrev: {\n        default: {\n            id: 'shortcuts.browser.channel_prev',\n            defaultMessage: 'Back in history:\\tAlt|Left'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_prev.mac',\n            defaultMessage: 'Back in history:\\t|['\n        }\n    },\n    browserChannelNext: {\n        default: {\n            id: 'shortcuts.browser.channel_next',\n            defaultMessage: 'Forward in history:\\tAlt|Right'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_next.mac',\n            defaultMessage: 'Forward in history:\\t|]'\n        }\n    },\n    browserFontIncrease: {\n        default: {\n            id: 'shortcuts.browser.font_increase',\n            defaultMessage: 'Zoom in:\\tCtrl|+'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_increase.mac',\n            defaultMessage: 'Zoom in:\\t|+'\n        }\n    },\n    browserFontDecrease: {\n        default: {\n            id: 'shortcuts.browser.font_decrease',\n            defaultMessage: 'Zoom out:\\tCtrl|-'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_decrease.mac',\n            defaultMessage: 'Zoom out:\\t|-'\n        }\n    },\n    browserInputHeader: {\n        id: 'shortcuts.browser.input.header',\n        defaultMessage: 'Works inside an input field'\n    },\n    browserHighlightPrev: {\n        id: 'shortcuts.browser.highlight_prev',\n        defaultMessage: 'Highlight text to the previous line:\\tShift|Up'\n    },\n    browserHighlightNext: {\n        id: 'shortcuts.browser.highlight_next',\n        defaultMessage: 'Highlight text to the next line:\\tShift|Down'\n    },\n    browserNewline: {\n        id: 'shortcuts.browser.newline',\n        defaultMessage: 'Create a new line:\\tShift|Enter'\n    },\n    info: {\n        id: 'shortcuts.info',\n        defaultMessage: 'Begin a message with / for a list of all the commands at your disposal.'\n    }\n});\n\nvar ShortcutsModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(ShortcutsModal, _React$PureComponent);\n\n    function ShortcutsModal(props) {\n        (0, _classCallCheck3.default)(this, ShortcutsModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ShortcutsModal.__proto__ || (0, _getPrototypeOf2.default)(ShortcutsModal)).call(this, props));\n\n        _this.handleToggle = function () {\n            //toggles the state of shortcut dialog\n            _this.setState({\n                show: !_this.state.show\n            });\n        };\n\n        _this.handleHide = function () {\n            _this.setState({ show: false });\n        };\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ShortcutsModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'getShortcuts',\n        value: function getShortcuts() {\n            var isMac = this.props.isMac;\n\n            var shortcuts = {};\n            (0, _keys2.default)(allShortcuts).forEach(function (s) {\n                if (isMac && allShortcuts[s].mac) {\n                    shortcuts[s] = allShortcuts[s].mac;\n                } else if (!isMac && allShortcuts[s].default) {\n                    shortcuts[s] = allShortcuts[s].default;\n                } else {\n                    shortcuts[s] = allShortcuts[s];\n                }\n            });\n\n            return shortcuts;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var shortcuts = this.getShortcuts();\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'shortcuts-modal',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleHide\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'shortcuts-content' },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: true },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(\n                                'strong',\n                                null,\n                                renderShortcut(formatMessage(shortcuts.mainHeader))\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Body,\n                        { ref: 'modalBody' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'row' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-4' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'section' },\n                                    _react2.default.createElement(\n                                        'div',\n                                        null,\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.navHeader)\n                                            )\n                                        ),\n                                        renderShortcut(formatMessage(shortcuts.navPrev)),\n                                        renderShortcut(formatMessage(shortcuts.navNext)),\n                                        renderShortcut(formatMessage(shortcuts.navUnreadPrev)),\n                                        renderShortcut(formatMessage(shortcuts.navUnreadNext)),\n                                        renderShortcut(formatMessage(shortcuts.navSwitcher)),\n                                        renderShortcut(formatMessage(shortcuts.navDMMenu)),\n                                        renderShortcut(formatMessage(shortcuts.navSettings)),\n                                        renderShortcut(formatMessage(shortcuts.navMentions)),\n                                        renderShortcut(formatMessage(shortcuts.navFocusCenter))\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-4' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'section' },\n                                    _react2.default.createElement(\n                                        'div',\n                                        null,\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.msgHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'span',\n                                            null,\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.msgInputHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'div',\n                                            { className: 'subsection' },\n                                            renderShortcut(formatMessage(shortcuts.msgEdit)),\n                                            renderShortcut(formatMessage(shortcuts.msgReply)),\n                                            renderShortcut(formatMessage(shortcuts.msgReprintPrev)),\n                                            renderShortcut(formatMessage(shortcuts.msgReprintNext))\n                                        ),\n                                        _react2.default.createElement(\n                                            'span',\n                                            null,\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.msgCompHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'div',\n                                            { className: 'subsection' },\n                                            renderShortcut(formatMessage(shortcuts.msgCompUsername)),\n                                            renderShortcut(formatMessage(shortcuts.msgCompChannel)),\n                                            renderShortcut(formatMessage(shortcuts.msgCompEmoji))\n                                        )\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-4' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'section' },\n                                    _react2.default.createElement(\n                                        'div',\n                                        null,\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.filesHeader)\n                                            )\n                                        ),\n                                        renderShortcut(formatMessage(shortcuts.filesUpload))\n                                    ),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'section--lower' },\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.browserHeader)\n                                            )\n                                        ),\n                                        renderShortcut(formatMessage(shortcuts.browserChannelPrev)),\n                                        renderShortcut(formatMessage(shortcuts.browserChannelNext)),\n                                        renderShortcut(formatMessage(shortcuts.browserFontIncrease)),\n                                        renderShortcut(formatMessage(shortcuts.browserFontDecrease)),\n                                        _react2.default.createElement(\n                                            'span',\n                                            null,\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.browserInputHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'div',\n                                            { className: 'subsection' },\n                                            renderShortcut(formatMessage(shortcuts.browserHighlightPrev)),\n                                            renderShortcut(formatMessage(shortcuts.browserHighlightNext)),\n                                            renderShortcut(formatMessage(shortcuts.browserNewline))\n                                        )\n                                    )\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'info__label' },\n                            formatMessage(shortcuts.info)\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return ShortcutsModal;\n}(_react2.default.PureComponent);\n\nShortcutsModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired,\n    isMac: _propTypes2.default.bool.isRequired\n};\n\n\nfunction renderShortcut(text) {\n    if (!text) {\n        return null;\n    }\n\n    var shortcut = text.split('\\t');\n    var description = _react2.default.createElement(\n        'span',\n        null,\n        shortcut[0]\n    );\n\n    var keys = null;\n    if (shortcut.length > 1) {\n        keys = shortcut[1].split('|').map(function (key) {\n            return _react2.default.createElement(\n                'span',\n                {\n                    className: 'shortcut-key',\n                    key: key\n                },\n                key\n            );\n        });\n    }\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'shortcut-line' },\n        description,\n        keys\n    );\n}\n\nexports.default = (0, _reactIntl.injectIntl)(ShortcutsModal);\n\n/***/ }),\n\n/***/ 2280:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _users = __webpack_require__(46);\n\nvar _channels = __webpack_require__(91);\n\nvar _posts = __webpack_require__(92);\n\nvar _post_store = __webpack_require__(287);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _rhs = __webpack_require__(219);\n\nvar _rhs2 = __webpack_require__(218);\n\nvar _constants = __webpack_require__(9);\n\nvar _sidebar_right = __webpack_require__(2281);\n\nvar _sidebar_right2 = _interopRequireDefault(_sidebar_right);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state) {\n    var rhsState = (0, _rhs2.getRhsState)(state);\n\n    var channelId = (0, _rhs2.getSelectedChannelId)(state);\n\n    var channel = null;\n    if (channelId) {\n        channel = (0, _channels.getChannel)(state, channelId);\n        if (channel == null) {\n            // the permalink view is not really tied to a particular channel but still needs it\n            var postId = _post_store2.default.getFocusedPostId();\n            var post = (0, _posts.getPost)(state, postId);\n\n            // the post take some time before being available on page load\n            if (post != null) {\n                channel = (0, _channels.getChannel)(state, post.channel_id);\n            }\n        }\n    }\n\n    return {\n        channel: channel,\n        currentUser: (0, _users.getCurrentUser)(state),\n        postRightVisible: Boolean((0, _rhs2.getSelectedPostId)(state)),\n        searchVisible: Boolean(rhsState),\n        previousRhsState: (0, _rhs2.getPreviousRhsState)(state),\n        isMentionSearch: rhsState === _constants.RHSStates.MENTION,\n        isFlaggedPosts: rhsState === _constants.RHSStates.FLAG,\n        isPinnedPosts: rhsState === _constants.RHSStates.PIN\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getPinnedPosts: _rhs.getPinnedPosts,\n            getFlaggedPosts: _rhs.getFlaggedPosts\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_sidebar_right2.default);\n\n/***/ }),\n\n/***/ 2281:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _diagnostics_actions = __webpack_require__(215);\n\nvar _global_actions = __webpack_require__(56);\n\nvar _post_store = __webpack_require__(287);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _file_upload_overlay = __webpack_require__(1963);\n\nvar _file_upload_overlay2 = _interopRequireDefault(_file_upload_overlay);\n\nvar _rhs_thread = __webpack_require__(2282);\n\nvar _rhs_thread2 = _interopRequireDefault(_rhs_thread);\n\nvar _search_bar = __webpack_require__(669);\n\nvar _search_bar2 = _interopRequireDefault(_search_bar);\n\nvar _search_results = __webpack_require__(2310);\n\nvar _search_results2 = _interopRequireDefault(_search_results);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SidebarRight = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRight, _React$Component);\n\n    function SidebarRight(props) {\n        (0, _classCallCheck3.default)(this, SidebarRight);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRight.__proto__ || (0, _getPrototypeOf2.default)(SidebarRight)).call(this, props));\n\n        _this.doStrangeThings = function () {\n            // We should have a better way to do this stuff\n            // Hence the function name.\n            (0, _jquery2.default)('.app__body .inner-wrap').removeClass('.move--right');\n            (0, _jquery2.default)('.app__body .inner-wrap').addClass('move--left');\n            (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .sidebar--right').addClass('move--left');\n\n            //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n            if (!_this.props.searchVisible && !_this.props.postRightVisible) {\n                (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--left').removeClass('move--right');\n                (0, _jquery2.default)('.app__body .sidebar--right').removeClass('move--left');\n                return _react2.default.createElement('div', null);\n            }\n\n            /*setTimeout(() => {\n                $('.sidebar__overlay').fadeOut('200', () => {\n                    $('.sidebar__overlay').remove();\n                });\n                }, 500);*/\n            return null;\n        };\n\n        _this.onPreferenceChange = function () {\n            if (_this.props.isFlaggedPosts) {\n                _this.props.actions.getFlaggedPosts();\n            }\n\n            _this.setState({\n                useMilitaryTime: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false)\n            });\n        };\n\n        _this.onPostPinnedChange = function () {\n            if (_this.props.channel && _this.props.isPinnedPosts) {\n                _this.props.actions.getPinnedPosts(_this.props.channel.id);\n            }\n        };\n\n        _this.onShrink = function () {\n            _this.setState({\n                expanded: false\n            });\n        };\n\n        _this.toggleSize = function () {\n            _this.setState({ expanded: !_this.state.expanded });\n        };\n\n        _this.plScrolledToBottom = true;\n\n        _this.state = {\n            expanded: false,\n            useMilitaryTime: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false)\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRight, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _post_store2.default.addPostPinnedChangeListener(this.onPostPinnedChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _post_store2.default.removePostPinnedChangeListener(this.onPostPinnedChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var isOpen = this.props.searchVisible || this.props.postRightVisible;\n            var willOpen = nextProps.searchVisible || nextProps.postRightVisible;\n\n            if (!isOpen && willOpen) {\n                (0, _diagnostics_actions.trackEvent)('ui', 'ui_rhs_opened');\n            }\n\n            if (!isOpen && willOpen) {\n                this.setState({\n                    expanded: false\n                });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var isOpen = this.props.searchVisible || this.props.postRightVisible;\n            _webrtc_store2.default.emitRhsChanged(isOpen);\n            this.doStrangeThings();\n\n            var wasOpen = prevProps.searchVisible || prevProps.postRightVisible;\n\n            if (isOpen && !wasOpen) {\n                setTimeout(function () {\n                    return (0, _global_actions.postListScrollChange)();\n                }, 0);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = null;\n            var expandedClass = '';\n\n            if (this.state.expanded) {\n                expandedClass = 'sidebar--right--expanded';\n            }\n\n            var currentId = this.props.currentUser.id;\n            var searchForm = null;\n            if (currentId) {\n                searchForm = _react2.default.createElement(_search_bar2.default, { isFocus: this.props.searchVisible && Utils.isMobile() });\n            }\n\n            var channel = this.props.channel;\n\n            var channelDisplayName = '';\n            if (channel) {\n                if (channel.type === _constants2.default.DM_CHANNEL || channel.type === _constants2.default.GM_CHANNEL) {\n                    channelDisplayName = Utils.localizeMessage('rhs_root.direct', 'Direct Message');\n                } else {\n                    channelDisplayName = channel.display_name;\n                }\n            }\n\n            if (this.props.searchVisible) {\n                content = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__content' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-bar__container channel-header alt' },\n                        searchForm\n                    ),\n                    _react2.default.createElement(_search_results2.default, {\n                        isMentionSearch: this.props.isMentionSearch,\n                        isFlaggedPosts: this.props.isFlaggedPosts,\n                        isPinnedPosts: this.props.isPinnedPosts,\n                        useMilitaryTime: this.state.useMilitaryTime,\n                        toggleSize: this.toggleSize,\n                        shrink: this.onShrink,\n                        channelDisplayName: channelDisplayName\n                    })\n                );\n            } else if (this.props.postRightVisible) {\n                content = _react2.default.createElement(\n                    'div',\n                    { className: 'post-right__container' },\n                    _react2.default.createElement(_file_upload_overlay2.default, { overlayType: 'right' }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-bar__container channel-header alt' },\n                        searchForm\n                    ),\n                    _react2.default.createElement(_rhs_thread2.default, {\n                        previousRhsState: this.props.previousRhsState,\n                        isWebrtc: _webrtc_store2.default.isBusy(),\n                        currentUser: this.props.currentUser,\n                        useMilitaryTime: this.state.useMilitaryTime,\n                        toggleSize: this.toggleSize,\n                        shrink: this.onShrink\n                    })\n                );\n            }\n\n            if (!content) {\n                expandedClass = '';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--right ' + expandedClass,\n                    id: 'sidebar-right'\n                },\n                _react2.default.createElement('div', {\n                    onClick: this.onShrink,\n                    className: 'sidebar--right__bg'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right-container' },\n                    content\n                )\n            );\n        }\n    }]);\n    return SidebarRight;\n}(_react2.default.Component);\n\nSidebarRight.propTypes = {\n    currentUser: _propTypes2.default.object,\n    channel: _propTypes2.default.object,\n    postRightVisible: _propTypes2.default.bool,\n    searchVisible: _propTypes2.default.bool,\n    isMentionSearch: _propTypes2.default.bool,\n    isFlaggedPosts: _propTypes2.default.bool,\n    isPinnedPosts: _propTypes2.default.bool,\n    previousRhsState: _propTypes2.default.string,\n    actions: _propTypes2.default.shape({\n        getPinnedPosts: _propTypes2.default.func,\n        getFlaggedPosts: _propTypes2.default.func\n    })\n};\nexports.default = SidebarRight;\n\n/***/ }),\n\n/***/ 2282:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _channels = __webpack_require__(91);\n\nvar _posts = __webpack_require__(92);\n\nvar _preferences = __webpack_require__(62);\n\nvar _posts2 = __webpack_require__(74);\n\nvar _constants = __webpack_require__(9);\n\nvar _rhs = __webpack_require__(218);\n\nvar _rhs_thread = __webpack_require__(2283);\n\nvar _rhs_thread2 = _interopRequireDefault(_rhs_thread);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeMapStateToProps() {\n    var getPostsForThread = (0, _posts.makeGetPostsForThread)();\n    var getPostsEmbedVisibleObj = (0, _rhs.makeGetPostsEmbedVisibleObj)();\n\n    return function mapStateToProps(state) {\n        var selected = (0, _rhs.getSelectedPost)(state);\n\n        var channel = null;\n        var posts = [];\n        if (selected) {\n            posts = getPostsForThread(state, { rootId: selected.id });\n            channel = (0, _channels.getChannel)(state, selected.channel_id);\n        }\n\n        var previewCollapsed = (0, _preferences.get)(state, _constants.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants.Preferences.COLLAPSE_DISPLAY, _constants.Preferences.COLLAPSE_DISPLAY_DEFAULT);\n        var postsEmbedVisibleObj = getPostsEmbedVisibleObj(state, posts);\n\n        return {\n            selected: selected,\n            channel: channel,\n            posts: posts,\n            previewCollapsed: previewCollapsed,\n            postsEmbedVisibleObj: postsEmbedVisibleObj,\n            previewEnabled: (0, _preferences.getBool)(state, _constants.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants.Preferences.LINK_PREVIEW_DISPLAY, _constants.Preferences.LINK_PREVIEW_DISPLAY_DEFAULT)\n        };\n    };\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            removePost: _posts2.removePost\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(makeMapStateToProps, mapDispatchToProps)(_rhs_thread2.default);\n\n/***/ }),\n\n/***/ 2283:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _stringify = __webpack_require__(164);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.renderView = renderView;\nexports.renderThumbHorizontal = renderThumbHorizontal;\nexports.renderThumbVertical = renderThumbVertical;\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactCustomScrollbars = __webpack_require__(2064);\n\nvar _reactCustomScrollbars2 = _interopRequireDefault(_reactCustomScrollbars);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _delayed_action = __webpack_require__(227);\n\nvar _delayed_action2 = _interopRequireDefault(_delayed_action);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _create_comment = __webpack_require__(2302);\n\nvar _create_comment2 = _interopRequireDefault(_create_comment);\n\nvar _date_separator = __webpack_require__(2305);\n\nvar _date_separator2 = _interopRequireDefault(_date_separator);\n\nvar _floating_timestamp = __webpack_require__(704);\n\nvar _floating_timestamp2 = _interopRequireDefault(_floating_timestamp);\n\nvar _rhs_comment = __webpack_require__(2306);\n\nvar _rhs_comment2 = _interopRequireDefault(_rhs_comment);\n\nvar _rhs_header_post = __webpack_require__(2307);\n\nvar _rhs_header_post2 = _interopRequireDefault(_rhs_header_post);\n\nvar _rhs_root_post = __webpack_require__(2309);\n\nvar _rhs_root_post2 = _interopRequireDefault(_rhs_root_post);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Preferences = _constants2.default.Preferences; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction renderView(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--view'\n    }));\n}\n\nfunction renderThumbHorizontal(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--horizontal'\n    }));\n}\n\nfunction renderThumbVertical(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--vertical'\n    }));\n}\n\nvar RhsThread = function (_React$Component) {\n    (0, _inherits3.default)(RhsThread, _React$Component);\n\n    function RhsThread(props) {\n        (0, _classCallCheck3.default)(this, RhsThread);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsThread.__proto__ || (0, _getPrototypeOf2.default)(RhsThread)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        _this.scrollStopAction = new _delayed_action2.default(_this.handleScrollStop);\n\n        var openTime = new Date().getTime();\n\n        _this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            profiles: JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles())),\n            compactDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST),\n            statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses()),\n            previewsCollapsed: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false'),\n            isBusy: _webrtc_store2.default.isBusy(),\n            isScrolling: false,\n            topRhsPostCreateAt: 0,\n            openTime: openTime\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsThread, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.addBusyListener(this.onBusy);\n\n            this.scrollToBottom();\n            window.addEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.removeBusyListener(this.onBusy);\n\n            window.removeEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (!this.props.selected || !nextProps.selected) {\n                return;\n            }\n\n            if (this.props.selected.id !== nextProps.selected.id) {\n                this.setState({\n                    openTime: new Date().getTime()\n                });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var prevPostsArray = prevProps.posts || [];\n            var curPostsArray = this.props.posts || [];\n\n            if (prevPostsArray.length >= curPostsArray.length) {\n                return;\n            }\n\n            var curLastPost = curPostsArray[curPostsArray.length - 1];\n\n            if (curLastPost.user_id === _user_store2.default.getCurrentId()) {\n                this.scrollToBottom();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.postsArray, this.props.posts)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.selected, this.props.selected)) {\n                return true;\n            }\n\n            if (nextState.compactDisplay !== this.state.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextProps.previewEnabled !== this.props.previewEnabled) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.flaggedPosts, this.state.flaggedPosts)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.profiles, this.state.profiles)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (nextState.isBusy !== this.state.isBusy) {\n                return true;\n            }\n\n            if (nextState.isScrolling !== this.state.isScrolling) {\n                return true;\n            }\n\n            if (nextState.topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                return true;\n            }\n            if (nextProps.postsEmbedVisibleObj !== this.props.postsEmbedVisibleObj) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.props.posts == null || this.props.selected == null) {\n                return _react2.default.createElement('div', null);\n            }\n\n            var postsArray = this.filterPosts(this.props.posts, this.props.selected, this.state.openTime);\n            var selected = this.props.selected;\n            var profiles = this.state.profiles || {};\n\n            var profile = void 0;\n            if (_user_store2.default.getCurrentId() === selected.user_id) {\n                profile = this.props.currentUser;\n            } else {\n                profile = profiles[selected.user_id];\n            }\n\n            var isRootFlagged = false;\n            if (this.state.flaggedPosts) {\n                isRootFlagged = this.state.flaggedPosts.get(selected.id) != null;\n            }\n\n            var rootStatus = 'offline';\n            if (this.state.statuses) {\n                rootStatus = this.state.statuses[selected.user_id] || 'offline';\n            }\n\n            var createAt = selected.create_at;\n            if (!createAt) {\n                createAt = this.props.posts[0].create_at;\n            }\n            var rootPostDay = Utils.getDateForUnixTicks(createAt);\n            var previousPostDay = rootPostDay;\n\n            var commentsLists = [];\n            var postsLength = postsArray.length;\n            for (var i = 0; i < postsLength; i++) {\n                var comPost = postsArray[i];\n                var p = void 0;\n                if (_user_store2.default.getCurrentId() === comPost.user_id) {\n                    p = _user_store2.default.getCurrentUser();\n                } else {\n                    p = profiles[comPost.user_id];\n                }\n\n                var isFlagged = false;\n                if (this.state.flaggedPosts) {\n                    isFlagged = this.state.flaggedPosts.get(comPost.id) != null;\n                }\n\n                var status = 'offline';\n                if (this.state.statuses && p && p.id) {\n                    status = this.state.statuses[p.id] || 'offline';\n                }\n\n                var currentPostDay = Utils.getDateForUnixTicks(comPost.create_at);\n                if (currentPostDay.toDateString() !== previousPostDay.toDateString()) {\n                    previousPostDay = currentPostDay;\n                    commentsLists.push(_react2.default.createElement(_date_separator2.default, {\n                        key: currentPostDay,\n                        date: currentPostDay\n                    }));\n                }\n\n                var keyPrefix = comPost.id ? comPost.id : comPost.pending_post_id;\n                var reverseCount = postsLength - i - 1;\n                commentsLists.push(_react2.default.createElement(\n                    'div',\n                    { key: keyPrefix + 'commentKey' },\n                    _react2.default.createElement(_rhs_comment2.default, {\n                        ref: comPost.id,\n                        post: comPost,\n                        lastPostCount: reverseCount >= 0 && reverseCount < _constants2.default.TEST_ID_COUNT ? reverseCount : -1,\n                        user: p,\n                        currentUser: this.props.currentUser,\n                        compactDisplay: this.state.compactDisplay,\n                        useMilitaryTime: this.props.useMilitaryTime,\n                        isFlagged: isFlagged,\n                        status: status,\n                        isBusy: this.state.isBusy,\n                        removePost: this.props.actions.removePost,\n                        previewCollapsed: this.props.previewCollapsed,\n                        previewEnabled: this.props.previewEnabled,\n                        isEmbedVisible: this.props.postsEmbedVisibleObj[comPost.id]\n                    })\n                ));\n            }\n\n            var createComment = void 0;\n            if (selected.type !== _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                createComment = _react2.default.createElement(\n                    'div',\n                    { className: 'post-create__container' },\n                    _react2.default.createElement(_create_comment2.default, {\n                        channelId: selected.channel_id,\n                        rootId: selected.id,\n                        latestPostId: postsLength > 0 ? postsArray[postsLength - 1].id : selected.id,\n                        getSidebarBody: this.getSidebarBody\n                    })\n                );\n            }\n\n            if (this.props.channel.type === _constants2.default.DM_CHANNEL) {\n                var teammate = Utils.getDirectTeammate(this.props.channel.id);\n                if (teammate && teammate.delete_at) {\n                    createComment = _react2.default.createElement(\n                        'div',\n                        {\n                            className: 'post-create-message'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'create_post.deactivated',\n                            defaultMessage: 'You are viewing an archived channel with a deactivated user.'\n                        })\n                    );\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar-right__body',\n                    ref: 'sidebarbody'\n                },\n                _react2.default.createElement(_floating_timestamp2.default, {\n                    isScrolling: this.state.isScrolling,\n                    isMobile: Utils.isMobile(),\n                    createAt: this.state.topRhsPostCreateAt,\n                    isRhsPost: true\n                }),\n                _react2.default.createElement(_rhs_header_post2.default, {\n                    previousRhsState: this.props.previousRhsState,\n                    isWebrtc: this.props.isWebrtc,\n                    toggleSize: this.props.toggleSize,\n                    shrink: this.props.shrink\n                }),\n                _react2.default.createElement(\n                    _reactCustomScrollbars2.default,\n                    {\n                        autoHide: true,\n                        autoHideTimeout: 500,\n                        autoHideDuration: 500,\n                        renderThumbHorizontal: renderThumbHorizontal,\n                        renderThumbVertical: renderThumbVertical,\n                        renderView: renderView,\n                        onScroll: this.handleScroll\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-right__scroll' },\n                        _react2.default.createElement(_date_separator2.default, {\n                            date: rootPostDay\n                        }),\n                        _react2.default.createElement(_rhs_root_post2.default, {\n                            ref: selected.id,\n                            post: selected,\n                            commentCount: postsLength,\n                            user: profile,\n                            currentUser: this.props.currentUser,\n                            compactDisplay: this.state.compactDisplay,\n                            useMilitaryTime: this.props.useMilitaryTime,\n                            isFlagged: isRootFlagged,\n                            status: rootStatus,\n                            previewCollapsed: this.props.previewCollapsed,\n                            previewEnabled: this.props.previewEnabled,\n                            isBusy: this.state.isBusy,\n                            isEmbedVisible: this.props.postsEmbedVisibleObj[selected.id]\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            {\n                                ref: 'rhspostlist',\n                                className: 'post-right-comments-container'\n                            },\n                            commentsLists\n                        ),\n                        createComment\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsThread;\n}(_react2.default.Component);\n\nRhsThread.propTypes = {\n    posts: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    channel: _propTypes2.default.object.isRequired,\n    selected: _propTypes2.default.object.isRequired,\n    previousRhsState: _propTypes2.default.string,\n    isWebrtc: _propTypes2.default.bool,\n    currentUser: _propTypes2.default.object.isRequired,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func,\n    previewCollapsed: _propTypes2.default.string.isRequired,\n    previewEnabled: _propTypes2.default.bool.isRequired,\n    postsEmbedVisibleObj: _propTypes2.default.object,\n    actions: _propTypes2.default.shape({\n        removePost: _propTypes2.default.func.isRequired\n    }).isRequired\n};\n\nvar _initialiseProps = function _initialiseProps() {\n    var _this2 = this;\n\n    this.forceUpdateInfo = function () {\n        if (_this2.state.postList) {\n            for (var postId in _this2.state.postList.posts) {\n                if (_this2.refs[postId]) {\n                    _this2.refs[postId].forceUpdate();\n                }\n            }\n        }\n    };\n\n    this.handleResize = function () {\n        _this2.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    };\n\n    this.onPreferenceChange = function () {\n        _this2.setState({\n            compactDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST)\n        });\n        _this2.forceUpdateInfo();\n    };\n\n    this.onStatusChange = function () {\n        _this2.setState({ statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses()) });\n    };\n\n    this.onBusy = function (isBusy) {\n        _this2.setState({ isBusy: isBusy });\n    };\n\n    this.filterPosts = function (posts, selected, openTime) {\n        var postsArray = [];\n\n        posts.forEach(function (cpost) {\n            // Do not show empherals created before sidebar has been opened\n            if (cpost.type === 'system_ephemeral' && cpost.create_at < openTime) {\n                return;\n            }\n\n            if (cpost.root_id === selected.id) {\n                postsArray.unshift(cpost);\n            }\n        });\n\n        return postsArray;\n    };\n\n    this.onUserChange = function () {\n        var profiles = JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles()));\n        _this2.setState({ profiles: profiles });\n    };\n\n    this.scrollToBottom = function () {\n        if ((0, _jquery2.default)('.post-right__scroll')[0]) {\n            (0, _jquery2.default)('.post-right__scroll').parent().scrollTop((0, _jquery2.default)('.post-right__scroll')[0].scrollHeight);\n        }\n    };\n\n    this.updateFloatingTimestamp = function () {\n        // skip this in non-mobile view since that's when the timestamp is visible\n        if (!Utils.isMobile()) {\n            return;\n        }\n\n        if (_this2.props.posts) {\n            var childNodes = _this2.refs.rhspostlist.childNodes;\n            var viewPort = _this2.refs.rhspostlist.getBoundingClientRect();\n            var topRhsPostCreateAt = 0;\n            var offset = 100;\n\n            // determine the top rhs comment assuming that childNodes and postsArray are of same length\n            for (var i = 0; i < childNodes.length; i++) {\n                if (childNodes[i].offsetTop + viewPort.top - offset > 0) {\n                    topRhsPostCreateAt = _this2.props.posts[i].create_at;\n                    break;\n                }\n            }\n\n            if (topRhsPostCreateAt !== _this2.state.topRhsPostCreateAt) {\n                _this2.setState({\n                    topRhsPostCreateAt: topRhsPostCreateAt\n                });\n            }\n        }\n    };\n\n    this.handleScroll = function () {\n        _this2.updateFloatingTimestamp();\n\n        if (!_this2.state.isScrolling) {\n            _this2.setState({\n                isScrolling: true\n            });\n        }\n\n        _this2.scrollStopAction.fireAfter(_constants2.default.SCROLL_DELAY);\n    };\n\n    this.handleScrollStop = function () {\n        _this2.setState({\n            isScrolling: false\n        });\n    };\n\n    this.getSidebarBody = function () {\n        return _this2.refs.sidebarbody;\n    };\n};\n\nexports.default = RhsThread;\n\n/***/ }),\n\n/***/ 2284:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _raf2 = __webpack_require__(2285);\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = __webpack_require__(2065);\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = __webpack_require__(1);\n\nvar _propTypes = __webpack_require__(2292);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isString = __webpack_require__(2295);\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = __webpack_require__(2296);\n\nvar _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);\n\nvar _returnFalse = __webpack_require__(2297);\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = __webpack_require__(2298);\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = __webpack_require__(2299);\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = __webpack_require__(2300);\n\nvar _defaultRenderElements = __webpack_require__(2301);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Scrollbars = function (_Component) {\n    _inherits(Scrollbars, _Component);\n\n    function Scrollbars(props) {\n        var _ref;\n\n        _classCallCheck(this, Scrollbars);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            rest[_key - 1] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = Scrollbars.__proto__ || Object.getPrototypeOf(Scrollbars)).call.apply(_ref, [this, props].concat(rest)));\n\n        _this.getScrollLeft = _this.getScrollLeft.bind(_this);\n        _this.getScrollTop = _this.getScrollTop.bind(_this);\n        _this.getScrollWidth = _this.getScrollWidth.bind(_this);\n        _this.getScrollHeight = _this.getScrollHeight.bind(_this);\n        _this.getClientWidth = _this.getClientWidth.bind(_this);\n        _this.getClientHeight = _this.getClientHeight.bind(_this);\n        _this.getValues = _this.getValues.bind(_this);\n        _this.getThumbHorizontalWidth = _this.getThumbHorizontalWidth.bind(_this);\n        _this.getThumbVerticalHeight = _this.getThumbVerticalHeight.bind(_this);\n        _this.getScrollLeftForOffset = _this.getScrollLeftForOffset.bind(_this);\n        _this.getScrollTopForOffset = _this.getScrollTopForOffset.bind(_this);\n\n        _this.scrollLeft = _this.scrollLeft.bind(_this);\n        _this.scrollTop = _this.scrollTop.bind(_this);\n        _this.scrollToLeft = _this.scrollToLeft.bind(_this);\n        _this.scrollToTop = _this.scrollToTop.bind(_this);\n        _this.scrollToRight = _this.scrollToRight.bind(_this);\n        _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n\n        _this.handleTrackMouseEnter = _this.handleTrackMouseEnter.bind(_this);\n        _this.handleTrackMouseLeave = _this.handleTrackMouseLeave.bind(_this);\n        _this.handleHorizontalTrackMouseDown = _this.handleHorizontalTrackMouseDown.bind(_this);\n        _this.handleVerticalTrackMouseDown = _this.handleVerticalTrackMouseDown.bind(_this);\n        _this.handleHorizontalThumbMouseDown = _this.handleHorizontalThumbMouseDown.bind(_this);\n        _this.handleVerticalThumbMouseDown = _this.handleVerticalThumbMouseDown.bind(_this);\n        _this.handleWindowResize = _this.handleWindowResize.bind(_this);\n        _this.handleScroll = _this.handleScroll.bind(_this);\n        _this.handleDrag = _this.handleDrag.bind(_this);\n        _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n\n        _this.state = {\n            didMountUniversal: false\n        };\n        return _this;\n    }\n\n    _createClass(Scrollbars, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.addListeners();\n            this.update();\n            this.componentDidMountUniversal();\n        }\n    }, {\n        key: 'componentDidMountUniversal',\n        value: function componentDidMountUniversal() {\n            // eslint-disable-line react/sort-comp\n            var universal = this.props.universal;\n\n            if (!universal) return;\n            this.setState({ didMountUniversal: true });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.update();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.removeListeners();\n            (0, _raf2.cancel)(this.requestFrame);\n            clearTimeout(this.hideTracksTimeout);\n            clearInterval(this.detectScrollingInterval);\n        }\n    }, {\n        key: 'getScrollLeft',\n        value: function getScrollLeft() {\n            if (!this.view) return 0;\n            return this.view.scrollLeft;\n        }\n    }, {\n        key: 'getScrollTop',\n        value: function getScrollTop() {\n            if (!this.view) return 0;\n            return this.view.scrollTop;\n        }\n    }, {\n        key: 'getScrollWidth',\n        value: function getScrollWidth() {\n            if (!this.view) return 0;\n            return this.view.scrollWidth;\n        }\n    }, {\n        key: 'getScrollHeight',\n        value: function getScrollHeight() {\n            if (!this.view) return 0;\n            return this.view.scrollHeight;\n        }\n    }, {\n        key: 'getClientWidth',\n        value: function getClientWidth() {\n            if (!this.view) return 0;\n            return this.view.clientWidth;\n        }\n    }, {\n        key: 'getClientHeight',\n        value: function getClientHeight() {\n            if (!this.view) return 0;\n            return this.view.clientHeight;\n        }\n    }, {\n        key: 'getValues',\n        value: function getValues() {\n            var _ref2 = this.view || {},\n                _ref2$scrollLeft = _ref2.scrollLeft,\n                scrollLeft = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n                _ref2$scrollTop = _ref2.scrollTop,\n                scrollTop = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop,\n                _ref2$scrollWidth = _ref2.scrollWidth,\n                scrollWidth = _ref2$scrollWidth === undefined ? 0 : _ref2$scrollWidth,\n                _ref2$scrollHeight = _ref2.scrollHeight,\n                scrollHeight = _ref2$scrollHeight === undefined ? 0 : _ref2$scrollHeight,\n                _ref2$clientWidth = _ref2.clientWidth,\n                clientWidth = _ref2$clientWidth === undefined ? 0 : _ref2$clientWidth,\n                _ref2$clientHeight = _ref2.clientHeight,\n                clientHeight = _ref2$clientHeight === undefined ? 0 : _ref2$clientHeight;\n\n            return {\n                left: scrollLeft / (scrollWidth - clientWidth) || 0,\n                top: scrollTop / (scrollHeight - clientHeight) || 0,\n                scrollLeft: scrollLeft,\n                scrollTop: scrollTop,\n                scrollWidth: scrollWidth,\n                scrollHeight: scrollHeight,\n                clientWidth: clientWidth,\n                clientHeight: clientHeight\n            };\n        }\n    }, {\n        key: 'getThumbHorizontalWidth',\n        value: function getThumbHorizontalWidth() {\n            var _props = this.props,\n                thumbSize = _props.thumbSize,\n                thumbMinSize = _props.thumbMinSize;\n            var _view = this.view,\n                scrollWidth = _view.scrollWidth,\n                clientWidth = _view.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n            if (trackWidth === width) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(width, thumbMinSize);\n        }\n    }, {\n        key: 'getThumbVerticalHeight',\n        value: function getThumbVerticalHeight() {\n            var _props2 = this.props,\n                thumbSize = _props2.thumbSize,\n                thumbMinSize = _props2.thumbMinSize;\n            var _view2 = this.view,\n                scrollHeight = _view2.scrollHeight,\n                clientHeight = _view2.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n            if (trackHeight === height) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(height, thumbMinSize);\n        }\n    }, {\n        key: 'getScrollLeftForOffset',\n        value: function getScrollLeftForOffset(offset) {\n            var _view3 = this.view,\n                scrollWidth = _view3.scrollWidth,\n                clientWidth = _view3.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var thumbWidth = this.getThumbHorizontalWidth();\n            return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n        }\n    }, {\n        key: 'getScrollTopForOffset',\n        value: function getScrollTopForOffset(offset) {\n            var _view4 = this.view,\n                scrollHeight = _view4.scrollHeight,\n                clientHeight = _view4.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var thumbHeight = this.getThumbVerticalHeight();\n            return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n        }\n    }, {\n        key: 'scrollLeft',\n        value: function scrollLeft() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            if (!this.view) return;\n            this.view.scrollLeft = left;\n        }\n    }, {\n        key: 'scrollTop',\n        value: function scrollTop() {\n            var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            if (!this.view) return;\n            this.view.scrollTop = top;\n        }\n    }, {\n        key: 'scrollToLeft',\n        value: function scrollToLeft() {\n            if (!this.view) return;\n            this.view.scrollLeft = 0;\n        }\n    }, {\n        key: 'scrollToTop',\n        value: function scrollToTop() {\n            if (!this.view) return;\n            this.view.scrollTop = 0;\n        }\n    }, {\n        key: 'scrollToRight',\n        value: function scrollToRight() {\n            if (!this.view) return;\n            this.view.scrollLeft = this.view.scrollWidth;\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            if (!this.view) return;\n            this.view.scrollTop = this.view.scrollHeight;\n        }\n    }, {\n        key: 'addListeners',\n        value: function addListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined' || !this.view) return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.addEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.addEventListener('resize', this.handleWindowResize);\n        }\n    }, {\n        key: 'removeListeners',\n        value: function removeListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined' || !this.view) return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.removeEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.removeEventListener('resize', this.handleWindowResize);\n            // Possibly setup by `handleDragStart`\n            this.teardownDragging();\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll(event) {\n            var _this2 = this;\n\n            var _props3 = this.props,\n                onScroll = _props3.onScroll,\n                onScrollFrame = _props3.onScrollFrame;\n\n            if (onScroll) onScroll(event);\n            this.update(function (values) {\n                var scrollLeft = values.scrollLeft,\n                    scrollTop = values.scrollTop;\n\n                _this2.viewScrollLeft = scrollLeft;\n                _this2.viewScrollTop = scrollTop;\n                if (onScrollFrame) onScrollFrame(values);\n            });\n            this.detectScrolling();\n        }\n    }, {\n        key: 'handleScrollStart',\n        value: function handleScrollStart() {\n            var onScrollStart = this.props.onScrollStart;\n\n            if (onScrollStart) onScrollStart();\n            this.handleScrollStartAutoHide();\n        }\n    }, {\n        key: 'handleScrollStartAutoHide',\n        value: function handleScrollStartAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleScrollStop',\n        value: function handleScrollStop() {\n            var onScrollStop = this.props.onScrollStop;\n\n            if (onScrollStop) onScrollStop();\n            this.handleScrollStopAutoHide();\n        }\n    }, {\n        key: 'handleScrollStopAutoHide',\n        value: function handleScrollStopAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleWindowResize',\n        value: function handleWindowResize() {\n            this.update();\n        }\n    }, {\n        key: 'handleHorizontalTrackMouseDown',\n        value: function handleHorizontalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientX = event.clientX;\n\n            var _target$getBoundingCl = target.getBoundingClientRect(),\n                targetLeft = _target$getBoundingCl.left;\n\n            var thumbWidth = this.getThumbHorizontalWidth();\n            var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n            this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n        }\n    }, {\n        key: 'handleVerticalTrackMouseDown',\n        value: function handleVerticalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientY = event.clientY;\n\n            var _target$getBoundingCl2 = target.getBoundingClientRect(),\n                targetTop = _target$getBoundingCl2.top;\n\n            var thumbHeight = this.getThumbVerticalHeight();\n            var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n            this.view.scrollTop = this.getScrollTopForOffset(offset);\n        }\n    }, {\n        key: 'handleHorizontalThumbMouseDown',\n        value: function handleHorizontalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientX = event.clientX;\n            var offsetWidth = target.offsetWidth;\n\n            var _target$getBoundingCl3 = target.getBoundingClientRect(),\n                left = _target$getBoundingCl3.left;\n\n            this.prevPageX = offsetWidth - (clientX - left);\n        }\n    }, {\n        key: 'handleVerticalThumbMouseDown',\n        value: function handleVerticalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientY = event.clientY;\n            var offsetHeight = target.offsetHeight;\n\n            var _target$getBoundingCl4 = target.getBoundingClientRect(),\n                top = _target$getBoundingCl4.top;\n\n            this.prevPageY = offsetHeight - (clientY - top);\n        }\n    }, {\n        key: 'setupDragging',\n        value: function setupDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n            document.addEventListener('mousemove', this.handleDrag);\n            document.addEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = _returnFalse2[\"default\"];\n        }\n    }, {\n        key: 'teardownDragging',\n        value: function teardownDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n            document.removeEventListener('mousemove', this.handleDrag);\n            document.removeEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = undefined;\n        }\n    }, {\n        key: 'handleDragStart',\n        value: function handleDragStart(event) {\n            this.dragging = true;\n            event.stopImmediatePropagation();\n            this.setupDragging();\n        }\n    }, {\n        key: 'handleDrag',\n        value: function handleDrag(event) {\n            if (this.prevPageX) {\n                var clientX = event.clientX;\n\n                var _trackHorizontal$getB = this.trackHorizontal.getBoundingClientRect(),\n                    trackLeft = _trackHorizontal$getB.left;\n\n                var thumbWidth = this.getThumbHorizontalWidth();\n                var clickPosition = thumbWidth - this.prevPageX;\n                var offset = -trackLeft + clientX - clickPosition;\n                this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n            }\n            if (this.prevPageY) {\n                var clientY = event.clientY;\n\n                var _trackVertical$getBou = this.trackVertical.getBoundingClientRect(),\n                    trackTop = _trackVertical$getBou.top;\n\n                var thumbHeight = this.getThumbVerticalHeight();\n                var _clickPosition = thumbHeight - this.prevPageY;\n                var _offset = -trackTop + clientY - _clickPosition;\n                this.view.scrollTop = this.getScrollTopForOffset(_offset);\n            }\n            return false;\n        }\n    }, {\n        key: 'handleDragEnd',\n        value: function handleDragEnd() {\n            this.dragging = false;\n            this.prevPageX = this.prevPageY = 0;\n            this.teardownDragging();\n            this.handleDragEndAutoHide();\n        }\n    }, {\n        key: 'handleDragEndAutoHide',\n        value: function handleDragEndAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleTrackMouseEnter',\n        value: function handleTrackMouseEnter() {\n            this.trackMouseOver = true;\n            this.handleTrackMouseEnterAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseEnterAutoHide',\n        value: function handleTrackMouseEnterAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleTrackMouseLeave',\n        value: function handleTrackMouseLeave() {\n            this.trackMouseOver = false;\n            this.handleTrackMouseLeaveAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseLeaveAutoHide',\n        value: function handleTrackMouseLeaveAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'showTracks',\n        value: function showTracks() {\n            clearTimeout(this.hideTracksTimeout);\n            (0, _domCss2[\"default\"])(this.trackHorizontal, { opacity: 1 });\n            (0, _domCss2[\"default\"])(this.trackVertical, { opacity: 1 });\n        }\n    }, {\n        key: 'hideTracks',\n        value: function hideTracks() {\n            var _this3 = this;\n\n            if (this.dragging) return;\n            if (this.scrolling) return;\n            if (this.trackMouseOver) return;\n            var autoHideTimeout = this.props.autoHideTimeout;\n\n            clearTimeout(this.hideTracksTimeout);\n            this.hideTracksTimeout = setTimeout(function () {\n                (0, _domCss2[\"default\"])(_this3.trackHorizontal, { opacity: 0 });\n                (0, _domCss2[\"default\"])(_this3.trackVertical, { opacity: 0 });\n            }, autoHideTimeout);\n        }\n    }, {\n        key: 'detectScrolling',\n        value: function detectScrolling() {\n            var _this4 = this;\n\n            if (this.scrolling) return;\n            this.scrolling = true;\n            this.handleScrollStart();\n            this.detectScrollingInterval = setInterval(function () {\n                if (_this4.lastViewScrollLeft === _this4.viewScrollLeft && _this4.lastViewScrollTop === _this4.viewScrollTop) {\n                    clearInterval(_this4.detectScrollingInterval);\n                    _this4.scrolling = false;\n                    _this4.handleScrollStop();\n                }\n                _this4.lastViewScrollLeft = _this4.viewScrollLeft;\n                _this4.lastViewScrollTop = _this4.viewScrollTop;\n            }, 100);\n        }\n    }, {\n        key: 'raf',\n        value: function raf(callback) {\n            var _this5 = this;\n\n            if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n            this.requestFrame = (0, _raf3[\"default\"])(function () {\n                _this5.requestFrame = undefined;\n                callback();\n            });\n        }\n    }, {\n        key: 'update',\n        value: function update(callback) {\n            var _this6 = this;\n\n            this.raf(function () {\n                return _this6._update(callback);\n            });\n        }\n    }, {\n        key: '_update',\n        value: function _update(callback) {\n            var _props4 = this.props,\n                onUpdate = _props4.onUpdate,\n                hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n\n            var values = this.getValues();\n            if ((0, _getScrollbarWidth2[\"default\"])()) {\n                var scrollLeft = values.scrollLeft,\n                    clientWidth = values.clientWidth,\n                    scrollWidth = values.scrollWidth;\n\n                var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n                var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n                var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n                var thumbHorizontalStyle = {\n                    width: thumbHorizontalWidth,\n                    transform: 'translateX(' + thumbHorizontalX + 'px)'\n                };\n                var scrollTop = values.scrollTop,\n                    clientHeight = values.clientHeight,\n                    scrollHeight = values.scrollHeight;\n\n                var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n                var thumbVerticalHeight = this.getThumbVerticalHeight();\n                var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n                var thumbVerticalStyle = {\n                    height: thumbVerticalHeight,\n                    transform: 'translateY(' + thumbVerticalY + 'px)'\n                };\n                if (hideTracksWhenNotNeeded) {\n                    var trackHorizontalStyle = {\n                        visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n                    };\n                    var trackVerticalStyle = {\n                        visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n                    };\n                    (0, _domCss2[\"default\"])(this.trackHorizontal, trackHorizontalStyle);\n                    (0, _domCss2[\"default\"])(this.trackVertical, trackVerticalStyle);\n                }\n                (0, _domCss2[\"default\"])(this.thumbHorizontal, thumbHorizontalStyle);\n                (0, _domCss2[\"default\"])(this.thumbVertical, thumbVerticalStyle);\n            }\n            if (onUpdate) onUpdate(values);\n            if (typeof callback !== 'function') return;\n            callback(values);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var scrollbarWidth = (0, _getScrollbarWidth2[\"default\"])();\n            /* eslint-disable no-unused-vars */\n\n            var _props5 = this.props,\n                onScroll = _props5.onScroll,\n                onScrollFrame = _props5.onScrollFrame,\n                onScrollStart = _props5.onScrollStart,\n                onScrollStop = _props5.onScrollStop,\n                onUpdate = _props5.onUpdate,\n                renderView = _props5.renderView,\n                renderTrackHorizontal = _props5.renderTrackHorizontal,\n                renderTrackVertical = _props5.renderTrackVertical,\n                renderThumbHorizontal = _props5.renderThumbHorizontal,\n                renderThumbVertical = _props5.renderThumbVertical,\n                tagName = _props5.tagName,\n                hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n                autoHide = _props5.autoHide,\n                autoHideTimeout = _props5.autoHideTimeout,\n                autoHideDuration = _props5.autoHideDuration,\n                thumbSize = _props5.thumbSize,\n                thumbMinSize = _props5.thumbMinSize,\n                universal = _props5.universal,\n                autoHeight = _props5.autoHeight,\n                autoHeightMin = _props5.autoHeightMin,\n                autoHeightMax = _props5.autoHeightMax,\n                style = _props5.style,\n                children = _props5.children,\n                props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n            /* eslint-enable no-unused-vars */\n\n            var didMountUniversal = this.state.didMountUniversal;\n\n\n            var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }), style);\n\n            var viewStyle = _extends({}, _styles.viewStyleDefault, {\n                // Hide scrollbars by setting a negative margin\n                marginRight: scrollbarWidth ? -scrollbarWidth : 0,\n                marginBottom: scrollbarWidth ? -scrollbarWidth : 0\n            }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n                // Add scrollbarWidth to autoHeight in order to compensate negative margins\n                minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,\n                maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth\n            }), autoHeight && universal && !didMountUniversal && {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n            var trackAutoHeightStyle = {\n                transition: 'opacity ' + autoHideDuration + 'ms',\n                opacity: 0\n            };\n\n            var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: function ref(_ref3) {\n                    _this7.container = _ref3;\n                } }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: function ref(_ref4) {\n                    _this7.view = _ref4;\n                } }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: function ref(_ref5) {\n                    _this7.trackHorizontal = _ref5;\n                } }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: function ref(_ref6) {\n                    _this7.thumbHorizontal = _ref6;\n                } })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: function ref(_ref7) {\n                    _this7.trackVertical = _ref7;\n                } }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: function ref(_ref8) {\n                    _this7.thumbVertical = _ref8;\n                } }))]);\n        }\n    }]);\n\n    return Scrollbars;\n}(_react.Component);\n\nexports[\"default\"] = Scrollbars;\n\n\nScrollbars.propTypes = {\n    onScroll: _propTypes2[\"default\"].func,\n    onScrollFrame: _propTypes2[\"default\"].func,\n    onScrollStart: _propTypes2[\"default\"].func,\n    onScrollStop: _propTypes2[\"default\"].func,\n    onUpdate: _propTypes2[\"default\"].func,\n    renderView: _propTypes2[\"default\"].func,\n    renderTrackHorizontal: _propTypes2[\"default\"].func,\n    renderTrackVertical: _propTypes2[\"default\"].func,\n    renderThumbHorizontal: _propTypes2[\"default\"].func,\n    renderThumbVertical: _propTypes2[\"default\"].func,\n    tagName: _propTypes2[\"default\"].string,\n    thumbSize: _propTypes2[\"default\"].number,\n    thumbMinSize: _propTypes2[\"default\"].number,\n    hideTracksWhenNotNeeded: _propTypes2[\"default\"].bool,\n    autoHide: _propTypes2[\"default\"].bool,\n    autoHideTimeout: _propTypes2[\"default\"].number,\n    autoHideDuration: _propTypes2[\"default\"].number,\n    autoHeight: _propTypes2[\"default\"].bool,\n    autoHeightMin: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    autoHeightMax: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    universal: _propTypes2[\"default\"].bool,\n    style: _propTypes2[\"default\"].object,\n    children: _propTypes2[\"default\"].node\n};\n\nScrollbars.defaultProps = {\n    renderView: _defaultRenderElements.renderViewDefault,\n    renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n    renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n    renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n    renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n    tagName: 'div',\n    thumbMinSize: 30,\n    hideTracksWhenNotNeeded: false,\n    autoHide: false,\n    autoHideTimeout: 1000,\n    autoHideDuration: 200,\n    autoHeight: false,\n    autoHeightMin: 0,\n    autoHeightMax: 200,\n    universal: false\n};\n\n\n/***/ }),\n\n/***/ 2285:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar now = __webpack_require__(2286)\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2286:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(128)))\n\n/***/ }),\n\n/***/ 2287:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar div = null\nvar prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]\n\nmodule.exports = function prefixStyle (prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div')\n  }\n\n  var style = div.style\n\n  // prop exists without prefix\n  if (prop in style) {\n    return prop\n  }\n\n  // borderRadius -> BorderRadius\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)\n\n  // find the vendor-prefixed prop\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase\n    // e.g. WebkitBorderRadius or webkitBorderRadius\n    if (name in style) {\n      return name\n    }\n  }\n\n  return false\n}\n\n\n\n/***/ }),\n\n/***/ 2288:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\nvar space = __webpack_require__(2289)\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n\n\n\n/***/ }),\n\n/***/ 2289:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\nvar clean = __webpack_require__(2290)\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n\n/***/ }),\n\n/***/ 2290:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n\n/***/ }),\n\n/***/ 2291:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function(name, value) {\n  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};\n\n\n/***/ }),\n\n/***/ 2292:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nif (false) {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(2293)();\n}\n\n\n\n/***/ }),\n\n/***/ 2293:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = __webpack_require__(169);\nvar invariant = __webpack_require__(129);\nvar ReactPropTypesSecret = __webpack_require__(2294);\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n/***/ }),\n\n/***/ 2294:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n/***/ }),\n\n/***/ 2295:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = isString;\nfunction isString(maybe) {\n    return typeof maybe === 'string';\n}\n\n\n/***/ }),\n\n/***/ 2296:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getScrollbarWidth;\n\nvar _domCss = __webpack_require__(2065);\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar scrollbarWidth = false;\n\nfunction getScrollbarWidth() {\n    if (scrollbarWidth !== false) return scrollbarWidth;\n    /* istanbul ignore else */\n    if (typeof document !== 'undefined') {\n        var div = document.createElement('div');\n        (0, _domCss2[\"default\"])(div, {\n            width: 100,\n            height: 100,\n            position: 'absolute',\n            top: -9999,\n            overflow: 'scroll',\n            MsOverflowStyle: 'scrollbar'\n        });\n        document.body.appendChild(div);\n        scrollbarWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n    } else {\n        scrollbarWidth = 0;\n    }\n    return scrollbarWidth || 0;\n}\n\n\n/***/ }),\n\n/***/ 2297:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = returnFalse;\nfunction returnFalse() {\n    return false;\n}\n\n\n/***/ }),\n\n/***/ 2298:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerWidth;\nfunction getInnerWidth(el) {\n    var clientWidth = el.clientWidth;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingLeft = _getComputedStyle.paddingLeft,\n        paddingRight = _getComputedStyle.paddingRight;\n\n    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}\n\n\n/***/ }),\n\n/***/ 2299:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerHeight;\nfunction getInnerHeight(el) {\n    var clientHeight = el.clientHeight;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingTop = _getComputedStyle.paddingTop,\n        paddingBottom = _getComputedStyle.paddingBottom;\n\n    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}\n\n\n/***/ }),\n\n/***/ 2300:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar containerStyleDefault = exports.containerStyleDefault = {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%'\n};\n\n// Overrides containerStyleDefault properties\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n    height: 'auto'\n};\n\nvar viewStyleDefault = exports.viewStyleDefault = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'scroll',\n    WebkitOverflowScrolling: 'touch'\n};\n\n// Overrides viewStyleDefault properties\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n    position: 'relative',\n    top: undefined,\n    left: undefined,\n    right: undefined,\n    bottom: undefined\n};\n\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n    overflow: 'hidden',\n    marginRight: 0,\n    marginBottom: 0\n};\n\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n    position: 'absolute',\n    height: 6\n};\n\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n    position: 'absolute',\n    width: 6\n};\n\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    height: '100%'\n};\n\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    width: '100%'\n};\n\nvar disableSelectStyle = exports.disableSelectStyle = {\n    userSelect: 'none'\n};\n\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n    userSelect: ''\n};\n\n\n/***/ }),\n\n/***/ 2301:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/* eslint-disable react/prop-types */\n\nfunction renderViewDefault(props) {\n    return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n    var style = _ref.style,\n        props = _objectWithoutProperties(_ref, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        left: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n    var style = _ref2.style,\n        props = _objectWithoutProperties(_ref2, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        top: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n    var style = _ref3.style,\n        props = _objectWithoutProperties(_ref3, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n    var style = _ref4.style,\n        props = _objectWithoutProperties(_ref4, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\n\n/***/ }),\n\n/***/ 2302:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _preferences = __webpack_require__(62);\n\nvar _posts = __webpack_require__(74);\n\nvar _constants = __webpack_require__(25);\n\nvar _create_comment = __webpack_require__(2303);\n\nvar _rhs = __webpack_require__(218);\n\nvar _create_comment2 = __webpack_require__(2304);\n\nvar _create_comment3 = _interopRequireDefault(_create_comment2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    var err = state.requests.posts.createPost.error || {};\n\n    var getCommentDraft = (0, _rhs.makeGetCommentDraft)(ownProps.rootId);\n\n    var draft = getCommentDraft(state);\n\n    var enableAddButton = draft.message.trim().length !== 0 || draft.fileInfos.length !== 0;\n\n    return {\n        draft: draft,\n        enableAddButton: enableAddButton,\n        ctrlSend: (0, _preferences.getBool)(state, _constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        createPostErrorId: err.server_error_id\n    };\n}\n\nfunction makeOnUpdateCommentDraft(rootId) {\n    return function (draft) {\n        return (0, _create_comment.updateCommentDraft)(rootId, draft);\n    };\n}\n\nfunction makeMapDispatchToProps() {\n    var onUpdateCommentDraft = void 0;\n    var onSubmit = void 0;\n    var onMoveHistoryIndexBack = void 0;\n    var onMoveHistoryIndexForward = void 0;\n    var onEditLatestPost = void 0;\n\n    function onResetHistoryIndex() {\n        return (0, _posts.resetHistoryIndex)(_constants.Posts.MESSAGE_TYPES.COMMENT);\n    }\n\n    var rootId = void 0;\n    var channelId = void 0;\n    var latestPostId = void 0;\n\n    return function (dispatch, ownProps) {\n        if (rootId !== ownProps.rootId) {\n            onUpdateCommentDraft = makeOnUpdateCommentDraft(ownProps.rootId);\n            onMoveHistoryIndexBack = (0, _create_comment.makeOnMoveHistoryIndex)(ownProps.rootId, -1);\n            onMoveHistoryIndexForward = (0, _create_comment.makeOnMoveHistoryIndex)(ownProps.rootId, 1);\n        }\n\n        if (rootId !== ownProps.rootId || channelId !== ownProps.channelId) {\n            onEditLatestPost = (0, _create_comment.makeOnEditLatestPost)(ownProps.channelId, ownProps.rootId);\n        }\n\n        if (rootId !== ownProps.rootId || channelId !== ownProps.channelId || latestPostId !== ownProps.latestPostId) {\n            onSubmit = (0, _create_comment.makeOnSubmit)(ownProps.channelId, ownProps.rootId, ownProps.latestPostId);\n        }\n\n        rootId = ownProps.rootId;\n        channelId = ownProps.channelId;\n        latestPostId = ownProps.latestPostId;\n\n        return (0, _redux.bindActionCreators)({\n            clearCommentDraftUploads: _create_comment.clearCommentDraftUploads,\n            onUpdateCommentDraft: onUpdateCommentDraft,\n            onSubmit: onSubmit,\n            onResetHistoryIndex: onResetHistoryIndex,\n            onMoveHistoryIndexBack: onMoveHistoryIndexBack,\n            onMoveHistoryIndexForward: onMoveHistoryIndexForward,\n            onEditLatestPost: onEditLatestPost\n        }, dispatch);\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, makeMapDispatchToProps)(_create_comment3.default);\n\n/***/ }),\n\n/***/ 2303:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(45);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _promise = __webpack_require__(288);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.clearCommentDraftUploads = clearCommentDraftUploads;\nexports.updateCommentDraft = updateCommentDraft;\nexports.makeOnMoveHistoryIndex = makeOnMoveHistoryIndex;\nexports.submitPost = submitPost;\nexports.submitReaction = submitReaction;\nexports.submitCommand = submitCommand;\nexports.makeOnSubmit = makeOnSubmit;\nexports.makeOnEditLatestPost = makeOnEditLatestPost;\n\nvar _reselect = __webpack_require__(63);\n\nvar _users = __webpack_require__(46);\n\nvar _teams = __webpack_require__(81);\n\nvar _posts = __webpack_require__(92);\n\nvar _emojis = __webpack_require__(225);\n\nvar _posts2 = __webpack_require__(74);\n\nvar _constants = __webpack_require__(25);\n\nvar _post_actions = __webpack_require__(71);\n\nvar PostActions = _interopRequireWildcard(_post_actions);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _storage = __webpack_require__(289);\n\nvar _emoji_store = __webpack_require__(127);\n\nvar _rhs = __webpack_require__(218);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants2 = __webpack_require__(9);\n\nvar _create_post = __webpack_require__(1964);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction clearCommentDraftUploads() {\n    return (0, _storage.actionOnGlobalItemsWithPrefix)(_constants2.StoragePrefixes.COMMENT_DRAFT, function (key, value) {\n        if (value) {\n            return (0, _extends3.default)({}, value, { uploadsInProgress: [] });\n        }\n        return value;\n    });\n}\n\nfunction updateCommentDraft(rootId, draft) {\n    return (0, _storage.setGlobalItem)('' + _constants2.StoragePrefixes.COMMENT_DRAFT + rootId, draft);\n}\n\nfunction makeOnMoveHistoryIndex(rootId, direction) {\n    var getMessageInHistory = (0, _posts.makeGetMessageInHistoryItem)(_constants.Posts.MESSAGE_TYPES.COMMENT);\n    var getCommentDraft = (0, _rhs.makeGetCommentDraft)(rootId);\n\n    return function () {\n        return function (dispatch, getState) {\n            var draft = getCommentDraft(getState());\n\n            if (draft.message !== '' && draft.message !== getMessageInHistory(getState())) {\n                return;\n            }\n\n            if (direction === -1) {\n                dispatch((0, _posts2.moveHistoryIndexBack)(_constants.Posts.MESSAGE_TYPES.COMMENT));\n            } else if (direction === 1) {\n                dispatch((0, _posts2.moveHistoryIndexForward)(_constants.Posts.MESSAGE_TYPES.COMMENT));\n            }\n\n            var nextMessageInHistory = getMessageInHistory(getState());\n\n            dispatch(updateCommentDraft(rootId, (0, _extends3.default)({}, draft, { message: nextMessageInHistory })));\n        };\n    };\n}\n\nfunction submitPost(channelId, rootId, draft) {\n    return function (dispatch, getState) {\n        var state = getState();\n\n        var userId = (0, _users.getCurrentUserId)(state);\n\n        var time = Utils.getTimestamp();\n\n        var post = {\n            file_ids: [],\n            message: draft.message,\n            channel_id: channelId,\n            root_id: rootId,\n            parent_id: rootId,\n            pending_post_id: userId + ':' + time,\n            user_id: userId,\n            create_at: time\n        };\n\n        GlobalActions.emitUserCommentedEvent(post);\n\n        PostActions.createPost(post, draft.fileInfos);\n    };\n}\n\nfunction submitReaction(postId, action, emojiName) {\n    return function (dispatch) {\n        if (action === '+') {\n            dispatch((0, _posts2.addReaction)(postId, emojiName));\n        } else if (action === '-') {\n            dispatch((0, _posts2.removeReaction)(postId, emojiName));\n        }\n    };\n}\n\nfunction submitCommand(channelId, rootId, draft) {\n    return function (dispatch, getState) {\n        var state = getState();\n\n        var teamId = (0, _teams.getCurrentTeamId)(state);\n\n        var args = {\n            channel_id: channelId,\n            team_id: teamId,\n            root_id: rootId,\n            parent_id: rootId\n        };\n\n        var message = draft.message;\n\n\n        return new _promise2.default(function (resolve, reject) {\n            ChannelActions.executeCommand(message, args, resolve, function (err) {\n                if (err.sendMessage) {\n                    dispatch(submitPost(channelId, rootId, draft));\n                } else {\n                    reject(err);\n                }\n            });\n        });\n    };\n}\n\nfunction makeOnSubmit(channelId, rootId, latestPostId) {\n    var _this = this;\n\n    var getCommentDraft = (0, _rhs.makeGetCommentDraft)(rootId);\n\n    return function () {\n        return function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(dispatch, getState) {\n                var draft, message, isReaction, emojis, emojiMap;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                draft = getCommentDraft(getState());\n                                message = draft.message;\n\n\n                                dispatch((0, _posts2.addMessageIntoHistory)(message));\n\n                                dispatch(updateCommentDraft(rootId, null));\n\n                                isReaction = _create_post.REACTION_PATTERN.exec(message);\n                                emojis = (0, _emojis.getCustomEmojisByName)(getState());\n                                emojiMap = new _emoji_store.EmojiMap(emojis);\n\n                                if (!(isReaction && emojiMap.has(isReaction[2]))) {\n                                    _context.next = 11;\n                                    break;\n                                }\n\n                                dispatch(submitReaction(latestPostId, isReaction[1], isReaction[2]));\n                                _context.next = 17;\n                                break;\n\n                            case 11:\n                                if (!(message.indexOf('/') === 0)) {\n                                    _context.next = 16;\n                                    break;\n                                }\n\n                                _context.next = 14;\n                                return dispatch(submitCommand(channelId, rootId, draft));\n\n                            case 14:\n                                _context.next = 17;\n                                break;\n\n                            case 16:\n                                dispatch(submitPost(channelId, rootId, draft));\n\n                            case 17:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this);\n            }));\n\n            return function (_x, _x2) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n    };\n}\n\nfunction makeGetCurrentUsersLatestPost(channelId, rootId) {\n    return (0, _reselect.createSelector)(_users.getCurrentUserId, function (state) {\n        return state.entities.posts.postsInChannel[channelId];\n    }, function (state) {\n        return function (id) {\n            return (0, _posts.getPost)(state, id);\n        };\n    }, function (userId, postIds, getPostById) {\n        var lastPost = null;\n\n        if (!postIds) {\n            return lastPost;\n        }\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = (0, _getIterator3.default)(postIds), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var id = _step.value;\n\n                var post = getPostById(id) || {};\n\n                // don't edit webhook posts, deleted posts, or system messages\n                if (post.user_id !== userId || post.props && post.props.from_webhook || post.state === _constants2.Constants.POST_DELETED || post.type && post.type.startsWith(_constants2.Constants.SYSTEM_MESSAGE_PREFIX)) {\n                    continue;\n                }\n\n                if (rootId) {\n                    if (post.root_id === rootId || post.id === rootId) {\n                        lastPost = post;\n                        break;\n                    }\n                } else {\n                    lastPost = post;\n                    break;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return lastPost;\n    });\n}\n\nfunction makeOnEditLatestPost(channelId, rootId) {\n    var getCurrentUsersLatestPost = makeGetCurrentUsersLatestPost(channelId, rootId);\n    var getCommentCount = (0, _posts.makeGetCommentCountForPost)();\n\n    return function () {\n        return function (dispatch, getState) {\n            var state = getState();\n\n            var lastPost = getCurrentUsersLatestPost(state);\n\n            if (!lastPost) {\n                return;\n            }\n\n            dispatch(PostActions.setEditingPost(lastPost.id, getCommentCount(state, { post: lastPost }), '#reply_textbox', Utils.localizeMessage('create_comment.commentTitle', 'Comment')));\n        };\n    };\n}\n\n/***/ }),\n\n/***/ 2304:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(115);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _emoji_picker_overlay = __webpack_require__(284);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _file_preview = __webpack_require__(700);\n\nvar _file_preview2 = _interopRequireDefault(_file_preview);\n\nvar _file_upload = __webpack_require__(701);\n\nvar _file_upload2 = _interopRequireDefault(_file_upload);\n\nvar _msg_typing = __webpack_require__(702);\n\nvar _msg_typing2 = _interopRequireDefault(_msg_typing);\n\nvar _post_deleted_modal = __webpack_require__(703);\n\nvar _post_deleted_modal2 = _interopRequireDefault(_post_deleted_modal);\n\nvar _textbox = __webpack_require__(393);\n\nvar _textbox2 = _interopRequireDefault(_textbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar KeyCodes = _constants2.default.KeyCodes;\n\nvar CreateComment = function (_React$PureComponent) {\n    (0, _inherits3.default)(CreateComment, _React$PureComponent);\n\n    function CreateComment(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, CreateComment);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CreateComment.__proto__ || (0, _getPrototypeOf2.default)(CreateComment)).call(this, props));\n\n        _this.toggleEmojiPicker = function () {\n            _this.setState({ showEmojiPicker: !_this.state.showEmojiPicker });\n        };\n\n        _this.hideEmojiPicker = function () {\n            _this.setState({ showEmojiPicker: false });\n        };\n\n        _this.handleEmojiClick = function (emoji) {\n            var emojiAlias = emoji.name || emoji.aliases[0];\n\n            if (!emojiAlias) {\n                //Oops.. There went something wrong\n                return;\n            }\n\n            var draft = _this.state.draft;\n\n\n            var newMessage = '';\n            if (draft.message === '') {\n                newMessage = ':' + emojiAlias + ': ';\n            } else if (/\\s+$/.test(draft.message)) {\n                // Check whether there is already a blank at the end of the current message\n                newMessage = draft.message + ':' + emojiAlias + ': ';\n            } else {\n                newMessage = draft.message + ' :' + emojiAlias + ': ';\n            }\n\n            _this.props.onUpdateCommentDraft((0, _extends3.default)({}, draft, { message: newMessage }));\n\n            _this.setState({\n                showEmojiPicker: false,\n                draft: (0, _extends3.default)({}, draft, { message: newMessage })\n            });\n\n            _this.focusTextbox();\n        };\n\n        _this.handlePostError = function (postError) {\n            _this.setState({ postError: postError });\n        };\n\n        _this.handleSubmit = function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(e) {\n                var enableAddButton, draft, fasterThanHumanWillClick, forceFocus;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                e.preventDefault();\n\n                                enableAddButton = _this.props.enableAddButton;\n                                draft = _this.state.draft;\n\n                                if (enableAddButton) {\n                                    _context.next = 5;\n                                    break;\n                                }\n\n                                return _context.abrupt('return');\n\n                            case 5:\n                                if (!(draft.uploadsInProgress.length > 0)) {\n                                    _context.next = 7;\n                                    break;\n                                }\n\n                                return _context.abrupt('return');\n\n                            case 7:\n                                if (!_this.state.postError) {\n                                    _context.next = 11;\n                                    break;\n                                }\n\n                                _this.setState({ errorClass: 'animation--highlight' });\n                                setTimeout(function () {\n                                    _this.setState({ errorClass: null });\n                                }, _constants2.default.ANIMATION_TIMEOUT);\n                                return _context.abrupt('return');\n\n                            case 11:\n                                _context.prev = 11;\n                                _context.next = 14;\n                                return _this.props.onSubmit();\n\n                            case 14:\n\n                                _this.setState({\n                                    postError: null,\n                                    serverError: null\n                                });\n                                _context.next = 20;\n                                break;\n\n                            case 17:\n                                _context.prev = 17;\n                                _context.t0 = _context['catch'](11);\n\n                                _this.setState({ serverError: _context.t0.message });\n\n                            case 20:\n                                fasterThanHumanWillClick = 150;\n                                forceFocus = Date.now() - _this.lastBlurAt < fasterThanHumanWillClick;\n\n                                _this.setState({ draft: (0, _extends3.default)({}, _this.props.draft, { uploadsInProgress: [] }) });\n                                _this.focusTextbox(forceFocus);\n\n                            case 24:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2, [[11, 17]]);\n            }));\n\n            return function (_x) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n\n        _this.commentMsgKeyPress = function (e) {\n            if (!UserAgent.isMobile() && (_this.props.ctrlSend && e.ctrlKey || !_this.props.ctrlSend)) {\n                if (e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                    e.preventDefault();\n                    _this.refs.textbox.blur();\n                    _this.handleSubmit(e);\n                }\n            }\n\n            GlobalActions.emitLocalUserTypingEvent(_this.props.channelId, _this.props.rootId);\n        };\n\n        _this.scrollToBottom = function () {\n            var $el = (0, _jquery2.default)('.post-right__scroll');\n            if ($el[0]) {\n                $el.parent().scrollTop($el[0].scrollHeight);\n            }\n        };\n\n        _this.handleChange = function (e) {\n            var message = e.target.value;\n\n            var draft = _this.state.draft;\n\n            var updatedDraft = (0, _extends3.default)({}, draft, { message: message });\n            _this.props.onUpdateCommentDraft(updatedDraft);\n            _this.setState({ draft: updatedDraft });\n\n            _this.scrollToBottom();\n        };\n\n        _this.handleKeyDown = function (e) {\n            if (_this.props.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey) {\n                _this.commentMsgKeyPress(e);\n                return;\n            }\n\n            var draft = _this.state.draft;\n            var message = draft.message;\n\n\n            if (!e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && e.keyCode === KeyCodes.UP && message === '') {\n                e.preventDefault();\n                _this.props.onEditLatestPost();\n            }\n\n            if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\n                if (e.keyCode === _constants2.default.KeyCodes.UP) {\n                    e.preventDefault();\n                    _this.props.onMoveHistoryIndexBack();\n                } else if (e.keyCode === _constants2.default.KeyCodes.DOWN) {\n                    e.preventDefault();\n                    _this.props.onMoveHistoryIndexForward();\n                }\n            }\n        };\n\n        _this.handleFileUploadChange = function () {\n            _this.focusTextbox();\n        };\n\n        _this.handleUploadStart = function (clientIds) {\n            var draft = _this.state.draft;\n\n            var uploadsInProgress = [].concat((0, _toConsumableArray3.default)(draft.uploadsInProgress), (0, _toConsumableArray3.default)(clientIds));\n\n            _this.props.onUpdateCommentDraft((0, _extends3.default)({}, draft, { uploadsInProgress: uploadsInProgress }));\n            _this.setState({ draft: (0, _extends3.default)({}, draft, { uploadsInProgress: uploadsInProgress }) });\n\n            // this is a bit redundant with the code that sets focus when the file input is clicked,\n            // but this also resets the focus after a drag and drop\n            _this.focusTextbox();\n        };\n\n        _this.handleFileUploadComplete = function (fileInfos, clientIds) {\n            var draft = _this.state.draft;\n\n            var uploadsInProgress = [].concat((0, _toConsumableArray3.default)(draft.uploadsInProgress));\n            var newFileInfos = [].concat((0, _toConsumableArray3.default)(draft.fileInfos), (0, _toConsumableArray3.default)(fileInfos));\n\n            // remove each finished file from uploads\n            for (var i = 0; i < clientIds.length; i++) {\n                var index = uploadsInProgress.indexOf(clientIds[i]);\n\n                if (index !== -1) {\n                    uploadsInProgress.splice(index, 1);\n                }\n            }\n\n            _this.props.onUpdateCommentDraft((0, _extends3.default)({}, draft, { fileInfos: newFileInfos, uploadsInProgress: uploadsInProgress }));\n            _this.setState({ draft: (0, _extends3.default)({}, draft, { fileInfos: newFileInfos, uploadsInProgress: uploadsInProgress }) });\n\n            // Focus on preview if needed/possible - if user has switched teams since starting the file upload,\n            // the preview will be undefined and the switch will fail\n            if (typeof _this.refs.preview != 'undefined' && _this.refs.preview) {\n                _this.refs.preview.refs.container.scrollIntoView();\n            }\n        };\n\n        _this.handleUploadError = function (err) {\n            var clientId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n\n            if (clientId !== -1) {\n                var draft = _this.state.draft;\n\n                var uploadsInProgress = [].concat((0, _toConsumableArray3.default)(draft.uploadsInProgress));\n\n                var index = uploadsInProgress.indexOf(clientId);\n                if (index !== -1) {\n                    uploadsInProgress.splice(index, 1);\n                }\n\n                _this.props.onUpdateCommentDraft((0, _extends3.default)({}, draft, { uploadsInProgress: uploadsInProgress }));\n                _this.setState({ draft: (0, _extends3.default)({}, draft, { uploadsInProgress: uploadsInProgress }) });\n            }\n\n            _this.setState({ serverError: err });\n        };\n\n        _this.removePreview = function (id) {\n            var draft = _this.state.draft;\n\n            var fileInfos = [].concat((0, _toConsumableArray3.default)(draft.fileInfos));\n            var uploadsInProgress = [].concat((0, _toConsumableArray3.default)(draft.uploadsInProgress));\n\n            // Clear previous errors\n            _this.handleUploadError(null);\n\n            // id can either be the id of an uploaded file or the client id of an in progress upload\n            var index = fileInfos.findIndex(function (info) {\n                return info.id === id;\n            });\n            if (index === -1) {\n                index = uploadsInProgress.indexOf(id);\n\n                if (index !== -1) {\n                    uploadsInProgress.splice(index, 1);\n\n                    if (_this.refs.fileUpload) {\n                        _this.refs.fileUpload.getWrappedInstance().cancelUpload(id);\n                    }\n                }\n            } else {\n                fileInfos.splice(index, 1);\n            }\n\n            _this.props.onUpdateCommentDraft((0, _extends3.default)({}, draft, { fileInfos: fileInfos, uploadsInProgress: uploadsInProgress }));\n            _this.setState({ draft: (0, _extends3.default)({}, draft, { fileInfos: fileInfos, uploadsInProgress: uploadsInProgress }) });\n\n            _this.handleFileUploadChange();\n        };\n\n        _this.getFileCount = function () {\n            var _this$state$draft = _this.state.draft,\n                fileInfos = _this$state$draft.fileInfos,\n                uploadsInProgress = _this$state$draft.uploadsInProgress;\n\n            return fileInfos.length + uploadsInProgress.length;\n        };\n\n        _this.getFileUploadTarget = function () {\n            return _this.refs.textbox;\n        };\n\n        _this.getCreateCommentControls = function () {\n            return _this.refs.createCommentControls;\n        };\n\n        _this.focusTextbox = function () {\n            var keepFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (_this.refs.textbox && (keepFocus || !UserAgent.isMobile())) {\n                _this.refs.textbox.focus();\n            }\n        };\n\n        _this.showPostDeletedModal = function () {\n            _this.setState({\n                showPostDeletedModal: true\n            });\n        };\n\n        _this.hidePostDeletedModal = function () {\n            _this.setState({\n                showPostDeletedModal: false\n            });\n        };\n\n        _this.handleBlur = function () {\n            _this.lastBlurAt = Date.now();\n        };\n\n        _this.state = {\n            showPostDeletedModal: false,\n            showEmojiPicker: false,\n            draft: {\n                message: '',\n                uploadsInProgress: [],\n                fileInfos: []\n            }\n        };\n\n        _this.lastBlurAt = 0;\n        return _this;\n    }\n\n    (0, _createClass3.default)(CreateComment, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            this.props.clearCommentDraftUploads();\n            this.props.onResetHistoryIndex();\n            this.setState({ draft: (0, _extends3.default)({}, this.props.draft, { uploadsInProgress: [] }) });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.focusTextbox();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.createPostErrorId === 'api.post.create_post.root_id.app_error' && newProps.createPostErrorId !== this.props.createPostErrorId) {\n                this.showPostDeletedModal();\n            }\n            if (newProps.rootId !== this.props.rootId) {\n                this.setState({ draft: (0, _extends3.default)({}, newProps.draft, { uploadsInProgress: [] }) });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (prevState.draft.uploadsInProgress.length < this.state.draft.uploadsInProgress.length) {\n                this.scrollToBottom();\n            }\n\n            if (prevProps.rootId !== this.props.rootId) {\n                this.focusTextbox();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var draft = this.state.draft;\n\n\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.serverError\n                    )\n                );\n            }\n\n            var postError = null;\n            if (this.state.postError) {\n                var postErrorClass = 'post-error' + (this.state.errorClass ? ' ' + this.state.errorClass : '');\n                postError = _react2.default.createElement(\n                    'label',\n                    { className: postErrorClass },\n                    this.state.postError\n                );\n            }\n\n            var preview = null;\n            if (draft.fileInfos.length > 0 || draft.uploadsInProgress.length > 0) {\n                preview = _react2.default.createElement(_file_preview2.default, {\n                    fileInfos: draft.fileInfos,\n                    onRemove: this.removePreview,\n                    uploadsInProgress: draft.uploadsInProgress,\n                    ref: 'preview'\n                });\n            }\n\n            var uploadsInProgressText = null;\n            if (draft.uploadsInProgress.length > 0) {\n                uploadsInProgressText = _react2.default.createElement(\n                    'span',\n                    { className: 'pull-right post-right-comments-upload-in-progress' },\n                    draft.uploadsInProgress.length === 1 ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'create_comment.file',\n                        defaultMessage: 'File uploading'\n                    }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'create_comment.files',\n                        defaultMessage: 'Files uploading'\n                    })\n                );\n            }\n\n            var addButtonClass = 'btn btn-primary comment-btn pull-right';\n            if (!this.props.enableAddButton) {\n                addButtonClass += ' disabled';\n            }\n\n            var fileUpload = _react2.default.createElement(_file_upload2.default, {\n                ref: 'fileUpload',\n                getFileCount: this.getFileCount,\n                getTarget: this.getFileUploadTarget,\n                onFileUploadChange: this.handleFileUploadChange,\n                onUploadStart: this.handleUploadStart,\n                onFileUpload: this.handleFileUploadComplete,\n                onUploadError: this.handleUploadError,\n                postType: 'comment',\n                channelId: this.props.channelId\n            });\n\n            var emojiPicker = null;\n            if (window.mm_config.EnableEmojiPicker === 'true') {\n                emojiPicker = _react2.default.createElement(\n                    'span',\n                    { className: 'emoji-picker__container' },\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        container: this.props.getSidebarBody,\n                        target: this.getCreateCommentControls,\n                        onHide: this.hideEmojiPicker,\n                        onEmojiClick: this.handleEmojiClick,\n                        rightOffset: 15,\n                        topOffset: 55\n                    }),\n                    _react2.default.createElement('span', {\n                        className: 'icon icon--emoji emoji-rhs ' + (this.state.showEmojiPicker ? 'active' : ''),\n                        dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG },\n                        onClick: this.toggleEmojiPicker\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'form',\n                { onSubmit: this.handleSubmit },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post-create' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: this.props.rootId,\n                            className: 'post-create-body comment-create-body'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post-body__cell' },\n                            _react2.default.createElement(_textbox2.default, {\n                                onChange: this.handleChange,\n                                onKeyPress: this.commentMsgKeyPress,\n                                onKeyDown: this.handleKeyDown,\n                                handlePostError: this.handlePostError,\n                                value: draft.message,\n                                onBlur: this.handleBlur,\n                                createMessage: Utils.localizeMessage('create_comment.addComment', 'Add a comment...'),\n                                emojiEnabled: window.mm_config.EnableEmojiPicker === 'true',\n                                initialText: '',\n                                channelId: this.props.channelId,\n                                isRHS: true,\n                                popoverMentionKeyClick: true,\n                                id: 'reply_textbox',\n                                ref: 'textbox'\n                            }),\n                            _react2.default.createElement(\n                                'span',\n                                {\n                                    ref: 'createCommentControls',\n                                    className: 'post-body__actions'\n                                },\n                                fileUpload,\n                                emojiPicker\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(_msg_typing2.default, {\n                        channelId: this.props.channelId,\n                        parentId: this.props.rootId\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-create-footer' },\n                        _react2.default.createElement('input', {\n                            type: 'button',\n                            className: addButtonClass,\n                            value: Utils.localizeMessage('create_comment.comment', 'Add Comment'),\n                            onClick: this.handleSubmit\n                        }),\n                        uploadsInProgressText,\n                        postError,\n                        preview,\n                        serverError\n                    )\n                ),\n                _react2.default.createElement(_post_deleted_modal2.default, {\n                    show: this.state.showPostDeletedModal,\n                    onHide: this.hidePostDeletedModal\n                })\n            );\n        }\n    }]);\n    return CreateComment;\n}(_react2.default.PureComponent);\n\nCreateComment.propTypes = {\n\n    /**\n     * The channel for which this comment is a part of\n     */\n    channelId: _propTypes2.default.string.isRequired,\n\n    /**\n     * The id of the parent post\n     */\n    rootId: _propTypes2.default.string.isRequired,\n\n    /**\n     * The current draft of the comment\n     */\n    draft: _propTypes2.default.shape({\n        message: _propTypes2.default.string.isRequired,\n        uploadsInProgress: _propTypes2.default.array.isRequired,\n        fileInfos: _propTypes2.default.array.isRequired\n    }).isRequired,\n\n    /**\n     * Whether the submit button is enabled\n     */\n    enableAddButton: _propTypes2.default.bool.isRequired,\n\n    /**\n     * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n     */\n    ctrlSend: _propTypes2.default.bool,\n\n    /**\n    * The id of the latest post in this channel\n    */\n    latestPostId: _propTypes2.default.string,\n\n    /**\n     * A function returning a ref to the sidebar\n     */\n    getSidebarBody: _propTypes2.default.func,\n\n    /**\n     * Create post error id\n     */\n    createPostErrorId: _propTypes2.default.string,\n\n    /**\n     * Called to clear file uploads in progress\n     */\n    clearCommentDraftUploads: _propTypes2.default.func.isRequired,\n\n    /**\n     * Called when comment draft needs to be updated\n     */\n    onUpdateCommentDraft: _propTypes2.default.func.isRequired,\n\n    /**\n     * Called when submitting the comment\n     */\n    onSubmit: _propTypes2.default.func.isRequired,\n\n    /**\n     * Called when resetting comment message history index\n     */\n    onResetHistoryIndex: _propTypes2.default.func.isRequired,\n\n    /**\n     * Called when navigating back through comment message history\n     */\n    onMoveHistoryIndexBack: _propTypes2.default.func.isRequired,\n\n    /**\n     * Called when navigating forward through comment message history\n     */\n    onMoveHistoryIndexForward: _propTypes2.default.func.isRequired,\n\n    /**\n     * Called to initiate editing the user's latest post\n     */\n    onEditLatestPost: _propTypes2.default.func.isRequired\n};\nexports.default = CreateComment;\n\n/***/ }),\n\n/***/ 2305:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DateSeparator = function (_React$PureComponent) {\n    (0, _inherits3.default)(DateSeparator, _React$PureComponent);\n\n    function DateSeparator() {\n        (0, _classCallCheck3.default)(this, DateSeparator);\n        return (0, _possibleConstructorReturn3.default)(this, (DateSeparator.__proto__ || (0, _getPrototypeOf2.default)(DateSeparator)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(DateSeparator, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'date-separator'\n                },\n                _react2.default.createElement('hr', { className: 'separator__hr' }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'separator__text' },\n                    _react2.default.createElement(_reactIntl.FormattedDate, {\n                        value: this.props.date,\n                        weekday: 'short',\n                        month: 'short',\n                        day: '2-digit',\n                        year: 'numeric'\n                    })\n                )\n            );\n        }\n    }]);\n    return DateSeparator;\n}(_react2.default.PureComponent); // Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nDateSeparator.propTypes = {\n\n    /*\n     * The date to display in the separator\n     */\n    date: _propTypes2.default.instanceOf(Date)\n};\nexports.default = DateSeparator;\n\n/***/ }),\n\n/***/ 2306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _post_actions = __webpack_require__(71);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _post_utils = __webpack_require__(83);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _dot_menu = __webpack_require__(661);\n\nvar _dot_menu2 = _interopRequireDefault(_dot_menu);\n\nvar _emoji_picker_overlay = __webpack_require__(284);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _file_attachment_list = __webpack_require__(662);\n\nvar _file_attachment_list2 = _interopRequireDefault(_file_attachment_list);\n\nvar _failed_post_options = __webpack_require__(705);\n\nvar _failed_post_options2 = _interopRequireDefault(_failed_post_options);\n\nvar _post_body_additional_content = __webpack_require__(667);\n\nvar _post_body_additional_content2 = _interopRequireDefault(_post_body_additional_content);\n\nvar _post_flag_icon = __webpack_require__(663);\n\nvar _post_flag_icon2 = _interopRequireDefault(_post_flag_icon);\n\nvar _post_message_view = __webpack_require__(664);\n\nvar _post_message_view2 = _interopRequireDefault(_post_message_view);\n\nvar _reaction_list = __webpack_require__(668);\n\nvar _reaction_list2 = _interopRequireDefault(_reaction_list);\n\nvar _profile_picture = __webpack_require__(165);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _user_profile = __webpack_require__(391);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RhsComment = function (_React$Component) {\n    (0, _inherits3.default)(RhsComment, _React$Component);\n\n    function RhsComment(props) {\n        (0, _classCallCheck3.default)(this, RhsComment);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsComment.__proto__ || (0, _getPrototypeOf2.default)(RhsComment)).call(this, props));\n\n        _this.toggleEmojiPicker = function () {\n            var showEmojiPicker = !_this.state.showEmojiPicker;\n\n            _this.setState({\n                showEmojiPicker: showEmojiPicker,\n                dropdownOpened: showEmojiPicker\n            });\n        };\n\n        _this.getClassName = function (post, isSystemMessage) {\n            var className = 'post post--thread';\n\n            if (_this.props.currentUser.id === post.user_id) {\n                className += ' current--user';\n            }\n\n            if (isSystemMessage) {\n                className += ' post--system';\n            }\n\n            if (_this.props.compactDisplay) {\n                className += ' post--compact';\n            }\n\n            if (post.is_pinned) {\n                className += ' post--pinned';\n            }\n\n            if (_this.state.dropdownOpened) {\n                className += ' post--hovered';\n            }\n\n            return className;\n        };\n\n        _this.removePost = _this.removePost.bind(_this);\n        _this.reactEmojiClick = _this.reactEmojiClick.bind(_this);\n        _this.handleDropdownOpened = _this.handleDropdownOpened.bind(_this);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            dropdownOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsComment, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'removePost',\n        value: function removePost() {\n            this.props.removePost(this.props.post);\n        }\n    }, {\n        key: 'createRemovePostButton',\n        value: function createRemovePostButton() {\n            return _react2.default.createElement(\n                'button',\n                {\n                    className: 'post__remove theme color--link style--none',\n                    type: 'button',\n                    onClick: this.removePost\n                },\n                ''\n            );\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (nextProps.status !== this.props.status) {\n                return true;\n            }\n\n            if (nextProps.isBusy !== this.props.isBusy) {\n                return true;\n            }\n\n            if (nextProps.compactDisplay !== this.props.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n                return true;\n            }\n\n            if (nextProps.lastPostCount !== this.props.lastPostCount) {\n                return true;\n            }\n\n            if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n                return true;\n            }\n\n            if (nextProps.isEmbedVisible !== this.props.isEmbedVisible) {\n                return true;\n            }\n\n            if (this.props.previewEnabled !== nextProps.previewEnabled) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post, timeOptions) {\n            var date = Utils.getDateForUnixTicks(post.create_at);\n\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'post__time',\n                    dateTime: date.toISOString(),\n                    title: date\n                },\n                date.toLocaleString('en', timeOptions)\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post, timeOptions) {\n            return Utils.isMobile() ? this.timeTag(post, timeOptions) : _react2.default.createElement(\n                _reactRouter.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    className: 'post__permalink'\n                },\n                this.timeTag(post, timeOptions)\n            );\n        }\n    }, {\n        key: 'reactEmojiClick',\n        value: function reactEmojiClick(emoji) {\n            this.setState({ showEmojiPicker: false });\n            var emojiName = emoji.name || emoji.aliases[0];\n            (0, _post_actions.addReaction)(this.props.post.channel_id, this.props.post.id, emojiName);\n            (0, _post_actions.emitEmojiPosted)(emojiName);\n            this.handleDropdownOpened(false);\n        }\n    }, {\n        key: 'handleDropdownOpened',\n        value: function handleDropdownOpened(isOpened) {\n            this.setState({\n                dropdownOpened: isOpened\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var post = this.props.post;\n            var mattermostLogo = _constants2.default.MATTERMOST_ICON_SVG;\n\n            var idCount = -1;\n            if (this.props.lastPostCount >= 0 && this.props.lastPostCount < _constants2.default.TEST_ID_COUNT) {\n                idCount = this.props.lastPostCount;\n            }\n\n            var isEphemeral = Utils.isPostEphemeral(post);\n            var isSystemMessage = PostUtils.isSystemMessage(post);\n\n            var status = this.props.status;\n            if (post.props && post.props.from_webhook === 'true') {\n                status = null;\n            }\n\n            var botIndicator = void 0;\n            var userProfile = _react2.default.createElement(_user_profile2.default, {\n                user: this.props.user,\n                status: status,\n                isBusy: this.props.isBusy,\n                isRHS: true,\n                hasMention: true\n            });\n\n            var visibleMessage = void 0;\n            if (post.props && post.props.from_webhook) {\n                if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: this.props.user,\n                        overwriteName: post.props.override_username,\n                        disablePopover: true\n                    });\n                } else {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: this.props.user,\n                        disablePopover: true\n                    });\n                }\n\n                botIndicator = _react2.default.createElement(\n                    'div',\n                    { className: 'col col__name bot-indicator' },\n                    'BOT'\n                );\n            } else if (isSystemMessage) {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: {},\n                    overwriteName: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.system',\n                        defaultMessage: 'System'\n                    }),\n                    overwriteImage: _constants2.default.SYSTEM_MESSAGE_PROFILE_IMAGE,\n                    disablePopover: true\n                });\n\n                visibleMessage = _react2.default.createElement(\n                    'span',\n                    { className: 'post__visibility' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.message.visible',\n                        defaultMessage: '(Only visible to you)'\n                    })\n                );\n            }\n\n            var failedPostOptions = void 0;\n            var postClass = '';\n\n            if (post.failed) {\n                postClass += ' post-failed';\n                failedPostOptions = _react2.default.createElement(_failed_post_options2.default, { post: this.props.post });\n            }\n\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var profilePic = _react2.default.createElement(_profile_picture2.default, {\n                src: PostUtils.getProfilePicSrcForPost(post, this.props.user),\n                status: status,\n                width: '36',\n                height: '36',\n                user: this.props.user,\n                isBusy: this.props.isBusy,\n                isRHS: true,\n                hasMention: true\n            });\n\n            if (post.props && post.props.from_webhook) {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, this.props.user),\n                    width: '36',\n                    height: '36'\n                });\n            } else if (isSystemMessage) {\n                profilePic = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: mattermostLogo }\n                });\n            }\n\n            if (this.props.compactDisplay) {\n                if (post.props && post.props.from_webhook) {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: ''\n                    });\n                } else {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: '',\n                        status: status,\n                        user: this.props.user,\n                        isBusy: this.props.isBusy,\n                        isRHS: true,\n                        hasMention: true\n                    });\n                }\n            }\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var react = void 0;\n\n            if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n                react = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        onHide: this.toggleEmojiPicker,\n                        target: function target() {\n                            return _this4.refs.dotMenu;\n                        },\n                        onEmojiClick: this.reactEmojiClick,\n                        rightOffset: 15,\n                        spaceRequiredAbove: 342,\n                        spaceRequiredBelow: 342\n                    }),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'reacticon__container reaction color--link style--none',\n                            onClick: this.toggleEmojiPicker,\n                            ref: 'rhs_reacticon_' + post.id\n                        },\n                        _react2.default.createElement('span', {\n                            className: 'icon icon--emoji',\n                            dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG }\n                        })\n                    )\n                );\n            }\n\n            var options = void 0;\n            if (isEphemeral) {\n                options = _react2.default.createElement(\n                    'div',\n                    { className: 'col col__remove' },\n                    this.createRemovePostButton()\n                );\n            } else if (!isSystemMessage) {\n                var dotMenu = _react2.default.createElement(_dot_menu2.default, {\n                    idPrefix: _constants2.default.RHS,\n                    idCount: idCount,\n                    post: this.props.post,\n                    isFlagged: this.props.isFlagged,\n                    handleDropdownOpened: this.handleDropdownOpened\n                });\n\n                options = _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'dotMenu',\n                        className: 'col col__reply'\n                    },\n                    dotMenu,\n                    react\n                );\n            }\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            var timeOptions = {\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: !this.props.useMilitaryTime\n            };\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    ref: 'post_body_' + post.id,\n                    className: this.getClassName(post, isSystemMessage)\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post__content' },\n                    profilePicContainer,\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__header' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col col__name' },\n                                _react2.default.createElement(\n                                    'strong',\n                                    null,\n                                    userProfile\n                                )\n                            ),\n                            botIndicator,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col' },\n                                this.renderTimeTag(post, timeOptions),\n                                pinnedBadge,\n                                _react2.default.createElement(_post_flag_icon2.default, {\n                                    idPrefix: 'rhsCommentFlag',\n                                    idCount: idCount,\n                                    postId: post.id,\n                                    isFlagged: this.props.isFlagged,\n                                    isEphemeral: isEphemeral\n                                }),\n                                visibleMessage\n                            ),\n                            options\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: postClass },\n                                failedPostOptions,\n                                _react2.default.createElement(\n                                    _post_body_additional_content2.default,\n                                    {\n                                        post: post,\n                                        previewCollapsed: this.props.previewCollapsed,\n                                        previewEnabled: this.props.previewEnabled,\n                                        isEmbedVisible: this.props.isEmbedVisible\n                                    },\n                                    _react2.default.createElement(_post_message_view2.default, {\n                                        post: post,\n                                        isRHS: true,\n                                        hasMention: true\n                                    })\n                                )\n                            ),\n                            fileAttachment,\n                            _react2.default.createElement(_reaction_list2.default, { post: post })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsComment;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nRhsComment.propTypes = {\n    post: _propTypes2.default.object,\n    lastPostCount: _propTypes2.default.number,\n    user: _propTypes2.default.object,\n    currentUser: _propTypes2.default.object.isRequired,\n    compactDisplay: _propTypes2.default.bool,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    isFlagged: _propTypes2.default.bool,\n    status: _propTypes2.default.string,\n    isBusy: _propTypes2.default.bool,\n    removePost: _propTypes2.default.func.isRequired,\n    previewCollapsed: _propTypes2.default.string.isRequired,\n    previewEnabled: _propTypes2.default.bool.isRequired,\n    isEmbedVisible: _propTypes2.default.bool\n};\nexports.default = RhsComment;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2307:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _rhs = __webpack_require__(219);\n\nvar _rhs_header_post = __webpack_require__(2308);\n\nvar _rhs_header_post2 = _interopRequireDefault(_rhs_header_post);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            showSearchResults: _rhs.showSearchResults,\n            showMentions: _rhs.showMentions,\n            showFlaggedPosts: _rhs.showFlaggedPosts,\n            showPinnedPosts: _rhs.showPinnedPosts,\n            closeRightHandSide: _rhs.closeRightHandSide\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)(_rhs_header_post2.default);\n\n/***/ }),\n\n/***/ 2308:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _values = __webpack_require__(216);\n\nvar _values2 = _interopRequireDefault(_values);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RhsHeaderPost = function (_React$Component) {\n    (0, _inherits3.default)(RhsHeaderPost, _React$Component);\n\n    function RhsHeaderPost(props) {\n        (0, _classCallCheck3.default)(this, RhsHeaderPost);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsHeaderPost.__proto__ || (0, _getPrototypeOf2.default)(RhsHeaderPost)).call(this, props));\n\n        _this.handleClose = function (e) {\n            e.preventDefault();\n            _this.props.actions.closeRightHandSide();\n            _this.props.shrink();\n        };\n\n        _this.toggleSize = function (e) {\n            e.preventDefault();\n            _this.props.toggleSize();\n        };\n\n        _this.handleBack = function (e) {\n            e.preventDefault();\n\n            if (_this.props.isWebrtc) {\n                _this.props.actions.showSearchResults();\n                return;\n            }\n\n            switch (_this.props.previousRhsState) {\n                case _constants.RHSStates.SEARCH:\n                    _this.props.actions.showSearchResults();\n                    break;\n                case _constants.RHSStates.MENTION:\n                    _this.props.actions.showMentions();\n                    break;\n                case _constants.RHSStates.FLAG:\n                    _this.props.actions.showFlaggedPosts();\n                    break;\n                case _constants.RHSStates.PIN:\n                    _this.props.actions.showPinnedPosts();\n                    break;\n                default:\n                    break;\n            }\n        };\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsHeaderPost, [{\n        key: 'render',\n        value: function render() {\n            var back = void 0;\n            var closeSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'closeSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.closeSidebarTooltip',\n                    defaultMessage: 'Close Sidebar'\n                })\n            );\n\n            var backToResultsTooltip = void 0;\n\n            switch (this.props.previousRhsState) {\n                case _constants.RHSStates.SEARCH:\n                case _constants.RHSStates.MENTION:\n                    backToResultsTooltip = _react2.default.createElement(\n                        _reactBootstrap.Tooltip,\n                        { id: 'backToResultsTooltip' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_header.backToResultsTooltip',\n                            defaultMessage: 'Back to Search Results'\n                        })\n                    );\n                    break;\n                case _constants.RHSStates.FLAG:\n                    backToResultsTooltip = _react2.default.createElement(\n                        _reactBootstrap.Tooltip,\n                        { id: 'backToResultsTooltip' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_header.backToFlaggedTooltip',\n                            defaultMessage: 'Back to Flagged Posts'\n                        })\n                    );\n                    break;\n                case _constants.RHSStates.PIN:\n                    backToResultsTooltip = _react2.default.createElement(\n                        _reactBootstrap.Tooltip,\n                        { id: 'backToResultsTooltip' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_header.backToPinnedTooltip',\n                            defaultMessage: 'Back to Pinned Posts'\n                        })\n                    );\n                    break;\n                default:\n                    if (this.props.isWebrtc) {\n                        backToResultsTooltip = _react2.default.createElement(\n                            _reactBootstrap.Tooltip,\n                            { id: 'backToResultsTooltip' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_header.backToCallTooltip',\n                                defaultMessage: 'Back to Call'\n                            })\n                        );\n                    }\n                    break;\n            }\n\n            var expandSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'expandSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandSidebarTooltip',\n                    defaultMessage: 'Expand Sidebar'\n                })\n            );\n\n            var shrinkSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'shrinkSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.shrinkSidebarTooltip',\n                    defaultMessage: 'Shrink Sidebar'\n                })\n            );\n\n            if (backToResultsTooltip) {\n                back = _react2.default.createElement(\n                    'a',\n                    {\n                        href: '#',\n                        onClick: this.handleBack,\n                        className: 'sidebar--right__back'\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.OverlayTrigger,\n                        {\n                            trigger: ['hover', 'focus'],\n                            delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                            placement: 'top',\n                            overlay: backToResultsTooltip\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar--right__header' },\n                _react2.default.createElement(\n                    'span',\n                    { className: 'sidebar--right__title' },\n                    back,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.details',\n                        defaultMessage: 'Message Details'\n                    })\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pull-right' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__expand',\n                            'aria-label': 'Expand',\n                            onClick: this.toggleSize\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: expandSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-expand' })\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: shrinkSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-compress' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__close',\n                            'aria-label': 'Close',\n                            onClick: this.handleClose\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: closeSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsHeaderPost;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nRhsHeaderPost.propTypes = {\n    isWebrtc: _propTypes2.default.bool,\n    previousRhsState: _propTypes2.default.oneOf((0, _values2.default)(_constants.RHSStates)),\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func,\n    actions: _propTypes2.default.shape({\n        showMentions: _propTypes2.default.func,\n        showSearchResults: _propTypes2.default.func,\n        showFlaggedPosts: _propTypes2.default.func,\n        showPinnedPosts: _propTypes2.default.func,\n        closeRightHandSide: _propTypes2.default.func\n    })\n};\nexports.default = RhsHeaderPost;\n\n/***/ }),\n\n/***/ 2309:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _post_actions = __webpack_require__(71);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _post_utils = __webpack_require__(83);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _dot_menu = __webpack_require__(661);\n\nvar _dot_menu2 = _interopRequireDefault(_dot_menu);\n\nvar _emoji_picker_overlay = __webpack_require__(284);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _file_attachment_list = __webpack_require__(662);\n\nvar _file_attachment_list2 = _interopRequireDefault(_file_attachment_list);\n\nvar _post_body_additional_content = __webpack_require__(667);\n\nvar _post_body_additional_content2 = _interopRequireDefault(_post_body_additional_content);\n\nvar _post_flag_icon = __webpack_require__(663);\n\nvar _post_flag_icon2 = _interopRequireDefault(_post_flag_icon);\n\nvar _post_message_view = __webpack_require__(664);\n\nvar _post_message_view2 = _interopRequireDefault(_post_message_view);\n\nvar _reaction_list = __webpack_require__(668);\n\nvar _reaction_list2 = _interopRequireDefault(_reaction_list);\n\nvar _profile_picture = __webpack_require__(165);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _user_profile = __webpack_require__(391);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar RhsRootPost = function (_React$Component) {\n    (0, _inherits3.default)(RhsRootPost, _React$Component);\n\n    function RhsRootPost(props) {\n        (0, _classCallCheck3.default)(this, RhsRootPost);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsRootPost.__proto__ || (0, _getPrototypeOf2.default)(RhsRootPost)).call(this, props));\n\n        _this.toggleEmojiPicker = function () {\n            var showEmojiPicker = !_this.state.showEmojiPicker;\n\n            _this.setState({\n                showEmojiPicker: showEmojiPicker,\n                dropdownOpened: showEmojiPicker\n            });\n        };\n\n        _this.getClassName = function (post, isSystemMessage) {\n            var className = 'post post--root post--thread';\n            if (_user_store2.default.getCurrentId() === post.user_id) {\n                className += ' current--user';\n            }\n\n            if (isSystemMessage) {\n                className += ' post--system';\n            }\n\n            if (_this.props.compactDisplay) {\n                className += ' post--compact';\n            }\n\n            if (post.is_pinned) {\n                className += ' post--pinned';\n            }\n\n            if (_this.state.dropdownOpened) {\n                className += ' post--hovered';\n            }\n\n            return className;\n        };\n\n        _this.reactEmojiClick = _this.reactEmojiClick.bind(_this);\n        _this.handleDropdownOpened = _this.handleDropdownOpened.bind(_this);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            testStateObj: true,\n            dropdownOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsRootPost, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (nextProps.status !== this.props.status) {\n                return true;\n            }\n\n            if (nextProps.isBusy !== this.props.isBusy) {\n                return true;\n            }\n\n            if (nextProps.compactDisplay !== this.props.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (nextProps.isEmbedVisible !== this.props.isEmbedVisible) {\n                return true;\n            }\n\n            if (nextProps.previewEnabled !== this.props.previewEnabled) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n                return true;\n            }\n\n            if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n                return true;\n            }\n\n            if (this.props.previewCollapsed !== nextProps.previewCollapsed) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post, timeOptions) {\n            var date = Utils.getDateForUnixTicks(post.create_at);\n\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'post__time',\n                    dateTime: date.toISOString(),\n                    title: date\n                },\n                date.toLocaleString('en', timeOptions)\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post, timeOptions) {\n            if (post.type === _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                return null;\n            }\n\n            if (Utils.isMobile()) {\n                return this.timeTag(post, timeOptions);\n            }\n\n            return _react2.default.createElement(\n                _reactRouter.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    className: 'post__permalink'\n                },\n                this.timeTag(post, timeOptions)\n            );\n        }\n    }, {\n        key: 'reactEmojiClick',\n        value: function reactEmojiClick(emoji) {\n            this.setState({ showEmojiPicker: false });\n            var emojiName = emoji.name || emoji.aliases[0];\n            (0, _post_actions.addReaction)(this.props.post.channel_id, this.props.post.id, emojiName);\n            (0, _post_actions.emitEmojiPosted)(emojiName);\n            this.handleDropdownOpened(false);\n        }\n    }, {\n        key: 'handleDropdownOpened',\n        value: function handleDropdownOpened(isOpened) {\n            this.setState({\n                dropdownOpened: isOpened\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var post = this.props.post;\n            var user = this.props.user;\n            var mattermostLogo = _constants2.default.MATTERMOST_ICON_SVG;\n            var channel = _channel_store2.default.get(post.channel_id);\n\n            var isEphemeral = Utils.isPostEphemeral(post);\n            var isSystemMessage = PostUtils.isSystemMessage(post);\n\n            var channelName;\n            if (channel) {\n                if (channel.type === 'D') {\n                    channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_root.direct',\n                        defaultMessage: 'Direct Message'\n                    });\n                } else {\n                    channelName = channel.display_name;\n                }\n            }\n\n            var react = void 0;\n\n            if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n                react = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        onHide: this.toggleEmojiPicker,\n                        target: function target() {\n                            return _this4.refs.dotMenu;\n                        },\n                        onEmojiClick: this.reactEmojiClick,\n                        rightOffset: 15,\n                        spaceRequiredAbove: 342,\n                        spaceRequiredBelow: 342\n                    }),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'reacticon__container reaction color--link style--none',\n                            onClick: this.toggleEmojiPicker,\n                            ref: 'rhs_root_reacticon'\n                        },\n                        _react2.default.createElement('span', {\n                            className: 'icon icon--emoji',\n                            dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG }\n                        })\n                    )\n                );\n            }\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var userProfile = void 0;\n            var botIndicator = void 0;\n            if (isSystemMessage) {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: {},\n                    overwriteName: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.system',\n                        defaultMessage: 'System'\n                    }),\n                    overwriteImage: _constants2.default.SYSTEM_MESSAGE_PROFILE_IMAGE,\n                    disablePopover: true\n                });\n            } else if (post.props && post.props.from_webhook) {\n                if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: user,\n                        overwriteName: post.props.override_username,\n                        disablePopover: true\n                    });\n                } else {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: user,\n                        disablePopover: true\n                    });\n                }\n\n                botIndicator = _react2.default.createElement(\n                    'div',\n                    { className: 'col col__name bot-indicator' },\n                    'BOT'\n                );\n            } else {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: user,\n                    status: this.props.status,\n                    isBusy: this.props.isBusy,\n                    isRHS: true,\n                    hasMention: true\n                });\n            }\n\n            var status = this.props.status;\n            if (post.props && post.props.from_webhook === 'true') {\n                status = null;\n            }\n\n            var profilePic = void 0;\n            if (isSystemMessage) {\n                profilePic = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: mattermostLogo }\n                });\n            } else if (post.props && post.props.from_webhook) {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, user),\n                    width: '36',\n                    height: '36'\n                });\n            } else {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, user),\n                    status: status,\n                    width: '36',\n                    height: '36',\n                    user: this.props.user,\n                    isBusy: this.props.isBusy,\n                    isRHS: true,\n                    hasMention: true\n                });\n            }\n\n            if (this.props.compactDisplay) {\n                if (post.props && post.props.from_webhook) {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: ''\n                    });\n                } else {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: '',\n                        status: status,\n                        user: this.props.user,\n                        isBusy: this.props.isBusy,\n                        isRHS: true,\n                        hasMention: true\n                    });\n                }\n            }\n\n            var postClass = '';\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            var timeOptions = {\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: !this.props.useMilitaryTime\n            };\n\n            var dotMenu = _react2.default.createElement(_dot_menu2.default, {\n                idPrefix: _constants2.default.RHS_ROOT,\n                post: this.props.post,\n                isFlagged: this.props.isFlagged,\n                handleDropdownOpened: this.handleDropdownOpened,\n                commentCount: this.props.commentCount\n            });\n\n            var dotMenuContainer = void 0;\n            if (this.props.post.type !== _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                dotMenuContainer = _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'dotMenu',\n                        className: 'col col__reply'\n                    },\n                    dotMenu,\n                    react\n                );\n            }\n\n            var postFlagIcon = void 0;\n            if (this.props.post.type !== _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                postFlagIcon = _react2.default.createElement(_post_flag_icon2.default, {\n                    idPrefix: 'rhsRootPostFlag',\n                    postId: post.id,\n                    isFlagged: this.props.isFlagged\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'thread--root',\n                    className: this.getClassName(post, isSystemMessage)\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post-right-channel__name' },\n                    channelName\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post__content' },\n                    profilePicContainer,\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__header' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col__name' },\n                                userProfile\n                            ),\n                            botIndicator,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col' },\n                                this.renderTimeTag(post, timeOptions),\n                                pinnedBadge,\n                                postFlagIcon\n                            ),\n                            dotMenuContainer\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: postClass },\n                                _react2.default.createElement(\n                                    _post_body_additional_content2.default,\n                                    {\n                                        post: post,\n                                        previewCollapsed: this.props.previewCollapsed,\n                                        previewEnabled: this.props.previewEnabled,\n                                        isEmbedVisible: this.props.isEmbedVisible\n                                    },\n                                    _react2.default.createElement(_post_message_view2.default, {\n                                        post: post,\n                                        isRHS: true,\n                                        hasMention: true\n                                    })\n                                )\n                            ),\n                            fileAttachment,\n                            _react2.default.createElement(_reaction_list2.default, { post: post })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsRootPost;\n}(_react2.default.Component);\n\nRhsRootPost.propTypes = {\n    post: _propTypes2.default.object.isRequired,\n    user: _propTypes2.default.object.isRequired,\n    currentUser: _propTypes2.default.object.isRequired,\n    compactDisplay: _propTypes2.default.bool,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    commentCount: _propTypes2.default.number.isRequired,\n    isFlagged: _propTypes2.default.bool,\n    status: _propTypes2.default.string,\n    previewCollapsed: _propTypes2.default.string,\n    previewEnabled: _propTypes2.default.bool,\n    isBusy: _propTypes2.default.bool,\n    isEmbedVisible: _propTypes2.default.bool\n};\nRhsRootPost.defaultProps = {\n    commentCount: 0\n};\nexports.default = RhsRootPost;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2310:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(45);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = __webpack_require__(144);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _channels = __webpack_require__(91);\n\nvar _posts = __webpack_require__(92);\n\nvar _preferences = __webpack_require__(62);\n\nvar PreferenceSelectors = _interopRequireWildcard(_preferences);\n\nvar _rhs = __webpack_require__(219);\n\nvar _rhs2 = __webpack_require__(218);\n\nvar _constants = __webpack_require__(9);\n\nvar _search_results = __webpack_require__(2311);\n\nvar _search_results2 = _interopRequireDefault(_search_results);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getCategory = PreferenceSelectors.makeGetCategory();\n\nfunction makeMapStateToProps() {\n    var results = void 0;\n    var posts = void 0;\n    var channels = void 0;\n    var flaggedPosts = void 0;\n    var isFlaggedByPostId = void 0;\n\n    return function mapStateToProps(state) {\n        var newResults = (0, _posts.getSearchResults)(state);\n\n        // Cache posts and channels\n        if (newResults && newResults !== results) {\n            results = newResults;\n\n            posts = results.filter(function (post) {\n                return Boolean(post);\n            });\n\n            channels = new _map2.default();\n\n            var channelIds = posts.map(function (post) {\n                return post.channel_id;\n            });\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(channelIds), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var id = _step.value;\n\n                    if (channels.has(id)) {\n                        continue;\n                    }\n\n                    channels.set(id, (0, _channels.getChannel)(state, id));\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n\n        var newFlaggedPosts = getCategory(state, _constants.Preferences.CATEGORY_FLAGGED_POST);\n\n        // Cache flagged posts map\n        if (newFlaggedPosts !== flaggedPosts) {\n            flaggedPosts = newFlaggedPosts;\n\n            isFlaggedByPostId = new _map2.default();\n\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = (0, _getIterator3.default)(flaggedPosts), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var pref = _step2.value;\n\n                    isFlaggedByPostId.set(pref.name, true);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n\n        return {\n            results: posts,\n            channels: channels,\n            searchTerms: (0, _rhs2.getSearchTerms)(state),\n            isFlaggedByPostId: isFlaggedByPostId,\n            loading: (0, _rhs2.getIsSearching)(state),\n            compactDisplay: PreferenceSelectors.get(state, _constants.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants.Preferences.MESSAGE_DISPLAY, _constants.Preferences.MESSAGE_DISPLAY_DEFAULT) === _constants.Preferences.MESSAGE_DISPLAY_COMPACT\n        };\n    };\n}\n\nvar mapDispatchToProps = {\n    selectPost: _rhs.selectPostFromRightHandSideSearch\n};\n\nexports.default = (0, _reactRedux.connect)(makeMapStateToProps, mapDispatchToProps)(_search_results2.default);\n\n/***/ }),\n\n/***/ 2311:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(115);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _stringify = __webpack_require__(164);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.renderView = renderView;\nexports.renderThumbHorizontal = renderThumbHorizontal;\nexports.renderThumbVertical = renderThumbVertical;\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactCustomScrollbars = __webpack_require__(2064);\n\nvar _reactCustomScrollbars2 = _interopRequireDefault(_reactCustomScrollbars);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _search_results_header = __webpack_require__(2312);\n\nvar _search_results_header2 = _interopRequireDefault(_search_results_header);\n\nvar _search_results_item = __webpack_require__(2314);\n\nvar _search_results_item2 = _interopRequireDefault(_search_results_item);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction renderView(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--view'\n    }));\n} // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction renderThumbHorizontal(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--horizontal'\n    }));\n}\n\nfunction renderThumbVertical(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--vertical'\n    }));\n}\n\nvar SearchResults = function (_React$PureComponent) {\n    (0, _inherits3.default)(SearchResults, _React$PureComponent);\n\n    function SearchResults(props) {\n        (0, _classCallCheck3.default)(this, SearchResults);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResults.__proto__ || (0, _getPrototypeOf2.default)(SearchResults)).call(this, props));\n\n        _this.handleResize = function () {\n            _this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        };\n\n        _this.onUserChange = function () {\n            _this.setState({ profiles: JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles())) });\n        };\n\n        _this.onBusy = function (isBusy) {\n            _this.setState({ isBusy: isBusy });\n        };\n\n        _this.onStatusChange = function () {\n            _this.setState({ statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses()) });\n        };\n\n        _this.resize = function () {\n            (0, _jquery2.default)('#search-items-container').scrollTop(0);\n        };\n\n        _this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            profiles: JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles())),\n            isBusy: _webrtc_store2.default.isBusy(),\n            statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses())\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResults, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.addBusyListener(this.onBusy);\n\n            this.resize();\n            window.addEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.removeBusyListener(this.onBusy);\n\n            window.removeEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (this.props.searchTerms !== prevProps.searchTerms) {\n                this.resize();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var results = this.props.results;\n            var noResults = !results || results.length === 0;\n            var searchTerms = this.props.searchTerms;\n            var profiles = this.state.profiles || {};\n            var flagIcon = _constants2.default.FLAG_ICON_SVG;\n\n            var ctls = null;\n\n            if (this.props.loading) {\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'sidebar--right__loading' },\n                        _react2.default.createElement('i', { className: 'fa fa-spinner fa-spin' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_header.loading',\n                            defaultMessage: 'Searching...'\n                        })\n                    )\n                );\n            } else if (this.props.isFlaggedPosts && noResults) {\n                var tips = [_react2.default.createElement(\n                    'li',\n                    { key: 'pin1' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag1',\n                        defaultMessage: 'You haven\\'t flagged any messages yet.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin2' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag2',\n                        defaultMessage: 'You can add a flag to messages and comments by clicking the '\n                    }),\n                    _react2.default.createElement('span', {\n                        className: 'usage__icon',\n                        dangerouslySetInnerHTML: { __html: flagIcon }\n                    }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag3',\n                        defaultMessage: ' icon next to the timestamp.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin3' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag4',\n                        defaultMessage: 'Flags are a way to mark messages for follow up. Your flags are personal, and cannot be seen by other users.'\n                    })\n                )];\n\n                if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                    tips.push(_react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.usage.dataRetention',\n                            defaultMessage: 'Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.',\n                            values: {\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }\n                        })\n                    ));\n                }\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        tips\n                    )\n                );\n            } else if (this.props.isPinnedPosts && noResults) {\n                var _tips = [_react2.default.createElement(\n                    'li',\n                    { key: 'pin1' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin1',\n                        defaultMessage: 'There are no pinned messages yet.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin2' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin2',\n                        defaultMessage: 'All members of this channel can pin important or useful messages.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin3' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin3',\n                        defaultMessage: 'Pinned messages are visible to all channel members.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin4' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin4',\n                        defaultMessage: 'To pin a message: Go to the message that you want to pin and click [...] > \"Pin to channel\".'\n                    })\n                )];\n\n                if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                    _tips.push(_react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.usage.dataRetention',\n                            defaultMessage: 'Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.',\n                            values: {\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }\n                        })\n                    ));\n                }\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _tips\n                    )\n                );\n            } else if (!searchTerms && noResults) {\n                var _tips2 = [_react2.default.createElement(\n                    'li',\n                    { key: 'quotes' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usage.phrasesSuggestion',\n                        defaultMessage: 'Use {quotationMarks} to search for phrases',\n                        values: {\n                            quotationMarks: _react2.default.createElement(\n                                'b',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'search_results.usage.phrasesSuggestion.quotationMarks',\n                                    defaultMessage: '\"quotation marks\"'\n                                })\n                            )\n                        }\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'fromIn' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usage.fromInSuggestion',\n                        defaultMessage: 'Use {fromUser} to find posts from specific users and {inChannel} to find posts in specific channels',\n                        values: {\n                            fromUser: 'from:',\n                            inChannel: 'in:'\n                        }\n                    })\n                )];\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _tips2\n                    )\n                );\n            } else if (noResults) {\n                var _tips3 = [_react2.default.createElement(\n                    'li',\n                    { key: 'partialPhrase' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.noResults.partialPhraseSuggestion',\n                        defaultMessage: 'If you\\'re searching a partial phrase (ex. searching \"rea\", looking for \"reach\" or \"reaction\"), append a * to your search term.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'stopWords' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.noResults.stopWordsSuggestion',\n                        defaultMessage: 'Two letter searches and common words like \"this\", \"a\" and \"is\" won\\'t appear in search results due to the excessive results returned.'\n                    })\n                )];\n\n                if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                    _tips3.push(_react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.usage.dataRetention',\n                            defaultMessage: 'Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.',\n                            values: {\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }\n                        })\n                    ));\n                }\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'h4',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.noResults',\n                            defaultMessage: 'No results found. Try again?'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _tips3\n                    )\n                );\n            } else {\n                var sortedResults = void 0;\n                if (this.props.isPinnedPosts) {\n                    sortedResults = [].concat((0, _toConsumableArray3.default)(results));\n                    sortedResults.sort(function (postA, postB) {\n                        return postB.create_at - postA.create_at;\n                    });\n                } else {\n                    sortedResults = results;\n                }\n\n                ctls = sortedResults.map(function searchResults(post, idx, arr) {\n                    var profile = void 0;\n                    if (_user_store2.default.getCurrentId() === post.user_id) {\n                        profile = _user_store2.default.getCurrentUser();\n                    } else {\n                        profile = profiles[post.user_id];\n                    }\n\n                    var status = 'offline';\n                    if (this.state.statuses) {\n                        status = this.state.statuses[post.user_id] || 'offline';\n                    }\n\n                    var isFlagged = false;\n                    if (this.props.isFlaggedByPostId) {\n                        isFlagged = this.props.isFlaggedByPostId.get(post.id) || false;\n                    }\n\n                    var reverseCount = arr.length - idx - 1;\n\n                    return _react2.default.createElement(_search_results_item2.default, {\n                        key: post.id,\n                        channel: this.props.channels.get(post.channel_id),\n                        compactDisplay: this.props.compactDisplay,\n                        post: post,\n                        lastPostCount: reverseCount >= 0 && reverseCount < _constants2.default.TEST_ID_COUNT ? reverseCount : -1,\n                        user: profile,\n                        term: searchTerms,\n                        isMentionSearch: this.props.isMentionSearch,\n                        isFlaggedSearch: this.props.isFlaggedPosts,\n                        useMilitaryTime: this.props.useMilitaryTime,\n                        shrink: this.props.shrink,\n                        isFlagged: isFlagged,\n                        isBusy: this.state.isBusy,\n                        status: status,\n                        onSelect: this.props.selectPost\n                    });\n                }, this);\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar-right__body' },\n                _react2.default.createElement(_search_results_header2.default, {\n                    isMentionSearch: this.props.isMentionSearch,\n                    toggleSize: this.props.toggleSize,\n                    shrink: this.props.shrink,\n                    isFlaggedPosts: this.props.isFlaggedPosts,\n                    isPinnedPosts: this.props.isPinnedPosts,\n                    channelDisplayName: this.props.channelDisplayName,\n                    isLoading: this.props.loading\n                }),\n                _react2.default.createElement(\n                    _reactCustomScrollbars2.default,\n                    {\n                        autoHide: true,\n                        autoHideTimeout: 500,\n                        autoHideDuration: 500,\n                        renderThumbHorizontal: renderThumbHorizontal,\n                        renderThumbVertical: renderThumbVertical,\n                        renderView: renderView,\n                        onScroll: this.handleScroll\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: 'search-items-container',\n                            className: 'search-items-container'\n                        },\n                        ctls\n                    )\n                )\n            );\n        }\n    }]);\n    return SearchResults;\n}(_react2.default.PureComponent);\n\nSearchResults.propTypes = {\n    results: _propTypes2.default.array,\n    channels: _propTypes2.default.object,\n    searchTerms: _propTypes2.default.string,\n    isFlaggedByPostId: _propTypes2.default.object,\n    loading: _propTypes2.default.bool,\n    compactDisplay: _propTypes2.default.bool,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func,\n    isMentionSearch: _propTypes2.default.bool,\n    isFlaggedPosts: _propTypes2.default.bool,\n    isPinnedPosts: _propTypes2.default.bool,\n    channelDisplayName: _propTypes2.default.string.isRequired,\n    selectPost: _propTypes2.default.func\n};\nexports.default = SearchResults;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2312:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _rhs = __webpack_require__(219);\n\nvar _search_results_header = __webpack_require__(2313);\n\nvar _search_results_header2 = _interopRequireDefault(_search_results_header);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            closeRightHandSide: _rhs.closeRightHandSide\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)(_search_results_header2.default);\n\n/***/ }),\n\n/***/ 2313:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SearchResultsHeader = function (_React$Component) {\n    (0, _inherits3.default)(SearchResultsHeader, _React$Component);\n\n    function SearchResultsHeader() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, SearchResultsHeader);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SearchResultsHeader.__proto__ || (0, _getPrototypeOf2.default)(SearchResultsHeader)).call.apply(_ref, [this].concat(args))), _this), _this.handleClose = function (e) {\n            e.preventDefault();\n\n            _this.props.actions.closeRightHandSide();\n\n            _this.props.shrink();\n        }, _this.toggleSize = function (e) {\n            e.preventDefault();\n            _this.props.toggleSize();\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(SearchResultsHeader, [{\n        key: 'render',\n        value: function render() {\n            var title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'search_header.results',\n                defaultMessage: 'Search Results'\n            });\n\n            var closeSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'closeSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.closeSidebarTooltip',\n                    defaultMessage: 'Close Sidebar'\n                })\n            );\n\n            var expandSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'expandSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandSidebarTooltip',\n                    defaultMessage: 'Expand Sidebar'\n                })\n            );\n\n            var shrinkSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'shrinkSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.shrinkSidebarTooltip',\n                    defaultMessage: 'Shrink Sidebar'\n                })\n            );\n\n            if (this.props.isMentionSearch) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title2',\n                    defaultMessage: 'Recent Mentions'\n                });\n            } else if (this.props.isFlaggedPosts) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title3',\n                    defaultMessage: 'Flagged Posts'\n                });\n            } else if (this.props.isPinnedPosts) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title4',\n                    defaultMessage: 'Pinned posts in {channelDisplayName}',\n                    values: {\n                        channelDisplayName: this.props.channelDisplayName\n                    }\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar--right__header' },\n                _react2.default.createElement(\n                    'span',\n                    { className: 'sidebar--right__title' },\n                    title\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pull-right' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__expand',\n                            'aria-label': 'Expand',\n                            onClick: this.toggleSize\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: expandSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-expand' })\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: shrinkSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-compress' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__close',\n                            'aria-label': 'Close',\n                            title: 'Close',\n                            onClick: this.handleClose\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: closeSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SearchResultsHeader;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSearchResultsHeader.propTypes = {\n    isMentionSearch: _propTypes2.default.bool,\n    isFlaggedPosts: _propTypes2.default.bool,\n    isPinnedPosts: _propTypes2.default.bool,\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func,\n    channelDisplayName: _propTypes2.default.string.isRequired,\n    actions: _propTypes2.default.shape({\n        closeRightHandSide: _propTypes2.default.func\n    })\n};\nexports.default = SearchResultsHeader;\n\n/***/ }),\n\n/***/ 2314:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_message_view = __webpack_require__(664);\n\nvar _post_message_view2 = _interopRequireDefault(_post_message_view);\n\nvar _file_attachment_list = __webpack_require__(662);\n\nvar _file_attachment_list2 = _interopRequireDefault(_file_attachment_list);\n\nvar _comment_icon = __webpack_require__(706);\n\nvar _comment_icon2 = _interopRequireDefault(_comment_icon);\n\nvar _dot_menu = __webpack_require__(661);\n\nvar _dot_menu2 = _interopRequireDefault(_dot_menu);\n\nvar _post_flag_icon = __webpack_require__(663);\n\nvar _post_flag_icon2 = _interopRequireDefault(_post_flag_icon);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _post_utils = __webpack_require__(83);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _profile_picture = __webpack_require__(165);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _user_profile = __webpack_require__(391);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SearchResultsItem = function (_React$Component) {\n    (0, _inherits3.default)(SearchResultsItem, _React$Component);\n\n    function SearchResultsItem(props) {\n        (0, _classCallCheck3.default)(this, SearchResultsItem);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResultsItem.__proto__ || (0, _getPrototypeOf2.default)(SearchResultsItem)).call(this, props));\n\n        _this.onUpdateWindowDimensions = function () {\n            Utils.updateWindowDimensions(_this);\n        };\n\n        _this.handleDropdownOpened = function (isOpened) {\n            _this.setState({\n                dropdownOpened: isOpened\n            });\n        };\n\n        _this.getClassName = function () {\n            var className = 'post post--thread';\n\n            if (_this.props.compactDisplay) {\n                className += ' post--compact';\n            }\n\n            if (_this.state.dropdownOpened) {\n                className += ' post--hovered';\n            }\n\n            return className;\n        };\n\n        _this.handleFocusRHSClick = _this.handleFocusRHSClick.bind(_this);\n        _this.handleJumpClick = _this.handleJumpClick.bind(_this);\n        _this.handleDropdownOpened = _this.handleDropdownOpened.bind(_this);\n        _this.shrinkSidebar = _this.shrinkSidebar.bind(_this);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            dropdownOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResultsItem, [{\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState.post, this.props.post)) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (nextState.dropdownOpened !== this.state.dropdownOpened) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            window.addEventListener('resize', this.onUpdateWindowDimensions);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            window.removeEventListener('resize', this.onUpdateWindowDimensions);\n        }\n    }, {\n        key: 'shrinkSidebar',\n        value: function shrinkSidebar() {\n            var _this2 = this;\n\n            setTimeout(function () {\n                _this2.props.shrink();\n            });\n        }\n    }, {\n        key: 'handleFocusRHSClick',\n        value: function handleFocusRHSClick(e) {\n            e.preventDefault();\n            this.props.onSelect(this.props.post);\n        }\n    }, {\n        key: 'handleJumpClick',\n        value: function handleJumpClick() {\n            if (Utils.isMobile()) {\n                GlobalActions.emitCloseRightHandSide();\n            }\n\n            this.shrinkSidebar();\n            _reactRouter.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/pl/' + this.props.post.id);\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post) {\n            var date = Utils.getDateForUnixTicks(post.create_at);\n\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'search-item-time',\n                    dateTime: date.toISOString(),\n                    title: date\n                },\n                _react2.default.createElement(_reactIntl.FormattedDate, {\n                    value: post.create_at,\n                    hour12: !this.props.useMilitaryTime,\n                    hour: '2-digit',\n                    minute: '2-digit'\n                })\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post) {\n            return Utils.isMobile() ? this.timeTag(post) : _react2.default.createElement(\n                _reactRouter.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    target: '_blank',\n                    className: 'post__permalink'\n                },\n                this.timeTag(post)\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var channelName = null;\n            var channel = this.props.channel;\n            var user = this.props.user || {};\n            var post = this.props.post;\n\n            var idCount = -1;\n            if (this.props.lastPostCount >= 0 && this.props.lastPostCount < _constants2.default.TEST_ID_COUNT) {\n                idCount = this.props.lastPostCount;\n            }\n\n            if (channel) {\n                channelName = channel.display_name;\n                if (channel.type === 'D') {\n                    channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_item.direct',\n                        defaultMessage: 'Direct Message (with {username})',\n                        values: {\n                            username: Utils.displayUsernameForUser(Utils.getDirectTeammate(channel.id))\n                        }\n                    });\n                }\n            }\n\n            var overrideUsername = void 0;\n            var disableProfilePopover = false;\n            if (post.props && post.props.from_webhook && post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                overrideUsername = post.props.override_username;\n                disableProfilePopover = true;\n            }\n\n            var botIndicator = void 0;\n            if (post.props && post.props.from_webhook) {\n                botIndicator = _react2.default.createElement(\n                    'div',\n                    { className: 'bot-indicator' },\n                    _constants2.default.BOT_NAME\n                );\n            }\n\n            var profilePic = _react2.default.createElement(_profile_picture2.default, {\n                src: PostUtils.getProfilePicSrcForPost(post, user),\n                user: this.props.user,\n                status: this.props.status,\n                isBusy: this.props.isBusy\n            });\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var postClass = '';\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var message = void 0;\n            var flagContent = void 0;\n            var rhsControls = void 0;\n            if (post.state === _constants2.default.POST_DELETED) {\n                message = _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_body.deleted',\n                        defaultMessage: '(message deleted)'\n                    })\n                );\n            } else {\n                flagContent = _react2.default.createElement(_post_flag_icon2.default, {\n                    idPrefix: 'searchPostFlag',\n                    idCount: idCount,\n                    postId: post.id,\n                    isFlagged: this.props.isFlagged\n                });\n\n                rhsControls = _react2.default.createElement(\n                    'div',\n                    { className: 'col__controls' },\n                    _react2.default.createElement(_dot_menu2.default, {\n                        idPrefix: _constants2.default.SEARCH_POST,\n                        idCount: idCount,\n                        post: post,\n                        isFlagged: this.props.isFlagged,\n                        handleDropdownOpened: this.handleDropdownOpened\n                    }),\n                    _react2.default.createElement(_comment_icon2.default, {\n                        idPrefix: 'searchCommentIcon',\n                        idCount: idCount,\n                        handleCommentClick: this.handleFocusRHSClick,\n                        searchStyle: 'search-item__comment'\n                    }),\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            onClick: this.handleJumpClick,\n                            className: 'search-item__jump'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_item.jump',\n                            defaultMessage: 'Jump'\n                        })\n                    )\n                );\n\n                message = _react2.default.createElement(_post_message_view2.default, {\n                    post: post,\n                    options: {\n                        searchTerm: this.props.term,\n                        mentionHighlight: this.props.isMentionSearch\n                    }\n                });\n            }\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'search-item__container' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'date-separator' },\n                    _react2.default.createElement('hr', { className: 'separator__hr' }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'separator__text' },\n                        _react2.default.createElement(_reactIntl.FormattedDate, {\n                            value: post.create_at,\n                            day: 'numeric',\n                            month: 'long',\n                            year: 'numeric'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: this.getClassName() },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-channel__name' },\n                        channelName\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post__content' },\n                        profilePicContainer,\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'post__header' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col col__name' },\n                                    _react2.default.createElement(\n                                        'strong',\n                                        null,\n                                        _react2.default.createElement(_user_profile2.default, {\n                                            user: user,\n                                            overwriteName: overrideUsername,\n                                            disablePopover: disableProfilePopover,\n                                            status: this.props.status,\n                                            isBusy: this.props.isBusy\n                                        })\n                                    )\n                                ),\n                                botIndicator,\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col' },\n                                    this.renderTimeTag(post),\n                                    pinnedBadge,\n                                    flagContent\n                                ),\n                                rhsControls\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'search-item-snippet post__body' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: postClass },\n                                    message,\n                                    fileAttachment\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SearchResultsItem;\n}(_react2.default.Component);\n\nSearchResultsItem.propTypes = {\n    post: _propTypes2.default.object,\n    lastPostCount: _propTypes2.default.number,\n    user: _propTypes2.default.object,\n    channel: _propTypes2.default.object,\n    compactDisplay: _propTypes2.default.bool,\n    isMentionSearch: _propTypes2.default.bool,\n    isFlaggedSearch: _propTypes2.default.bool,\n    term: _propTypes2.default.string,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    shrink: _propTypes2.default.func,\n    isFlagged: _propTypes2.default.bool,\n    isBusy: _propTypes2.default.bool,\n    status: _propTypes2.default.string,\n    onSelect: _propTypes2.default.func\n};\nexports.default = SearchResultsItem;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2315:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _rhs = __webpack_require__(219);\n\nvar _rhs2 = __webpack_require__(218);\n\nvar _constants = __webpack_require__(9);\n\nvar _sidebar_right_menu = __webpack_require__(2316);\n\nvar _sidebar_right_menu2 = _interopRequireDefault(_sidebar_right_menu);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state) {\n    var rhsState = (0, _rhs2.getRhsState)(state);\n\n    return {\n        isMentionSearch: rhsState === _constants.RHSStates.MENTION\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            showMentions: _rhs.showMentions,\n            showFlaggedPosts: _rhs.showFlaggedPosts,\n            closeRightHandSide: _rhs.closeRightHandSide\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_sidebar_right_menu2.default);\n\n/***/ }),\n\n/***/ 2316:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _url = __webpack_require__(70);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _about_build_modal = __webpack_require__(1958);\n\nvar _about_build_modal2 = _interopRequireDefault(_about_build_modal);\n\nvar _add_users_to_team = __webpack_require__(1965);\n\nvar _add_users_to_team2 = _interopRequireDefault(_add_users_to_team);\n\nvar _team_members_modal = __webpack_require__(670);\n\nvar _team_members_modal2 = _interopRequireDefault(_team_members_modal);\n\nvar _tutorial_tip = __webpack_require__(660);\n\nvar _toggle_modal_button = __webpack_require__(659);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Preferences = _constants.Constants.Preferences;\nvar TutorialSteps = _constants.Constants.TutorialSteps;\n\nvar SidebarRightMenu = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRightMenu, _React$Component);\n\n    function SidebarRightMenu(props) {\n        (0, _classCallCheck3.default)(this, SidebarRightMenu);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRightMenu.__proto__ || (0, _getPrototypeOf2.default)(SidebarRightMenu)).call(this, props));\n\n        _this.handleClick = function (e) {\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n            }\n        };\n\n        _this.handleAboutModal = function () {\n            _this.setState({ showAboutModal: true });\n        };\n\n        _this.aboutModalDismissed = function () {\n            _this.setState({ showAboutModal: false });\n        };\n\n        _this.showAddUsersToTeamModal = function (e) {\n            e.preventDefault();\n\n            _this.setState({\n                showAddUsersToTeamModal: true,\n                showDropdown: false\n            });\n        };\n\n        _this.hideAddUsersToTeamModal = function () {\n            _this.setState({\n                showAddUsersToTeamModal: false\n            });\n        };\n\n        _this.getFlagged = function (e) {\n            e.preventDefault();\n            _this.props.actions.showFlaggedPosts();\n            _this.closeRightSidebar();\n        };\n\n        _this.getStateFromStores = function () {\n            var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n\n            return {\n                currentUser: _user_store2.default.getCurrentUser(),\n                teamMembers: _team_store2.default.getMyTeamMembers(),\n                teamListings: _team_store2.default.getTeamListings(),\n                showTutorialTip: tutorialStep === TutorialSteps.MENU_POPOVER && Utils.isMobile()\n            };\n        };\n\n        _this.onChange = function () {\n            _this.setState(_this.getStateFromStores());\n        };\n\n        _this.searchMentions = function (e) {\n            e.preventDefault();\n\n            if (_this.props.isMentionSearch) {\n                _this.props.actions.closeRightHandSide();\n            } else {\n                _this.closeRightSidebar();\n                _this.props.actions.showMentions();\n            }\n        };\n\n        _this.closeLeftSidebar = function () {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.remove('move--right');\n                    document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n                });\n            }\n        };\n\n        _this.openRightSidebar = function () {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.add('move--left-small');\n                    document.querySelector('.app__body .sidebar--menu').classList.add('move--left');\n                });\n            }\n        };\n\n        _this.closeRightSidebar = function () {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.remove('move--left-small');\n                    document.querySelector('.app__body .sidebar--menu').classList.remove('move--left');\n                });\n            }\n        };\n\n        _this.state = (0, _extends3.default)({}, _this.getStateFromStores(), {\n            showAboutModal: false,\n            showAddUsersToTeamModal: false\n        });\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRightMenu, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n            var teamLink = void 0;\n            var inviteLink = void 0;\n            var addUserToTeamLink = void 0;\n            var teamSettingsLink = void 0;\n            var manageLink = void 0;\n            var consoleLink = void 0;\n            var joinAnotherTeamLink = void 0;\n            var isAdmin = false;\n            var isSystemAdmin = false;\n            var createTeam = null;\n\n            if (currentUser != null) {\n                isAdmin = _team_store2.default.isTeamAdminForCurrentTeam() || _user_store2.default.isSystemAdminForCurrentUser();\n                isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n                inviteLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: GlobalActions.showInviteMemberModal\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-user-plus' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.inviteNew',\n                            defaultMessage: 'Send Email Invite'\n                        })\n                    )\n                );\n\n                addUserToTeamLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            id: 'addUsersToTeam',\n                            href: '#',\n                            onClick: this.showAddUsersToTeamModal\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-user-plus' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.addMemberToTeam',\n                            defaultMessage: 'Add Members to Team'\n                        })\n                    )\n                );\n\n                if (this.props.teamType === _constants.Constants.OPEN_TEAM && global.mm_config.EnableUserCreation === 'true') {\n                    teamLink = _react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: GlobalActions.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement('i', { className: 'icon fa fa-link' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'sidebar_right_menu.teamLink',\n                                defaultMessage: 'Get Team Invite Link'\n                            })\n                        )\n                    );\n                }\n\n                if (global.window.mm_license.IsLicensed === 'true') {\n                    if (global.window.mm_config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addUserToTeamLink = null;\n                    } else if (global.window.mm_config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addUserToTeamLink = null;\n                    }\n                }\n\n                var moreTeams = false;\n                var isAlreadyMember = this.state.teamMembers.reduce(function (result, item) {\n                    result[item.team_id] = true;\n                    return result;\n                }, {});\n\n                for (var id in this.state.teamListings) {\n                    if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                        moreTeams = true;\n                        break;\n                    }\n                }\n\n                if (moreTeams) {\n                    joinAnotherTeamLink = _react2.default.createElement(\n                        'li',\n                        { key: 'joinTeam_li' },\n                        _react2.default.createElement(\n                            _reactRouter.Link,\n                            { to: '/select_team' },\n                            _react2.default.createElement('i', { className: 'icon fa fa-plus-square' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar_dropdown.join',\n                                defaultMessage: 'Join Another Team'\n                            })\n                        )\n                    );\n                }\n\n                if (global.window.mm_config.EnableTeamCreation === 'true' || isSystemAdmin) {\n                    createTeam = _react2.default.createElement(\n                        'li',\n                        { key: 'newTeam_li' },\n                        _react2.default.createElement(\n                            _reactRouter.Link,\n                            {\n                                id: 'createTeam',\n                                key: 'newTeam_a',\n                                to: '/create_team',\n                                onClick: this.handleClick\n                            },\n                            _react2.default.createElement('i', { className: 'icon fa fa-plus-square' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar_dropdown.create',\n                                defaultMessage: 'Create a New Team'\n                            })\n                        )\n                    );\n                }\n            }\n\n            manageLink = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    _toggle_modal_button2.default,\n                    { dialogType: _team_members_modal2.default },\n                    _react2.default.createElement('i', { className: 'icon fa fa-users' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'sidebar_right_menu.viewMembers',\n                        defaultMessage: 'View Members'\n                    })\n                )\n            );\n\n            var leaveTeam = _react2.default.createElement(\n                'li',\n                { key: 'leaveTeam_li' },\n                _react2.default.createElement(\n                    'a',\n                    {\n                        id: 'leaveTeam',\n                        href: '#',\n                        onClick: GlobalActions.showLeaveTeamModal\n                    },\n                    _react2.default.createElement('span', {\n                        className: 'icon',\n                        dangerouslySetInnerHTML: { __html: _constants.Constants.LEAVE_TEAM_SVG }\n                    }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.leave',\n                        defaultMessage: 'Leave Team'\n                    })\n                )\n            );\n\n            if (isAdmin) {\n                teamSettingsLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            'data-toggle': 'modal',\n                            'data-target': '#team_settings'\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-globe' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.teamSettings',\n                            defaultMessage: 'Team Settings'\n                        })\n                    )\n                );\n                manageLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _toggle_modal_button2.default,\n                        {\n                            dialogType: _team_members_modal2.default,\n                            dialogProps: { isAdmin: isAdmin }\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-users' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.manageMembers',\n                            defaultMessage: 'Manage Members'\n                        })\n                    )\n                );\n            }\n\n            if (isSystemAdmin && !Utils.isMobile()) {\n                consoleLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            to: '/admin_console',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-wrench' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.console',\n                            defaultMessage: 'System Console'\n                        })\n                    )\n                );\n            }\n\n            var siteName = '';\n            if (global.window.mm_config.SiteName != null) {\n                siteName = global.window.mm_config.SiteName;\n            }\n            var teamDisplayName = siteName;\n            if (this.props.teamDisplayName) {\n                teamDisplayName = this.props.teamDisplayName;\n            }\n\n            var helpLink = null;\n            if (global.window.mm_config.HelpLink) {\n                helpLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: global.window.mm_config.HelpLink\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-question' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.help',\n                            defaultMessage: 'Help'\n                        })\n                    )\n                );\n            }\n\n            var reportLink = null;\n            if (global.window.mm_config.ReportAProblemLink) {\n                reportLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: global.window.mm_config.ReportAProblemLink\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-phone' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.report',\n                            defaultMessage: 'Report a Problem'\n                        })\n                    )\n                );\n            }\n\n            var tutorialTip = null;\n            if (this.state.showTutorialTip) {\n                tutorialTip = (0, _tutorial_tip.createMenuTip)(function (e) {\n                    return e.preventDefault();\n                }, true);\n                this.closeLeftSidebar();\n                this.openRightSidebar();\n            }\n\n            var nativeAppLink = null;\n            if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n                nativeAppLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: (0, _url.useSafeUrl)(global.window.mm_config.AppDownloadLink)\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-mobile' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.nativeApps',\n                            defaultMessage: 'Download Apps'\n                        })\n                    )\n                );\n            }\n\n            var addUsersToTeamModal = void 0;\n            if (this.state.showAddUsersToTeamModal) {\n                addUsersToTeamModal = _react2.default.createElement(_add_users_to_team2.default, {\n                    onModalDismissed: this.hideAddUsersToTeamModal\n                });\n            }\n\n            var teamDivider = null;\n            if (teamSettingsLink || manageLink || joinAnotherTeamLink || createTeam || leaveTeam) {\n                teamDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var consoleDivider = null;\n            if (consoleLink) {\n                consoleDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--menu',\n                    id: 'sidebar-menu'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'team__header theme' },\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            className: 'team__name',\n                            to: '/channels/town-square'\n                        },\n                        teamDisplayName\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'nav-pills__container' },\n                    tutorialTip,\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.searchMentions\n                                },\n                                _react2.default.createElement(\n                                    'i',\n                                    { className: 'icon mentions' },\n                                    '@'\n                                ),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.recentMentions',\n                                    defaultMessage: 'Recent Mentions'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.getFlagged\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-flag' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.flagged',\n                                    defaultMessage: 'Flagged Posts'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: function onClick() {\n                                        return GlobalActions.showAccountSettingsModal();\n                                    }\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-cog' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.accountSettings',\n                                    defaultMessage: 'Account Settings'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        inviteLink,\n                        teamLink,\n                        addUserToTeamLink,\n                        teamDivider,\n                        teamSettingsLink,\n                        manageLink,\n                        createTeam,\n                        joinAnotherTeamLink,\n                        leaveTeam,\n                        consoleDivider,\n                        consoleLink,\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        helpLink,\n                        reportLink,\n                        nativeAppLink,\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.handleAboutModal\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-info' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'navbar_dropdown.about',\n                                    defaultMessage: 'About Mattermost'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: function onClick() {\n                                        return GlobalActions.emitUserLoggedOutEvent();\n                                    }\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-sign-out' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.logout',\n                                    defaultMessage: 'Logout'\n                                })\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(_about_build_modal2.default, {\n                    show: this.state.showAboutModal,\n                    onModalDismissed: this.aboutModalDismissed\n                }),\n                addUsersToTeamModal\n            );\n        }\n    }]);\n    return SidebarRightMenu;\n}(_react2.default.Component);\n\nSidebarRightMenu.propTypes = {\n    teamType: _propTypes2.default.string,\n    teamDisplayName: _propTypes2.default.string,\n    isMentionSearch: _propTypes2.default.bool,\n    actions: _propTypes2.default.shape({\n        showMentions: _propTypes2.default.func,\n        showFlaggedPosts: _propTypes2.default.func,\n        closeRightHandSide: _propTypes2.default.func\n    })\n};\nexports.default = SidebarRightMenu;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2317:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _settings_sidebar = __webpack_require__(2066);\n\nvar _settings_sidebar2 = _interopRequireDefault(_settings_sidebar);\n\nvar _team_settings = __webpack_require__(2318);\n\nvar _team_settings2 = _interopRequireDefault(_team_settings);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar holders = (0, _reactIntl.defineMessages)({\n    generalTab: {\n        id: 'team_settings_modal.generalTab',\n        defaultMessage: 'General'\n    },\n    importTab: {\n        id: 'team_settings_modal.importTab',\n        defaultMessage: 'Import'\n    }\n}); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TeamSettingsModal = function (_React$Component) {\n    (0, _inherits3.default)(TeamSettingsModal, _React$Component);\n\n    function TeamSettingsModal(props) {\n        (0, _classCallCheck3.default)(this, TeamSettingsModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamSettingsModal.__proto__ || (0, _getPrototypeOf2.default)(TeamSettingsModal)).call(this, props));\n\n        _this.updateTab = _this.updateTab.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n\n        _this.state = {\n            activeTab: 'general',\n            activeSection: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamSettingsModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var modal = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.modal));\n\n            modal.on('click', '.modal-back', function handleBackClick() {\n                (0, _jquery2.default)(this).closest('.modal-dialog').removeClass('display--content');\n                (0, _jquery2.default)(this).closest('.modal-dialog').find('.settings-table .nav li.active').removeClass('active');\n            });\n            modal.on('click', '.modal-header .close', function () {\n                setTimeout(function () {\n                    (0, _jquery2.default)('.modal-dialog.display--content').removeClass('display--content');\n                }, 500);\n            });\n\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-modal .settings-content').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'updateTab',\n        value: function updateTab(tab) {\n            this.setState({ activeTab: tab, activeSection: '' });\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if ((0, _jquery2.default)('.section-max').length) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n            this.setState({ activeSection: section });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var formatMessage = this.props.intl.formatMessage;\n\n            var tabs = [];\n            tabs.push({ name: 'general', uiName: formatMessage(holders.generalTab), icon: 'icon fa fa-cog' });\n            tabs.push({ name: 'import', uiName: formatMessage(holders.importTab), icon: 'icon fa fa-upload' });\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'modal fade',\n                    ref: 'modal',\n                    id: 'team_settings',\n                    role: 'dialog',\n                    tabIndex: '-1',\n                    'aria-hidden': 'true'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-dialog settings-modal' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-content' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-header' },\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'close',\n                                    'data-dismiss': 'modal',\n                                    'aria-label': 'Close'\n                                },\n                                _react2.default.createElement(\n                                    'span',\n                                    { 'aria-hidden': 'true' },\n                                    ''\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'h4',\n                                {\n                                    className: 'modal-title',\n                                    ref: 'title'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'team_settings_modal.title',\n                                    defaultMessage: 'Team Settings'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-body settings-modal__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'settings-table' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'settings-links' },\n                                    _react2.default.createElement(_settings_sidebar2.default, {\n                                        tabs: tabs,\n                                        activeTab: this.state.activeTab,\n                                        updateTab: this.updateTab\n                                    })\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'settings-content minimize-settings' },\n                                    _react2.default.createElement(_team_settings2.default, {\n                                        activeTab: this.state.activeTab,\n                                        activeSection: this.state.activeSection,\n                                        updateSection: this.updateSection\n                                    })\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return TeamSettingsModal;\n}(_react2.default.Component);\n\nTeamSettingsModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(TeamSettingsModal);\n\n/***/ }),\n\n/***/ 2318:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _team_general_tab = __webpack_require__(2319);\n\nvar _team_general_tab2 = _interopRequireDefault(_team_general_tab);\n\nvar _team_import_tab = __webpack_require__(2320);\n\nvar _team_import_tab2 = _interopRequireDefault(_team_import_tab);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TeamSettings = function (_React$Component) {\n    (0, _inherits3.default)(TeamSettings, _React$Component);\n\n    function TeamSettings(props) {\n        (0, _classCallCheck3.default)(this, TeamSettings);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamSettings.__proto__ || (0, _getPrototypeOf2.default)(TeamSettings)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n\n        _this.state = { team: _team_store2.default.getCurrent() };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamSettings, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            var team = _team_store2.default.getCurrent();\n\n            if (!Utils.areObjectsEqual(this.state.team, team)) {\n                this.setState({ team: team });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.team) {\n                return null;\n            }\n            var result;\n            switch (this.props.activeTab) {\n                case 'general':\n                    result = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_team_general_tab2.default, {\n                            team: this.state.team,\n                            activeSection: this.props.activeSection,\n                            updateSection: this.props.updateSection\n                        })\n                    );\n                    break;\n                case 'import':\n                    result = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_team_import_tab2.default, {\n                            team: this.state.team,\n                            activeSection: this.props.activeSection,\n                            updateSection: this.props.updateSection\n                        })\n                    );\n                    break;\n                default:\n                    result = _react2.default.createElement('div', null);\n                    break;\n            }\n            return result;\n        }\n    }]);\n    return TeamSettings;\n}(_react2.default.Component);\n\nexports.default = TeamSettings;\n\n\nTeamSettings.defaultProps = {\n    activeTab: '',\n    activeSection: ''\n};\n\nTeamSettings.propTypes = {\n    activeTab: _propTypes2.default.string.isRequired,\n    activeSection: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2319:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _team_actions = __webpack_require__(387);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GeneralTab = function (_React$Component) {\n    (0, _inherits3.default)(GeneralTab, _React$Component);\n\n    function GeneralTab(props) {\n        (0, _classCallCheck3.default)(this, GeneralTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GeneralTab.__proto__ || (0, _getPrototypeOf2.default)(GeneralTab)).call(this, props));\n\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.handleNameSubmit = _this.handleNameSubmit.bind(_this);\n        _this.handleInviteIdSubmit = _this.handleInviteIdSubmit.bind(_this);\n        _this.handleOpenInviteSubmit = _this.handleOpenInviteSubmit.bind(_this);\n        _this.handleDescriptionSubmit = _this.handleDescriptionSubmit.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.onUpdateNameSection = _this.onUpdateNameSection.bind(_this);\n        _this.updateName = _this.updateName.bind(_this);\n        _this.updateDescription = _this.updateDescription.bind(_this);\n        _this.onUpdateDescriptionSection = _this.onUpdateDescriptionSection.bind(_this);\n        _this.onUpdateInviteIdSection = _this.onUpdateInviteIdSection.bind(_this);\n        _this.updateInviteId = _this.updateInviteId.bind(_this);\n        _this.onUpdateOpenInviteSection = _this.onUpdateOpenInviteSection.bind(_this);\n        _this.handleOpenInviteRadio = _this.handleOpenInviteRadio.bind(_this);\n        _this.handleGenerateInviteId = _this.handleGenerateInviteId.bind(_this);\n\n        _this.state = _this.setupInitialState(props);\n        return _this;\n    }\n\n    (0, _createClass3.default)(GeneralTab, [{\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if ((0, _jquery2.default)('.section-max').length) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n            this.setState(this.setupInitialState(this.props));\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'setupInitialState',\n        value: function setupInitialState(props) {\n            var team = props.team;\n\n            return {\n                name: team.display_name,\n                invite_id: team.invite_id,\n                allow_open_invite: team.allow_open_invite,\n                description: team.description,\n                serverError: '',\n                clientError: ''\n            };\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.setState({\n                name: nextProps.team.display_name,\n                description: nextProps.team.description,\n                invite_id: nextProps.team.invite_id,\n                allow_open_invite: nextProps.team.allow_open_invite\n            });\n        }\n    }, {\n        key: 'handleGenerateInviteId',\n        value: function handleGenerateInviteId(e) {\n            e.preventDefault();\n\n            var newId = '';\n            for (var i = 0; i < 32; i++) {\n                newId += Math.floor(Math.random() * 16).toString(16);\n            }\n\n            this.setState({ invite_id: newId });\n        }\n    }, {\n        key: 'handleOpenInviteRadio',\n        value: function handleOpenInviteRadio(openInvite) {\n            this.setState({ allow_open_invite: openInvite });\n        }\n    }, {\n        key: 'handleOpenInviteSubmit',\n        value: function handleOpenInviteSubmit(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.allow_open_invite = this.state.allow_open_invite;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this2.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this2.setState(state);\n            });\n        }\n    }, {\n        key: 'handleNameSubmit',\n        value: function handleNameSubmit(e) {\n            var _this3 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var name = this.state.name.trim();\n            if (name) {\n                state.clientError = '';\n            } else {\n                state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n                valid = false;\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.display_name = this.state.name;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this3.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this3.setState(state);\n            });\n        }\n    }, {\n        key: 'handleInviteIdSubmit',\n        value: function handleInviteIdSubmit(e) {\n            var _this4 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var inviteId = this.state.invite_id.trim();\n            if (inviteId) {\n                state.clientError = '';\n            } else {\n                state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n                valid = false;\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.invite_id = this.state.invite_id;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this4.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this4.setState(state);\n            });\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose() {\n            this.updateSection('');\n        }\n    }, {\n        key: 'handleDescriptionSubmit',\n        value: function handleDescriptionSubmit(e) {\n            var _this5 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var description = this.state.description.trim();\n            if (description === this.props.team.description) {\n                state.clientError = Utils.localizeMessage('general_tab.chooseDescription', 'Please choose a new description for your team');\n                valid = false;\n            } else {\n                state.clientError = '';\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.description = this.state.description;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this5.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this5.setState(state);\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)('#team_settings').on('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)('#team_settings').off('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'onUpdateNameSection',\n        value: function onUpdateNameSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'name') {\n                this.updateSection('');\n            } else {\n                this.updateSection('name');\n            }\n        }\n    }, {\n        key: 'onUpdateDescriptionSection',\n        value: function onUpdateDescriptionSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'description') {\n                this.updateSection('');\n            } else {\n                this.updateSection('description');\n            }\n        }\n    }, {\n        key: 'onUpdateInviteIdSection',\n        value: function onUpdateInviteIdSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'invite_id') {\n                this.updateSection('');\n            } else {\n                this.updateSection('invite_id');\n            }\n        }\n    }, {\n        key: 'onUpdateOpenInviteSection',\n        value: function onUpdateOpenInviteSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'open_invite') {\n                this.updateSection('');\n            } else {\n                this.updateSection('open_invite');\n            }\n        }\n    }, {\n        key: 'updateName',\n        value: function updateName(e) {\n            this.setState({ name: e.target.value });\n        }\n    }, {\n        key: 'updateDescription',\n        value: function updateDescription(e) {\n            this.setState({ description: e.target.value });\n        }\n    }, {\n        key: 'updateInviteId',\n        value: function updateInviteId(e) {\n            this.setState({ invite_id: e.target.value });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var clientError = null;\n            var serverError = null;\n            if (this.state.clientError) {\n                clientError = this.state.clientError;\n            }\n            if (this.state.serverError) {\n                serverError = this.state.serverError;\n            }\n\n            var openInviteSection = void 0;\n            if (this.props.activeSection === 'open_invite') {\n                var inputs = [_react2.default.createElement(\n                    'div',\n                    { key: 'userOpenInviteOptions' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'teamOpenInvite',\n                                name: 'userOpenInviteOptions',\n                                type: 'radio',\n                                defaultChecked: this.state.allow_open_invite,\n                                onChange: this.handleOpenInviteRadio.bind(this, true)\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'general_tab.yes',\n                                defaultMessage: 'Yes'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'teamOpenInviteNo',\n                                name: 'userOpenInviteOptions',\n                                type: 'radio',\n                                defaultChecked: !this.state.allow_open_invite,\n                                onChange: this.handleOpenInviteRadio.bind(this, false)\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'general_tab.no',\n                                defaultMessage: 'No'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.openInviteDesc',\n                            defaultMessage: 'When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team.'\n                        })\n                    )\n                )];\n\n                openInviteSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team'),\n                    inputs: inputs,\n                    submit: this.handleOpenInviteSubmit,\n                    server_error: serverError,\n                    updateSection: this.onUpdateOpenInviteSection\n                });\n            } else {\n                var _describe = '';\n                if (this.state.allow_open_invite === true) {\n                    _describe = Utils.localizeMessage('general_tab.yes', 'Yes');\n                } else {\n                    _describe = Utils.localizeMessage('general_tab.no', 'No');\n                }\n\n                openInviteSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team'),\n                    describe: _describe,\n                    updateSection: this.onUpdateOpenInviteSection\n                });\n            }\n\n            var inviteSection = void 0;\n\n            if (this.props.activeSection === 'invite_id') {\n                var _inputs = [];\n\n                _inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'teamInviteSetting' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row' },\n                        _react2.default.createElement('label', { className: 'col-sm-5 control-label visible-xs-block' }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-12' },\n                            _react2.default.createElement('input', {\n                                id: 'teamInviteId',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateInviteId,\n                                value: this.state.invite_id,\n                                maxLength: '32'\n                            }),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'padding-top x2' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        id: 'teamInviteIdRegenerate',\n                                        className: 'color--link style--none',\n                                        onClick: this.handleGenerateInviteId\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'general_tab.regenerate',\n                                        defaultMessage: 'Regenerate'\n                                    })\n                                )\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'setting-list__hint' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.codeLongDesc',\n                            defaultMessage: 'The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.',\n                            values: {\n                                getTeamInviteLink: _react2.default.createElement(\n                                    'strong',\n                                    null,\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'general_tab.getTeamInviteLink',\n                                        defaultMessage: 'Get Team Invite Link'\n                                    })\n                                )\n                            }\n                        })\n                    )\n                ));\n\n                inviteSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.codeTitle', 'Invite Code'),\n                    inputs: _inputs,\n                    submit: this.handleInviteIdSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateInviteIdSection\n                });\n            } else {\n                inviteSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.codeTitle', 'Invite Code'),\n                    describe: Utils.localizeMessage('general_tab.codeDesc', \"Click 'Edit' to regenerate Invite Code.\"),\n                    updateSection: this.onUpdateInviteIdSection\n                });\n            }\n\n            var nameSection = void 0;\n\n            if (this.props.activeSection === 'name') {\n                var _inputs2 = [];\n\n                var teamNameLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'general_tab.teamName',\n                    defaultMessage: 'Team Name'\n                });\n                if (Utils.isMobile()) {\n                    teamNameLabel = '';\n                }\n\n                _inputs2.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'teamNameSetting',\n                        className: 'form-group'\n                    },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'col-sm-5 control-label' },\n                        teamNameLabel\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-7' },\n                        _react2.default.createElement('input', {\n                            id: 'teamName',\n                            className: 'form-control',\n                            type: 'text',\n                            maxLength: _constants2.default.MAX_TEAMNAME_LENGTH.toString(),\n                            onChange: this.updateName,\n                            value: this.state.name\n                        })\n                    )\n                ));\n\n                var nameExtraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    Utils.localizeMessage('general_tab.teamNameInfo', 'Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.')\n                );\n\n                nameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.teamName', 'Team Name'),\n                    inputs: _inputs2,\n                    submit: this.handleNameSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateNameSection,\n                    extraInfo: nameExtraInfo\n                });\n            } else {\n                var describe = this.state.name;\n\n                nameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.teamName', 'Team Name'),\n                    describe: describe,\n                    updateSection: this.onUpdateNameSection\n                });\n            }\n\n            var descriptionSection = void 0;\n\n            if (this.props.activeSection === 'description') {\n                var _inputs3 = [];\n\n                var teamDescriptionLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'general_tab.teamDescription',\n                    defaultMessage: 'Team Description'\n                });\n                if (Utils.isMobile()) {\n                    teamDescriptionLabel = '';\n                }\n\n                _inputs3.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'teamDescriptionSetting',\n                        className: 'form-group'\n                    },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'col-sm-5 control-label' },\n                        teamDescriptionLabel\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-7' },\n                        _react2.default.createElement('input', {\n                            id: 'teamDescription',\n                            className: 'form-control',\n                            type: 'text',\n                            maxLength: _constants2.default.MAX_TEAMDESCRIPTION_LENGTH.toString(),\n                            onChange: this.updateDescription,\n                            value: this.state.description\n                        })\n                    )\n                ));\n\n                var descriptionExtraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    Utils.localizeMessage('general_tab.teamDescriptionInfo', 'Team description provides additional information to help users select the right team. Maximum of 50 characters.')\n                );\n\n                descriptionSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.teamDescription', 'Team Description'),\n                    inputs: _inputs3,\n                    submit: this.handleDescriptionSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateDescriptionSection,\n                    extraInfo: descriptionExtraInfo\n                });\n            } else {\n                var describemsg = '';\n                if (this.state.description) {\n                    describemsg = this.state.description;\n                } else {\n                    describemsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'general_tab.emptyDescription',\n                        defaultMessage: 'Click \\'Edit\\' to add a team description.'\n                    });\n                }\n\n                descriptionSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.teamDescription', 'Team Description'),\n                    describe: describemsg,\n                    updateSection: this.onUpdateDescriptionSection\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close'\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    nameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    descriptionSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    openInviteSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    inviteSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return GeneralTab;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nGeneralTab.propTypes = {\n    updateSection: _propTypes2.default.func.isRequired,\n    team: _propTypes2.default.object.isRequired,\n    activeSection: _propTypes2.default.string.isRequired\n};\n\nexports.default = GeneralTab;\n\n/***/ }),\n\n/***/ 2320:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _setting_upload = __webpack_require__(2321);\n\nvar _setting_upload2 = _interopRequireDefault(_setting_upload);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    importSlack: {\n        id: 'team_import_tab.importSlack',\n        defaultMessage: 'Import from Slack (Beta)'\n    }\n});\n\nvar TeamImportTab = function (_React$Component) {\n    (0, _inherits3.default)(TeamImportTab, _React$Component);\n\n    function TeamImportTab(props) {\n        (0, _classCallCheck3.default)(this, TeamImportTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamImportTab.__proto__ || (0, _getPrototypeOf2.default)(TeamImportTab)).call(this, props));\n\n        _this.onImportFailure = _this.onImportFailure.bind(_this);\n        _this.onImportSuccess = _this.onImportSuccess.bind(_this);\n        _this.doImportSlack = _this.doImportSlack.bind(_this);\n\n        _this.state = {\n            status: 'ready',\n            link: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamImportTab, [{\n        key: 'onImportFailure',\n        value: function onImportFailure() {\n            this.setState({ status: 'fail' });\n        }\n    }, {\n        key: 'onImportSuccess',\n        value: function onImportSuccess(data) {\n            this.setState({ status: 'done', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(atob(data.results)) });\n        }\n    }, {\n        key: 'doImportSlack',\n        value: function doImportSlack(file) {\n            this.setState({ status: 'in-progress', link: '' });\n            utils.importSlack(file, this.onImportSuccess, this.onImportFailure);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var formatMessage = this.props.intl.formatMessage;\n\n            var uploadDocsLink = _react2.default.createElement(\n                'a',\n                {\n                    href: 'https://docs.mattermost.com/administration/migrating.html#migrating-from-slack',\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpDocsLink',\n                    defaultMessage: 'documentation'\n                })\n            );\n\n            var uploadExportInstructions = _react2.default.createElement(\n                'strong',\n                null,\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpExportInstructions',\n                    defaultMessage: 'Slack > Team Settings > Import/Export Data > Export > Start Export'\n                })\n            );\n\n            var uploadExporterLink = _react2.default.createElement(\n                'a',\n                {\n                    href: 'https://github.com/grundleborg/slack-advanced-exporter',\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpExporterLink',\n                    defaultMessage: 'Slack Advanced Exporter'\n                })\n            );\n\n            var uploadHelpText = _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine1',\n                        defaultMessage: 'Slack import to Mattermost supports importing of messages in your Slack team\\'s public channels.'\n                    })\n                ),\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine2',\n                        defaultMessage: 'To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.',\n                        values: {\n                            exportInstructions: uploadExportInstructions,\n                            uploadDocsLink: uploadDocsLink\n                        }\n                    })\n                ),\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine3',\n                        defaultMessage: 'To import posts with attached files, see {slackAdvancedExporterLink} for details.',\n                        values: {\n                            slackAdvancedExporterLink: uploadExporterLink\n                        }\n                    })\n                )\n            );\n\n            var uploadSection = _react2.default.createElement(_setting_upload2.default, {\n                title: formatMessage(holders.importSlack),\n                submit: this.doImportSlack,\n                helpText: uploadHelpText,\n                fileTypesAccepted: '.zip'\n            });\n\n            var messageSection;\n            switch (this.state.status) {\n\n                case 'ready':\n                    messageSection = '';\n                    break;\n                case 'in-progress':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-warning' },\n                        _react2.default.createElement('i', { className: 'fa fa-spinner fa-pulse' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.importing',\n                            defaultMessage: ' Importing...'\n                        })\n                    );\n                    break;\n                case 'done':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-success' },\n                        _react2.default.createElement('i', { className: 'fa fa-check' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.successful',\n                            defaultMessage: ' Import successful: '\n                        }),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: this.state.link,\n                                download: 'MattermostImportSummary.txt'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'team_import_tab.summary',\n                                defaultMessage: 'View Summary'\n                            })\n                        )\n                    );\n                    break;\n                case 'fail':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-warning' },\n                        _react2.default.createElement('i', { className: 'fa fa-warning' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.failure',\n                            defaultMessage: ' Import failure: '\n                        }),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: this.state.link,\n                                download: 'MattermostImportSummary.txt'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'team_import_tab.summary',\n                                defaultMessage: 'View Summary'\n                            })\n                        )\n                    );\n                    break;\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close'\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.import',\n                            defaultMessage: 'Import'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.import',\n                            defaultMessage: 'Import'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    uploadSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    messageSection\n                )\n            );\n        }\n    }]);\n    return TeamImportTab;\n}(_react2.default.Component);\n\nTeamImportTab.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(TeamImportTab);\n\n/***/ }),\n\n/***/ 2321:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SettingsUpload = function (_React$Component) {\n    (0, _inherits3.default)(SettingsUpload, _React$Component);\n\n    function SettingsUpload(props) {\n        (0, _classCallCheck3.default)(this, SettingsUpload);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SettingsUpload.__proto__ || (0, _getPrototypeOf2.default)(SettingsUpload)).call(this, props));\n\n        _this.doFileSelect = _this.doFileSelect.bind(_this);\n        _this.doSubmit = _this.doSubmit.bind(_this);\n\n        _this.state = {\n            clientError: _this.props.clientError,\n            serverError: _this.props.serverError,\n            filename: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SettingsUpload, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps() {\n            this.setState({\n                clientError: this.props.clientError,\n                serverError: this.props.serverError\n            });\n        }\n    }, {\n        key: 'doFileSelect',\n        value: function doFileSelect(e) {\n            e.preventDefault();\n            var filename = (0, _jquery2.default)(e.target).val();\n            if (filename.substring(3, 11) === 'fakepath') {\n                filename = filename.substring(12);\n            }\n            this.setState({\n                clientError: '',\n                serverError: '',\n                filename: filename\n            });\n        }\n    }, {\n        key: 'doSubmit',\n        value: function doSubmit(e) {\n            e.preventDefault();\n            var inputnode = _reactDom2.default.findDOMNode(this.refs.uploadinput);\n            if (inputnode.files && inputnode.files[0]) {\n                this.props.submit(inputnode.files[0]);\n            } else {\n                this.setState({ clientError: true });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var clientError = null;\n            if (this.state.clientError) {\n                clientError = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'setting_upload.noFile',\n                        defaultMessage: 'No file selected.'\n                    })\n                );\n            }\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status' },\n                    this.state.serverError\n                );\n            }\n            var fileNameText = null;\n            var submitButtonClass = 'btn btn-sm btn-primary disabled';\n            if (this.state.filename) {\n                fileNameText = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status file-name' },\n                    this.state.filename\n                );\n                submitButtonClass = 'btn btn-sm btn-primary';\n            }\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'section-max' },\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-12 section-title' },\n                    this.props.title\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-offset-3 col-sm-9' },\n                    this.props.helpText\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-offset-3 col-sm-9' },\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'setting-list' },\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item' },\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'btn btn-sm btn-primary btn-file sel-btn' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_upload.select',\n                                    defaultMessage: 'Select file'\n                                }),\n                                _react2.default.createElement('input', {\n                                    ref: 'uploadinput',\n                                    accept: this.props.fileTypesAccepted,\n                                    type: 'file',\n                                    onChange: this.doFileSelect\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    className: submitButtonClass,\n                                    onClick: this.doSubmit\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_upload.import',\n                                    defaultMessage: 'Import'\n                                })\n                            ),\n                            fileNameText,\n                            serverError,\n                            clientError\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SettingsUpload;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = SettingsUpload;\n\n\nSettingsUpload.propTypes = {\n    title: _propTypes2.default.string.isRequired,\n    submit: _propTypes2.default.func.isRequired,\n    fileTypesAccepted: _propTypes2.default.string.isRequired,\n    clientError: _propTypes2.default.string,\n    serverError: _propTypes2.default.string,\n    helpText: _propTypes2.default.object\n};\n\n/***/ }),\n\n/***/ 2322:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ImportThemeModal = function (_React$Component) {\n    (0, _inherits3.default)(ImportThemeModal, _React$Component);\n\n    function ImportThemeModal(props) {\n        (0, _classCallCheck3.default)(this, ImportThemeModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ImportThemeModal.__proto__ || (0, _getPrototypeOf2.default)(ImportThemeModal)).call(this, props));\n\n        _this.updateShow = _this.updateShow.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n\n        _this.state = {\n            value: '',\n            inputError: '',\n            show: false,\n            callback: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ImportThemeModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n        }\n    }, {\n        key: 'updateShow',\n        value: function updateShow(show, args) {\n            this.setState({\n                show: show,\n                callback: args.callback\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n\n            var text = this.state.value;\n\n            if (!this.isInputValid(text)) {\n                this.setState({\n                    inputError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.import_theme.submitError',\n                        defaultMessage: 'Invalid format, please try copying and pasting in again.'\n                    })\n                });\n                return;\n            }\n\n            var colors = text.split(',');\n            var theme = { type: 'custom' };\n\n            theme.sidebarBg = colors[0];\n            theme.sidebarText = colors[5];\n            theme.sidebarUnreadText = colors[5];\n            theme.sidebarTextHoverBg = colors[4];\n            theme.sidebarTextActiveBorder = colors[2];\n            theme.sidebarTextActiveColor = colors[3];\n            theme.sidebarHeaderBg = colors[1];\n            theme.sidebarHeaderTextColor = colors[5];\n            theme.onlineIndicator = colors[6];\n            theme.awayIndicator = '#E0B333';\n            theme.mentionBg = colors[7];\n            theme.mentionColor = '#ffffff';\n            theme.centerChannelBg = '#ffffff';\n            theme.centerChannelColor = '#333333';\n            theme.newMessageSeparator = '#F80';\n            theme.linkColor = '#2389d7';\n            theme.buttonBg = '#26a970';\n            theme.buttonColor = '#ffffff';\n            theme.mentionHighlightBg = '#fff2bb';\n            theme.mentionHighlightLink = '#2f81b7';\n            theme.codeTheme = 'github';\n\n            this.state.callback(theme);\n            this.setState({\n                show: false,\n                callback: null\n            });\n        }\n    }, {\n        key: 'isInputValid',\n        value: function isInputValid(text) {\n            if (text.length === 0) {\n                return false;\n            }\n\n            if (text.indexOf(' ') !== -1) {\n                return false;\n            }\n\n            if (text.length > 0 && text.indexOf(',') === -1) {\n                return false;\n            }\n\n            if (text.length > 0) {\n                var colors = text.split(',');\n\n                if (colors.length !== 8) {\n                    return false;\n                }\n\n                for (var i = 0; i < colors.length; i++) {\n                    if (colors[i].length !== 7 && colors[i].length !== 4) {\n                        return false;\n                    }\n\n                    if (colors[i].charAt(0) !== '#') {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            var value = e.target.value;\n            this.setState({ value: value });\n\n            if (this.isInputValid(value)) {\n                this.setState({ inputError: null });\n            } else {\n                this.setState({\n                    inputError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.import_theme.submitError',\n                        defaultMessage: 'Invalid format, please try copying and pasting in again.'\n                    })\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(\n                'span',\n                null,\n                _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        show: this.state.show,\n                        onHide: function onHide() {\n                            return _this2.setState({ show: false });\n                        }\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: true },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.import_theme.importHeader',\n                                defaultMessage: 'Import Slack Theme'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        {\n                            role: 'form',\n                            className: 'form-horizontal'\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            null,\n                            _react2.default.createElement(\n                                'p',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.importBody',\n                                    defaultMessage: 'To import a theme, go to a Slack team and look for \"Preferences -> Sidebar Theme\". Open the custom theme option, copy the theme color values and paste them here:'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'form-group less' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-12' },\n                                    _react2.default.createElement('input', {\n                                        id: 'themeVector',\n                                        type: 'text',\n                                        className: 'form-control',\n                                        value: this.state.value,\n                                        onChange: this.handleChange\n                                    }),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'input__help' },\n                                        this.state.inputError\n                                    )\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'cancelButton',\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: function onClick() {\n                                        return _this2.setState({ show: false });\n                                    }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'submitButton',\n                                    onClick: this.handleSubmit,\n                                    type: 'submit',\n                                    className: 'btn btn-primary',\n                                    tabIndex: '3'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.submit',\n                                    defaultMessage: 'Submit'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return ImportThemeModal;\n}(_react2.default.Component);\n\nexports.default = ImportThemeModal;\n\n/***/ }),\n\n/***/ 2323:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _confirm_modal = __webpack_require__(283);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _settings_sidebar = __webpack_require__(2066);\n\nvar _settings_sidebar2 = _interopRequireDefault(_settings_sidebar);\n\nvar _user_settings = __webpack_require__(2324);\n\nvar _user_settings2 = _interopRequireDefault(_user_settings);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    general: {\n        id: 'user.settings.modal.general',\n        defaultMessage: 'General'\n    },\n    security: {\n        id: 'user.settings.modal.security',\n        defaultMessage: 'Security'\n    },\n    notifications: {\n        id: 'user.settings.modal.notifications',\n        defaultMessage: 'Notifications'\n    },\n    display: {\n        id: 'user.settings.modal.display',\n        defaultMessage: 'Display'\n    },\n    sidebar: {\n        id: 'user.settings.modal.sidebar',\n        defaultMessage: 'Sidebar'\n    },\n    advanced: {\n        id: 'user.settings.modal.advanced',\n        defaultMessage: 'Advanced'\n    },\n    confirmTitle: {\n        id: 'user.settings.modal.confirmTitle',\n        defaultMessage: 'Discard Changes?'\n    },\n    confirmMsg: {\n        id: 'user.settings.modal.confirmMsg',\n        defaultMessage: 'You have unsaved changes, are you sure you want to discard them?'\n    },\n    confirmBtns: {\n        id: 'user.settings.modal.confirmBtns',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nvar UserSettingsModal = function (_React$Component) {\n    (0, _inherits3.default)(UserSettingsModal, _React$Component);\n\n    function UserSettingsModal(props) {\n        (0, _classCallCheck3.default)(this, UserSettingsModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettingsModal.__proto__ || (0, _getPrototypeOf2.default)(UserSettingsModal)).call(this, props));\n\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleHidden = _this.handleHidden.bind(_this);\n        _this.handleCollapse = _this.handleCollapse.bind(_this);\n        _this.handleConfirm = _this.handleConfirm.bind(_this);\n        _this.handleCancelConfirmation = _this.handleCancelConfirmation.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n\n        _this.closeModal = _this.closeModal.bind(_this);\n        _this.collapseModal = _this.collapseModal.bind(_this);\n\n        _this.updateTab = _this.updateTab.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.onUserChanged = _this.onUserChanged.bind(_this);\n\n        _this.state = {\n            active_tab: 'general',\n            active_section: '',\n            showConfirmModal: false,\n            enforceFocus: true,\n            currentUser: _user_store2.default.getCurrentUser(),\n            show: false\n        };\n\n        _this.requireConfirm = false;\n        _this.mounted = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettingsModal, [{\n        key: 'onUserChanged',\n        value: function onUserChanged() {\n            if (this.mounted) {\n                this.setState({ currentUser: _user_store2.default.getCurrentUser() });\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n            _user_store2.default.addChangeListener(this.onUserChanged);\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n            document.addEventListener('keydown', this.handleKeyDown);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n            document.removeEventListener('keydown', this.handleKeyDown);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            _user_store2.default.removeChangeListener(this.onUserChanged);\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-content .minimize-settings').perfectScrollbar('update');\n            }\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && e.keyCode === _constants2.default.KeyCodes.A) {\n                this.setState({\n                    show: !this.state.show\n                });\n            }\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n\n        // Called when the close button is pressed on the main modal\n\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            var _this2 = this;\n\n            if (this.requireConfirm) {\n                this.afterConfirm = function () {\n                    return _this2.handleHide();\n                };\n                this.showConfirmModal();\n\n                return;\n            }\n\n            this.setState({\n                show: false\n            });\n        }\n\n        // called after the dialog is fully hidden and faded out\n\n    }, {\n        key: 'handleHidden',\n        value: function handleHidden() {\n            this.setState({\n                active_tab: 'general',\n                active_section: ''\n            });\n        }\n\n        // Called to hide the settings pane when on mobile\n\n    }, {\n        key: 'handleCollapse',\n        value: function handleCollapse() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.modalBody)).closest('.modal-dialog').removeClass('display--content');\n\n            this.setState({\n                active_tab: '',\n                active_section: ''\n            });\n        }\n    }, {\n        key: 'handleConfirm',\n        value: function handleConfirm() {\n            this.setState({\n                showConfirmModal: false,\n                enforceFocus: true\n            });\n\n            this.requireConfirm = false;\n\n            if (this.afterConfirm) {\n                this.afterConfirm();\n                this.afterConfirm = null;\n            }\n        }\n    }, {\n        key: 'handleCancelConfirmation',\n        value: function handleCancelConfirmation() {\n            this.setState({\n                showConfirmModal: false,\n                enforceFocus: true\n            });\n\n            this.afterConfirm = null;\n        }\n    }, {\n        key: 'showConfirmModal',\n        value: function showConfirmModal(afterConfirm) {\n            this.setState({\n                showConfirmModal: true,\n                enforceFocus: false\n            });\n\n            if (afterConfirm) {\n                this.afterConfirm = afterConfirm;\n            }\n        }\n\n        // Called by settings tabs when their close button is pressed\n\n    }, {\n        key: 'closeModal',\n        value: function closeModal() {\n            if (this.requireConfirm) {\n                this.showConfirmModal(this.closeModal);\n            } else {\n                this.handleHide();\n            }\n        }\n\n        // Called by settings tabs when their back button is pressed\n\n    }, {\n        key: 'collapseModal',\n        value: function collapseModal() {\n            if (this.requireConfirm) {\n                this.showConfirmModal(this.collapseModal);\n            } else {\n                this.handleCollapse();\n            }\n        }\n    }, {\n        key: 'updateTab',\n        value: function updateTab(tab, skipConfirm) {\n            var _this3 = this;\n\n            if (!skipConfirm && this.requireConfirm) {\n                this.showConfirmModal(function () {\n                    return _this3.updateTab(tab, true);\n                });\n            } else {\n                this.setState({\n                    active_tab: tab,\n                    active_section: ''\n                });\n            }\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section, skipConfirm) {\n            var _this4 = this;\n\n            if (!skipConfirm && this.requireConfirm) {\n                this.showConfirmModal(function () {\n                    return _this4.updateSection(section, true);\n                });\n            } else {\n                this.setState({ active_section: section });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            if (this.state.currentUser == null) {\n                return _react2.default.createElement('div', null);\n            }\n            var tabs = [];\n\n            tabs.push({ name: 'general', uiName: formatMessage(holders.general), icon: 'icon fa fa-gear' });\n            tabs.push({ name: 'security', uiName: formatMessage(holders.security), icon: 'icon fa fa-lock' });\n            tabs.push({ name: 'notifications', uiName: formatMessage(holders.notifications), icon: 'icon fa fa-exclamation-circle' });\n            tabs.push({ name: 'display', uiName: formatMessage(holders.display), icon: 'icon fa fa-eye' });\n            if (global.mm_config.CloseUnusedDirectMessages === 'true') {\n                tabs.push({ name: 'sidebar', uiName: formatMessage(holders.sidebar), icon: 'icon fa fa-columns' });\n            }\n            tabs.push({ name: 'advanced', uiName: formatMessage(holders.advanced), icon: 'icon fa fa-list-alt' });\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    id: 'accountSettingsModal',\n                    dialogClassName: 'settings-modal',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleHidden,\n                    enforceFocus: this.state.enforceFocus\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    {\n                        id: 'accountSettingsHeader',\n                        closeButton: true\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        { id: 'accountSettingsTitle' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.modal.title',\n                            defaultMessage: 'Account Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    { ref: 'modalBody' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'settings-table' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'settings-links' },\n                            _react2.default.createElement(_settings_sidebar2.default, {\n                                tabs: tabs,\n                                activeTab: this.state.active_tab,\n                                updateTab: this.updateTab\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'settings-content minimize-settings' },\n                            _react2.default.createElement(_user_settings2.default, {\n                                ref: 'userSettings',\n                                activeTab: this.state.active_tab,\n                                activeSection: this.state.active_section,\n                                updateSection: this.updateSection,\n                                updateTab: this.updateTab,\n                                closeModal: this.closeModal,\n                                collapseModal: this.collapseModal,\n                                setEnforceFocus: function setEnforceFocus(enforceFocus) {\n                                    return _this5.setState({ enforceFocus: enforceFocus });\n                                },\n                                setRequireConfirm: function setRequireConfirm(requireConfirm) {\n                                    _this5.requireConfirm = requireConfirm;\n                                }\n                            })\n                        )\n                    )\n                ),\n                _react2.default.createElement(_confirm_modal2.default, {\n                    title: formatMessage(holders.confirmTitle),\n                    message: formatMessage(holders.confirmMsg),\n                    confirmButtonText: formatMessage(holders.confirmBtns),\n                    show: this.state.showConfirmModal,\n                    onConfirm: this.handleConfirm,\n                    onCancel: this.handleCancelConfirmation\n                })\n            );\n        }\n    }]);\n    return UserSettingsModal;\n}(_react2.default.Component);\n\nUserSettingsModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(UserSettingsModal);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2324:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _user_settings_advanced = __webpack_require__(2325);\n\nvar _user_settings_advanced2 = _interopRequireDefault(_user_settings_advanced);\n\nvar _user_settings_display = __webpack_require__(2326);\n\nvar _user_settings_display2 = _interopRequireDefault(_user_settings_display);\n\nvar _user_settings_general = __webpack_require__(2334);\n\nvar _user_settings_general2 = _interopRequireDefault(_user_settings_general);\n\nvar _user_settings_notifications = __webpack_require__(2338);\n\nvar _user_settings_notifications2 = _interopRequireDefault(_user_settings_notifications);\n\nvar _user_settings_security = __webpack_require__(2341);\n\nvar _user_settings_security2 = _interopRequireDefault(_user_settings_security);\n\nvar _user_settings_sidebar = __webpack_require__(2347);\n\nvar _user_settings_sidebar2 = _interopRequireDefault(_user_settings_sidebar);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar UserSettings = function (_React$Component) {\n    (0, _inherits3.default)(UserSettings, _React$Component);\n\n    function UserSettings(props) {\n        (0, _classCallCheck3.default)(this, UserSettings);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettings.__proto__ || (0, _getPrototypeOf2.default)(UserSettings)).call(this, props));\n\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n\n        _this.state = { user: _user_store2.default.getCurrentUser() };\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettings, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            var user = _user_store2.default.getCurrentUser();\n            if (!utils.areObjectsEqual(this.state.user, user)) {\n                this.setState({ user: user });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.props.activeTab === 'general') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_general2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal\n                    })\n                );\n            } else if (this.props.activeTab === 'security') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_security2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal,\n                        setEnforceFocus: this.props.setEnforceFocus\n                    })\n                );\n            } else if (this.props.activeTab === 'notifications') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_notifications2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal\n                    })\n                );\n            } else if (this.props.activeTab === 'display') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_display2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal,\n                        setEnforceFocus: this.props.setEnforceFocus,\n                        setRequireConfirm: this.props.setRequireConfirm\n                    })\n                );\n            } else if (this.props.activeTab === 'sidebar') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_sidebar2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal\n                    })\n                );\n            } else if (this.props.activeTab === 'advanced') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_advanced2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal\n                    })\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return UserSettings;\n}(_react2.default.Component);\n\nexports.default = UserSettings;\n\n\nUserSettings.propTypes = {\n    activeTab: _propTypes2.default.string,\n    activeSection: _propTypes2.default.string,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired,\n    setRequireConfirm: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2325:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray2 = __webpack_require__(168);\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = __webpack_require__(45);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _keys = __webpack_require__(51);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar PreReleaseFeatures = _constants2.default.PRE_RELEASE_FEATURES;\n\nvar AdvancedSettingsDisplay = function (_React$Component) {\n    (0, _inherits3.default)(AdvancedSettingsDisplay, _React$Component);\n\n    function AdvancedSettingsDisplay(props) {\n        (0, _classCallCheck3.default)(this, AdvancedSettingsDisplay);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AdvancedSettingsDisplay.__proto__ || (0, _getPrototypeOf2.default)(AdvancedSettingsDisplay)).call(this, props));\n\n        _this.getStateFromStores = _this.getStateFromStores.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.updateSetting = _this.updateSetting.bind(_this);\n        _this.toggleFeature = _this.toggleFeature.bind(_this);\n\n        _this.saveEnabledFeatures = _this.saveEnabledFeatures.bind(_this);\n        _this.renderFormattingSection = _this.renderFormattingSection.bind(_this);\n        _this.renderJoinLeaveSection = _this.renderJoinLeaveSection.bind(_this);\n\n        _this.state = _this.getStateFromStores();\n        return _this;\n    }\n\n    (0, _createClass3.default)(AdvancedSettingsDisplay, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var preReleaseFeaturesKeys = (0, _keys2.default)(PreReleaseFeatures);\n            var advancedSettings = _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS);\n            var settings = {\n                send_on_ctrl_enter: _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter', 'false'),\n                formatting: _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'formatting', 'true'),\n                join_leave: _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'join_leave', 'true')\n            };\n\n            var webrtcEnabled = global.mm_config.EnableWebrtc === 'true';\n\n            if (!webrtcEnabled) {\n                preReleaseFeaturesKeys = preReleaseFeaturesKeys.filter(function (f) {\n                    return f !== 'WEBRTC_PREVIEW';\n                });\n            }\n\n            var enabledFeatures = 0;\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(advancedSettings), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n                        name = _step$value[0],\n                        value = _step$value[1];\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = (0, _getIterator3.default)(preReleaseFeaturesKeys), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var key = _step2.value;\n\n                            var feature = PreReleaseFeatures[key];\n\n                            if (name === _constants2.default.FeatureTogglePrefix + feature.label) {\n                                settings[name] = value;\n\n                                if (value === 'true') {\n                                    enabledFeatures += 1;\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            var isSaving = false;\n\n            var previewFeaturesEnabled = global.window.mm_config.EnablePreviewFeatures === 'true';\n\n            return {\n                preReleaseFeatures: PreReleaseFeatures,\n                settings: settings,\n                preReleaseFeaturesKeys: preReleaseFeaturesKeys,\n                enabledFeatures: enabledFeatures,\n                isSaving: isSaving,\n                previewFeaturesEnabled: previewFeaturesEnabled\n            };\n        }\n    }, {\n        key: 'updateSetting',\n        value: function updateSetting(setting, value) {\n            var settings = this.state.settings;\n            settings[setting] = value;\n            this.setState(settings);\n        }\n    }, {\n        key: 'toggleFeature',\n        value: function toggleFeature(feature, checked) {\n            var _this2 = this;\n\n            var settings = this.state.settings;\n            settings[_constants2.default.FeatureTogglePrefix + feature] = String(checked);\n\n            var enabledFeatures = 0;\n            (0, _keys2.default)(this.state.settings).forEach(function (setting) {\n                if (setting.lastIndexOf(_constants2.default.FeatureTogglePrefix) === 0 && _this2.state.settings[setting] === 'true') {\n                    enabledFeatures++;\n                }\n            });\n\n            this.setState({ settings: settings, enabledFeatures: enabledFeatures });\n        }\n    }, {\n        key: 'saveEnabledFeatures',\n        value: function saveEnabledFeatures() {\n            var features = [];\n            (0, _keys2.default)(this.state.settings).forEach(function (setting) {\n                if (setting.lastIndexOf(_constants2.default.FeatureTogglePrefix) === 0) {\n                    features.push(setting);\n                }\n            });\n\n            this.handleSubmit(features);\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(settings) {\n            var _this3 = this;\n\n            var preferences = [];\n            var userId = _user_store2.default.getCurrentId();\n\n            // this should be refactored so we can actually be certain about what type everything is\n            (Array.isArray(settings) ? settings : [settings]).forEach(function (setting) {\n                preferences.push({\n                    user_id: userId,\n                    category: _constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                    name: setting,\n                    value: _this3.state.settings[setting]\n                });\n            });\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.savePreferences)(preferences, function () {\n                _this3.updateSection('');\n            });\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if (!section) {\n                this.setState(this.getStateFromStores());\n            }\n            this.setState({ isSaving: false });\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'renderOnOffLabel',\n        value: function renderOnOffLabel(enabled) {\n            if (enabled === 'false') {\n                return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.advance.off',\n                    defaultMessage: 'Off'\n                });\n            }\n\n            return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'user.settings.advance.on',\n                defaultMessage: 'On'\n            });\n        }\n    }, {\n        key: 'renderFormattingSection',\n        value: function renderFormattingSection() {\n            var _this4 = this;\n\n            if (this.props.activeSection === 'formatting') {\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.formattingTitle',\n                        defaultMessage: 'Enable Post Formatting'\n                    }),\n                    inputs: [_react2.default.createElement(\n                        'div',\n                        { key: 'formattingSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'postFormattingOn',\n                                    type: 'radio',\n                                    name: 'formatting',\n                                    checked: this.state.settings.formatting !== 'false',\n                                    onChange: this.updateSetting.bind(this, 'formatting', 'true')\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.advance.on',\n                                    defaultMessage: 'On'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'postFormattingOff',\n                                    type: 'radio',\n                                    name: 'formatting',\n                                    checked: this.state.settings.formatting === 'false',\n                                    onChange: this.updateSetting.bind(this, 'formatting', 'false')\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.advance.off',\n                                    defaultMessage: 'Off'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement('br', null),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.advance.formattingDesc',\n                                defaultMessage: 'If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled. Changing this setting requires the page to be refreshed.'\n                            })\n                        )\n                    )],\n                    submit: function submit() {\n                        return _this4.handleSubmit('formatting');\n                    },\n                    saving: this.state.isSaving,\n                    server_error: this.state.serverError,\n                    updateSection: function updateSection(e) {\n                        _this4.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            }\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.advance.formattingTitle',\n                    defaultMessage: 'Enable Post Formatting'\n                }),\n                describe: this.renderOnOffLabel(this.state.settings.formatting),\n                updateSection: function updateSection() {\n                    return _this4.props.updateSection('formatting');\n                }\n            });\n        }\n    }, {\n        key: 'renderJoinLeaveSection',\n        value: function renderJoinLeaveSection() {\n            var _this5 = this;\n\n            if (window.mm_config.BuildEnterpriseReady === 'true' && window.mm_license && window.mm_license.IsLicensed === 'true') {\n                if (this.props.activeSection === 'join_leave') {\n                    return _react2.default.createElement(_setting_item_max2.default, {\n                        title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.joinLeaveTitle',\n                            defaultMessage: 'Enable Join/Leave Messages'\n                        }),\n                        inputs: [_react2.default.createElement(\n                            'div',\n                            { key: 'joinLeaveSetting' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'joinLeaveOn',\n                                        type: 'radio',\n                                        name: 'join_leave',\n                                        checked: this.state.settings.join_leave !== 'false',\n                                        onChange: this.updateSetting.bind(this, 'join_leave', 'true')\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.advance.on',\n                                        defaultMessage: 'On'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'joinLeaveOff',\n                                        type: 'radio',\n                                        name: 'join_leave',\n                                        checked: this.state.settings.join_leave === 'false',\n                                        onChange: this.updateSetting.bind(this, 'join_leave', 'false')\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.advance.off',\n                                        defaultMessage: 'Off'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                _react2.default.createElement('br', null),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.advance.joinLeaveDesc',\n                                    defaultMessage: 'When \"On\", System Messages saying a user has joined or left a channel will be visible. When \"Off\", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.'\n                                })\n                            )\n                        )],\n                        submit: function submit() {\n                            return _this5.handleSubmit('join_leave');\n                        },\n                        saving: this.state.isSaving,\n                        server_error: this.state.serverError,\n                        updateSection: function updateSection(e) {\n                            _this5.updateSection('');\n                            e.preventDefault();\n                        }\n                    });\n                }\n\n                return _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.joinLeaveTitle',\n                        defaultMessage: 'Enable Join/Leave Messages'\n                    }),\n                    describe: this.renderOnOffLabel(this.state.settings.join_leave),\n                    updateSection: function updateSection() {\n                        return _this5.props.updateSection('join_leave');\n                    }\n                });\n            }\n\n            return null;\n        }\n    }, {\n        key: 'renderFeatureLabel',\n        value: function renderFeatureLabel(feature) {\n            switch (feature) {\n                case 'MARKDOWN_PREVIEW':\n                    return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.markdown_preview',\n                        defaultMessage: 'Show markdown preview option in message input box'\n                    });\n                case 'WEBRTC_PREVIEW':\n                    return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.webrtc_preview',\n                        defaultMessage: 'Enable the ability to make and receive one-on-one WebRTC calls'\n                    });\n                default:\n                    return null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this6 = this;\n\n            var serverError = this.state.serverError || null;\n            var ctrlSendSection = void 0;\n\n            if (this.props.activeSection === 'advancedCtrlSend') {\n                var ctrlSendActive = [this.state.settings.send_on_ctrl_enter === 'true', this.state.settings.send_on_ctrl_enter === 'false'];\n\n                var inputs = [_react2.default.createElement(\n                    'div',\n                    { key: 'ctrlSendSetting' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'ctrlSendOn',\n                                type: 'radio',\n                                name: 'sendOnCtrlEnter',\n                                checked: ctrlSendActive[0],\n                                onChange: this.updateSetting.bind(this, 'send_on_ctrl_enter', 'true')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.advance.on',\n                                defaultMessage: 'On'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'ctrlSendOff',\n                                type: 'radio',\n                                name: 'sendOnCtrlEnter',\n                                checked: ctrlSendActive[1],\n                                onChange: this.updateSetting.bind(this, 'send_on_ctrl_enter', 'false')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.advance.off',\n                                defaultMessage: 'Off'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.sendDesc',\n                            defaultMessage: 'If enabled ENTER inserts a new line and CTRL+ENTER submits the message.'\n                        })\n                    )\n                )];\n                ctrlSendSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.sendTitle',\n                        defaultMessage: 'Send messages on CTRL+ENTER'\n                    }),\n                    inputs: inputs,\n                    submit: function submit() {\n                        return _this6.handleSubmit('send_on_ctrl_enter');\n                    },\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    updateSection: function updateSection(e) {\n                        _this6.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            } else {\n                ctrlSendSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.sendTitle',\n                        defaultMessage: 'Send messages on CTRL+ENTER'\n                    }),\n                    describe: this.renderOnOffLabel(this.state.settings.send_on_ctrl_enter),\n                    updateSection: function updateSection() {\n                        return _this6.props.updateSection('advancedCtrlSend');\n                    }\n                });\n            }\n\n            var formattingSection = this.renderFormattingSection();\n            var formattingSectionDivider = null;\n            if (formattingSection) {\n                formattingSectionDivider = _react2.default.createElement('div', { className: 'divider-light' });\n            }\n\n            var displayJoinLeaveSection = this.renderJoinLeaveSection();\n            var displayJoinLeaveSectionDivider = null;\n            if (displayJoinLeaveSection) {\n                displayJoinLeaveSectionDivider = _react2.default.createElement('div', { className: 'divider-light' });\n            }\n\n            var previewFeaturesSection = void 0;\n            var previewFeaturesSectionDivider = void 0;\n            if (this.state.previewFeaturesEnabled && this.state.preReleaseFeaturesKeys.length > 0) {\n                previewFeaturesSectionDivider = _react2.default.createElement('div', { className: 'divider-light' });\n\n                if (this.props.activeSection === 'advancedPreviewFeatures') {\n                    var _inputs = [];\n\n                    this.state.preReleaseFeaturesKeys.forEach(function (key) {\n                        var feature = _this6.state.preReleaseFeatures[key];\n                        _inputs.push(_react2.default.createElement(\n                            'div',\n                            { key: 'advancedPreviewFeatures_' + feature.label },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'checkbox' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'advancedPreviewFeatures' + feature.label,\n                                        type: 'checkbox',\n                                        checked: _this6.state.settings[_constants2.default.FeatureTogglePrefix + feature.label] === 'true',\n                                        onChange: function onChange(e) {\n                                            _this6.toggleFeature(feature.label, e.target.checked);\n                                        }\n                                    }),\n                                    _this6.renderFeatureLabel(key)\n                                )\n                            )\n                        ));\n                    });\n\n                    _inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'advancedPreviewFeatures_helptext' },\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.preReleaseDesc',\n                            defaultMessage: 'Check any pre-released features you\\'d like to preview.  You may also need to refresh the page before the setting will take effect.'\n                        })\n                    ));\n                    previewFeaturesSection = _react2.default.createElement(_setting_item_max2.default, {\n                        title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.preReleaseTitle',\n                            defaultMessage: 'Preview pre-release features'\n                        }),\n                        inputs: _inputs,\n                        submit: this.saveEnabledFeatures,\n                        saving: this.state.isSaving,\n                        server_error: serverError,\n                        updateSection: function updateSection(e) {\n                            _this6.updateSection('');\n                            e.preventDefault();\n                        }\n                    });\n                } else {\n                    previewFeaturesSection = _react2.default.createElement(_setting_item_min2.default, {\n                        title: Utils.localizeMessage('user.settings.advance.preReleaseTitle', 'Preview pre-release features'),\n                        describe: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.enabledFeatures',\n                            defaultMessage: '{count, number} {count, plural, one {Feature} other {Features}} Enabled',\n                            values: { count: this.state.enabledFeatures }\n                        }),\n                        updateSection: function updateSection() {\n                            return _this6.props.updateSection('advancedPreviewFeatures');\n                        }\n                    });\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close',\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.title',\n                            defaultMessage: 'Advanced Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.title',\n                            defaultMessage: 'Advanced Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    ctrlSendSection,\n                    formattingSectionDivider,\n                    formattingSection,\n                    displayJoinLeaveSectionDivider,\n                    displayJoinLeaveSection,\n                    previewFeaturesSectionDivider,\n                    previewFeaturesSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return AdvancedSettingsDisplay;\n}(_react2.default.Component);\n\nexports.default = AdvancedSettingsDisplay;\n\n\nAdvancedSettingsDisplay.propTypes = {\n    user: _propTypes2.default.object,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    activeSection: _propTypes2.default.string,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2326:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(51);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _i18n = __webpack_require__(389);\n\nvar I18n = _interopRequireWildcard(_i18n);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _manage_languages = __webpack_require__(2327);\n\nvar _manage_languages2 = _interopRequireDefault(_manage_languages);\n\nvar _user_settings_theme = __webpack_require__(2328);\n\nvar _user_settings_theme2 = _interopRequireDefault(_user_settings_theme);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Preferences = _constants2.default.Preferences; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction getDisplayStateFromStores() {\n    return {\n        militaryTime: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, 'use_military_time', 'false'),\n        channelDisplayMode: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.CHANNEL_DISPLAY_MODE, Preferences.CHANNEL_DISPLAY_MODE_DEFAULT),\n        messageDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT),\n        collapseDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, Preferences.COLLAPSE_DISPLAY_DEFAULT),\n        linkPreviewDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.LINK_PREVIEW_DISPLAY, Preferences.LINK_PREVIEW_DISPLAY_DEFAULT)\n    };\n}\n\nvar UserSettingsDisplay = function (_React$Component) {\n    (0, _inherits3.default)(UserSettingsDisplay, _React$Component);\n\n    function UserSettingsDisplay(props) {\n        (0, _classCallCheck3.default)(this, UserSettingsDisplay);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettingsDisplay.__proto__ || (0, _getPrototypeOf2.default)(UserSettingsDisplay)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleClockRadio = _this.handleClockRadio.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.updateState = _this.updateState.bind(_this);\n\n        _this.state = (0, _extends3.default)({}, getDisplayStateFromStores(), {\n            isSaving: false\n        });\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettingsDisplay, [{\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var _this2 = this;\n\n            var userId = _user_store2.default.getCurrentId();\n\n            var timePreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: 'use_military_time',\n                value: this.state.militaryTime\n            };\n\n            var channelDisplayModePreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.CHANNEL_DISPLAY_MODE,\n                value: this.state.channelDisplayMode\n            };\n            var messageDisplayPreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.MESSAGE_DISPLAY,\n                value: this.state.messageDisplay\n            };\n            var collapseDisplayPreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.COLLAPSE_DISPLAY,\n                value: this.state.collapseDisplay\n            };\n            var linkPreviewDisplayPreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.LINK_PREVIEW_DISPLAY,\n                value: this.state.linkPreviewDisplay\n            };\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.savePreferences)([timePreference, channelDisplayModePreference, messageDisplayPreference, collapseDisplayPreference, linkPreviewDisplayPreference], function () {\n                _this2.updateSection('');\n            });\n        }\n    }, {\n        key: 'handleClockRadio',\n        value: function handleClockRadio(militaryTime) {\n            this.setState({ militaryTime: militaryTime });\n        }\n    }, {\n        key: 'handleChannelDisplayModeRadio',\n        value: function handleChannelDisplayModeRadio(channelDisplayMode) {\n            this.setState({ channelDisplayMode: channelDisplayMode });\n        }\n    }, {\n        key: 'handlemessageDisplayRadio',\n        value: function handlemessageDisplayRadio(messageDisplay) {\n            this.setState({ messageDisplay: messageDisplay });\n        }\n    }, {\n        key: 'handleCollapseRadio',\n        value: function handleCollapseRadio(collapseDisplay) {\n            this.setState({ collapseDisplay: collapseDisplay });\n        }\n    }, {\n        key: 'handleLinkPreviewRadio',\n        value: function handleLinkPreviewRadio(linkPreviewDisplay) {\n            this.setState({ linkPreviewDisplay: linkPreviewDisplay });\n        }\n    }, {\n        key: 'handleOnChange',\n        value: function handleOnChange(display) {\n            this.setState((0, _extends3.default)({}, display));\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            this.updateState();\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'updateState',\n        value: function updateState() {\n            var newState = getDisplayStateFromStores();\n            if (!Utils.areObjectsEqual(newState, this.state)) {\n                this.setState(newState);\n            }\n\n            this.setState({ isSaving: false });\n        }\n    }, {\n        key: 'createSection',\n        value: function createSection(props) {\n            var _this3 = this;\n\n            var section = props.section,\n                display = props.display,\n                value = props.value,\n                title = props.title,\n                firstOption = props.firstOption,\n                secondOption = props.secondOption,\n                description = props.description;\n\n\n            var firstMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: firstOption.radionButtonText.id,\n                defaultMessage: firstOption.radionButtonText.message\n            });\n\n            var moreColon = void 0;\n            var firstMessageMore = void 0;\n            if (firstOption.radionButtonText.moreId) {\n                moreColon = ': ';\n                firstMessageMore = _react2.default.createElement(\n                    'span',\n                    { className: 'font-weight--normal' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: firstOption.radionButtonText.moreId,\n                        defaultMessage: firstOption.radionButtonText.moreMessage\n                    })\n                );\n            }\n\n            var secondMessageMore = void 0;\n            if (secondOption.radionButtonText.moreId) {\n                secondMessageMore = _react2.default.createElement(\n                    'span',\n                    { className: 'font-weight--normal' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: secondOption.radionButtonText.moreId,\n                        defaultMessage: secondOption.radionButtonText.moreMessage\n                    })\n                );\n            }\n\n            var secondMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: secondOption.radionButtonText.id,\n                defaultMessage: secondOption.radionButtonText.message\n            });\n\n            var messageTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: title.id,\n                defaultMessage: title.message\n            });\n\n            var messageDesc = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: description.id,\n                defaultMessage: description.message\n            });\n\n            if (this.props.activeSection === section) {\n                var format = [false, false];\n                if (value === firstOption.value) {\n                    format[0] = true;\n                } else {\n                    format[1] = true;\n                }\n\n                var _handleUpdateSection = function _handleUpdateSection(e) {\n                    _this3.updateSection('');\n                    e.preventDefault();\n                };\n\n                var name = section + 'Format';\n                var key = section + 'UserDisplay';\n\n                var firstDisplay = {};\n                firstDisplay[display] = firstOption.value;\n\n                var secondDisplay = {};\n                secondDisplay[display] = secondOption.value;\n\n                var inputs = [_react2.default.createElement(\n                    'div',\n                    { key: key },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: name + 'A',\n                                type: 'radio',\n                                name: name,\n                                checked: format[0],\n                                onChange: function onChange() {\n                                    return _this3.handleOnChange(firstDisplay);\n                                }\n                            }),\n                            firstMessage,\n                            moreColon,\n                            firstMessageMore\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: name + 'B',\n                                type: 'radio',\n                                name: name,\n                                checked: format[1],\n                                onChange: function onChange() {\n                                    return _this3.handleOnChange(secondDisplay);\n                                }\n                            }),\n                            secondMessage,\n                            moreColon,\n                            secondMessageMore\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('br', null),\n                        messageDesc\n                    )\n                )];\n\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_setting_item_max2.default, {\n                        title: messageTitle,\n                        inputs: inputs,\n                        submit: this.handleSubmit,\n                        saving: this.state.isSaving,\n                        server_error: this.state.serverError,\n                        updateSection: _handleUpdateSection\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                );\n            }\n\n            var describe = void 0;\n            if (value === firstOption.value) {\n                describe = firstMessage;\n            } else {\n                describe = secondMessage;\n            }\n\n            var handleUpdateSection = function handleUpdateSection() {\n                _this3.props.updateSection(section);\n            };\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_setting_item_min2.default, {\n                    title: messageTitle,\n                    describe: describe,\n                    updateSection: handleUpdateSection\n                }),\n                _react2.default.createElement('div', { className: 'divider-dark' })\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var collapseSection = this.createSection({\n                section: 'collapse',\n                display: 'collapseDisplay',\n                value: this.state.collapseDisplay,\n                defaultDisplay: 'false',\n                title: {\n                    id: 'user.settings.display.collapseDisplay',\n                    message: 'Default appearance of image link previews'\n                },\n                firstOption: {\n                    value: 'false',\n                    radionButtonText: {\n                        id: 'user.settings.display.collapseOn',\n                        message: 'On'\n                    }\n                },\n                secondOption: {\n                    value: 'true',\n                    radionButtonText: {\n                        id: 'user.settings.display.collapseOff',\n                        message: 'Off'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.collapseDesc',\n                    message: 'Set whether previews of image links show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.'\n                }\n            });\n\n            var isEnableLinkPreviews = global.window.mm_config.EnableLinkPreviews === 'true';\n            var linkPreviewSection = null;\n\n            if (isEnableLinkPreviews) {\n                linkPreviewSection = this.createSection({\n                    section: 'linkpreview',\n                    display: 'linkPreviewDisplay',\n                    value: this.state.linkPreviewDisplay,\n                    defaultDisplay: 'true',\n                    title: {\n                        id: 'user.settings.display.linkPreviewDisplay',\n                        message: 'Website Link Previews'\n                    },\n                    firstOption: {\n                        value: 'true',\n                        radionButtonText: {\n                            id: 'user.settings.display.linkPreviewOn',\n                            message: 'On'\n                        }\n                    },\n                    secondOption: {\n                        value: 'false',\n                        radionButtonText: {\n                            id: 'user.settings.display.linkPreviewOff',\n                            message: 'Off'\n                        }\n                    },\n                    description: {\n                        id: 'user.settings.display.linkPreviewDesc',\n                        message: 'When available, the first web link in a message will show a preview of the website content below the message.'\n                    }\n                });\n            }\n\n            var clockSection = this.createSection({\n                section: 'clock',\n                display: 'militaryTime',\n                value: this.state.militaryTime,\n                defaultDisplay: 'false',\n                title: {\n                    id: 'user.settings.display.clockDisplay',\n                    message: 'Clock Display'\n                },\n                firstOption: {\n                    value: 'false',\n                    radionButtonText: {\n                        id: 'user.settings.display.normalClock',\n                        message: '12-hour clock (example: 4:00 PM)'\n                    }\n                },\n                secondOption: {\n                    value: 'true',\n                    radionButtonText: {\n                        id: 'user.settings.display.militaryClock',\n                        message: '24-hour clock (example: 16:00)'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.preferTime',\n                    message: 'Select how you prefer time displayed.'\n                }\n            });\n\n            var messageDisplaySection = this.createSection({\n                section: Preferences.MESSAGE_DISPLAY,\n                display: 'messageDisplay',\n                value: this.state.messageDisplay,\n                defaultDisplay: Preferences.MESSAGE_DISPLAY_CLEAN,\n                title: {\n                    id: 'user.settings.display.messageDisplayTitle',\n                    message: 'Message Display'\n                },\n                firstOption: {\n                    value: Preferences.MESSAGE_DISPLAY_CLEAN,\n                    radionButtonText: {\n                        id: 'user.settings.display.messageDisplayClean',\n                        message: 'Standard',\n                        moreId: 'user.settings.display.messageDisplayCleanDes',\n                        moreMessage: 'Easy to scan and read.'\n                    }\n                },\n                secondOption: {\n                    value: Preferences.MESSAGE_DISPLAY_COMPACT,\n                    radionButtonText: {\n                        id: 'user.settings.display.messageDisplayCompact',\n                        message: 'Compact',\n                        moreId: 'user.settings.display.messageDisplayCompactDes',\n                        moreMessage: 'Fit as many messages on the screen as we can.'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.messageDisplayDescription',\n                    message: 'Select how messages in a channel should be displayed.'\n                }\n            });\n\n            var channelDisplayModeSection = this.createSection({\n                section: Preferences.CHANNEL_DISPLAY_MODE,\n                display: 'channelDisplayMode',\n                value: this.state.channelDisplayMode,\n                defaultDisplay: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n                title: {\n                    id: 'user.settings.display.channelDisplayTitle',\n                    message: 'Channel Display Mode'\n                },\n                firstOption: {\n                    value: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n                    radionButtonText: {\n                        id: 'user.settings.display.fullScreen',\n                        message: 'Full width'\n                    }\n                },\n                secondOption: {\n                    value: Preferences.CHANNEL_DISPLAY_MODE_CENTERED,\n                    radionButtonText: {\n                        id: 'user.settings.display.fixedWidthCentered',\n                        message: 'Fixed width, centered'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.channeldisplaymode',\n                    message: 'Select the width of the center channel.'\n                }\n            });\n\n            var languagesSection = void 0;\n            var userLocale = this.props.user.locale;\n            if (this.props.activeSection === 'languages') {\n                if (!I18n.isLanguageAvailable(userLocale)) {\n                    userLocale = global.window.mm_config.DefaultClientLocale;\n                }\n                languagesSection = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_manage_languages2.default, {\n                        user: this.props.user,\n                        locale: userLocale,\n                        updateSection: function updateSection(e) {\n                            _this4.updateSection('');\n                            e.preventDefault();\n                        }\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                );\n            } else {\n                var locale = void 0;\n                if (I18n.isLanguageAvailable(userLocale)) {\n                    locale = I18n.getLanguageInfo(userLocale).name;\n                } else {\n                    locale = I18n.getLanguageInfo(global.window.mm_config.DefaultClientLocale).name;\n                }\n\n                languagesSection = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_setting_item_min2.default, {\n                        title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.display.language',\n                            defaultMessage: 'Language'\n                        }),\n                        width: 'medium',\n                        describe: locale,\n                        updateSection: function updateSection() {\n                            _this4.updateSection('languages');\n                        }\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                );\n            }\n\n            if ((0, _keys2.default)(I18n.getLanguages()).length === 1) {\n                languagesSection = null;\n            }\n\n            var themeSection = void 0;\n            if (global.mm_config.EnableThemeSelection !== 'false') {\n                themeSection = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_theme2.default, {\n                        selected: this.props.activeSection === 'theme',\n                        updateSection: this.updateSection,\n                        setRequireConfirm: this.props.setRequireConfirm,\n                        setEnforceFocus: this.props.setEnforceFocus\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { id: 'displaySettings' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close',\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.display.title',\n                            defaultMessage: 'Display Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        {\n                            id: 'displaySettingsTitle',\n                            className: 'tab-header'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.display.title',\n                            defaultMessage: 'Display Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    themeSection,\n                    clockSection,\n                    linkPreviewSection,\n                    collapseSection,\n                    messageDisplaySection,\n                    channelDisplayModeSection,\n                    languagesSection\n                )\n            );\n        }\n    }]);\n    return UserSettingsDisplay;\n}(_react2.default.Component);\n\nexports.default = UserSettingsDisplay;\n\n\nUserSettingsDisplay.propTypes = {\n    user: _propTypes2.default.object,\n    updateSection: _propTypes2.default.func,\n    activeSection: _propTypes2.default.string,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    setRequireConfirm: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2327:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(51);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _i18n = __webpack_require__(389);\n\nvar I18n = _interopRequireWildcard(_i18n);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManageLanguage = function (_React$Component) {\n    (0, _inherits3.default)(ManageLanguage, _React$Component);\n\n    function ManageLanguage(props) {\n        (0, _classCallCheck3.default)(this, ManageLanguage);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ManageLanguage.__proto__ || (0, _getPrototypeOf2.default)(ManageLanguage)).call(this, props));\n\n        _this.setLanguage = _this.setLanguage.bind(_this);\n        _this.changeLanguage = _this.changeLanguage.bind(_this);\n        _this.submitUser = _this.submitUser.bind(_this);\n        _this.state = {\n            locale: props.locale,\n            isSaving: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ManageLanguage, [{\n        key: 'setLanguage',\n        value: function setLanguage(e) {\n            this.setState({ locale: e.target.value });\n        }\n    }, {\n        key: 'changeLanguage',\n        value: function changeLanguage(e) {\n            e.preventDefault();\n\n            this.submitUser((0, _extends3.default)({}, this.props.user, {\n                locale: this.state.locale\n            }));\n        }\n    }, {\n        key: 'submitUser',\n        value: function submitUser(user) {\n            var _this2 = this;\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.updateUser)(user, function () {\n                GlobalActions.newLocalizationSelected(user.locale);\n            }, function (err) {\n                var serverError = void 0;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                _this2.setState({ serverError: serverError, isSaving: false });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = void 0;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'label',\n                    { className: 'has-error' },\n                    this.state.serverError\n                );\n            }\n\n            var options = [];\n            var locales = I18n.getLanguages();\n\n            var languages = (0, _keys2.default)(locales).map(function (l) {\n                return {\n                    value: locales[l].value,\n                    name: locales[l].name,\n                    order: locales[l].order\n                };\n            }).sort(function (a, b) {\n                return a.order - b.order;\n            });\n\n            languages.forEach(function (lang) {\n                options.push(_react2.default.createElement(\n                    'option',\n                    {\n                        key: lang.value,\n                        value: lang.value\n                    },\n                    lang.name\n                ));\n            });\n\n            var input = _react2.default.createElement(\n                'div',\n                { key: 'changeLanguage' },\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'label',\n                    { className: 'control-label' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.languages.change',\n                        defaultMessage: 'Change interface language'\n                    })\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'padding-top' },\n                    _react2.default.createElement(\n                        'select',\n                        {\n                            id: 'displayLanguage',\n                            ref: 'language',\n                            className: 'form-control',\n                            value: this.state.locale,\n                            onChange: this.setLanguage\n                        },\n                        options\n                    ),\n                    serverError\n                ),\n                _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                        id: 'user.settings.languages.promote',\n                        defaultMessage: 'Select which language Mattermost displays in the user interface.<br /><br />Would like to help with translations? Join the <a href=\"http://translate.mattermost.com/\" target=\"_blank\">Mattermost Translation Server</a> to contribute.'\n                    })\n                )\n            );\n\n            return _react2.default.createElement(_setting_item_max2.default, {\n                title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.display.language',\n                    defaultMessage: 'Language'\n                }),\n                width: 'medium',\n                submit: this.changeLanguage,\n                saving: this.state.isSaving,\n                inputs: [input],\n                updateSection: this.props.updateSection\n            });\n        }\n    }]);\n    return ManageLanguage;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = ManageLanguage;\n\n\nManageLanguage.propTypes = {\n    user: _propTypes2.default.object.isRequired,\n    locale: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2328:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(51);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(66);\n\nvar UserActions = _interopRequireWildcard(_user_actions);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _app_dispatcher = __webpack_require__(39);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _custom_theme_chooser = __webpack_require__(2329);\n\nvar _custom_theme_chooser2 = _interopRequireDefault(_custom_theme_chooser);\n\nvar _premade_theme_chooser = __webpack_require__(2333);\n\nvar _premade_theme_chooser2 = _interopRequireDefault(_premade_theme_chooser);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ThemeSetting = function (_React$Component) {\n    (0, _inherits3.default)(ThemeSetting, _React$Component);\n\n    function ThemeSetting(props) {\n        (0, _classCallCheck3.default)(this, ThemeSetting);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ThemeSetting.__proto__ || (0, _getPrototypeOf2.default)(ThemeSetting)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.submitTheme = _this.submitTheme.bind(_this);\n        _this.updateTheme = _this.updateTheme.bind(_this);\n        _this.resetFields = _this.resetFields.bind(_this);\n        _this.handleImportModal = _this.handleImportModal.bind(_this);\n\n        _this.state = (0, _extends3.default)({}, _this.getStateFromStores(), {\n            isSaving: false\n        });\n\n        _this.originalTheme = (0, _assign2.default)({}, _this.state.theme);\n        return _this;\n    }\n\n    (0, _createClass3.default)(ThemeSetting, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onChange);\n\n            if (this.props.selected) {\n                (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.selected) {\n                (0, _jquery2.default)('.color-btn').removeClass('active-border');\n                (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.selected && !nextProps.selected) {\n                this.resetFields();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onChange);\n\n            if (this.props.selected) {\n                var state = this.getStateFromStores();\n                Utils.applyTheme(state.theme);\n            }\n        }\n    }, {\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var theme = _preference_store2.default.getTheme();\n            if (!theme.codeTheme) {\n                theme.codeTheme = _constants.Constants.DEFAULT_CODE_THEME;\n            }\n\n            var showAllTeamsCheckbox = false;\n            var applyToAllTeams = true;\n\n            if (global.window.mm_license.IsLicensed === 'true' && global.window.mm_license.LDAP === 'true') {\n                // show the \"apply to all teams\" checkbox if the user is on more than one team\n                showAllTeamsCheckbox = (0, _keys2.default)(_team_store2.default.getAll()).length > 1;\n\n                // check the \"apply to all teams\" checkbox by default if the user has any team-specific themes\n                applyToAllTeams = _preference_store2.default.getCategory(_constants.Preferences.CATEGORY_THEME).size <= 1;\n            }\n\n            return {\n                teamId: _team_store2.default.getCurrentId(),\n                theme: theme,\n                type: theme.type || 'premade',\n                showAllTeamsCheckbox: showAllTeamsCheckbox,\n                applyToAllTeams: applyToAllTeams\n            };\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            var newState = this.getStateFromStores();\n\n            if (!Utils.areObjectsEqual(this.state, newState)) {\n                this.setState(newState);\n            }\n\n            this.props.setEnforceFocus(true);\n        }\n    }, {\n        key: 'scrollToTop',\n        value: function scrollToTop() {\n            (0, _jquery2.default)('.ps-container.modal-body').scrollTop(0);\n        }\n    }, {\n        key: 'submitTheme',\n        value: function submitTheme(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var teamId = this.state.applyToAllTeams ? '' : this.state.teamId;\n\n            this.setState({ isSaving: true });\n\n            UserActions.saveTheme(teamId, this.state.theme, function () {\n                _this2.props.setRequireConfirm(false);\n                _this2.originalTheme = (0, _assign2.default)({}, _this2.state.theme);\n                _this2.scrollToTop();\n                _this2.props.updateSection('');\n                _this2.setState({ isSaving: false });\n            });\n        }\n    }, {\n        key: 'updateTheme',\n        value: function updateTheme(theme) {\n            var themeChanged = this.state.theme.length === theme.length;\n            if (!themeChanged) {\n                for (var field in theme) {\n                    if (theme.hasOwnProperty(field)) {\n                        if (this.state.theme[field] !== theme[field]) {\n                            themeChanged = true;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            this.props.setRequireConfirm(themeChanged);\n\n            this.setState({ theme: theme });\n            Utils.applyTheme(theme);\n        }\n    }, {\n        key: 'updateType',\n        value: function updateType(type) {\n            this.setState({ type: type });\n        }\n    }, {\n        key: 'resetFields',\n        value: function resetFields() {\n            var state = this.getStateFromStores();\n            state.serverError = null;\n            this.setState(state);\n            this.scrollToTop();\n\n            Utils.applyTheme(state.theme);\n\n            this.props.setRequireConfirm(false);\n        }\n    }, {\n        key: 'handleImportModal',\n        value: function handleImportModal() {\n            _app_dispatcher2.default.handleViewAction({\n                type: _constants.ActionTypes.TOGGLE_IMPORT_THEME_MODAL,\n                value: true,\n                callback: this.updateTheme\n            });\n\n            this.props.setEnforceFocus(false);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var serverError;\n            if (this.state.serverError) {\n                serverError = this.state.serverError;\n            }\n\n            var displayCustom = this.state.type === 'custom';\n            var allowCustomThemes = global.mm_config.AllowCustomThemes !== 'false';\n\n            var custom = void 0;\n            var premade = void 0;\n            if (displayCustom && allowCustomThemes) {\n                custom = _react2.default.createElement(\n                    'div',\n                    { key: 'customThemeChooser' },\n                    _react2.default.createElement(_custom_theme_chooser2.default, {\n                        theme: this.state.theme,\n                        updateTheme: this.updateTheme\n                    })\n                );\n            } else {\n                premade = _react2.default.createElement(\n                    'div',\n                    { key: 'premadeThemeChooser' },\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(_premade_theme_chooser2.default, {\n                        theme: this.state.theme,\n                        updateTheme: this.updateTheme\n                    })\n                );\n            }\n\n            var themeUI = void 0;\n            if (this.props.selected) {\n                var inputs = [];\n\n                if (allowCustomThemes) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'radio',\n                            key: 'premadeThemeColorLabel'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'standardThemes',\n                                type: 'radio',\n                                name: 'theme',\n                                checked: !displayCustom,\n                                onChange: this.updateType.bind(this, 'premade')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.themeColors',\n                                defaultMessage: 'Theme Colors'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ));\n                }\n\n                inputs.push(premade);\n\n                if (allowCustomThemes) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'radio',\n                            key: 'customThemeColorLabel'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'customThemes',\n                                type: 'radio',\n                                name: 'theme',\n                                checked: displayCustom,\n                                onChange: this.updateType.bind(this, 'custom')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.customTheme',\n                                defaultMessage: 'Custom Theme'\n                            })\n                        )\n                    ));\n\n                    inputs.push(custom);\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'otherThemes' },\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                id: 'otherThemes',\n                                href: 'http://docs.mattermost.com/help/settings/theme-colors.html#custom-theme-examples',\n                                target: '_blank',\n                                rel: 'noopener noreferrer'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.otherThemes',\n                                defaultMessage: 'See other themes'\n                            })\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'importSlackThemeButton',\n                            className: 'padding-top'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                id: 'slackImportTheme',\n                                className: 'theme',\n                                onClick: this.handleImportModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.import',\n                                defaultMessage: 'Import theme colors from Slack'\n                            })\n                        )\n                    ));\n                }\n\n                var allTeamsCheckbox = null;\n                if (this.state.showAllTeamsCheckbox) {\n                    allTeamsCheckbox = _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox user-settings__submit-checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'applyThemeToAllTeams',\n                                type: 'checkbox',\n                                checked: this.state.applyToAllTeams,\n                                onChange: function onChange(e) {\n                                    return _this3.setState({ applyToAllTeams: e.target.checked });\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.applyToAllTeams',\n                                defaultMessage: 'Apply new theme to all my teams'\n                            })\n                        )\n                    );\n                }\n\n                themeUI = _react2.default.createElement(_setting_item_max2.default, {\n                    inputs: inputs,\n                    submitExtra: allTeamsCheckbox,\n                    submit: this.submitTheme,\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    width: 'full',\n                    updateSection: function updateSection(e) {\n                        _this3.props.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            } else {\n                themeUI = _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.display.theme.title',\n                        defaultMessage: 'Theme'\n                    }),\n                    describe: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.display.theme.describe',\n                        defaultMessage: 'Open to manage your theme'\n                    }),\n                    updateSection: function updateSection() {\n                        _this3.props.updateSection('theme');\n                    }\n                });\n            }\n\n            return themeUI;\n        }\n    }]);\n    return ThemeSetting;\n}(_react2.default.Component);\n\nexports.default = ThemeSetting;\n\n\nThemeSetting.propTypes = {\n    selected: _propTypes2.default.bool.isRequired,\n    updateSection: _propTypes2.default.func.isRequired,\n    setRequireConfirm: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2329:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _stringify = __webpack_require__(164);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _defineProperty2 = __webpack_require__(220);\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends3 = __webpack_require__(19);\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\n__webpack_require__(2330);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _color_chooser = __webpack_require__(2331);\n\nvar _color_chooser2 = _interopRequireDefault(_color_chooser);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar messages = (0, _reactIntl.defineMessages)({\n    sidebarBg: {\n        id: 'user.settings.custom_theme.sidebarBg',\n        defaultMessage: 'Sidebar BG'\n    },\n    sidebarText: {\n        id: 'user.settings.custom_theme.sidebarText',\n        defaultMessage: 'Sidebar Text'\n    },\n    sidebarHeaderBg: {\n        id: 'user.settings.custom_theme.sidebarHeaderBg',\n        defaultMessage: 'Sidebar Header BG'\n    },\n    sidebarHeaderTextColor: {\n        id: 'user.settings.custom_theme.sidebarHeaderTextColor',\n        defaultMessage: 'Sidebar Header Text'\n    },\n    sidebarUnreadText: {\n        id: 'user.settings.custom_theme.sidebarUnreadText',\n        defaultMessage: 'Sidebar Unread Text'\n    },\n    sidebarTextHoverBg: {\n        id: 'user.settings.custom_theme.sidebarTextHoverBg',\n        defaultMessage: 'Sidebar Text Hover BG'\n    },\n    sidebarTextActiveBorder: {\n        id: 'user.settings.custom_theme.sidebarTextActiveBorder',\n        defaultMessage: 'Sidebar Text Active Border'\n    },\n    sidebarTextActiveColor: {\n        id: 'user.settings.custom_theme.sidebarTextActiveColor',\n        defaultMessage: 'Sidebar Text Active Color'\n    },\n    onlineIndicator: {\n        id: 'user.settings.custom_theme.onlineIndicator',\n        defaultMessage: 'Online Indicator'\n    },\n    awayIndicator: {\n        id: 'user.settings.custom_theme.awayIndicator',\n        defaultMessage: 'Away Indicator'\n    },\n    dndIndicator: {\n        id: 'user.settings.custom_theme.dndIndicator',\n        defaultMessage: 'Do Not Disturb Indicator'\n    },\n    mentionBg: {\n        id: 'user.settings.custom_theme.mentionBj',\n        defaultMessage: 'Mention Jewel BG'\n    },\n    mentionColor: {\n        id: 'user.settings.custom_theme.mentionColor',\n        defaultMessage: 'Mention Jewel Text'\n    },\n    centerChannelBg: {\n        id: 'user.settings.custom_theme.centerChannelBg',\n        defaultMessage: 'Center Channel BG'\n    },\n    centerChannelColor: {\n        id: 'user.settings.custom_theme.centerChannelColor',\n        defaultMessage: 'Center Channel Text'\n    },\n    newMessageSeparator: {\n        id: 'user.settings.custom_theme.newMessageSeparator',\n        defaultMessage: 'New Message Separator'\n    },\n    linkColor: {\n        id: 'user.settings.custom_theme.linkColor',\n        defaultMessage: 'Link Color'\n    },\n    buttonBg: {\n        id: 'user.settings.custom_theme.buttonBg',\n        defaultMessage: 'Button BG'\n    },\n    buttonColor: {\n        id: 'user.settings.custom_theme.buttonColor',\n        defaultMessage: 'Button Text'\n    },\n    errorTextColor: {\n        id: 'user.settings.custom_theme.errorTextColor',\n        defaultMessage: 'Error Text Color'\n    },\n    mentionHighlightBg: {\n        id: 'user.settings.custom_theme.mentionHighlightBg',\n        defaultMessage: 'Mention Highlight BG'\n    },\n    mentionHighlightLink: {\n        id: 'user.settings.custom_theme.mentionHighlightLink',\n        defaultMessage: 'Mention Highlight Link'\n    },\n    codeTheme: {\n        id: 'user.settings.custom_theme.codeTheme',\n        defaultMessage: 'Code Theme'\n    }\n}); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CustomThemeChooser = function (_React$Component) {\n    (0, _inherits3.default)(CustomThemeChooser, _React$Component);\n\n    function CustomThemeChooser(props) {\n        (0, _classCallCheck3.default)(this, CustomThemeChooser);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CustomThemeChooser.__proto__ || (0, _getPrototypeOf2.default)(CustomThemeChooser)).call(this, props));\n\n        _this.handleColorChange = function (settingId, color) {\n            var _this$props = _this.props,\n                updateTheme = _this$props.updateTheme,\n                theme = _this$props.theme;\n\n            if (theme[settingId] !== color) {\n                var newTheme = (0, _extends4.default)({}, theme, (0, _defineProperty3.default)({\n                    type: 'custom'\n                }, settingId, color));\n\n                // For backwards compatability\n                if (settingId === 'mentionBg') {\n                    newTheme.mentionBj = color;\n                }\n\n                updateTheme(newTheme);\n            }\n        };\n\n        _this.pasteBoxChange = function (e) {\n            var text = '';\n\n            if (window.clipboardData && window.clipboardData.getData) {\n                // IE\n                text = window.clipboardData.getData('Text');\n            } else {\n                text = e.clipboardData.getData('Text'); //e.clipboardData.getData('text/plain');\n            }\n\n            if (text.length === 0) {\n                return;\n            }\n\n            var theme = void 0;\n            try {\n                theme = JSON.parse(text);\n            } catch (err) {\n                return;\n            }\n\n            _this.setState({\n                copyTheme: (0, _stringify2.default)(theme)\n            });\n\n            theme.type = 'custom';\n            _this.props.updateTheme(theme);\n        };\n\n        _this.onChangeHandle = function (e) {\n            e.stopPropagation();\n        };\n\n        _this.toggleSidebarStyles = function (e) {\n            e.preventDefault();\n\n            (0, _jquery2.default)(_this.refs.sidebarStylesHeader).toggleClass('open');\n            _this.toggleSection(_this.refs.sidebarStyles);\n        };\n\n        _this.toggleCenterChannelStyles = function (e) {\n            e.preventDefault();\n\n            (0, _jquery2.default)(_this.refs.centerChannelStylesHeader).toggleClass('open');\n            _this.toggleSection(_this.refs.centerChannelStyles);\n        };\n\n        _this.toggleLinkAndButtonStyles = function (e) {\n            e.preventDefault();\n\n            (0, _jquery2.default)(_this.refs.linkAndButtonStylesHeader).toggleClass('open');\n            _this.toggleSection(_this.refs.linkAndButtonStyles);\n        };\n\n        _this.onCodeThemeChange = function (e) {\n            var theme = _this.props.theme;\n            theme.codeTheme = e.target.value;\n            _this.props.updateTheme(theme);\n        };\n\n        _this.selectTheme = _this.selectTheme.bind(_this);\n\n        var copyTheme = (0, _assign2.default)({}, _this.props.theme);\n        delete copyTheme.type;\n        delete copyTheme.image;\n\n        _this.state = {\n            copyTheme: (0, _stringify2.default)(copyTheme)\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(CustomThemeChooser, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)('.group--code').on('change', this.onCodeThemeChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)('.group--code').off('change', this.onCodeThemeChange);\n        }\n    }, {\n        key: 'selectTheme',\n        value: function selectTheme() {\n            var textarea = this.refs.textarea;\n            textarea.focus();\n            textarea.setSelectionRange(0, this.state.copyTheme.length);\n        }\n    }, {\n        key: 'toggleSection',\n        value: function toggleSection(node) {\n            if (UserAgent.isIos()) {\n                // iOS doesn't support jQuery animations\n                (0, _jquery2.default)(node).toggleClass('open');\n            } else {\n                (0, _jquery2.default)(node).slideToggle();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            var theme = this.props.theme;\n\n            var sidebarElements = [];\n            var centerChannelElements = [];\n            var linkAndButtonElements = [];\n            _constants2.default.THEME_ELEMENTS.forEach(function (element, index) {\n                if (element.id === 'codeTheme') {\n                    var codeThemeOptions = [];\n                    var codeThemeURL = '';\n\n                    element.themes.forEach(function (codeTheme, codeThemeIndex) {\n                        if (codeTheme.id === theme[element.id]) {\n                            codeThemeURL = codeTheme.iconURL;\n                        }\n                        codeThemeOptions.push(_react2.default.createElement(\n                            'option',\n                            {\n                                key: 'code-theme-key' + codeThemeIndex,\n                                value: codeTheme.id\n                            },\n                            codeTheme.uiName\n                        ));\n                    });\n\n                    var popoverContent = _react2.default.createElement(\n                        _reactBootstrap.Popover,\n                        {\n                            bsStyle: 'info',\n                            id: 'code-popover',\n                            className: 'code-popover'\n                        },\n                        _react2.default.createElement('img', {\n                            width: '200',\n                            src: codeThemeURL\n                        })\n                    );\n\n                    centerChannelElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'custom-label' },\n                            formatMessage(messages[element.id])\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            {\n                                className: 'input-group theme-group group--code dropdown',\n                                id: element.id\n                            },\n                            _react2.default.createElement(\n                                'select',\n                                {\n                                    className: 'form-control',\n                                    type: 'text',\n                                    defaultValue: theme[element.id]\n                                },\n                                codeThemeOptions\n                            ),\n                            _react2.default.createElement(\n                                _reactBootstrap.OverlayTrigger,\n                                {\n                                    trigger: ['hover', 'focus'],\n                                    placement: 'top',\n                                    overlay: popoverContent,\n                                    ref: 'headerOverlay'\n                                },\n                                _react2.default.createElement(\n                                    'span',\n                                    { className: 'input-group-addon' },\n                                    _react2.default.createElement('img', {\n                                        src: codeThemeURL\n                                    })\n                                )\n                            )\n                        )\n                    ));\n                } else if (element.group === 'centerChannelElements') {\n                    centerChannelElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group element',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(_color_chooser2.default, {\n                            id: element.id,\n                            label: formatMessage(messages[element.id]),\n                            color: theme[element.id],\n                            onChange: _this2.handleColorChange\n                        })\n                    ));\n                } else if (element.group === 'sidebarElements') {\n                    // Need to support old typo mentionBj element for mentionBg\n                    var color = theme[element.id];\n                    if (!color && element.id === 'mentionBg') {\n                        color = theme.mentionBj;\n                    }\n\n                    sidebarElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group element',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(_color_chooser2.default, {\n                            id: element.id,\n                            label: formatMessage(messages[element.id]),\n                            color: color,\n                            onChange: _this2.handleColorChange\n                        })\n                    ));\n                } else {\n                    linkAndButtonElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group element',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(_color_chooser2.default, {\n                            id: element.id,\n                            label: formatMessage(messages[element.id]),\n                            color: theme[element.id],\n                            onChange: _this2.handleColorChange\n                        })\n                    ));\n                }\n            });\n\n            var pasteBox = _react2.default.createElement(\n                'div',\n                { className: 'col-sm-12' },\n                _react2.default.createElement(\n                    'label',\n                    { className: 'custom-label' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.custom_theme.copyPaste',\n                        defaultMessage: 'Copy and paste to share theme colors:'\n                    })\n                ),\n                _react2.default.createElement('textarea', {\n                    ref: 'textarea',\n                    className: 'form-control',\n                    value: this.state.copyTheme,\n                    onPaste: this.pasteBoxChange,\n                    onChange: this.onChangeHandle,\n                    onClick: this.selectTheme\n                })\n            );\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'appearance-section padding-top' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'theme-elements row' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'sidebarStylesHeader',\n                            className: 'theme-elements__header',\n                            onClick: this.toggleSidebarStyles\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.custom_theme.sidebarTitle',\n                            defaultMessage: 'Sidebar Styles'\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'header__icon' },\n                            _react2.default.createElement('i', { className: 'fa fa-plus' }),\n                            _react2.default.createElement('i', { className: 'fa fa-minus' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'sidebarStyles',\n                            className: 'theme-elements__body'\n                        },\n                        sidebarElements\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'theme-elements row' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'centerChannelStylesHeader',\n                            className: 'theme-elements__header',\n                            onClick: this.toggleCenterChannelStyles\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.custom_theme.centerChannelTitle',\n                            defaultMessage: 'Center Channel Styles'\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'header__icon' },\n                            _react2.default.createElement('i', { className: 'fa fa-plus' }),\n                            _react2.default.createElement('i', { className: 'fa fa-minus' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'centerChannelStyles',\n                            className: 'theme-elements__body'\n                        },\n                        centerChannelElements\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'theme-elements row form-group' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'linkAndButtonStylesHeader',\n                            className: 'theme-elements__header',\n                            onClick: this.toggleLinkAndButtonStyles\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.custom_theme.linkButtonTitle',\n                            defaultMessage: 'Link and Button Styles'\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'header__icon' },\n                            _react2.default.createElement('i', { className: 'fa fa-plus' }),\n                            _react2.default.createElement('i', { className: 'fa fa-minus' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'linkAndButtonStyles',\n                            className: 'theme-elements__body'\n                        },\n                        linkAndButtonElements\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'row' },\n                    pasteBox\n                )\n            );\n        }\n    }]);\n    return CustomThemeChooser;\n}(_react2.default.Component);\n\nCustomThemeChooser.propTypes = {\n    intl: _reactIntl.intlShape.isRequired,\n    theme: _propTypes2.default.object.isRequired,\n    updateTheme: _propTypes2.default.func.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(CustomThemeChooser);\n\n/***/ }),\n\n/***/ 2330:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*!\n * Bootstrap Colorpicker v2.5.2\n * https://itsjavi.com/bootstrap-colorpicker/\n *\n * Originally written by (c) 2012 Stefan Petre\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0.txt\n *\n */\n\n(function(root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = function(jq) {\n      return (factory(jq));\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else if (jQuery && !jQuery.fn.colorpicker) {\n    factory(jQuery);\n  }\n}(this, function($) {\n  'use strict';\n  /**\n   * Color manipulation helper class\n   *\n   * @param {Object|String} [val]\n   * @param {Object} [predefinedColors]\n   * @param {String|null} [fallbackColor]\n   * @param {String|null} [fallbackFormat]\n   * @param {Boolean} [hexNumberSignPrefix]\n   * @constructor\n   */\n  var Color = function(\n    val, predefinedColors, fallbackColor, fallbackFormat, hexNumberSignPrefix) {\n    this.fallbackValue = fallbackColor ?\n      (\n        fallbackColor && (typeof fallbackColor.h !== 'undefined') ?\n        fallbackColor :\n        this.value = {\n          h: 0,\n          s: 0,\n          b: 0,\n          a: 1\n        }\n      ) :\n      null;\n\n    this.fallbackFormat = fallbackFormat ? fallbackFormat : 'rgba';\n\n    this.hexNumberSignPrefix = hexNumberSignPrefix === true;\n\n    this.value = this.fallbackValue;\n\n    this.origFormat = null; // original string format\n\n    this.predefinedColors = predefinedColors ? predefinedColors : {};\n\n    // We don't want to share aliases across instances so we extend new object\n    this.colors = $.extend({}, Color.webColors, this.predefinedColors);\n\n    if (val) {\n      if (typeof val.h !== 'undefined') {\n        this.value = val;\n      } else {\n        this.setColor(String(val));\n      }\n    }\n\n    if (!this.value) {\n      // Initial value is always black if no arguments are passed or val is empty\n      this.value = {\n        h: 0,\n        s: 0,\n        b: 0,\n        a: 1\n      };\n    }\n  };\n\n  Color.webColors = { // 140 predefined colors from the HTML Colors spec\n    \"aliceblue\": \"f0f8ff\",\n    \"antiquewhite\": \"faebd7\",\n    \"aqua\": \"00ffff\",\n    \"aquamarine\": \"7fffd4\",\n    \"azure\": \"f0ffff\",\n    \"beige\": \"f5f5dc\",\n    \"bisque\": \"ffe4c4\",\n    \"black\": \"000000\",\n    \"blanchedalmond\": \"ffebcd\",\n    \"blue\": \"0000ff\",\n    \"blueviolet\": \"8a2be2\",\n    \"brown\": \"a52a2a\",\n    \"burlywood\": \"deb887\",\n    \"cadetblue\": \"5f9ea0\",\n    \"chartreuse\": \"7fff00\",\n    \"chocolate\": \"d2691e\",\n    \"coral\": \"ff7f50\",\n    \"cornflowerblue\": \"6495ed\",\n    \"cornsilk\": \"fff8dc\",\n    \"crimson\": \"dc143c\",\n    \"cyan\": \"00ffff\",\n    \"darkblue\": \"00008b\",\n    \"darkcyan\": \"008b8b\",\n    \"darkgoldenrod\": \"b8860b\",\n    \"darkgray\": \"a9a9a9\",\n    \"darkgreen\": \"006400\",\n    \"darkkhaki\": \"bdb76b\",\n    \"darkmagenta\": \"8b008b\",\n    \"darkolivegreen\": \"556b2f\",\n    \"darkorange\": \"ff8c00\",\n    \"darkorchid\": \"9932cc\",\n    \"darkred\": \"8b0000\",\n    \"darksalmon\": \"e9967a\",\n    \"darkseagreen\": \"8fbc8f\",\n    \"darkslateblue\": \"483d8b\",\n    \"darkslategray\": \"2f4f4f\",\n    \"darkturquoise\": \"00ced1\",\n    \"darkviolet\": \"9400d3\",\n    \"deeppink\": \"ff1493\",\n    \"deepskyblue\": \"00bfff\",\n    \"dimgray\": \"696969\",\n    \"dodgerblue\": \"1e90ff\",\n    \"firebrick\": \"b22222\",\n    \"floralwhite\": \"fffaf0\",\n    \"forestgreen\": \"228b22\",\n    \"fuchsia\": \"ff00ff\",\n    \"gainsboro\": \"dcdcdc\",\n    \"ghostwhite\": \"f8f8ff\",\n    \"gold\": \"ffd700\",\n    \"goldenrod\": \"daa520\",\n    \"gray\": \"808080\",\n    \"green\": \"008000\",\n    \"greenyellow\": \"adff2f\",\n    \"honeydew\": \"f0fff0\",\n    \"hotpink\": \"ff69b4\",\n    \"indianred\": \"cd5c5c\",\n    \"indigo\": \"4b0082\",\n    \"ivory\": \"fffff0\",\n    \"khaki\": \"f0e68c\",\n    \"lavender\": \"e6e6fa\",\n    \"lavenderblush\": \"fff0f5\",\n    \"lawngreen\": \"7cfc00\",\n    \"lemonchiffon\": \"fffacd\",\n    \"lightblue\": \"add8e6\",\n    \"lightcoral\": \"f08080\",\n    \"lightcyan\": \"e0ffff\",\n    \"lightgoldenrodyellow\": \"fafad2\",\n    \"lightgrey\": \"d3d3d3\",\n    \"lightgreen\": \"90ee90\",\n    \"lightpink\": \"ffb6c1\",\n    \"lightsalmon\": \"ffa07a\",\n    \"lightseagreen\": \"20b2aa\",\n    \"lightskyblue\": \"87cefa\",\n    \"lightslategray\": \"778899\",\n    \"lightsteelblue\": \"b0c4de\",\n    \"lightyellow\": \"ffffe0\",\n    \"lime\": \"00ff00\",\n    \"limegreen\": \"32cd32\",\n    \"linen\": \"faf0e6\",\n    \"magenta\": \"ff00ff\",\n    \"maroon\": \"800000\",\n    \"mediumaquamarine\": \"66cdaa\",\n    \"mediumblue\": \"0000cd\",\n    \"mediumorchid\": \"ba55d3\",\n    \"mediumpurple\": \"9370d8\",\n    \"mediumseagreen\": \"3cb371\",\n    \"mediumslateblue\": \"7b68ee\",\n    \"mediumspringgreen\": \"00fa9a\",\n    \"mediumturquoise\": \"48d1cc\",\n    \"mediumvioletred\": \"c71585\",\n    \"midnightblue\": \"191970\",\n    \"mintcream\": \"f5fffa\",\n    \"mistyrose\": \"ffe4e1\",\n    \"moccasin\": \"ffe4b5\",\n    \"navajowhite\": \"ffdead\",\n    \"navy\": \"000080\",\n    \"oldlace\": \"fdf5e6\",\n    \"olive\": \"808000\",\n    \"olivedrab\": \"6b8e23\",\n    \"orange\": \"ffa500\",\n    \"orangered\": \"ff4500\",\n    \"orchid\": \"da70d6\",\n    \"palegoldenrod\": \"eee8aa\",\n    \"palegreen\": \"98fb98\",\n    \"paleturquoise\": \"afeeee\",\n    \"palevioletred\": \"d87093\",\n    \"papayawhip\": \"ffefd5\",\n    \"peachpuff\": \"ffdab9\",\n    \"peru\": \"cd853f\",\n    \"pink\": \"ffc0cb\",\n    \"plum\": \"dda0dd\",\n    \"powderblue\": \"b0e0e6\",\n    \"purple\": \"800080\",\n    \"red\": \"ff0000\",\n    \"rosybrown\": \"bc8f8f\",\n    \"royalblue\": \"4169e1\",\n    \"saddlebrown\": \"8b4513\",\n    \"salmon\": \"fa8072\",\n    \"sandybrown\": \"f4a460\",\n    \"seagreen\": \"2e8b57\",\n    \"seashell\": \"fff5ee\",\n    \"sienna\": \"a0522d\",\n    \"silver\": \"c0c0c0\",\n    \"skyblue\": \"87ceeb\",\n    \"slateblue\": \"6a5acd\",\n    \"slategray\": \"708090\",\n    \"snow\": \"fffafa\",\n    \"springgreen\": \"00ff7f\",\n    \"steelblue\": \"4682b4\",\n    \"tan\": \"d2b48c\",\n    \"teal\": \"008080\",\n    \"thistle\": \"d8bfd8\",\n    \"tomato\": \"ff6347\",\n    \"turquoise\": \"40e0d0\",\n    \"violet\": \"ee82ee\",\n    \"wheat\": \"f5deb3\",\n    \"white\": \"ffffff\",\n    \"whitesmoke\": \"f5f5f5\",\n    \"yellow\": \"ffff00\",\n    \"yellowgreen\": \"9acd32\",\n    \"transparent\": \"transparent\"\n  };\n\n  Color.prototype = {\n    constructor: Color,\n    colors: {}, // merged web and predefined colors\n    predefinedColors: {},\n    /**\n     * @return {Object}\n     */\n    getValue: function() {\n      return this.value;\n    },\n    /**\n     * @param {Object} val\n     */\n    setValue: function(val) {\n      this.value = val;\n    },\n    _sanitizeNumber: function(val) {\n      if (typeof val === 'number') {\n        return val;\n      }\n      if (isNaN(val) || (val === null) || (val === '') || (val === undefined)) {\n        return 1;\n      }\n      if (val === '') {\n        return 0;\n      }\n      if (typeof val.toLowerCase !== 'undefined') {\n        if (val.match(/^\\./)) {\n          val = \"0\" + val;\n        }\n        return Math.ceil(parseFloat(val) * 100) / 100;\n      }\n      return 1;\n    },\n    isTransparent: function(strVal) {\n      if (!strVal || !(typeof strVal === 'string' || strVal instanceof String)) {\n        return false;\n      }\n      strVal = strVal.toLowerCase().trim();\n      return (strVal === 'transparent') || (strVal.match(/#?00000000/)) || (strVal.match(/(rgba|hsla)\\(0,0,0,0?\\.?0\\)/));\n    },\n    rgbaIsTransparent: function(rgba) {\n      return ((rgba.r === 0) && (rgba.g === 0) && (rgba.b === 0) && (rgba.a === 0));\n    },\n    // parse a string to HSB\n    /**\n     * @protected\n     * @param {String} strVal\n     * @returns {boolean} Returns true if it could be parsed, false otherwise\n     */\n    setColor: function(strVal) {\n      strVal = strVal.toLowerCase().trim();\n      if (strVal) {\n        if (this.isTransparent(strVal)) {\n          this.value = {\n            h: 0,\n            s: 0,\n            b: 0,\n            a: 0\n          };\n          return true;\n        } else {\n          var parsedColor = this.parse(strVal);\n          if (parsedColor) {\n            this.value = this.value = {\n              h: parsedColor.h,\n              s: parsedColor.s,\n              b: parsedColor.b,\n              a: parsedColor.a\n            };\n            if (!this.origFormat) {\n              this.origFormat = parsedColor.format;\n            }\n          } else if (this.fallbackValue) {\n            // if parser fails, defaults to fallbackValue if defined, otherwise the value won't be changed\n            this.value = this.fallbackValue;\n          }\n        }\n      }\n      return false;\n    },\n    setHue: function(h) {\n      this.value.h = 1 - h;\n    },\n    setSaturation: function(s) {\n      this.value.s = s;\n    },\n    setBrightness: function(b) {\n      this.value.b = 1 - b;\n    },\n    setAlpha: function(a) {\n      this.value.a = Math.round((parseInt((1 - a) * 100, 10) / 100) * 100) / 100;\n    },\n    toRGB: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      h *= 360;\n      var R, G, B, X, C;\n      h = (h % 360) / 60;\n      C = b * s;\n      X = C * (1 - Math.abs(h % 2 - 1));\n      R = G = B = b - C;\n\n      h = ~~h;\n      R += [C, X, 0, 0, X, C][h];\n      G += [X, C, C, X, 0, 0][h];\n      B += [0, 0, X, C, C, X][h];\n\n      return {\n        r: Math.round(R * 255),\n        g: Math.round(G * 255),\n        b: Math.round(B * 255),\n        a: a\n      };\n    },\n    toHex: function(ignoreFormat, h, s, b, a) {\n      if (arguments.length <= 1) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var prefix = '#';\n      var rgb = this.toRGB(h, s, b, a);\n\n      if (this.rgbaIsTransparent(rgb)) {\n        return 'transparent';\n      }\n\n      if (!ignoreFormat) {\n        prefix = (this.hexNumberSignPrefix ? '#' : '');\n      }\n\n      var hexStr = prefix + (\n          (1 << 24) +\n          (parseInt(rgb.r) << 16) +\n          (parseInt(rgb.g) << 8) +\n          parseInt(rgb.b))\n        .toString(16)\n        .slice(1);\n\n      return hexStr;\n    },\n    toHSL: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var H = h,\n        L = (2 - s) * b,\n        S = s * b;\n      if (L > 0 && L <= 1) {\n        S /= L;\n      } else {\n        S /= 2 - L;\n      }\n      L /= 2;\n      if (S > 1) {\n        S = 1;\n      }\n      return {\n        h: isNaN(H) ? 0 : H,\n        s: isNaN(S) ? 0 : S,\n        l: isNaN(L) ? 0 : L,\n        a: isNaN(a) ? 0 : a\n      };\n    },\n    toAlias: function(r, g, b, a) {\n      var c, rgb = (arguments.length === 0) ? this.toHex(true) : this.toHex(true, r, g, b, a);\n\n      // support predef. colors in non-hex format too, as defined in the alias itself\n      var original = this.origFormat === 'alias' ? rgb : this.toString(false, this.origFormat);\n\n      for (var alias in this.colors) {\n        c = this.colors[alias].toLowerCase().trim();\n        if ((c === rgb) || (c === original)) {\n          return alias;\n        }\n      }\n      return false;\n    },\n    RGBtoHSB: function(r, g, b, a) {\n      r /= 255;\n      g /= 255;\n      b /= 255;\n\n      var H, S, V, C;\n      V = Math.max(r, g, b);\n      C = V - Math.min(r, g, b);\n      H = (C === 0 ? null :\n        V === r ? (g - b) / C :\n        V === g ? (b - r) / C + 2 :\n        (r - g) / C + 4\n      );\n      H = ((H + 360) % 6) * 60 / 360;\n      S = C === 0 ? 0 : C / V;\n      return {\n        h: this._sanitizeNumber(H),\n        s: S,\n        b: V,\n        a: this._sanitizeNumber(a)\n      };\n    },\n    HueToRGB: function(p, q, h) {\n      if (h < 0) {\n        h += 1;\n      } else if (h > 1) {\n        h -= 1;\n      }\n      if ((h * 6) < 1) {\n        return p + (q - p) * h * 6;\n      } else if ((h * 2) < 1) {\n        return q;\n      } else if ((h * 3) < 2) {\n        return p + (q - p) * ((2 / 3) - h) * 6;\n      } else {\n        return p;\n      }\n    },\n    HSLtoRGB: function(h, s, l, a) {\n      if (s < 0) {\n        s = 0;\n      }\n      var q;\n      if (l <= 0.5) {\n        q = l * (1 + s);\n      } else {\n        q = l + s - (l * s);\n      }\n\n      var p = 2 * l - q;\n\n      var tr = h + (1 / 3);\n      var tg = h;\n      var tb = h - (1 / 3);\n\n      var r = Math.round(this.HueToRGB(p, q, tr) * 255);\n      var g = Math.round(this.HueToRGB(p, q, tg) * 255);\n      var b = Math.round(this.HueToRGB(p, q, tb) * 255);\n      return [r, g, b, this._sanitizeNumber(a)];\n    },\n    /**\n     * @param {String} strVal\n     * @returns {Object} Object containing h,s,b,a,format properties or FALSE if failed to parse\n     */\n    parse: function(strVal) {\n      if (arguments.length === 0) {\n        return false;\n      }\n\n      var that = this,\n        result = false,\n        isAlias = (typeof this.colors[strVal] !== 'undefined'),\n        values, format;\n\n      if (isAlias) {\n        strVal = this.colors[strVal].toLowerCase().trim();\n      }\n\n      $.each(this.stringParsers, function(i, parser) {\n        var match = parser.re.exec(strVal);\n        values = match && parser.parse.apply(that, [match]);\n        if (values) {\n          result = {};\n          format = (isAlias ? 'alias' : (parser.format ? parser.format : that.getValidFallbackFormat()));\n          if (format.match(/hsla?/)) {\n            result = that.RGBtoHSB.apply(that, that.HSLtoRGB.apply(that, values));\n          } else {\n            result = that.RGBtoHSB.apply(that, values);\n          }\n          if (result instanceof Object) {\n            result.format = format;\n          }\n          return false; // stop iterating\n        }\n        return true;\n      });\n      return result;\n    },\n    getValidFallbackFormat: function() {\n      var formats = [\n        'rgba', 'rgb', 'hex', 'hsla', 'hsl'\n      ];\n      if (this.origFormat && (formats.indexOf(this.origFormat) !== -1)) {\n        return this.origFormat;\n      }\n      if (this.fallbackFormat && (formats.indexOf(this.fallbackFormat) !== -1)) {\n        return this.fallbackFormat;\n      }\n\n      return 'rgba'; // By default, return a format that will not lose the alpha info\n    },\n    /**\n     *\n     * @param {string} [format] (default: rgba)\n     * @param {boolean} [translateAlias] Return real color for pre-defined (non-standard) aliases (default: false)\n     * @param {boolean} [forceRawValue] Forces hashtag prefix when getting hex color (default: false)\n     * @returns {String}\n     */\n    toString: function(forceRawValue, format, translateAlias) {\n      format = format || this.origFormat || this.fallbackFormat;\n      translateAlias = translateAlias || false;\n\n      var c = false;\n\n      switch (format) {\n        case 'rgb':\n          {\n            c = this.toRGB();\n            if (this.rgbaIsTransparent(c)) {\n              return 'transparent';\n            }\n            return 'rgb(' + c.r + ',' + c.g + ',' + c.b + ')';\n          }\n          break;\n        case 'rgba':\n          {\n            c = this.toRGB();\n            return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n          }\n          break;\n        case 'hsl':\n          {\n            c = this.toHSL();\n            return 'hsl(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%)';\n          }\n          break;\n        case 'hsla':\n          {\n            c = this.toHSL();\n            return 'hsla(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%,' + c.a + ')';\n          }\n          break;\n        case 'hex':\n          {\n            return this.toHex(forceRawValue);\n          }\n          break;\n        case 'alias':\n          {\n            c = this.toAlias();\n\n            if (c === false) {\n              return this.toString(forceRawValue, this.getValidFallbackFormat());\n            }\n\n            if (translateAlias && !(c in Color.webColors) && (c in this.predefinedColors)) {\n              return this.predefinedColors[c];\n            }\n\n            return c;\n          }\n        default:\n          {\n            return c;\n          }\n          break;\n      }\n    },\n    // a set of RE's that can match strings and generate color tuples.\n    // from John Resig color plugin\n    // https://github.com/jquery/jquery-color/\n    stringParsers: [{\n      re: /rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgb\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsl\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'hsl',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsla\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'hsla',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1], 16),\n          parseInt(execResult[2], 16),\n          parseInt(execResult[3], 16),\n          1\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1] + execResult[1], 16),\n          parseInt(execResult[2] + execResult[2], 16),\n          parseInt(execResult[3] + execResult[3], 16),\n          1\n        ];\n      }\n    }],\n    colorNameToHex: function(name) {\n      if (typeof this.colors[name.toLowerCase()] !== 'undefined') {\n        return this.colors[name.toLowerCase()];\n      }\n      return false;\n    }\n  };\n\n  /*\n   * Default plugin options\n   */\n  var defaults = {\n    horizontal: false, // horizontal mode layout ?\n    inline: false, //forces to show the colorpicker as an inline element\n    color: false, //forces a color\n    format: false, //forces a format\n    input: 'input', // children input selector\n    container: false, // container selector\n    component: '.add-on, .input-group-addon', // children component selector\n    fallbackColor: false, // fallback color value. null = keeps current color.\n    fallbackFormat: 'hex', // fallback color format\n    hexNumberSignPrefix: true, // put a '#' (number sign) before hex strings\n    sliders: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setHue'\n      },\n      alpha: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setAlpha'\n      }\n    },\n    slidersHorz: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setHue',\n        callTop: false\n      },\n      alpha: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setAlpha',\n        callTop: false\n      }\n    },\n    template: '<div class=\"colorpicker dropdown-menu\">' +\n      '<div class=\"colorpicker-saturation\"><i><b></b></i></div>' +\n      '<div class=\"colorpicker-hue\"><i></i></div>' +\n      '<div class=\"colorpicker-alpha\"><i></i></div>' +\n      '<div class=\"colorpicker-color\"><div /></div>' +\n      '<div class=\"colorpicker-selectors\"></div>' +\n      '</div>',\n    align: 'right',\n    customClass: null, // custom class added to the colorpicker element\n    colorSelectors: null // custom color aliases\n  };\n\n  /**\n   * Colorpicker component class\n   *\n   * @param {Object|String} element\n   * @param {Object} options\n   * @constructor\n   */\n  var Colorpicker = function(element, options) {\n    this.element = $(element).addClass('colorpicker-element');\n    this.options = $.extend(true, {}, defaults, this.element.data(), options);\n    this.component = this.options.component;\n    this.component = (this.component !== false) ? this.element.find(this.component) : false;\n    if (this.component && (this.component.length === 0)) {\n      this.component = false;\n    }\n    this.container = (this.options.container === true) ? this.element : this.options.container;\n    this.container = (this.container !== false) ? $(this.container) : false;\n\n    // Is the element an input? Should we search inside for any input?\n    this.input = this.element.is('input') ? this.element : (this.options.input ?\n      this.element.find(this.options.input) : false);\n    if (this.input && (this.input.length === 0)) {\n      this.input = false;\n    }\n    // Set HSB color\n    this.color = this.createColor(this.options.color !== false ? this.options.color : this.getValue());\n\n    this.format = this.options.format !== false ? this.options.format : this.color.origFormat;\n\n    if (this.options.color !== false) {\n      this.updateInput(this.color);\n      this.updateData(this.color);\n    }\n\n    this.disabled = false;\n\n    // Setup picker\n    var $picker = this.picker = $(this.options.template);\n    if (this.options.customClass) {\n      $picker.addClass(this.options.customClass);\n    }\n    if (this.options.inline) {\n      $picker.addClass('colorpicker-inline colorpicker-visible');\n    } else {\n      $picker.addClass('colorpicker-hidden');\n    }\n    if (this.options.horizontal) {\n      $picker.addClass('colorpicker-horizontal');\n    }\n    if (\n      (['rgba', 'hsla', 'alias'].indexOf(this.format) !== -1) ||\n      this.options.format === false ||\n      this.getValue() === 'transparent'\n    ) {\n      $picker.addClass('colorpicker-with-alpha');\n    }\n    if (this.options.align === 'right') {\n      $picker.addClass('colorpicker-right');\n    }\n    if (this.options.inline === true) {\n      $picker.addClass('colorpicker-no-arrow');\n    }\n    if (this.options.colorSelectors) {\n      var colorpicker = this,\n        selectorsContainer = colorpicker.picker.find('.colorpicker-selectors');\n\n      if (selectorsContainer.length > 0) {\n        $.each(this.options.colorSelectors, function(name, color) {\n          var $btn = $('<i />')\n            .addClass('colorpicker-selectors-color')\n            .css('background-color', color)\n            .data('class', name).data('alias', name);\n\n          $btn.on('mousedown.colorpicker touchstart.colorpicker', function(event) {\n            event.preventDefault();\n            colorpicker.setValue(\n              colorpicker.format === 'alias' ? $(this).data('alias') : $(this).css('background-color')\n            );\n          });\n          selectorsContainer.append($btn);\n        });\n        selectorsContainer.show().addClass('colorpicker-visible');\n      }\n    }\n\n    // Prevent closing the colorpicker when clicking on itself\n    $picker.on('mousedown.colorpicker touchstart.colorpicker', $.proxy(function(e) {\n      if (e.target === e.currentTarget) {\n        e.preventDefault();\n      }\n    }, this));\n\n    // Bind click/tap events on the sliders\n    $picker.find('.colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha')\n      .on('mousedown.colorpicker touchstart.colorpicker', $.proxy(this.mousedown, this));\n\n    $picker.appendTo(this.container ? this.container : $('body'));\n\n    // Bind other events\n    if (this.input !== false) {\n      this.input.on({\n        'keyup.colorpicker': $.proxy(this.keyup, this)\n      });\n      this.input.on({\n        'change.colorpicker': $.proxy(this.change, this)\n      });\n      if (this.component === false) {\n        this.element.on({\n          'focus.colorpicker': $.proxy(this.show, this)\n        });\n      }\n      if (this.options.inline === false) {\n        this.element.on({\n          'focusout.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n    }\n\n    if (this.component !== false) {\n      this.component.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    if ((this.input === false) && (this.component === false)) {\n      this.element.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    // for HTML5 input[type='color']\n    if ((this.input !== false) && (this.component !== false) && (this.input.attr('type') === 'color')) {\n\n      this.input.on({\n        'click.colorpicker': $.proxy(this.show, this),\n        'focus.colorpicker': $.proxy(this.show, this)\n      });\n    }\n    this.update();\n\n    $($.proxy(function() {\n      this.element.trigger('create');\n    }, this));\n  };\n\n  Colorpicker.Color = Color;\n\n  Colorpicker.prototype = {\n    constructor: Colorpicker,\n    destroy: function() {\n      this.picker.remove();\n      this.element.removeData('colorpicker', 'color').off('.colorpicker');\n      if (this.input !== false) {\n        this.input.off('.colorpicker');\n      }\n      if (this.component !== false) {\n        this.component.off('.colorpicker');\n      }\n      this.element.removeClass('colorpicker-element');\n      this.element.trigger({\n        type: 'destroy'\n      });\n    },\n    reposition: function() {\n      if (this.options.inline !== false || this.options.container) {\n        return false;\n      }\n      var type = this.container && this.container[0] !== window.document.body ? 'position' : 'offset';\n      var element = this.component || this.element;\n      var offset = element[type]();\n      if (this.options.align === 'right') {\n        offset.left -= this.picker.outerWidth() - element.outerWidth();\n      }\n      this.picker.css({\n        top: offset.top + element.outerHeight(),\n        left: offset.left\n      });\n    },\n    show: function(e) {\n      if (this.isDisabled()) {\n        // Don't show the widget if it's disabled (the input)\n        return;\n      }\n      this.picker.addClass('colorpicker-visible').removeClass('colorpicker-hidden');\n      this.reposition();\n      $(window).on('resize.colorpicker', $.proxy(this.reposition, this));\n      if (e && (!this.hasInput() || this.input.attr('type') === 'color')) {\n        if (e.stopPropagation && e.preventDefault) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      if ((this.component || !this.input) && (this.options.inline === false)) {\n        $(window.document).on({\n          'mousedown.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n      this.element.trigger({\n        type: 'showPicker',\n        color: this.color\n      });\n    },\n    hide: function(e) {\n      if ((typeof e !== 'undefined') && e.target) {\n        // Prevent hide if triggered by an event and an element inside the colorpicker has been clicked/touched\n        if (\n          $(e.currentTarget).parents('.colorpicker').length > 0 ||\n          $(e.target).parents('.colorpicker').length > 0\n        ) {\n          return false;\n        }\n      }\n      this.picker.addClass('colorpicker-hidden').removeClass('colorpicker-visible');\n      $(window).off('resize.colorpicker', this.reposition);\n      $(window.document).off({\n        'mousedown.colorpicker': this.hide\n      });\n      this.update();\n      this.element.trigger({\n        type: 'hidePicker',\n        color: this.color\n      });\n    },\n    updateData: function(val) {\n      val = val || this.color.toString(false, this.format);\n      this.element.data('color', val);\n      return val;\n    },\n    updateInput: function(val) {\n      val = val || this.color.toString(false, this.format);\n      if (this.input !== false) {\n        this.input.prop('value', val);\n        this.input.trigger('change');\n      }\n      return val;\n    },\n    updatePicker: function(val) {\n      if (typeof val !== 'undefined') {\n        this.color = this.createColor(val);\n      }\n      var sl = (this.options.horizontal === false) ? this.options.sliders : this.options.slidersHorz;\n      var icns = this.picker.find('i');\n      if (icns.length === 0) {\n        return;\n      }\n      if (this.options.horizontal === false) {\n        sl = this.options.sliders;\n        icns.eq(1).css('top', sl.hue.maxTop * (1 - this.color.value.h)).end()\n          .eq(2).css('top', sl.alpha.maxTop * (1 - this.color.value.a));\n      } else {\n        sl = this.options.slidersHorz;\n        icns.eq(1).css('left', sl.hue.maxLeft * (1 - this.color.value.h)).end()\n          .eq(2).css('left', sl.alpha.maxLeft * (1 - this.color.value.a));\n      }\n      icns.eq(0).css({\n        'top': sl.saturation.maxTop - this.color.value.b * sl.saturation.maxTop,\n        'left': this.color.value.s * sl.saturation.maxLeft\n      });\n\n      this.picker.find('.colorpicker-saturation')\n        .css('backgroundColor', this.color.toHex(true, this.color.value.h, 1, 1, 1));\n\n      this.picker.find('.colorpicker-alpha')\n        .css('backgroundColor', this.color.toHex(true));\n\n      this.picker.find('.colorpicker-color, .colorpicker-color div')\n        .css('backgroundColor', this.color.toString(true, this.format));\n\n      return val;\n    },\n    updateComponent: function(val) {\n      var color;\n\n      if (typeof val !== 'undefined') {\n        color = this.createColor(val);\n      } else {\n        color = this.color;\n      }\n\n      if (this.component !== false) {\n        var icn = this.component.find('i').eq(0);\n        if (icn.length > 0) {\n          icn.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        } else {\n          this.component.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        }\n      }\n\n      return color.toString(false, this.format);\n    },\n    update: function(force) {\n      var val;\n      if ((this.getValue(false) !== false) || (force === true)) {\n        // Update input/data only if the current value is not empty\n        val = this.updateComponent();\n        this.updateInput(val);\n        this.updateData(val);\n        this.updatePicker(); // only update picker if value is not empty\n      }\n      return val;\n\n    },\n    setValue: function(val) { // set color manually\n      this.color = this.createColor(val);\n      this.update(true);\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: val\n      });\n    },\n    /**\n     * Creates a new color using the instance options\n     * @protected\n     * @param {String} val\n     * @returns {Color}\n     */\n    createColor: function(val) {\n      return new Color(\n        val ? val : null,\n        this.options.colorSelectors,\n        this.options.fallbackColor ? this.options.fallbackColor : this.color,\n        this.options.fallbackFormat,\n        this.options.hexNumberSignPrefix\n      );\n    },\n    getValue: function(defaultValue) {\n      defaultValue = (typeof defaultValue === 'undefined') ? this.options.fallbackColor : defaultValue;\n      var val;\n      if (this.hasInput()) {\n        val = this.input.val();\n      } else {\n        val = this.element.data('color');\n      }\n      if ((val === undefined) || (val === '') || (val === null)) {\n        // if not defined or empty, return default\n        val = defaultValue;\n      }\n      return val;\n    },\n    hasInput: function() {\n      return (this.input !== false);\n    },\n    isDisabled: function() {\n      return this.disabled;\n    },\n    disable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', true);\n      }\n      this.disabled = true;\n      this.element.trigger({\n        type: 'disable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    enable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', false);\n      }\n      this.disabled = false;\n      this.element.trigger({\n        type: 'enable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    currentSlider: null,\n    mousePointer: {\n      left: 0,\n      top: 0\n    },\n    mousedown: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n\n      var target = $(e.target);\n\n      //detect the slider and set the limits and callbacks\n      var zone = target.closest('div');\n      var sl = this.options.horizontal ? this.options.slidersHorz : this.options.sliders;\n      if (!zone.is('.colorpicker')) {\n        if (zone.is('.colorpicker-saturation')) {\n          this.currentSlider = $.extend({}, sl.saturation);\n        } else if (zone.is('.colorpicker-hue')) {\n          this.currentSlider = $.extend({}, sl.hue);\n        } else if (zone.is('.colorpicker-alpha')) {\n          this.currentSlider = $.extend({}, sl.alpha);\n        } else {\n          return false;\n        }\n        var offset = zone.offset();\n        //reference to guide's style\n        this.currentSlider.guide = zone.find('i')[0].style;\n        this.currentSlider.left = e.pageX - offset.left;\n        this.currentSlider.top = e.pageY - offset.top;\n        this.mousePointer = {\n          left: e.pageX,\n          top: e.pageY\n        };\n        //trigger mousemove to move the guide to the current position\n        $(window.document).on({\n          'mousemove.colorpicker': $.proxy(this.mousemove, this),\n          'touchmove.colorpicker': $.proxy(this.mousemove, this),\n          'mouseup.colorpicker': $.proxy(this.mouseup, this),\n          'touchend.colorpicker': $.proxy(this.mouseup, this)\n        }).trigger('mousemove');\n      }\n      return false;\n    },\n    mousemove: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n      var left = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxLeft,\n          this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left)\n        )\n      );\n      var top = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxTop,\n          this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)\n        )\n      );\n      this.currentSlider.guide.left = left + 'px';\n      this.currentSlider.guide.top = top + 'px';\n      if (this.currentSlider.callLeft) {\n        this.color[this.currentSlider.callLeft].call(this.color, left / this.currentSlider.maxLeft);\n      }\n      if (this.currentSlider.callTop) {\n        this.color[this.currentSlider.callTop].call(this.color, top / this.currentSlider.maxTop);\n      }\n      // Change format dynamically\n      // Only occurs if user choose the dynamic format by\n      // setting option format to false\n      if (\n        this.options.format === false &&\n        (this.currentSlider.callTop === 'setAlpha' ||\n          this.currentSlider.callLeft === 'setAlpha')\n      ) {\n\n        // Converting from hex / rgb to rgba\n        if (this.color.value.a !== 1) {\n          this.format = 'rgba';\n          this.color.origFormat = 'rgba';\n        }\n\n        // Converting from rgba to hex\n        else {\n          this.format = 'hex';\n          this.color.origFormat = 'hex';\n        }\n      }\n      this.update(true);\n\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color\n      });\n      return false;\n    },\n    mouseup: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $(window.document).off({\n        'mousemove.colorpicker': this.mousemove,\n        'touchmove.colorpicker': this.mousemove,\n        'mouseup.colorpicker': this.mouseup,\n        'touchend.colorpicker': this.mouseup\n      });\n      return false;\n    },\n    change: function(e) {\n      this.keyup(e);\n    },\n    keyup: function(e) {\n      if ((e.keyCode === 38)) {\n        if (this.color.value.a < 1) {\n          this.color.value.a = Math.round((this.color.value.a + 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else if ((e.keyCode === 40)) {\n        if (this.color.value.a > 0) {\n          this.color.value.a = Math.round((this.color.value.a - 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else {\n        this.color = this.createColor(this.input.val());\n        // Change format dynamically\n        // Only occurs if user choose the dynamic format by\n        // setting option format to false\n        if (this.color.origFormat && this.options.format === false) {\n          this.format = this.color.origFormat;\n        }\n        if (this.getValue(false) !== false) {\n          this.updateData();\n          this.updateComponent();\n          this.updatePicker();\n        }\n      }\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: this.input.val()\n      });\n    }\n  };\n\n  $.colorpicker = Colorpicker;\n\n  $.fn.colorpicker = function(option) {\n    var apiArgs = Array.prototype.slice.call(arguments, 1),\n      isSingleElement = (this.length === 1),\n      returnValue = null;\n\n    var $jq = this.each(function() {\n      var $this = $(this),\n        inst = $this.data('colorpicker'),\n        options = ((typeof option === 'object') ? option : {});\n\n      if (!inst) {\n        inst = new Colorpicker(this, options);\n        $this.data('colorpicker', inst);\n      }\n\n      if (typeof option === 'string') {\n        if ($.isFunction(inst[option])) {\n          returnValue = inst[option].apply(inst, apiArgs);\n        } else { // its a property ?\n          if (apiArgs.length) {\n            // set property\n            inst[option] = apiArgs[0];\n          }\n          returnValue = inst[option];\n        }\n      } else {\n        returnValue = $this;\n      }\n    });\n    return isSingleElement ? returnValue : $jq;\n  };\n\n  $.fn.colorpicker.constructor = Colorpicker;\n\n}));\n\n\n\n/***/ }),\n\n/***/ 2331:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _color_input = __webpack_require__(2332);\n\nvar _color_input2 = _interopRequireDefault(_color_input);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ColorChooser = function (_React$Component) {\n    (0, _inherits3.default)(ColorChooser, _React$Component);\n\n    function ColorChooser() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, ColorChooser);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ColorChooser.__proto__ || (0, _getPrototypeOf2.default)(ColorChooser)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (newColor) {\n            var _this$props = _this.props,\n                id = _this$props.id,\n                handleChange = _this$props.onChange;\n\n            if (handleChange) {\n                handleChange(id, newColor);\n            }\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(ColorChooser, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                label = _props.label,\n                color = _props.color;\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'label',\n                    { className: 'custom-label' },\n                    label\n                ),\n                _react2.default.createElement(_color_input2.default, {\n                    color: color,\n                    onChange: this.handleChange\n                })\n            );\n        }\n    }]);\n    return ColorChooser;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nColorChooser.propTypes = {\n\n    /*\n     * The id of setting that we will change\n     */\n    id: _propTypes2.default.string.isRequired,\n\n    /*\n     * The label of setting that we will choose\n     */\n    label: _propTypes2.default.string.isRequired,\n\n    /*\n     * Selected color\n     */\n    color: _propTypes2.default.string.isRequired,\n\n    /*\n     * Function called when color changed takes 2 arguments: Id of changing setting and new color\n     */\n    onChange: _propTypes2.default.func\n};\nexports.default = ColorChooser;\n\n/***/ }),\n\n/***/ 2332:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactColor = __webpack_require__(1966);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ColorInput = function (_React$Component) {\n    (0, _inherits3.default)(ColorInput, _React$Component);\n\n    function ColorInput(props) {\n        (0, _classCallCheck3.default)(this, ColorInput);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ColorInput.__proto__ || (0, _getPrototypeOf2.default)(ColorInput)).call(this, props));\n\n        _this.checkClick = function (e) {\n            var colorPickerDOMNode = _reactDom2.default.findDOMNode(_this.colorPicker);\n            if (!colorPickerDOMNode.contains(e.target)) {\n                _this.setState({ isOpened: false });\n            }\n        };\n\n        _this.togglePicker = function () {\n            _this.setState({ isOpened: !_this.state.isOpened });\n        };\n\n        _this.handleChange = function (newColorData) {\n            var hex = newColorData.hex;\n            var handleChange = _this.props.onChange;\n\n\n            if (handleChange) {\n                handleChange(hex);\n            }\n        };\n\n        _this.state = {\n            idOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ColorInput, [{\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var prevIsOpened = prevState.isOpened;\n            var isOpened = this.state.isOpened;\n\n\n            if (isOpened !== prevIsOpened) {\n                if (isOpened) {\n                    document.addEventListener('click', this.checkClick);\n                } else {\n                    document.removeEventListener('click', this.checkClick);\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var color = this.props.color;\n            var isOpened = this.state.isOpened;\n\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'color-input input-group' },\n                _react2.default.createElement('input', {\n                    className: 'form-control',\n                    type: 'text',\n                    value: color,\n                    readOnly: true\n                }),\n                _react2.default.createElement(\n                    'span',\n                    {\n                        className: 'input-group-addon',\n                        onClick: this.togglePicker\n                    },\n                    _react2.default.createElement('i', {\n                        className: 'color-icon',\n                        style: {\n                            backgroundColor: color\n                        }\n                    })\n                ),\n                isOpened && _react2.default.createElement(\n                    'div',\n                    {\n                        ref: function ref(item) {\n                            _this2.colorPicker = item;\n                        },\n                        className: 'color-popover'\n                    },\n                    _react2.default.createElement(_reactColor.ChromePicker, {\n                        color: color,\n                        onChange: this.handleChange\n                    })\n                )\n            );\n        }\n    }]);\n    return ColorInput;\n}(_react2.default.Component);\n\nColorInput.propTypes = {\n\n    /*\n     * Selected color\n     */\n    color: _propTypes2.default.string.isRequired,\n\n    /*\n     * Function called when color changed. Takes hex format of color Ex: #ffeec0\n     */\n    onChange: _propTypes2.default.func\n};\nexports.default = ColorInput;\n\n/***/ }),\n\n/***/ 2333:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PremadeThemeChooser = function (_React$Component) {\n    (0, _inherits3.default)(PremadeThemeChooser, _React$Component);\n\n    function PremadeThemeChooser(props) {\n        (0, _classCallCheck3.default)(this, PremadeThemeChooser);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PremadeThemeChooser.__proto__ || (0, _getPrototypeOf2.default)(PremadeThemeChooser)).call(this, props));\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(PremadeThemeChooser, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var theme = this.props.theme;\n\n            var premadeThemes = [];\n            var allowedThemes = global.mm_config.AllowedThemes ? global.mm_config.AllowedThemes.split(',') : [];\n            var hasAllowedThemes = allowedThemes.length > 1 || allowedThemes[0] && allowedThemes[0].trim().length > 0;\n\n            for (var k in _constants2.default.THEMES) {\n                if (_constants2.default.THEMES.hasOwnProperty(k)) {\n                    var _ret = function () {\n                        if (hasAllowedThemes && allowedThemes.indexOf(k) < 0) {\n                            return 'continue';\n                        }\n\n                        var premadeTheme = _jquery2.default.extend(true, {}, _constants2.default.THEMES[k]);\n\n                        var activeClass = '';\n                        if (premadeTheme.type === theme.type) {\n                            activeClass = 'active';\n                        }\n\n                        premadeThemes.push(_react2.default.createElement(\n                            'div',\n                            {\n                                className: 'col-xs-6 col-sm-3 premade-themes',\n                                key: 'premade-theme-key' + k\n                            },\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    className: activeClass,\n                                    onClick: function onClick() {\n                                        return _this2.props.updateTheme(premadeTheme);\n                                    }\n                                },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('img', {\n                                        className: 'img-responsive',\n                                        src: premadeTheme.image\n                                    }),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'theme-label' },\n                                        Utils.toTitleCase(premadeTheme.type)\n                                    )\n                                )\n                            )\n                        ));\n                    }();\n\n                    if (_ret === 'continue') continue;\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'row appearance-section' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'clearfix' },\n                    premadeThemes\n                )\n            );\n        }\n    }]);\n    return PremadeThemeChooser;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = PremadeThemeChooser;\n\n\nPremadeThemeChooser.propTypes = {\n    theme: _propTypes2.default.object.isRequired,\n    updateTheme: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2334:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _users = __webpack_require__(61);\n\nvar _user_settings_general = __webpack_require__(2335);\n\nvar _user_settings_general2 = _interopRequireDefault(_user_settings_general);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getMe: _users.getMe\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_user_settings_general2.default);\n\n/***/ }),\n\n/***/ 2335:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _diagnostics_actions = __webpack_require__(215);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _error_store = __webpack_require__(191);\n\nvar _error_store2 = _interopRequireDefault(_error_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _setting_picture = __webpack_require__(2336);\n\nvar _setting_picture2 = _interopRequireDefault(_setting_picture);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    usernameReserved: {\n        id: 'user.settings.general.usernameReserved',\n        defaultMessage: 'This username is reserved, please choose a new one.'\n    },\n    usernameRestrictions: {\n        id: 'user.settings.general.usernameRestrictions',\n        defaultMessage: \"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.\"\n    },\n    validEmail: {\n        id: 'user.settings.general.validEmail',\n        defaultMessage: 'Please enter a valid email address.'\n    },\n    emailMatch: {\n        id: 'user.settings.general.emailMatch',\n        defaultMessage: 'The new emails you entered do not match.'\n    },\n    checkEmail: {\n        id: 'user.settings.general.checkEmail',\n        defaultMessage: 'Check your email at {email} to verify the address.'\n    },\n    validImage: {\n        id: 'user.settings.general.validImage',\n        defaultMessage: 'Only JPG or PNG images may be used for profile pictures'\n    },\n    imageTooLarge: {\n        id: 'user.settings.general.imageTooLarge',\n        defaultMessage: 'Unable to upload profile image. File is too large.'\n    },\n    uploadImage: {\n        id: 'user.settings.general.uploadImage',\n        defaultMessage: \"Click 'Edit' to upload an image.\"\n    },\n    uploadImageMobile: {\n        id: 'user.settings.general.mobile.uploadImage',\n        defaultMessage: 'Click to upload an image.'\n    },\n    fullName: {\n        id: 'user.settings.general.fullName',\n        defaultMessage: 'Full Name'\n    },\n    nickname: {\n        id: 'user.settings.general.nickname',\n        defaultMessage: 'Nickname'\n    },\n    username: {\n        id: 'user.settings.general.username',\n        defaultMessage: 'Username'\n    },\n    profilePicture: {\n        id: 'user.settings.general.profilePicture',\n        defaultMessage: 'Profile Picture'\n    },\n    close: {\n        id: 'user.settings.general.close',\n        defaultMessage: 'Close'\n    },\n    position: {\n        id: 'user.settings.general.position',\n        defaultMessage: 'Position'\n    }\n});\n\nvar UserSettingsGeneralTab = function (_React$Component) {\n    (0, _inherits3.default)(UserSettingsGeneralTab, _React$Component);\n\n    function UserSettingsGeneralTab(props) {\n        (0, _classCallCheck3.default)(this, UserSettingsGeneralTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettingsGeneralTab.__proto__ || (0, _getPrototypeOf2.default)(UserSettingsGeneralTab)).call(this, props));\n\n        _this.submitActive = false;\n\n        _this.submitUsername = _this.submitUsername.bind(_this);\n        _this.submitNickname = _this.submitNickname.bind(_this);\n        _this.submitName = _this.submitName.bind(_this);\n        _this.submitEmail = _this.submitEmail.bind(_this);\n        _this.submitUser = _this.submitUser.bind(_this);\n        _this.submitPicture = _this.submitPicture.bind(_this);\n        _this.submitPosition = _this.submitPosition.bind(_this);\n\n        _this.updateUsername = _this.updateUsername.bind(_this);\n        _this.updateFirstName = _this.updateFirstName.bind(_this);\n        _this.updateLastName = _this.updateLastName.bind(_this);\n        _this.updateNickname = _this.updateNickname.bind(_this);\n        _this.updateEmail = _this.updateEmail.bind(_this);\n        _this.updateConfirmEmail = _this.updateConfirmEmail.bind(_this);\n        _this.updatePicture = _this.updatePicture.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.updatePosition = _this.updatePosition.bind(_this);\n\n        _this.state = _this.setupInitialState(props);\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettingsGeneralTab, [{\n        key: 'submitUsername',\n        value: function submitUsername(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var username = this.state.username.trim().toLowerCase();\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            var usernameError = Utils.isValidUsername(username);\n            if (usernameError === 'Cannot use a reserved word as a username.') {\n                this.setState({ clientError: formatMessage(holders.usernameReserved), serverError: '' });\n                return;\n            } else if (usernameError) {\n                this.setState({ clientError: formatMessage(holders.usernameRestrictions, { min: _constants2.default.MIN_USERNAME_LENGTH, max: _constants2.default.MAX_USERNAME_LENGTH }), serverError: '' });\n                return;\n            }\n\n            if (user.username === username) {\n                this.updateSection('');\n                return;\n            }\n\n            user.username = username;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'username' });\n\n            this.submitUser(user, false);\n        }\n    }, {\n        key: 'submitNickname',\n        value: function submitNickname(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var nickname = this.state.nickname.trim();\n\n            if (user.nickname === nickname) {\n                this.updateSection('');\n                return;\n            }\n\n            user.nickname = nickname;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'username' });\n\n            this.submitUser(user, false);\n        }\n    }, {\n        key: 'submitName',\n        value: function submitName(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var firstName = this.state.firstName.trim();\n            var lastName = this.state.lastName.trim();\n\n            if (user.first_name === firstName && user.last_name === lastName) {\n                this.updateSection('');\n                return;\n            }\n\n            user.first_name = firstName;\n            user.last_name = lastName;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'fullname' });\n\n            this.submitUser(user, false);\n        }\n    }, {\n        key: 'submitEmail',\n        value: function submitEmail(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var email = this.state.email.trim().toLowerCase();\n            var confirmEmail = this.state.confirmEmail.trim().toLowerCase();\n\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            if (email === user.email && (confirmEmail === '' || confirmEmail === user.email)) {\n                this.updateSection('');\n                return;\n            }\n\n            if (email === '' || !Utils.isEmail(email)) {\n                this.setState({ emailError: formatMessage(holders.validEmail), clientError: '', serverError: '' });\n                return;\n            }\n\n            if (email !== confirmEmail) {\n                this.setState({ emailError: formatMessage(holders.emailMatch), clientError: '', serverError: '' });\n                return;\n            }\n\n            user.email = email;\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'email' });\n            this.submitUser(user, true);\n        }\n    }, {\n        key: 'submitUser',\n        value: function submitUser(user, emailUpdated) {\n            var _this2 = this;\n\n            this.setState({ sectionIsSaving: true });\n\n            (0, _user_actions.updateUser)(user, function () {\n                _this2.updateSection('');\n                _this2.props.actions.getMe();\n                var verificationEnabled = global.window.mm_config.SendEmailNotifications === 'true' && global.window.mm_config.RequireEmailVerification === 'true' && emailUpdated;\n\n                if (verificationEnabled) {\n                    _error_store2.default.storeLastError({ message: _this2.props.intl.formatMessage(holders.checkEmail, { email: user.email }) });\n                    _error_store2.default.emitChange();\n                    _this2.setState({ emailChangeInProgress: true });\n                }\n            }, function (err) {\n                var serverError = void 0;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                _this2.setState({ serverError: serverError, emailError: '', clientError: '', sectionIsSaving: false });\n            });\n        }\n    }, {\n        key: 'submitPicture',\n        value: function submitPicture(e) {\n            var _this3 = this;\n\n            e.preventDefault();\n\n            if (!this.state.pictureFile) {\n                return;\n            }\n\n            if (!this.submitActive) {\n                return;\n            }\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'picture' });\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            var file = this.state.pictureFile;\n\n            if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\n                this.setState({ clientError: formatMessage(holders.validImage), serverError: '' });\n                return;\n            } else if (file.size > this.state.maxFileSize) {\n                this.setState({ clientError: formatMessage(holders.imageTooLarge), serverError: '' });\n                return;\n            }\n\n            this.setState({ loadingPicture: true });\n\n            (0, _user_actions.uploadProfileImage)(file, function () {\n                _this3.updateSection('');\n                _this3.submitActive = false;\n            }, function (err) {\n                var state = _this3.setupInitialState(_this3.props);\n                state.serverError = err.message;\n                _this3.setState(state);\n            });\n        }\n    }, {\n        key: 'submitPosition',\n        value: function submitPosition(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var position = this.state.position.trim();\n\n            if (user.position === position) {\n                this.updateSection('');\n                return;\n            }\n\n            user.position = position;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'position' });\n\n            this.submitUser(user, false);\n        }\n    }, {\n        key: 'updateUsername',\n        value: function updateUsername(e) {\n            this.setState({ username: e.target.value });\n        }\n    }, {\n        key: 'updateFirstName',\n        value: function updateFirstName(e) {\n            this.setState({ firstName: e.target.value });\n        }\n    }, {\n        key: 'updateLastName',\n        value: function updateLastName(e) {\n            this.setState({ lastName: e.target.value });\n        }\n    }, {\n        key: 'updateNickname',\n        value: function updateNickname(e) {\n            this.setState({ nickname: e.target.value });\n        }\n    }, {\n        key: 'updatePosition',\n        value: function updatePosition(e) {\n            this.setState({ position: e.target.value });\n        }\n    }, {\n        key: 'updateEmail',\n        value: function updateEmail(e) {\n            this.setState({ email: e.target.value });\n        }\n    }, {\n        key: 'updateConfirmEmail',\n        value: function updateConfirmEmail(e) {\n            this.setState({ confirmEmail: e.target.value });\n        }\n    }, {\n        key: 'updatePicture',\n        value: function updatePicture(e) {\n            if (e.target.files && e.target.files[0]) {\n                this.setState({ pictureFile: e.target.files[0] });\n\n                this.submitActive = true;\n                this.setState({ clientError: null });\n            } else {\n                this.setState({ pictureFile: null });\n            }\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            var emailChangeInProgress = this.state.emailChangeInProgress;\n            this.setState((0, _assign2.default)({}, this.setupInitialState(this.props), { emailChangeInProgress: emailChangeInProgress, clientError: '', serverError: '', emailError: '', sectionIsSaving: false }));\n            this.submitActive = false;\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'setupInitialState',\n        value: function setupInitialState(props) {\n            var user = props.user;\n\n            return {\n                username: user.username,\n                firstName: user.first_name,\n                lastName: user.last_name,\n                nickname: user.nickname,\n                position: user.position,\n                originalEmail: user.email,\n                email: '',\n                confirmEmail: '',\n                pictureFile: null,\n                loadingPicture: false,\n                emailChangeInProgress: false,\n                maxFileSize: global.window.mm_config.MaxFileSize,\n                sectionIsSaving: false\n            };\n        }\n    }, {\n        key: 'createEmailSection',\n        value: function createEmailSection() {\n            var _this4 = this;\n\n            var emailSection = void 0;\n\n            if (this.props.activeSection === 'email') {\n                var emailEnabled = global.window.mm_config.SendEmailNotifications === 'true';\n                var emailVerificationEnabled = global.window.mm_config.RequireEmailVerification === 'true';\n                var inputs = [];\n\n                var helpText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.general.emailHelp1',\n                    defaultMessage: 'Email is used for sign-in, notifications, and password reset. Email requires verification if changed.'\n                });\n\n                if (!emailEnabled) {\n                    helpText = _react2.default.createElement(\n                        'div',\n                        { className: 'setting-list__hint col-sm-12 text-danger' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.emailHelp2',\n                            defaultMessage: 'Email has been disabled by your System Administrator. No notification emails will be sent until it is enabled.'\n                        })\n                    );\n                } else if (!emailVerificationEnabled) {\n                    helpText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emailHelp3',\n                        defaultMessage: 'Email is used for sign-in, notifications, and password reset.'\n                    });\n                } else if (this.state.emailChangeInProgress) {\n                    var newEmail = _user_store2.default.getCurrentUser().email;\n                    if (newEmail) {\n                        helpText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.emailHelp4',\n                            defaultMessage: 'A verification email was sent to {email}.',\n                            values: {\n                                email: newEmail\n                            }\n                        });\n                    }\n                }\n\n                var submit = null;\n\n                if (this.props.user.auth_service === '') {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'currentEmailSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-5 control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.general.currentEmail',\n                                    defaultMessage: 'Current Email'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-7' },\n                                _react2.default.createElement(\n                                    'label',\n                                    { className: 'control-label' },\n                                    this.state.originalEmail\n                                )\n                            )\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'emailSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-5 control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.general.newEmail',\n                                    defaultMessage: 'New Email'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-7' },\n                                _react2.default.createElement('input', {\n                                    id: 'primaryEmail',\n                                    className: 'form-control',\n                                    type: 'email',\n                                    onChange: this.updateEmail,\n                                    value: this.state.email\n                                })\n                            )\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'confirmEmailSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-5 control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.general.confirmEmail',\n                                    defaultMessage: 'Confirm Email'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-7' },\n                                _react2.default.createElement('input', {\n                                    id: 'confirmEmail',\n                                    className: 'form-control',\n                                    type: 'email',\n                                    onChange: this.updateConfirmEmail,\n                                    value: this.state.confirmEmail\n                                })\n                            )\n                        ),\n                        helpText\n                    ));\n\n                    submit = this.submitEmail;\n                } else if (this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailGitlabCantUpdate',\n                                defaultMessage: 'Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailGoogleCantUpdate',\n                                defaultMessage: 'Login occurs through Google Apps. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailOffice365CantUpdate',\n                                defaultMessage: 'Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'padding-bottom'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailLdapCantUpdate',\n                                defaultMessage: 'Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        )\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'padding-bottom'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailSamlCantUpdate',\n                                defaultMessage: 'Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                }\n\n                emailSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.email',\n                        defaultMessage: 'Email'\n                    }),\n                    inputs: inputs,\n                    submit: submit,\n                    saving: this.state.sectionIsSaving,\n                    server_error: this.state.serverError,\n                    client_error: this.state.emailError,\n                    updateSection: function updateSection(e) {\n                        _this4.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            } else {\n                var describe = '';\n                if (this.props.user.auth_service === '') {\n                    if (this.state.emailChangeInProgress) {\n                        var _newEmail = _user_store2.default.getCurrentUser().email;\n                        if (_newEmail) {\n                            describe = _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'user.settings.general.newAddress',\n                                defaultMessage: 'New Address: {email}<br />Check your email to verify the above address.',\n                                values: {\n                                    email: _newEmail\n                                }\n                            });\n                        } else {\n                            describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.checkEmailNoAddress',\n                                defaultMessage: 'Check your email to verify your new address'\n                            });\n                        }\n                    } else {\n                        describe = _user_store2.default.getCurrentUser().email;\n                    }\n                } else if (this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginGitlab',\n                        defaultMessage: 'Login done through GitLab ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginGoogle',\n                        defaultMessage: 'Login done through Google Apps ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginOffice365',\n                        defaultMessage: 'Login done through Office 365 ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginLdap',\n                        defaultMessage: 'Login done through AD/LDAP ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginSaml',\n                        defaultMessage: 'Login done through SAML ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                }\n\n                emailSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.email',\n                        defaultMessage: 'Email'\n                    }),\n                    describe: describe,\n                    updateSection: function updateSection() {\n                        _this4.updateSection('email');\n                    }\n                });\n            }\n\n            return emailSection;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var user = this.props.user;\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            var clientError = null;\n            if (this.state.clientError) {\n                clientError = this.state.clientError;\n            }\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = this.state.serverError;\n            }\n\n            var nameSection = void 0;\n            var inputs = [];\n\n            if (this.props.activeSection === 'name') {\n                var extraInfo = void 0;\n                var submit = null;\n                if (this.props.user.auth_service === 'ldap' && (global.window.mm_config.LdapFristNameAttributeSet === 'true' || global.window.mm_config.LdapLastNameAttributeSet === 'true') || this.props.user.auth_service === _constants2.default.SAML_SERVICE && (global.window.mm_config.SamlFirstNameAttributeSet === 'true' || global.window.mm_config.SamlLastNameAttributeSet === 'true')) {\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                        })\n                    );\n                } else {\n                    var notifClick = function notifClick(e) {\n                        e.preventDefault();\n                        this.updateSection('');\n                        this.props.updateTab('notifications');\n                    };\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'firstNameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.firstName',\n                                defaultMessage: 'First Name'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'firstName',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateFirstName,\n                                value: this.state.firstName\n                            })\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'lastNameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.lastName',\n                                defaultMessage: 'Last Name'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'lastName',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateLastName,\n                                value: this.state.lastName\n                            })\n                        )\n                    ));\n\n                    var notifLink = _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: notifClick.bind(this)\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.notificationsLink',\n                            defaultMessage: 'Notifications'\n                        })\n                    );\n\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.notificationsExtra',\n                            defaultMessage: 'By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.',\n                            values: {\n                                notify: notifLink\n                            }\n                        })\n                    );\n\n                    submit = this.submitName;\n                }\n\n                nameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.fullName),\n                    inputs: inputs,\n                    submit: submit,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: extraInfo\n                });\n            } else {\n                var describe = '';\n\n                if (user.first_name && user.last_name) {\n                    describe = user.first_name + ' ' + user.last_name;\n                } else if (user.first_name) {\n                    describe = user.first_name;\n                } else if (user.last_name) {\n                    describe = user.last_name;\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emptyName',\n                        defaultMessage: 'Click \\'Edit\\' to add your full name'\n                    });\n                    if (Utils.isMobile()) {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.mobile.emptyName',\n                            defaultMessage: 'Click to add your full name'\n                        });\n                    }\n                }\n\n                nameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.fullName),\n                    describe: describe,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('name');\n                    }\n                });\n            }\n\n            var nicknameSection = void 0;\n            if (this.props.activeSection === 'nickname') {\n                var _extraInfo = void 0;\n                var _submit = null;\n                if (this.props.user.auth_service === 'ldap' && global.window.mm_config.LdapNicknameAttributeSet === 'true' || this.props.user.auth_service === _constants2.default.SAML_SERVICE && global.window.mm_config.LdapNicknameAttributeSet === 'true') {\n                    _extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        })\n                    );\n                } else {\n                    var nicknameLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.nickname',\n                        defaultMessage: 'Nickname'\n                    });\n                    if (Utils.isMobile()) {\n                        nicknameLabel = '';\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'nicknameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            nicknameLabel\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'nickname',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateNickname,\n                                value: this.state.nickname,\n                                maxLength: _constants2.default.MAX_NICKNAME_LENGTH,\n                                autoCapitalize: 'off'\n                            })\n                        )\n                    ));\n\n                    _extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.nicknameExtra',\n                            defaultMessage: 'Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.'\n                        })\n                    );\n\n                    _submit = this.submitNickname;\n                }\n\n                nicknameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.nickname),\n                    inputs: inputs,\n                    submit: _submit,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: _extraInfo\n                });\n            } else {\n                var _describe = '';\n                if (user.nickname) {\n                    _describe = user.nickname;\n                } else {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emptyNickname',\n                        defaultMessage: 'Click \\'Edit\\' to add a nickname'\n                    });\n                    if (Utils.isMobile()) {\n                        _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.mobile.emptyNickname',\n                            defaultMessage: 'Click to add a nickname'\n                        });\n                    }\n                }\n\n                nicknameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.nickname),\n                    describe: _describe,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('nickname');\n                    }\n                });\n            }\n\n            var usernameSection = void 0;\n            if (this.props.activeSection === 'username') {\n                var _extraInfo2 = void 0;\n                var _submit2 = null;\n                if (this.props.user.auth_service === '') {\n                    var usernameLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.username',\n                        defaultMessage: 'Username'\n                    });\n                    if (Utils.isMobile()) {\n                        usernameLabel = '';\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'usernameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            usernameLabel\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'username',\n                                maxLength: _constants2.default.MAX_USERNAME_LENGTH,\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateUsername,\n                                value: this.state.username,\n                                autoCapitalize: 'off'\n                            })\n                        )\n                    ));\n\n                    _extraInfo2 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.usernameInfo',\n                            defaultMessage: 'Pick something easy for teammates to recognize and recall.'\n                        })\n                    );\n\n                    _submit2 = this.submitUsername;\n                } else {\n                    _extraInfo2 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        })\n                    );\n                }\n\n                usernameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.username),\n                    inputs: inputs,\n                    submit: _submit2,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: _extraInfo2\n                });\n            } else {\n                usernameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.username),\n                    describe: _user_store2.default.getCurrentUser().username,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('username');\n                    }\n                });\n            }\n\n            var positionSection = void 0;\n            if (this.props.activeSection === 'position') {\n                var _extraInfo3 = void 0;\n                var _submit3 = null;\n                if ((this.props.user.auth_service === 'ldap' || this.props.user.auth_service === _constants2.default.SAML_SERVICE) && global.window.mm_config.PositionAttributeSet === 'true') {\n                    _extraInfo3 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        })\n                    );\n                } else {\n                    var positionLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.position',\n                        defaultMessage: 'Position'\n                    });\n                    if (Utils.isMobile()) {\n                        positionLabel = '';\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'positionSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            positionLabel\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'position',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updatePosition,\n                                value: this.state.position,\n                                maxLength: _constants2.default.MAX_POSITION_LENGTH,\n                                autoCapitalize: 'off'\n                            })\n                        )\n                    ));\n\n                    _extraInfo3 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.positionExtra',\n                            defaultMessage: 'Use Position for your role or job title. This will be shown in your profile popover.'\n                        })\n                    );\n\n                    _submit3 = this.submitPosition;\n                }\n\n                positionSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.position),\n                    inputs: inputs,\n                    submit: _submit3,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: _extraInfo3\n                });\n            } else {\n                var _describe2 = '';\n                if (user.position) {\n                    _describe2 = user.position;\n                } else {\n                    _describe2 = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emptyPosition',\n                        defaultMessage: 'Click \\'Edit\\' to add your job title / position'\n                    });\n                    if (Utils.isMobile()) {\n                        _describe2 = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.mobile.emptyPosition',\n                            defaultMessage: 'Click to add your job title / position'\n                        });\n                    }\n                }\n\n                positionSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.position),\n                    describe: _describe2,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('position');\n                    }\n                });\n            }\n\n            var emailSection = this.createEmailSection();\n\n            var pictureSection = void 0;\n            if (this.props.activeSection === 'picture') {\n                pictureSection = _react2.default.createElement(_setting_picture2.default, {\n                    title: formatMessage(holders.profilePicture),\n                    submit: this.submitPicture,\n                    src: Utils.imageURLForUser(user),\n                    serverError: serverError,\n                    clientError: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    file: this.state.pictureFile,\n                    onFileChange: this.updatePicture,\n                    submitActive: this.submitActive,\n                    loadingPicture: this.state.loadingPicture\n                });\n            } else {\n                var minMessage = formatMessage(holders.uploadImage);\n                if (Utils.isMobile()) {\n                    minMessage = formatMessage(holders.uploadImageMobile);\n                }\n                if (user.last_picture_update) {\n                    minMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.imageUpdated',\n                        defaultMessage: 'Image last updated {date}',\n                        values: {\n                            date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                                value: new Date(user.last_picture_update),\n                                day: '2-digit',\n                                month: 'short',\n                                year: 'numeric'\n                            })\n                        }\n                    });\n                }\n                pictureSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.profilePicture),\n                    describe: minMessage,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('picture');\n                    }\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeUserSettings',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': formatMessage(holders.close),\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    nameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    usernameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    nicknameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    positionSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    emailSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    pictureSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return UserSettingsGeneralTab;\n}(_react2.default.Component);\n\nUserSettingsGeneralTab.propTypes = {\n    intl: _reactIntl.intlShape.isRequired,\n    user: _propTypes2.default.object.isRequired,\n    updateSection: _propTypes2.default.func.isRequired,\n    updateTab: _propTypes2.default.func.isRequired,\n    activeSection: _propTypes2.default.string.isRequired,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    actions: _propTypes2.default.shape({\n        getMe: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = (0, _reactIntl.injectIntl)(UserSettingsGeneralTab);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2336:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _exif2css2 = __webpack_require__(2337);\n\nvar _exif2css3 = _interopRequireDefault(_exif2css2);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _load = __webpack_require__(166);\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _form_error = __webpack_require__(217);\n\nvar _form_error2 = _interopRequireDefault(_form_error);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SettingPicture = function (_Component) {\n    (0, _inherits3.default)(SettingPicture, _Component);\n\n    function SettingPicture(props) {\n        (0, _classCallCheck3.default)(this, SettingPicture);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SettingPicture.__proto__ || (0, _getPrototypeOf2.default)(SettingPicture)).call(this, props));\n\n        _this.setPicture = function (file) {\n            if (file) {\n                _this.previewBlob = URL.createObjectURL(file);\n\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                    var orientation = _this.getExifOrientation(e.target.result);\n                    var orientationStyles = _this.getOrientationStyles(orientation);\n\n                    _this.setState({\n                        image: _this.previewBlob,\n                        orientationStyles: orientationStyles\n                    });\n                };\n                reader.readAsArrayBuffer(file);\n            }\n        };\n\n        _this.state = {\n            image: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SettingPicture, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.file !== this.props.file) {\n                this.setState({ image: null });\n\n                this.setPicture(nextProps.file);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.previewBlob) {\n                URL.revokeObjectURL(this.previewBlob);\n            }\n        }\n    }, {\n        key: 'getExifOrientation',\n\n\n        // based on https://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side/32490603#32490603\n        value: function getExifOrientation(data) {\n            var view = new DataView(data);\n\n            if (view.getUint16(0, false) !== 0xFFD8) {\n                return -2;\n            }\n\n            var length = view.byteLength;\n            var offset = 2;\n\n            while (offset < length) {\n                var marker = view.getUint16(offset, false);\n                offset += 2;\n\n                if (marker === 0xFFE1) {\n                    if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                        return -1;\n                    }\n\n                    var little = view.getUint16(offset += 6, false) === 0x4949;\n                    offset += view.getUint32(offset + 4, little);\n                    var tags = view.getUint16(offset, little);\n                    offset += 2;\n\n                    for (var i = 0; i < tags; i++) {\n                        if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                            return view.getUint16(offset + i * 12 + 8, little);\n                        }\n                    }\n                } else if ((marker & 0xFF00) === 0xFF00) {\n                    offset += view.getUint16(offset, false);\n                } else {\n                    break;\n                }\n            }\n            return -1;\n        }\n    }, {\n        key: 'getOrientationStyles',\n        value: function getOrientationStyles(orientation) {\n            var _exif2css = (0, _exif2css3.default)(orientation),\n                transform = _exif2css.transform,\n                transformOrigin = _exif2css['transform-origin'];\n\n            return { transform: transform, transformOrigin: transformOrigin };\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var img = void 0;\n            if (this.props.file) {\n                var imageStyles = (0, _extends3.default)({\n                    backgroundImage: 'url(' + this.state.image + ')'\n                }, this.state.orientationStyles);\n\n                img = _react2.default.createElement('div', {\n                    className: 'profile-img-preview',\n                    style: imageStyles\n                });\n            } else {\n                img = _react2.default.createElement('img', {\n                    ref: 'image',\n                    className: 'profile-img rounded',\n                    src: this.props.src\n                });\n            }\n\n            var confirmButton = void 0;\n            var selectButtonSpinner = void 0;\n            var fileInputDisabled = false;\n            if (this.props.loadingPicture) {\n                confirmButton = _react2.default.createElement('img', {\n                    className: 'spinner',\n                    src: _load2.default\n                });\n                selectButtonSpinner = _react2.default.createElement('span', { className: 'icon fa fa-refresh icon--rotate' });\n                fileInputDisabled = true;\n            } else {\n                var confirmButtonClass = 'btn btn-sm';\n                if (this.props.submitActive) {\n                    confirmButtonClass += ' btn-primary';\n                } else {\n                    confirmButtonClass += ' btn-inactive disabled';\n                }\n\n                confirmButton = _react2.default.createElement(\n                    'a',\n                    {\n                        className: confirmButtonClass,\n                        onClick: this.props.submit\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'setting_picture.save',\n                        defaultMessage: 'Save'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'section-max form-horizontal' },\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-xs-12 section-title' },\n                    this.props.title\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-xs-offset-3 col-xs-8' },\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'setting-list' },\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item' },\n                            img\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item padding-top x2' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'setting_picture.help',\n                                defaultMessage: 'Upload a profile picture in BMP, JPG, JPEG or PNG format, at least {width}px in width and {height}px height.',\n                                values: {\n                                    width: _constants2.default.PROFILE_WIDTH,\n                                    height: _constants2.default.PROFILE_WIDTH\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item' },\n                            _react2.default.createElement('hr', null),\n                            _react2.default.createElement(_form_error2.default, {\n                                errors: [this.props.clientError, this.props.serverError],\n                                type: 'modal'\n                            }),\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    className: 'btn btn-sm btn-primary btn-file sel-btn',\n                                    disabled: fileInputDisabled\n                                },\n                                selectButtonSpinner,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_picture.select',\n                                    defaultMessage: 'Select'\n                                }),\n                                _react2.default.createElement('input', {\n                                    ref: 'input',\n                                    accept: '.jpg,.png,.bmp',\n                                    type: 'file',\n                                    onChange: this.props.onFileChange,\n                                    disabled: fileInputDisabled\n                                })\n                            ),\n                            confirmButton,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    className: 'btn btn-sm theme',\n                                    href: '#',\n                                    onClick: this.props.updateSection\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_picture.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SettingPicture;\n}(_react.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSettingPicture.propTypes = {\n    clientError: _propTypes2.default.string,\n    serverError: _propTypes2.default.string,\n    src: _propTypes2.default.string,\n    file: _propTypes2.default.object,\n    loadingPicture: _propTypes2.default.bool,\n    submitActive: _propTypes2.default.bool,\n    submit: _propTypes2.default.func,\n    title: _propTypes2.default.string,\n    onFileChange: _propTypes2.default.func,\n    updateSection: _propTypes2.default.func\n};\nexports.default = SettingPicture;\n\n/***/ }),\n\n/***/ 2337:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar propMap = {\n    r: 'rotate',\n    ry: 'rotateY',\n    t: 'translateX',\n    ty: 'translateY',\n}\n\nvar transformsMap = {\n    '2': {\n        ry: 180,\n    },\n    '3': {\n        r: 180,\n    },\n    '4': {\n        r: 180,\n        ry: 180,\n    },\n    '5': {\n        r: 270,\n        ry: 180,\n    },\n    '6': {\n        ty: -1,\n        r: 90,\n    },\n    '7': {\n        ty: -1,\n        t: -1,\n        r: 90,\n        ry: 180,\n    },\n    '8': {\n        t: -1,\n        r: 270,\n    },\n}\n\nvar transformOriginMap = {\n    '5': 'top left',\n    '6': 'bottom left',\n    '7': 'bottom right',\n    '8': 'top right',\n}\n\nfunction expandTransforms(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = transforms[prop]\n    }\n    return expanded ? o : null\n}\n\nfunction getValue(prop, value) {\n    if (prop === 'r' || prop === 'ry') {\n        return value + 'deg'\n    }\n    if (prop === 't' || prop === 'ty') {\n        return value * 100 + '%'\n    }\n}\n\nfunction expandTransform(transforms) {\n    var a = []\n    for (var prop in transforms) {\n        var ep = propMap[prop]\n        a.push(ep + '(' + getValue(prop, transforms[prop]) + ')')\n    }\n    return a.length ? a.join(' ') : null\n}\n\n\nfunction expandTransformStrings(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = ep + '(' + getValue(prop, transforms[prop]) + ')'\n    }\n    return expanded ? o : null\n}\n\nfunction exif2css(orientation) {\n    var s = String(orientation)\n    var transforms = transformsMap[s]\n\n    var transform = expandTransform(transforms)\n    var transformOrigin = transformOriginMap[s]\n    var allTransforms = expandTransforms(transforms)\n    var allTransformStrings = expandTransformStrings(transforms)\n\n    var css = {}\n    if (transform) {\n        css.transform = transform\n    }\n    if (transformOrigin) {\n        css['transform-origin'] = transformOrigin\n    }\n    if (allTransforms) {\n        css.transforms = allTransforms\n    }\n    if (allTransformStrings) {\n        css.transformStrings = allTransformStrings\n    }\n    return css\n}\n\nmodule.exports = exif2css\n\n\n\n/***/ }),\n\n/***/ 2338:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _desktop_notification_settings = __webpack_require__(2339);\n\nvar _desktop_notification_settings2 = _interopRequireDefault(_desktop_notification_settings);\n\nvar _email_notification_setting = __webpack_require__(2340);\n\nvar _email_notification_setting2 = _interopRequireDefault(_email_notification_setting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getNotificationsStateFromStores() {\n    var user = _user_store2.default.getCurrentUser();\n\n    var desktop = _constants.NotificationLevels.DEFAULT;\n    var sound = 'true';\n    var desktopDuration = '5';\n    var comments = 'never';\n    var enableEmail = 'true';\n    var pushActivity = _constants.NotificationLevels.MENTION;\n    var pushStatus = _constants2.default.UserStatuses.ONLINE;\n\n    if (user.notify_props) {\n        if (user.notify_props.desktop) {\n            desktop = user.notify_props.desktop;\n        }\n        if (user.notify_props.desktop_sound) {\n            sound = user.notify_props.desktop_sound;\n        }\n        if (user.notify_props.desktop_duration) {\n            desktopDuration = user.notify_props.desktop_duration;\n        }\n        if (user.notify_props.comments) {\n            comments = user.notify_props.comments;\n        }\n        if (user.notify_props.email) {\n            enableEmail = user.notify_props.email;\n        }\n        if (user.notify_props.push) {\n            pushActivity = user.notify_props.push;\n        }\n        if (user.notify_props.push_status) {\n            pushStatus = user.notify_props.push_status;\n        }\n    }\n\n    var usernameKey = false;\n    var customKeys = '';\n    var firstNameKey = false;\n    var channelKey = false;\n\n    if (user.notify_props) {\n        if (user.notify_props.mention_keys) {\n            var keys = user.notify_props.mention_keys.split(',');\n\n            if (keys.indexOf(user.username) === -1) {\n                usernameKey = false;\n            } else {\n                usernameKey = true;\n                keys.splice(keys.indexOf(user.username), 1);\n                if (keys.indexOf('@' + user.username) !== -1) {\n                    keys.splice(keys.indexOf('@' + user.username), 1);\n                }\n            }\n\n            customKeys = keys.join(',');\n        }\n\n        if (user.notify_props.first_name) {\n            firstNameKey = user.notify_props.first_name === 'true';\n        }\n\n        if (user.notify_props.channel) {\n            channelKey = user.notify_props.channel === 'true';\n        }\n    }\n\n    return {\n        desktopActivity: desktop,\n        desktopDuration: desktopDuration,\n        enableEmail: enableEmail,\n        pushActivity: pushActivity,\n        pushStatus: pushStatus,\n        desktopSound: sound,\n        usernameKey: usernameKey,\n        customKeys: customKeys,\n        customKeysChecked: customKeys.length > 0,\n        firstNameKey: firstNameKey,\n        channelKey: channelKey,\n        notifyCommentsLevel: comments,\n        isSaving: false\n    };\n} // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar NotificationsTab = function (_React$Component) {\n    (0, _inherits3.default)(NotificationsTab, _React$Component);\n\n    function NotificationsTab(props) {\n        (0, _classCallCheck3.default)(this, NotificationsTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NotificationsTab.__proto__ || (0, _getPrototypeOf2.default)(NotificationsTab)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleCancel = _this.handleCancel.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.setStateValue = _this.setStateValue.bind(_this);\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n        _this.handleEmailRadio = _this.handleEmailRadio.bind(_this);\n        _this.updateUsernameKey = _this.updateUsernameKey.bind(_this);\n        _this.updateFirstNameKey = _this.updateFirstNameKey.bind(_this);\n        _this.updateChannelKey = _this.updateChannelKey.bind(_this);\n        _this.updateCustomMentionKeys = _this.updateCustomMentionKeys.bind(_this);\n        _this.updateState = _this.updateState.bind(_this);\n        _this.onCustomChange = _this.onCustomChange.bind(_this);\n        _this.createPushNotificationSection = _this.createPushNotificationSection.bind(_this);\n\n        _this.state = getNotificationsStateFromStores();\n        return _this;\n    }\n\n    (0, _createClass3.default)(NotificationsTab, [{\n        key: 'handleSubmit',\n        value: function handleSubmit(_ref) {\n            var _this2 = this;\n\n            var _ref$enableEmail = _ref.enableEmail,\n                enableEmail = _ref$enableEmail === undefined ? this.state.enableEmail : _ref$enableEmail;\n\n            var data = {};\n            data.user_id = this.props.user.id;\n            data.email = enableEmail;\n            data.desktop_sound = this.state.desktopSound;\n            data.desktop = this.state.desktopActivity;\n            data.desktop_duration = this.state.desktopDuration;\n            data.push = this.state.pushActivity;\n            data.push_status = this.state.pushStatus;\n            data.comments = this.state.notifyCommentsLevel;\n\n            var mentionKeys = [];\n            if (this.state.usernameKey) {\n                mentionKeys.push(this.props.user.username);\n            }\n\n            var stringKeys = mentionKeys.join(',');\n            if (this.state.customKeys.length > 0 && this.state.customKeysChecked) {\n                stringKeys += ',' + this.state.customKeys;\n            }\n\n            data.mention_keys = stringKeys;\n            data.first_name = this.state.firstNameKey.toString();\n            data.channel = this.state.channelKey.toString();\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.updateUserNotifyProps)(data, function () {\n                _this2.props.updateSection('');\n            }, function (err) {\n                _this2.setState({ serverError: err.message, isSaving: false });\n            });\n        }\n    }, {\n        key: 'handleCancel',\n        value: function handleCancel(e) {\n            e.preventDefault();\n            this.updateState();\n            this.props.updateSection('');\n        }\n    }, {\n        key: 'setStateValue',\n        value: function setStateValue(key, value) {\n            var data = {};\n            data[key] = value;\n            this.setState(data);\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            this.updateState();\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'updateState',\n        value: function updateState() {\n            var newState = getNotificationsStateFromStores();\n            if (!Utils.areObjectsEqual(newState, this.state)) {\n                this.setState(newState);\n            }\n\n            this.setState({ isSaving: false });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            this.updateState();\n        }\n    }, {\n        key: 'handleNotifyCommentsRadio',\n        value: function handleNotifyCommentsRadio(notifyCommentsLevel) {\n            this.setState({ notifyCommentsLevel: notifyCommentsLevel });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'handlePushRadio',\n        value: function handlePushRadio(pushActivity) {\n            this.setState({ pushActivity: pushActivity });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'handlePushStatusRadio',\n        value: function handlePushStatusRadio(pushStatus) {\n            this.setState({ pushStatus: pushStatus });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'handleEmailRadio',\n        value: function handleEmailRadio(enableEmail) {\n            this.setState({ enableEmail: enableEmail });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'updateUsernameKey',\n        value: function updateUsernameKey(val) {\n            this.setState({ usernameKey: val });\n        }\n    }, {\n        key: 'updateFirstNameKey',\n        value: function updateFirstNameKey(val) {\n            this.setState({ firstNameKey: val });\n        }\n    }, {\n        key: 'updateChannelKey',\n        value: function updateChannelKey(val) {\n            this.setState({ channelKey: val });\n        }\n    }, {\n        key: 'updateCustomMentionKeys',\n        value: function updateCustomMentionKeys() {\n            var checked = this.refs.customcheck.checked;\n\n            if (checked) {\n                var text = this.refs.custommentions.value;\n\n                // remove all spaces and split string into individual keys\n                this.setState({ customKeys: text.replace(/ /g, ''), customKeysChecked: true });\n            } else {\n                this.setState({ customKeys: '', customKeysChecked: false });\n            }\n        }\n    }, {\n        key: 'onCustomChange',\n        value: function onCustomChange() {\n            this.refs.customcheck.checked = true;\n            this.updateCustomMentionKeys();\n        }\n    }, {\n        key: 'createPushNotificationSection',\n        value: function createPushNotificationSection() {\n            var _this3 = this;\n\n            if (this.props.activeSection === 'push') {\n                var inputs = [];\n                var extraInfo = null;\n                var submit = null;\n\n                if (global.window.mm_config.SendPushNotifications === 'true') {\n                    var pushActivityRadio = [false, false, false];\n                    if (this.state.pushActivity === _constants.NotificationLevels.ALL) {\n                        pushActivityRadio[0] = true;\n                    } else if (this.state.pushActivity === _constants.NotificationLevels.NONE) {\n                        pushActivityRadio[2] = true;\n                    } else {\n                        pushActivityRadio[1] = true;\n                    }\n\n                    var pushStatusRadio = [false, false, false];\n                    if (this.state.pushStatus === _constants2.default.UserStatuses.ONLINE) {\n                        pushStatusRadio[0] = true;\n                    } else if (this.state.pushStatus === _constants2.default.UserStatuses.AWAY) {\n                        pushStatusRadio[1] = true;\n                    } else {\n                        pushStatusRadio[2] = true;\n                    }\n\n                    var pushStatusSettings = void 0;\n                    if (this.state.pushActivity !== _constants.NotificationLevels.NONE) {\n                        pushStatusSettings = _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement('hr', null),\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.push_notification.status',\n                                    defaultMessage: 'Trigger push notifications when'\n                                })\n                            ),\n                            _react2.default.createElement('br', null),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'pushNotificationOnline',\n                                        type: 'radio',\n                                        name: 'pushNotificationStatus',\n                                        checked: pushStatusRadio[0],\n                                        onChange: this.handlePushStatusRadio.bind(this, _constants2.default.UserStatuses.ONLINE)\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.push_notification.online',\n                                        defaultMessage: 'Online, away or offline'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'pushNotificationAway',\n                                        type: 'radio',\n                                        name: 'pushNotificationStatus',\n                                        checked: pushStatusRadio[1],\n                                        onChange: this.handlePushStatusRadio.bind(this, _constants2.default.UserStatuses.AWAY)\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.push_notification.away',\n                                        defaultMessage: 'Away or offline'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'pushNotificationOffline',\n                                        type: 'radio',\n                                        name: 'pushNotificationStatus',\n                                        checked: pushStatusRadio[2],\n                                        onChange: this.handlePushStatusRadio.bind(this, _constants2.default.UserStatuses.OFFLINE)\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.push_notification.offline',\n                                        defaultMessage: 'Offline'\n                                    })\n                                )\n                            )\n                        );\n\n                        extraInfo = _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.push_notification.status_info',\n                                defaultMessage: 'Notification alerts are only pushed to your mobile device when your online status matches the selection above.'\n                            })\n                        );\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'userNotificationLevelOption' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.push_notification.send',\n                                defaultMessage: 'Send mobile push notifications'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'pushNotificationAllActivity',\n                                    type: 'radio',\n                                    name: 'pushNotificationLevel',\n                                    checked: pushActivityRadio[0],\n                                    onChange: this.handlePushRadio.bind(this, _constants.NotificationLevels.ALL)\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.push_notification.allActivity',\n                                    defaultMessage: 'For all activity'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'pushNotificationMentions',\n                                    type: 'radio',\n                                    name: 'pushNotificationLevel',\n                                    checked: pushActivityRadio[1],\n                                    onChange: this.handlePushRadio.bind(this, _constants.NotificationLevels.MENTION)\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.push_notification.onlyMentions',\n                                    defaultMessage: 'For mentions and direct messages'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'pushNotificationNever',\n                                    type: 'radio',\n                                    name: 'pushNotificationLevel',\n                                    checked: pushActivityRadio[2],\n                                    onChange: this.handlePushRadio.bind(this, _constants.NotificationLevels.NONE)\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.never',\n                                    defaultMessage: 'Never'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.push_notification.info',\n                                defaultMessage: 'Notification alerts are pushed to your mobile device when there is activity in Mattermost.'\n                            })\n                        ),\n                        pushStatusSettings\n                    ));\n\n                    submit = this.handleSubmit;\n                } else {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'padding-top'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.push_notification.disabled_long',\n                            defaultMessage: 'Push notifications for mobile devices have been disabled by your System Administrator.'\n                        })\n                    ));\n                }\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications'),\n                    extraInfo: extraInfo,\n                    inputs: inputs,\n                    submit: submit,\n                    server_error: this.state.serverError,\n                    updateSection: this.handleCancel\n                });\n            }\n\n            var describe = '';\n            if (this.state.pushActivity === _constants.NotificationLevels.ALL) {\n                if (this.state.pushStatus === _constants2.default.UserStatuses.AWAY) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.allActivityAway',\n                        defaultMessage: 'For all activity when away or offline'\n                    });\n                } else if (this.state.pushStatus === _constants2.default.UserStatuses.OFFLINE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.allActivityOffline',\n                        defaultMessage: 'For all activity when offline'\n                    });\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.allActivityOnline',\n                        defaultMessage: 'For all activity when online, away or offline'\n                    });\n                }\n            } else if (this.state.pushActivity === _constants.NotificationLevels.NONE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.notifications.never',\n                    defaultMessage: 'Never'\n                });\n            } else if (global.window.mm_config.SendPushNotifications === 'false') {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.push_notification.disabled',\n                    defaultMessage: 'Disabled by System Administrator'\n                });\n            } else {\n                if (this.state.pushStatus === _constants2.default.UserStatuses.AWAY) {\n                    //eslint-disable-line no-lonely-if\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.onlyMentionsAway',\n                        defaultMessage: 'For mentions and direct messages when away or offline'\n                    });\n                } else if (this.state.pushStatus === _constants2.default.UserStatuses.OFFLINE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.onlyMentionsOffline',\n                        defaultMessage: 'For mentions and direct messages when offline'\n                    });\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.onlyMentionsOnline',\n                        defaultMessage: 'For mentions and direct messages when online, away or offline'\n                    });\n                }\n            }\n\n            var handleUpdatePushSection = function handleUpdatePushSection() {\n                _this3.props.updateSection('push');\n            };\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications'),\n                describe: describe,\n                updateSection: handleUpdatePushSection\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var serverError = this.state.serverError;\n            var user = this.props.user;\n\n            var keysSection = void 0;\n            var handleUpdateKeysSection = void 0;\n            if (this.props.activeSection === 'keys') {\n                var inputs = [];\n\n                if (user.first_name) {\n                    var handleUpdateFirstNameKey = function handleUpdateFirstNameKey(e) {\n                        _this4.updateFirstNameKey(e.target.checked);\n                    };\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'userNotificationFirstNameOption' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'checkbox' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'notificationTriggerFirst',\n                                    type: 'checkbox',\n                                    checked: this.state.firstNameKey,\n                                    onChange: handleUpdateFirstNameKey\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.sensitiveName',\n                                    defaultMessage: 'Your case sensitive first name \"{first_name}\"',\n                                    values: {\n                                        first_name: user.first_name\n                                    }\n                                })\n                            )\n                        )\n                    ));\n                }\n\n                var handleUpdateUsernameKey = function handleUpdateUsernameKey(e) {\n                    _this4.updateUsernameKey(e.target.checked);\n                };\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationUsernameOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationTriggerUsername',\n                                type: 'checkbox',\n                                checked: this.state.usernameKey,\n                                onChange: handleUpdateUsernameKey\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.sensitiveUsername',\n                                defaultMessage: 'Your non-case sensitive username \"{username}\"',\n                                values: {\n                                    username: user.username\n                                }\n                            })\n                        )\n                    )\n                ));\n\n                var handleUpdateChannelKey = function handleUpdateChannelKey(e) {\n                    _this4.updateChannelKey(e.target.checked);\n                };\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationChannelOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationTriggerShouts',\n                                type: 'checkbox',\n                                checked: this.state.channelKey,\n                                onChange: handleUpdateChannelKey\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.channelWide',\n                                defaultMessage: 'Channel-wide mentions \"@channel\", \"@all\", \"@here\"'\n                            })\n                        )\n                    )\n                ));\n\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationCustomOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationTriggerCustom',\n                                ref: 'customcheck',\n                                type: 'checkbox',\n                                checked: this.state.customKeysChecked,\n                                onChange: this.updateCustomMentionKeys\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.sensitiveWords',\n                                defaultMessage: 'Other non-case sensitive words, separated by commas:'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('input', {\n                        id: 'notificationTriggerCustomText',\n                        ref: 'custommentions',\n                        className: 'form-control mentions-input',\n                        type: 'text',\n                        defaultValue: this.state.customKeys,\n                        onChange: this.onCustomChange\n                    })\n                ));\n\n                var extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.mentionsInfo',\n                        defaultMessage: 'Mentions trigger when someone sends a message that includes your username (@{username}) or any of the options selected above.',\n                        values: {\n                            username: user.username\n                        }\n                    })\n                );\n\n                keysSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions'),\n                    inputs: inputs,\n                    submit: this.handleSubmit,\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    updateSection: this.handleCancel,\n                    extraInfo: extraInfo\n                });\n            } else {\n                var keys = ['@' + user.username];\n                if (this.state.firstNameKey) {\n                    keys.push(user.first_name);\n                }\n                if (this.state.usernameKey) {\n                    keys.push(user.username);\n                }\n\n                if (this.state.channelKey) {\n                    keys.push('@channel');\n                    keys.push('@all');\n                    keys.push('@here');\n                }\n                if (this.state.customKeys.length > 0) {\n                    keys = keys.concat(this.state.customKeys.split(','));\n                }\n\n                var describe = '';\n                for (var i = 0; i < keys.length; i++) {\n                    if (keys[i] !== '') {\n                        describe += '\"' + keys[i] + '\", ';\n                    }\n                }\n\n                if (describe.length > 0) {\n                    describe = describe.substring(0, describe.length - 2);\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.noWords',\n                        defaultMessage: 'No words configured'\n                    });\n                }\n\n                handleUpdateKeysSection = function updateKeysSection() {\n                    this.props.updateSection('keys');\n                }.bind(this);\n\n                keysSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions'),\n                    describe: describe,\n                    updateSection: handleUpdateKeysSection\n                });\n            }\n\n            var commentsSection = void 0;\n            var handleUpdateCommentsSection = void 0;\n            if (this.props.activeSection === 'comments') {\n                var commentsActive = [false, false, false];\n                if (this.state.notifyCommentsLevel === 'never') {\n                    commentsActive[2] = true;\n                } else if (this.state.notifyCommentsLevel === 'root') {\n                    commentsActive[1] = true;\n                } else {\n                    commentsActive[0] = true;\n                }\n\n                var _inputs = [];\n\n                _inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationLevelOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationCommentsAny',\n                                type: 'radio',\n                                name: 'commentsNotificationLevel',\n                                checked: commentsActive[0],\n                                onChange: this.handleNotifyCommentsRadio.bind(this, 'any')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.commentsAny',\n                                defaultMessage: 'Mention any comments in a thread you participated in (This will include both mentions to your root post and any comments after you commented on a post)'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationCommentsRoot',\n                                type: 'radio',\n                                name: 'commentsNotificationLevel',\n                                checked: commentsActive[1],\n                                onChange: this.handleNotifyCommentsRadio.bind(this, 'root')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.commentsRoot',\n                                defaultMessage: 'Mention any comments on your post'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationCommentsNever',\n                                type: 'radio',\n                                name: 'commentsNotificationLevel',\n                                checked: commentsActive[2],\n                                onChange: this.handleNotifyCommentsRadio.bind(this, 'never')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.commentsNever',\n                                defaultMessage: 'No mentions for comments'\n                            })\n                        )\n                    )\n                ));\n\n                var _extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsInfo',\n                        defaultMessage: 'In addition to notifications for when you\\'re mentioned, select if you would like to receive notifications on reply threads.'\n                    })\n                );\n\n                commentsSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications'),\n                    extraInfo: _extraInfo,\n                    inputs: _inputs,\n                    submit: this.handleSubmit,\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    updateSection: this.handleCancel\n                });\n            } else {\n                var _describe = '';\n                if (this.state.notifyCommentsLevel === 'never') {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsNever',\n                        defaultMessage: 'Do not trigger notifications on messages in reply threads unless I\\'m mentioned'\n                    });\n                } else if (this.state.notifyCommentsLevel === 'root') {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsRoot',\n                        defaultMessage: 'Trigger notifications on messages in threads that I start'\n                    });\n                } else {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsAny',\n                        defaultMessage: 'Trigger notifications on messages in reply threads that I start or participate in'\n                    });\n                }\n\n                handleUpdateCommentsSection = function updateCommentsSection() {\n                    this.props.updateSection('comments');\n                }.bind(this);\n\n                commentsSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications'),\n                    describe: _describe,\n                    updateSection: handleUpdateCommentsSection\n                });\n            }\n\n            var pushNotificationSection = this.createPushNotificationSection();\n            var enableEmail = this.state.enableEmail === 'true';\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.title',\n                            defaultMessage: 'Notification Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.header',\n                            defaultMessage: 'Notifications'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    _react2.default.createElement(_desktop_notification_settings2.default, {\n                        activity: this.state.desktopActivity,\n                        sound: this.state.desktopSound,\n                        duration: this.state.desktopDuration,\n                        updateSection: this.updateSection,\n                        setParentState: this.setStateValue,\n                        submit: this.handleSubmit,\n                        saving: this.state.isSaving,\n                        cancel: this.handleCancel,\n                        error: this.state.serverError,\n                        active: this.props.activeSection === 'desktop'\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    _react2.default.createElement(_email_notification_setting2.default, {\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        enableEmail: enableEmail,\n                        emailInterval: Utils.getEmailInterval(enableEmail),\n                        onSubmit: this.handleSubmit,\n                        onCancel: this.handleCancel,\n                        saving: this.state.isSaving,\n                        serverError: this.state.serverError\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    pushNotificationSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    keysSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    commentsSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return NotificationsTab;\n}(_react2.default.Component);\n\nexports.default = NotificationsTab;\n\n\nNotificationsTab.defaultProps = {\n    user: null,\n    activeSection: '',\n    activeTab: ''\n};\nNotificationsTab.propTypes = {\n    user: _propTypes2.default.object,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    activeSection: _propTypes2.default.string,\n    activeTab: _propTypes2.default.string,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2339:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DesktopNotificationSettings = function (_React$Component) {\n    (0, _inherits3.default)(DesktopNotificationSettings, _React$Component);\n\n    function DesktopNotificationSettings(props) {\n        (0, _classCallCheck3.default)(this, DesktopNotificationSettings);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DesktopNotificationSettings.__proto__ || (0, _getPrototypeOf2.default)(DesktopNotificationSettings)).call(this, props));\n\n        _this.buildMaximizedSetting = _this.buildMaximizedSetting.bind(_this);\n        _this.buildMinimizedSetting = _this.buildMinimizedSetting.bind(_this);\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(DesktopNotificationSettings, [{\n        key: 'buildMaximizedSetting',\n        value: function buildMaximizedSetting() {\n            var _this2 = this;\n\n            var inputs = [];\n            var extraInfo = null;\n\n            var activityRadio = [false, false, false];\n            if (this.props.activity === _constants.NotificationLevels.MENTION) {\n                activityRadio[1] = true;\n            } else if (this.props.activity === _constants.NotificationLevels.NONE) {\n                activityRadio[2] = true;\n            } else {\n                activityRadio[0] = true;\n            }\n\n            var soundSection = void 0;\n            var durationSection = void 0;\n            if (this.props.activity !== _constants.NotificationLevels.NONE) {\n                var soundRadio = [false, false];\n                if (this.props.sound === 'false') {\n                    soundRadio[1] = true;\n                } else {\n                    soundRadio[0] = true;\n                }\n\n                if (Utils.hasSoundOptions()) {\n                    soundSection = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('hr', null),\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.sound',\n                                defaultMessage: 'Notification sound'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'soundOn',\n                                    type: 'radio',\n                                    name: 'notificationSounds',\n                                    checked: soundRadio[0],\n                                    onChange: function onChange() {\n                                        return _this2.props.setParentState('desktopSound', 'true');\n                                    }\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.on',\n                                    defaultMessage: 'On'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'soundOff',\n                                    type: 'radio',\n                                    name: 'notificationSounds',\n                                    checked: soundRadio[1],\n                                    onChange: function onChange() {\n                                        return _this2.props.setParentState('desktopSound', 'false');\n                                    }\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.off',\n                                    defaultMessage: 'Off'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.sounds_info',\n                                defaultMessage: 'Notification sounds are available on IE11, Safari, Chrome and Mattermost Desktop Apps.'\n                            })\n                        )\n                    );\n                } else {\n                    soundSection = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('hr', null),\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.sound',\n                                defaultMessage: 'Notification sound'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.soundConfig',\n                            defaultMessage: 'Please configure notification sounds in your browser settings'\n                        })\n                    );\n                }\n\n                var durationRadio = [false, false, false, false];\n                if (this.props.duration === '3') {\n                    durationRadio[0] = true;\n                } else if (this.props.duration === '10') {\n                    durationRadio[2] = true;\n                } else if (this.props.duration === '0') {\n                    durationRadio[3] = true;\n                } else {\n                    durationRadio[1] = true;\n                }\n\n                durationSection = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement('hr', null),\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.duration',\n                            defaultMessage: 'Notification duration'\n                        })\n                    ),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDuration3',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[0],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '3');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.seconds',\n                                defaultMessage: '{seconds} seconds',\n                                values: {\n                                    seconds: '3'\n                                }\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDuration5',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[1],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '5');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.seconds',\n                                defaultMessage: '{seconds} seconds',\n                                values: {\n                                    seconds: '5'\n                                }\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDuration10',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[2],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '10');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.seconds',\n                                defaultMessage: '{seconds} seconds',\n                                values: {\n                                    seconds: '10'\n                                }\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDurationUnlimited',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[3],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '0');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.unlimited',\n                                defaultMessage: 'Unlimited'\n                            })\n                        )\n                    )\n                );\n\n                extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.desktop.durationInfo',\n                        defaultMessage: 'Sets how long desktop notifications will remain on screen when using Firefox or Chrome. Desktop notifications in Edge, Safari and Mattermost Desktop Apps can only stay on screen for a maximum of 5 seconds.'\n                    })\n                );\n            }\n\n            inputs.push(_react2.default.createElement(\n                'div',\n                { key: 'userNotificationLevelOption' },\n                _react2.default.createElement(\n                    'label',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.desktop',\n                        defaultMessage: 'Send desktop notifications'\n                    })\n                ),\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'radio' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement('input', {\n                            id: 'desktopNotificationAllActivity',\n                            type: 'radio',\n                            name: 'desktopNotificationLevel',\n                            checked: activityRadio[0],\n                            onChange: function onChange() {\n                                return _this2.props.setParentState('desktopActivity', _constants.NotificationLevels.ALL);\n                            }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.allActivity',\n                            defaultMessage: 'For all activity'\n                        })\n                    ),\n                    _react2.default.createElement('br', null)\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'radio' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement('input', {\n                            id: 'desktopNotificationMentions',\n                            type: 'radio',\n                            name: 'desktopNotificationLevel',\n                            checked: activityRadio[1],\n                            onChange: function onChange() {\n                                return _this2.props.setParentState('desktopActivity', _constants.NotificationLevels.MENTION);\n                            }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.onlyMentions',\n                            defaultMessage: 'Only for mentions and direct messages'\n                        })\n                    ),\n                    _react2.default.createElement('br', null)\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'radio' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement('input', {\n                            id: 'desktopNotificationNever',\n                            type: 'radio',\n                            name: 'desktopNotificationLevel',\n                            checked: activityRadio[2],\n                            onChange: function onChange() {\n                                return _this2.props.setParentState('desktopActivity', _constants.NotificationLevels.NONE);\n                            }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.never',\n                            defaultMessage: 'Never'\n                        })\n                    )\n                ),\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.info',\n                        defaultMessage: 'Desktop notifications are available on Edge, Firefox, Safari, Chrome and Mattermost Desktop Apps.'\n                    })\n                ),\n                soundSection,\n                durationSection\n            ));\n\n            return _react2.default.createElement(_setting_item_max2.default, {\n                title: Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications'),\n                extraInfo: extraInfo,\n                inputs: inputs,\n                submit: this.props.submit,\n                saving: this.props.saving,\n                server_error: this.props.error,\n                updateSection: this.props.cancel\n            });\n        }\n    }, {\n        key: 'buildMinimizedSetting',\n        value: function buildMinimizedSetting() {\n            var describe = '';\n            if (this.props.activity === _constants.NotificationLevels.MENTION) {\n                if (Utils.hasSoundOptions() && this.props.sound !== 'false') {\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundForever',\n                            defaultMessage: 'For mentions and direct messages, with sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundTimed',\n                            defaultMessage: 'For mentions and direct messages, with sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                    if (this.props.duration === '0') {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsNoSoundForever',\n                            defaultMessage: 'For mentions and direct messages, without sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsNoSoundTimed',\n                            defaultMessage: 'For mentions and direct messages, without sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else {\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundHiddenForever',\n                            defaultMessage: 'For mentions and direct messages, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundHiddenTimed',\n                            defaultMessage: 'For mentions and direct messages, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                }\n            } else if (this.props.activity === _constants.NotificationLevels.NONE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.notifications.off',\n                    defaultMessage: 'Off'\n                });\n            } else {\n                if (Utils.hasSoundOptions() && this.props.sound !== 'false') {\n                    //eslint-disable-line no-lonely-if\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundForever',\n                            defaultMessage: 'For all activity, with sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundTimed',\n                            defaultMessage: 'For all activity, with sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                    if (this.props.duration === '0') {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allNoSoundForever',\n                            defaultMessage: 'For all activity, without sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allNoSoundTimed',\n                            defaultMessage: 'For all activity, without sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else {\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundHiddenForever',\n                            defaultMessage: 'For all activity, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundHiddenTimed',\n                            defaultMessage: 'For all activity, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                }\n            }\n\n            var handleUpdateDesktopSection = function updateDesktopSection() {\n                this.props.updateSection('desktop');\n            }.bind(this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications'),\n                describe: describe,\n                updateSection: handleUpdateDesktopSection\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.props.active) {\n                return this.buildMaximizedSetting();\n            }\n\n            return this.buildMinimizedSetting();\n        }\n    }]);\n    return DesktopNotificationSettings;\n}(_react2.default.Component); // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = DesktopNotificationSettings;\n\n\nDesktopNotificationSettings.propTypes = {\n    activity: _propTypes2.default.string.isRequired,\n    sound: _propTypes2.default.string.isRequired,\n    duration: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func,\n    setParentState: _propTypes2.default.func,\n    submit: _propTypes2.default.func,\n    cancel: _propTypes2.default.func,\n    error: _propTypes2.default.string,\n    active: _propTypes2.default.bool,\n    saving: _propTypes2.default.bool\n};\n\n/***/ }),\n\n/***/ 2340:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar EmailNotificationSetting = function (_React$Component) {\n    (0, _inherits3.default)(EmailNotificationSetting, _React$Component);\n\n    function EmailNotificationSetting(props) {\n        (0, _classCallCheck3.default)(this, EmailNotificationSetting);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EmailNotificationSetting.__proto__ || (0, _getPrototypeOf2.default)(EmailNotificationSetting)).call(this, props));\n\n        _this.handleChange = function (enableEmail, emailInterval) {\n            _this.setState({\n                enableEmail: enableEmail,\n                emailInterval: emailInterval\n            });\n        };\n\n        _this.handleSubmit = function () {\n            var _this$state = _this.state,\n                enableEmail = _this$state.enableEmail,\n                emailInterval = _this$state.emailInterval;\n\n            if (_this.props.enableEmail !== enableEmail || _this.props.emailInterval !== emailInterval) {\n                // until the rest of the notification settings are moved to preferences, we have to do this separately\n                (0, _user_actions.savePreference)(_constants.Preferences.CATEGORY_NOTIFICATIONS, _constants.Preferences.EMAIL_INTERVAL, emailInterval.toString());\n\n                _this.props.onSubmit({ enableEmail: enableEmail });\n            } else {\n                _this.props.updateSection('');\n            }\n        };\n\n        _this.handleExpand = function () {\n            _this.props.updateSection('email');\n        };\n\n        _this.handleCancel = function (e) {\n            _this.setState({\n                enableEmail: _this.props.enableEmail,\n                emailInterval: _this.props.emailInterval\n            });\n            _this.props.onCancel(e);\n        };\n\n        _this.state = {\n            enableEmail: props.enableEmail,\n            emailInterval: props.emailInterval\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EmailNotificationSetting, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.enableEmail !== this.props.enableEmail || nextProps.emailInterval !== this.props.emailInterval) {\n                this.setState({\n                    enableEmail: nextProps.enableEmail,\n                    emailInterval: nextProps.emailInterval\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            if (global.window.mm_config.SendEmailNotifications !== 'true' && this.props.activeSection === 'email') {\n                var inputs = [];\n\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'oauthEmailInfo',\n                        className: 'padding-top'\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.email.disabled_long',\n                        defaultMessage: 'Email notifications have been disabled by your System Administrator.'\n                    })\n                ));\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: (0, _utils.localizeMessage)('user.settings.notifications.emailNotifications', 'Email notifications'),\n                    inputs: inputs,\n                    server_error: this.state.serverError,\n                    updateSection: this.handleCancel\n                });\n            }\n\n            if (this.props.activeSection !== 'email') {\n                var description = void 0;\n\n                if (global.window.mm_config.SendEmailNotifications !== 'true') {\n                    description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.email.disabled',\n                        defaultMessage: 'Disabled by System Administrator'\n                    });\n                } else if (this.props.enableEmail) {\n                    switch (this.state.emailInterval) {\n                        case _constants.Preferences.INTERVAL_IMMEDIATE:\n                            description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.immediately',\n                                defaultMessage: 'Immediately'\n                            });\n                            break;\n                        case _constants.Preferences.INTERVAL_HOUR:\n                            description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyHour',\n                                defaultMessage: 'Every hour'\n                            });\n                            break;\n                        default:\n                            description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyXMinutes',\n                                defaultMessage: 'Every {count, plural, one {minute} other {{count, number} minutes}}',\n                                values: { count: this.state.emailInterval / 60 }\n                            });\n                    }\n                } else {\n                    description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.email.never',\n                        defaultMessage: 'Never'\n                    });\n                }\n\n                return _react2.default.createElement(_setting_item_min2.default, {\n                    title: (0, _utils.localizeMessage)('user.settings.notifications.emailNotifications', 'Email notifications'),\n                    describe: description,\n                    updateSection: this.handleExpand\n                });\n            }\n\n            var batchingOptions = null;\n            var batchingInfo = null;\n            if (global.window.mm_config.EnableEmailBatching === 'true') {\n                batchingOptions = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationMinutes',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_FIFTEEN_MINUTES,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('true', _constants.Preferences.INTERVAL_FIFTEEN_MINUTES);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyXMinutes',\n                                defaultMessage: 'Every {count} minutes',\n                                values: { count: _constants.Preferences.INTERVAL_FIFTEEN_MINUTES / 60 }\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationHour',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_HOUR,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('true', _constants.Preferences.INTERVAL_HOUR);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyHour',\n                                defaultMessage: 'Every hour'\n                            })\n                        )\n                    )\n                );\n\n                batchingInfo = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.notifications.emailBatchingInfo',\n                    defaultMessage: 'Notifications received over the time period selected are combined and sent in a single email.'\n                });\n            }\n\n            return _react2.default.createElement(_setting_item_max2.default, {\n                title: (0, _utils.localizeMessage)('user.settings.notifications.emailNotifications', 'Email notifications'),\n                inputs: [_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationEmailOptions' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.email.send',\n                            defaultMessage: 'Send email notifications'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationImmediately',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_IMMEDIATE,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('true', _constants.Preferences.INTERVAL_IMMEDIATE);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.immediately',\n                                defaultMessage: 'Immediately'\n                            })\n                        )\n                    ),\n                    batchingOptions,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationNever',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_NEVER,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('false', _constants.Preferences.INTERVAL_NEVER);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.never',\n                                defaultMessage: 'Never'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.emailInfo',\n                            defaultMessage: 'Email notifications are sent for mentions and direct messages when you are offline or away from {siteName} for more than 5 minutes.',\n                            values: {\n                                siteName: global.window.mm_config.SiteName\n                            }\n                        }),\n                        ' ',\n                        batchingInfo\n                    )\n                )],\n                submit: this.handleSubmit,\n                saving: this.props.saving,\n                server_error: this.props.serverError,\n                updateSection: this.handleCancel\n            });\n        }\n    }]);\n    return EmailNotificationSetting;\n}(_react2.default.Component);\n\nEmailNotificationSetting.propTypes = {\n    activeSection: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func.isRequired,\n    enableEmail: _propTypes2.default.bool.isRequired,\n    emailInterval: _propTypes2.default.number.isRequired,\n    onSubmit: _propTypes2.default.func.isRequired,\n    onCancel: _propTypes2.default.func.isRequired,\n    serverError: _propTypes2.default.string,\n    saving: _propTypes2.default.bool\n};\nexports.default = EmailNotificationSetting;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2341:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _users = __webpack_require__(61);\n\nvar _user_utils = __webpack_require__(190);\n\nvar UserUtils = _interopRequireWildcard(_user_utils);\n\nvar _user_settings_security = __webpack_require__(2342);\n\nvar _user_settings_security2 = _interopRequireDefault(_user_settings_security);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    var tokensEnabled = state.entities.general.config.EnableUserAccessTokens === 'true';\n    var userHasTokenRole = UserUtils.hasUserAccessTokenRole(ownProps.user.roles) || UserUtils.isSystemAdmin(ownProps.user.roles);\n\n    return (0, _extends3.default)({}, ownProps, {\n        userAccessTokens: state.entities.users.myUserAccessTokens,\n        canUseAccessTokens: tokensEnabled && userHasTokenRole\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getMe: _users.getMe,\n            getUserAccessTokensForUser: _users.getUserAccessTokensForUser,\n            createUserAccessToken: _users.createUserAccessToken,\n            revokeUserAccessToken: _users.revokeUserAccessToken,\n            enableUserAccessToken: _users.enableUserAccessToken,\n            disableUserAccessToken: _users.disableUserAccessToken,\n            clearUserAccessTokens: _users.clearUserAccessTokens\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_user_settings_security2.default);\n\n/***/ }),\n\n/***/ 2342:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _values = __webpack_require__(216);\n\nvar _values2 = _interopRequireDefault(_values);\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _user_utils = __webpack_require__(190);\n\nvar UserUtils = _interopRequireWildcard(_user_utils);\n\nvar _diagnostics_actions = __webpack_require__(215);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(73);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _icon50x = __webpack_require__(666);\n\nvar _icon50x2 = _interopRequireDefault(_icon50x);\n\nvar _access_history_modal = __webpack_require__(2343);\n\nvar _access_history_modal2 = _interopRequireDefault(_access_history_modal);\n\nvar _activity_log_modal = __webpack_require__(2345);\n\nvar _activity_log_modal2 = _interopRequireDefault(_activity_log_modal);\n\nvar _confirm_modal = __webpack_require__(283);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _toggle_modal_button = __webpack_require__(659);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TOKEN_CREATING = 'creating';\nvar TOKEN_CREATED = 'created';\nvar TOKEN_NOT_CREATING = 'not_creating';\n\nvar SecurityTab = function (_React$Component) {\n    (0, _inherits3.default)(SecurityTab, _React$Component);\n\n    function SecurityTab(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, SecurityTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SecurityTab.__proto__ || (0, _getPrototypeOf2.default)(SecurityTab)).call(this, props));\n\n        _this.submitPassword = function (e) {\n            e.preventDefault();\n\n            var user = _this.props.user;\n            var currentPassword = _this.state.currentPassword;\n            var newPassword = _this.state.newPassword;\n            var confirmPassword = _this.state.confirmPassword;\n\n            if (currentPassword === '') {\n                _this.setState({ passwordError: Utils.localizeMessage('user.settings.security.currentPasswordError', 'Please enter your current password.'), serverError: '' });\n                return;\n            }\n\n            var passwordErr = Utils.isValidPassword(newPassword, Utils.getPasswordConfig());\n            if (passwordErr !== '') {\n                _this.setState({\n                    passwordError: passwordErr,\n                    serverError: ''\n                });\n                return;\n            }\n\n            if (newPassword !== confirmPassword) {\n                var defaultState = (0, _assign2.default)(_this.getDefaultState(), { passwordError: Utils.localizeMessage('user.settings.security.passwordMatchError', 'The new passwords you entered do not match.'), serverError: '' });\n                _this.setState(defaultState);\n                return;\n            }\n\n            _this.setState({ savingPassword: true });\n\n            (0, _user_actions.updatePassword)(user.id, currentPassword, newPassword, function () {\n                _this.props.updateSection('');\n                _this.props.actions.getMe();\n                _this.setState(_this.getDefaultState());\n            }, function (err) {\n                var state = _this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                state.passwordError = '';\n                _this.setState(state);\n            });\n        };\n\n        _this.setupMfa = function (e) {\n            e.preventDefault();\n            _reactRouter.browserHistory.push('/mfa/setup');\n        };\n\n        _this.removeMfa = function () {\n            (0, _user_actions.deactivateMfa)(function () {\n                if (global.window.mm_license.MFA === 'true' && global.window.mm_config.EnableMultifactorAuthentication === 'true' && global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                    window.location.href = '/mfa/setup';\n                    return;\n                }\n\n                _this.props.updateSection('');\n                _this.setState(_this.getDefaultState());\n            }, function (err) {\n                var state = _this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                _this.setState(state);\n            });\n        };\n\n        _this.updateCurrentPassword = function (e) {\n            _this.setState({ currentPassword: e.target.value });\n        };\n\n        _this.updateNewPassword = function (e) {\n            _this.setState({ newPassword: e.target.value });\n        };\n\n        _this.updateConfirmPassword = function (e) {\n            _this.setState({ confirmPassword: e.target.value });\n        };\n\n        _this.deauthorizeApp = function (e) {\n            e.preventDefault();\n            var appId = e.currentTarget.getAttribute('data-app');\n            (0, _user_actions.deauthorizeOAuthApp)(appId, function () {\n                var authorizedApps = _this.state.authorizedApps.filter(function (app) {\n                    return app.id !== appId;\n                });\n\n                _this.setState({ authorizedApps: authorizedApps, serverError: null });\n            }, function (err) {\n                _this.setState({ serverError: err.message });\n            });\n        };\n\n        _this.createMfaSection = function () {\n            var updateSectionStatus = void 0;\n            var submit = void 0;\n\n            if (_this.props.activeSection === 'mfa') {\n                var content = void 0;\n                var extraInfo = void 0;\n                if (_this.props.user.mfa_active) {\n                    var mfaRemoveHelp = void 0;\n                    var mfaButtonText = void 0;\n\n                    if (global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                        mfaRemoveHelp = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.requiredHelp',\n                            defaultMessage: 'Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.'\n                        });\n\n                        mfaButtonText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.reset',\n                            defaultMessage: 'Reset MFA on your account'\n                        });\n                    } else {\n                        mfaRemoveHelp = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.removeHelp',\n                            defaultMessage: 'Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.'\n                        });\n\n                        mfaButtonText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.remove',\n                            defaultMessage: 'Remove MFA from your account'\n                        });\n                    }\n\n                    content = _react2.default.createElement(\n                        'div',\n                        { key: 'mfaQrCode' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                className: 'btn btn-primary',\n                                href: '#',\n                                onClick: _this.removeMfa\n                            },\n                            mfaButtonText\n                        ),\n                        _react2.default.createElement('br', null)\n                    );\n\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        mfaRemoveHelp\n                    );\n                } else {\n                    content = _react2.default.createElement(\n                        'div',\n                        { key: 'mfaQrCode' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                className: 'btn btn-primary',\n                                href: '#',\n                                onClick: _this.setupMfa\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.mfa.add',\n                                defaultMessage: 'Add MFA to your account'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    );\n\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.addHelp',\n                            defaultMessage: 'Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.'\n                        })\n                    );\n                }\n\n                var inputs = [];\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'mfaSetting',\n                        className: 'padding-top'\n                    },\n                    content\n                ));\n\n                updateSectionStatus = function resetSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ serverError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication'),\n                    inputs: inputs,\n                    extraInfo: extraInfo,\n                    submit: submit,\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus,\n                    width: 'medium'\n                });\n            }\n\n            var describe = void 0;\n            if (_this.props.user.mfa_active) {\n                describe = Utils.localizeMessage('user.settings.security.active', 'Active');\n            } else {\n                describe = Utils.localizeMessage('user.settings.security.inactive', 'Inactive');\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('mfa');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication'),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.createPasswordSection = function () {\n            var updateSectionStatus = void 0;\n\n            if (_this.props.activeSection === 'password') {\n                var inputs = [];\n                var submit = void 0;\n\n                if (_this.props.user.auth_service === '') {\n                    submit = _this.submitPassword;\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'currentPasswordUpdateForm',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.currentPassword',\n                                defaultMessage: 'Current Password'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'currentPassword',\n                                className: 'form-control',\n                                type: 'password',\n                                onChange: _this.updateCurrentPassword,\n                                value: _this.state.currentPassword\n                            })\n                        )\n                    ));\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'newPasswordUpdateForm',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.newPassword',\n                                defaultMessage: 'New Password'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'newPassword',\n                                className: 'form-control',\n                                type: 'password',\n                                onChange: _this.updateNewPassword,\n                                value: _this.state.newPassword\n                            })\n                        )\n                    ));\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'retypeNewPasswordUpdateForm',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.retypePassword',\n                                defaultMessage: 'Retype New Password'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'confirmPassword',\n                                className: 'form-control',\n                                type: 'password',\n                                onChange: _this.updateConfirmPassword,\n                                value: _this.state.confirmPassword\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordGitlabCantUpdate',\n                                defaultMessage: 'Login occurs through GitLab. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordLdapCantUpdate',\n                                defaultMessage: 'Login occurs through AD/LDAP. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordSamlCantUpdate',\n                                defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordGoogleCantUpdate',\n                                defaultMessage: 'Login occurs through Google Apps. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordOffice365CantUpdate',\n                                defaultMessage: 'Login occurs through Office 365. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                }\n\n                updateSectionStatus = function resetSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ currentPassword: '', newPassword: '', confirmPassword: '', serverError: null, passwordError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.password',\n                        defaultMessage: 'Password'\n                    }),\n                    inputs: inputs,\n                    submit: submit,\n                    saving: _this.state.savingPassword,\n                    server_error: _this.state.serverError,\n                    client_error: _this.state.passwordError,\n                    updateSection: updateSectionStatus\n                });\n            }\n\n            var describe = void 0;\n\n            if (_this.props.user.auth_service === '') {\n                var d = new Date(_this.props.user.last_password_update);\n                var hours12 = !_preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false);\n\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.lastUpdated',\n                    defaultMessage: 'Last updated {date} at {time}',\n                    values: {\n                        date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                            value: d,\n                            day: '2-digit',\n                            month: 'short',\n                            year: 'numeric'\n                        }),\n                        time: _react2.default.createElement(_reactIntl.FormattedTime, {\n                            value: d,\n                            hour12: hours12,\n                            hour: '2-digit',\n                            minute: '2-digit'\n                        })\n                    }\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginGitlab',\n                    defaultMessage: 'Login done through GitLab'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginLdap',\n                    defaultMessage: 'Login done through AD/LDAP'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginSaml',\n                    defaultMessage: 'Login done through SAML'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginGoogle',\n                    defaultMessage: 'Login done through Google Apps'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginOffice365',\n                    defaultMessage: 'Login done through Office 365'\n                });\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('password');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.password',\n                    defaultMessage: 'Password'\n                }),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.createSignInSection = function () {\n            var updateSectionStatus = void 0;\n            var user = _this.props.user;\n\n            if (_this.props.activeSection === 'signin') {\n                var emailOption = void 0;\n                var gitlabOption = void 0;\n                var googleOption = void 0;\n                var office365Option = void 0;\n                var ldapOption = void 0;\n                var samlOption = void 0;\n\n                if (user.auth_service === '') {\n                    if (global.window.mm_config.EnableSignUpWithGitLab === 'true') {\n                        gitlabOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _reactRouter.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.GITLAB_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchGitlab',\n                                    defaultMessage: 'Switch to using GitLab SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableSignUpWithGoogle === 'true') {\n                        googleOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _reactRouter.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.GOOGLE_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchGoogle',\n                                    defaultMessage: 'Switch to using Google SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableSignUpWithOffice365 === 'true') {\n                        office365Option = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _reactRouter.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.OFFICE365_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchOffice365',\n                                    defaultMessage: 'Switch to using Office 365 SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableLdap === 'true') {\n                        ldapOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _reactRouter.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_ldap?email=' + encodeURIComponent(user.email)\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchLdap',\n                                    defaultMessage: 'Switch to using AD/LDAP'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableSaml === 'true') {\n                        samlOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _reactRouter.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.SAML_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchSaml',\n                                    defaultMessage: 'Switch to using SAML SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n                } else if (global.window.mm_config.EnableSignUpWithEmail === 'true') {\n                    var link = void 0;\n                    if (user.auth_service === _constants2.default.LDAP_SERVICE) {\n                        link = '/claim/ldap_to_email?email=' + encodeURIComponent(user.email);\n                    } else {\n                        link = '/claim/oauth_to_email?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service;\n                    }\n\n                    emailOption = _react2.default.createElement(\n                        'div',\n                        { className: 'padding-bottom x2' },\n                        _react2.default.createElement(\n                            _reactRouter.Link,\n                            {\n                                className: 'btn btn-primary',\n                                to: link\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.switchEmail',\n                                defaultMessage: 'Switch to using email and password'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    );\n                }\n\n                var inputs = [];\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userSignInOption' },\n                    emailOption,\n                    gitlabOption,\n                    googleOption,\n                    office365Option,\n                    ldapOption,\n                    samlOption\n                ));\n\n                updateSectionStatus = function updateSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ serverError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                var extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.oneSignin',\n                        defaultMessage: 'You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.'\n                    })\n                );\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.security.method', 'Sign-in Method'),\n                    extraInfo: extraInfo,\n                    inputs: inputs,\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus\n                });\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('signin');\n            }.bind(_this);\n\n            var describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'user.settings.security.emailPwd',\n                defaultMessage: 'Email and Password'\n            });\n            if (_this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.gitlab',\n                    defaultMessage: 'GitLab'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.google',\n                    defaultMessage: 'Google'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.office365',\n                    defaultMessage: 'Office 365'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.ldap',\n                    defaultMessage: 'AD/LDAP'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.saml',\n                    defaultMessage: 'SAML'\n                });\n            }\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.security.method', 'Sign-in Method'),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.createOAuthAppsSection = function () {\n            var updateSectionStatus = void 0;\n\n            if (_this.props.activeSection === 'apps') {\n                var apps = void 0;\n                if (_this.state.authorizedApps && _this.state.authorizedApps.length > 0) {\n                    apps = _this.state.authorizedApps.map(function (app) {\n                        var homepage = _react2.default.createElement(\n                            'a',\n                            {\n                                href: app.homepage,\n                                target: '_blank',\n                                rel: 'noopener noreferrer'\n                            },\n                            app.homepage\n                        );\n\n                        return _react2.default.createElement(\n                            'div',\n                            {\n                                key: app.id,\n                                className: 'padding-bottom x2 authorized-app'\n                            },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-10' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'authorized-app__name' },\n                                    app.name,\n                                    _react2.default.createElement(\n                                        'span',\n                                        { className: 'authorized-app__url' },\n                                        ' -',\n                                        ' ',\n                                        homepage\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'authorized-app__description' },\n                                    app.description\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'authorized-app__deauthorize' },\n                                    _react2.default.createElement(\n                                        'a',\n                                        {\n                                            href: '#',\n                                            'data-app': app.id,\n                                            onClick: _this.deauthorizeApp\n                                        },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'user.settings.security.deauthorize',\n                                            defaultMessage: 'Deauthorize'\n                                        })\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-2 pull-right' },\n                                _react2.default.createElement('img', {\n                                    alt: app.name,\n                                    src: app.icon_url || _icon50x2.default\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    });\n                } else {\n                    apps = _react2.default.createElement(\n                        'div',\n                        { className: 'padding-bottom x2 authorized-app' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.noApps',\n                                defaultMessage: 'No OAuth 2.0 Applications are authorized.'\n                            })\n                        )\n                    );\n                }\n\n                var inputs = [];\n                var wrapperClass = void 0;\n                var helpText = void 0;\n                if (Array.isArray(apps)) {\n                    wrapperClass = 'authorized-apps__wrapper';\n\n                    helpText = _react2.default.createElement(\n                        'div',\n                        { className: 'authorized-apps__help' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.oauthAppsHelp',\n                            defaultMessage: 'Applications act on your behalf to access your data based on the permissions you grant them.'\n                        })\n                    );\n                }\n\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        className: wrapperClass,\n                        key: 'authorizedApps'\n                    },\n                    apps\n                ));\n\n                updateSectionStatus = function updateSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ serverError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                var title = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.oauthApps',\n                        defaultMessage: 'OAuth 2.0 Applications'\n                    }),\n                    helpText\n                );\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: title,\n                    inputs: inputs,\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus,\n                    width: 'full',\n                    cancelButtonText: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.close',\n                        defaultMessage: 'Close'\n                    })\n                });\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('apps');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.security.oauthApps', 'OAuth 2.0 Applications'),\n                describe: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.oauthAppsDescription',\n                    defaultMessage: 'Click \\'Edit\\' to manage your OAuth 2.0 Applications'\n                }),\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.startCreatingToken = function () {\n            _this.setState({ tokenCreationState: TOKEN_CREATING });\n        };\n\n        _this.stopCreatingToken = function () {\n            _this.setState({ tokenCreationState: TOKEN_NOT_CREATING });\n        };\n\n        _this.handleCreateToken = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n            var description, userId, _ref2, data, error;\n\n            return _regenerator2.default.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _this.handleCancelConfirm();\n\n                            description = _this.refs.newtokendescription ? _this.refs.newtokendescription.value : '';\n\n                            if (!(description === '')) {\n                                _context.next = 5;\n                                break;\n                            }\n\n                            _this.setState({ tokenError: Utils.localizeMessage('user.settings.tokens.nameRequired', 'Please enter a description.') });\n                            return _context.abrupt('return');\n\n                        case 5:\n\n                            _this.setState({ tokenError: '' });\n\n                            userId = _this.props.user ? _this.props.user.id : '';\n                            _context.next = 9;\n                            return _this.props.actions.createUserAccessToken(userId, description);\n\n                        case 9:\n                            _ref2 = _context.sent;\n                            data = _ref2.data;\n                            error = _ref2.error;\n\n\n                            if (data) {\n                                _this.setState({ tokenCreationState: TOKEN_CREATED, newToken: data });\n                            } else if (error) {\n                                _this.setState({ serverError: error.message });\n                            }\n\n                        case 13:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, _this2);\n        }));\n\n        _this.handleCancelConfirm = function () {\n            _this.setState({\n                showConfirmModal: false,\n                confirmTitle: null,\n                confirmMessage: null,\n                confirmButton: null,\n                confirmComplete: null\n            });\n        };\n\n        _this.confirmCreateToken = function () {\n            if (UserUtils.isSystemAdmin(_this.props.user.roles)) {\n                _this.setState({\n                    showConfirmModal: true,\n                    confirmTitle: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.tokens.confirmCreateTitle',\n                        defaultMessage: 'Create System Admin Personal Access Token'\n                    }),\n                    confirmMessage: _react2.default.createElement(\n                        'div',\n                        { className: 'alert alert-danger' },\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'user.settings.tokens.confirmCreateMessage',\n                            defaultMessage: 'You are generating a personal access token with System Admin permissions. Are you sure want to create this token?'\n                        })\n                    ),\n                    confirmButton: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.tokens.confirmCreateButton',\n                        defaultMessage: 'Yes, Create'\n                    }),\n                    confirmComplete: function confirmComplete() {\n                        _this.handleCreateToken();\n                        (0, _diagnostics_actions.trackEvent)('settings', 'system_admin_create_user_access_token');\n                    }\n                });\n\n                return;\n            }\n\n            _this.handleCreateToken();\n        };\n\n        _this.saveTokenKeyPress = function (e) {\n            if (e.which === _constants2.default.KeyCodes.ENTER) {\n                _this.confirmCreateToken();\n            }\n        };\n\n        _this.confirmRevokeToken = function (tokenId) {\n            var token = _this.props.userAccessTokens[tokenId];\n\n            _this.setState({\n                showConfirmModal: true,\n                confirmTitle: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.tokens.confirmDeleteTitle',\n                    defaultMessage: 'Delete Token?'\n                }),\n                confirmMessage: _react2.default.createElement(\n                    'div',\n                    { className: 'alert alert-danger' },\n                    _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                        id: 'user.settings.tokens.confirmDeleteMessage',\n                        defaultMessage: 'Any integrations using this token will no longer be able to access the Mattermost API. You cannot undo this action. <br /><br />Are you sure want to delete the {description} token?',\n                        values: {\n                            description: token.description\n                        }\n                    })\n                ),\n                confirmButton: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.tokens.confirmDeleteButton',\n                    defaultMessage: 'Yes, Delete'\n                }),\n                confirmComplete: function confirmComplete() {\n                    _this.revokeToken(tokenId);\n                    (0, _diagnostics_actions.trackEvent)('settings', 'revoke_user_access_token');\n                }\n            });\n        };\n\n        _this.revokeToken = function () {\n            var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(tokenId) {\n                var _ref4, error;\n\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return _this.props.actions.revokeUserAccessToken(tokenId);\n\n                            case 2:\n                                _ref4 = _context2.sent;\n                                error = _ref4.error;\n\n                                if (error) {\n                                    _this.setState({ serverError: error.message });\n                                }\n                                _this.handleCancelConfirm();\n\n                            case 6:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, _this2);\n            }));\n\n            return function (_x) {\n                return _ref3.apply(this, arguments);\n            };\n        }();\n\n        _this.activateToken = function () {\n            var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(tokenId) {\n                var _ref6, error;\n\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.next = 2;\n                                return _this.props.actions.enableUserAccessToken(tokenId);\n\n                            case 2:\n                                _ref6 = _context3.sent;\n                                error = _ref6.error;\n\n                                if (error) {\n                                    _this.setState({ serverError: error.message });\n                                } else {\n                                    (0, _diagnostics_actions.trackEvent)('settings', 'activate_user_access_token');\n                                }\n\n                            case 5:\n                            case 'end':\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, _this2);\n            }));\n\n            return function (_x2) {\n                return _ref5.apply(this, arguments);\n            };\n        }();\n\n        _this.deactivateToken = function () {\n            var _ref7 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(tokenId) {\n                var _ref8, error;\n\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.next = 2;\n                                return _this.props.actions.disableUserAccessToken(tokenId);\n\n                            case 2:\n                                _ref8 = _context4.sent;\n                                error = _ref8.error;\n\n                                if (error) {\n                                    _this.setState({ serverError: error.message });\n                                } else {\n                                    (0, _diagnostics_actions.trackEvent)('settings', 'deactivate_user_access_token');\n                                }\n\n                            case 5:\n                            case 'end':\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, _this2);\n            }));\n\n            return function (_x3) {\n                return _ref7.apply(this, arguments);\n            };\n        }();\n\n        _this.createTokensSection = function () {\n            var updateSectionStatus = void 0;\n            var tokenListClass = '';\n\n            if (_this.props.activeSection === 'tokens') {\n                var tokenList = [];\n                (0, _values2.default)(_this.props.userAccessTokens).forEach(function (token) {\n                    if (_this.state.newToken && _this.state.newToken.id === token.id) {\n                        return;\n                    }\n\n                    var activeLink = void 0;\n                    var activeStatus = void 0;\n\n                    if (token.is_active) {\n                        activeLink = _react2.default.createElement(\n                            'a',\n                            {\n                                name: token.id + '_deactivate',\n                                href: '#',\n                                onClick: function onClick(e) {\n                                    e.preventDefault();\n                                    _this.deactivateToken(token.id);\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.deactivate',\n                                defaultMessage: 'Deactivate'\n                            })\n                        );\n                    } else {\n                        activeStatus = _react2.default.createElement(\n                            'span',\n                            { className: 'has-error setting-box__inline-error' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.deactivatedWarning',\n                                defaultMessage: '(Inactive)'\n                            })\n                        );\n                        activeLink = _react2.default.createElement(\n                            'a',\n                            {\n                                name: token.id + '_activate',\n                                href: '#',\n                                onClick: function onClick(e) {\n                                    e.preventDefault();\n                                    _this.activateToken(token.id);\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.activate',\n                                defaultMessage: 'Activate'\n                            })\n                        );\n                    }\n\n                    tokenList.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: token.id,\n                            className: 'setting-box__item'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.tokenDesc',\n                                defaultMessage: 'Token Description: '\n                            }),\n                            token.description,\n                            activeStatus\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-box__token-id whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.tokenId',\n                                defaultMessage: 'Token ID: '\n                            }),\n                            token.id\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            activeLink,\n                            ' - ',\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    name: token.id + '_delete',\n                                    href: '#',\n                                    onClick: function onClick(e) {\n                                        e.preventDefault();\n                                        _this.confirmRevokeToken(token.id);\n                                    }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.delete',\n                                    defaultMessage: 'Delete'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('hr', { className: 'margin-bottom margin-top x2' })\n                    ));\n                });\n\n                var noTokenText = void 0;\n                if (tokenList.length === 0) {\n                    noTokenText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        key: 'notokens',\n                        id: 'user.settings.tokens.userAccessTokensNone',\n                        defaultMessage: 'No personal access tokens.'\n                    });\n                }\n\n                var extraInfo = void 0;\n                if ((0, _user_agent.isMobile)()) {\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'user.settings.tokens.description_mobile',\n                            defaultMessage: '<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similarly to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>. Create new tokens on your desktop.'\n                        })\n                    );\n                } else {\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'user.settings.tokens.description',\n                            defaultMessage: '<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similarly to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>.'\n                        })\n                    );\n                }\n\n                var newTokenSection = void 0;\n                if (_this.state.tokenCreationState === TOKEN_CREATING) {\n                    newTokenSection = _react2.default.createElement(\n                        'div',\n                        { className: 'padding-left x2' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'row' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-auto control-label padding-right x2' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.name',\n                                    defaultMessage: 'Token Description: '\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-5' },\n                                _react2.default.createElement('input', {\n                                    ref: 'newtokendescription',\n                                    className: 'form-control',\n                                    type: 'text',\n                                    maxLength: 64,\n                                    onKeyPress: _this.saveTokenKeyPress\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'padding-top x2' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.nameHelp',\n                                    defaultMessage: 'Enter a description for your token to remember what it does.'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                _react2.default.createElement(\n                                    'label',\n                                    {\n                                        id: 'clientError',\n                                        className: 'has-error margin-top margin-bottom'\n                                    },\n                                    _this.state.tokenError\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    className: 'btn btn-primary',\n                                    onClick: _this.confirmCreateToken\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.save',\n                                    defaultMessage: 'Save'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    className: 'btn btn-default',\n                                    onClick: _this.stopCreatingToken\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            )\n                        )\n                    );\n                } else if (_this.state.tokenCreationState === TOKEN_CREATED) {\n                    if (tokenList.length === 0) {\n                        tokenListClass = ' hidden';\n                    }\n\n                    newTokenSection = _react2.default.createElement(\n                        'div',\n                        {\n                            className: 'alert alert-warning'\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-warning margin-right' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.tokens.copy',\n                            defaultMessage: 'Please copy the access token below. You won\\'t be able to see it again!'\n                        }),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.name',\n                                defaultMessage: 'Token Description: '\n                            }),\n                            _this.state.newToken.description\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.id',\n                                defaultMessage: 'Token ID: '\n                            }),\n                            _this.state.newToken.id\n                        ),\n                        _react2.default.createElement(\n                            'strong',\n                            { className: 'word-break--all' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.token',\n                                defaultMessage: 'Access Token: '\n                            }),\n                            _this.state.newToken.token\n                        )\n                    );\n                } else {\n                    newTokenSection = _react2.default.createElement(\n                        'a',\n                        {\n                            className: 'btn btn-primary',\n                            href: '#',\n                            onClick: _this.startCreatingToken\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.tokens.create',\n                            defaultMessage: 'Create New Token'\n                        })\n                    );\n                }\n\n                var inputs = [];\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'tokensSetting',\n                        className: 'padding-top'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { key: 'tokenList' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'alert alert-transparent' + tokenListClass },\n                            tokenList,\n                            noTokenText\n                        ),\n                        newTokenSection\n                    )\n                ));\n\n                updateSectionStatus = function resetSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ newToken: null, tokenCreationState: TOKEN_NOT_CREATING, serverError: null, tokenError: '' });\n                    e.preventDefault();\n                }.bind(_this);\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens'),\n                    inputs: inputs,\n                    extraInfo: extraInfo,\n                    infoPosition: 'top',\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus,\n                    width: 'full',\n                    cancelButtonText: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.close',\n                        defaultMessage: 'Close'\n                    })\n                });\n            }\n\n            var describe = Utils.localizeMessage('user.settings.tokens.clickToEdit', \"Click 'Edit' to manage your personal access tokens\");\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('tokens');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens'),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.state = _this.getDefaultState();\n        return _this;\n    }\n\n    (0, _createClass3.default)(SecurityTab, [{\n        key: 'getDefaultState',\n        value: function getDefaultState() {\n            return {\n                currentPassword: '',\n                newPassword: '',\n                confirmPassword: '',\n                passwordError: '',\n                serverError: '',\n                tokenError: '',\n                showConfirmModal: false,\n                authService: this.props.user.auth_service,\n                savingPassword: false\n            };\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this3 = this;\n\n            if (global.mm_config.EnableOAuthServiceProvider === 'true') {\n                (0, _user_actions.getAuthorizedApps)(function (authorizedApps) {\n                    _this3.setState({ authorizedApps: authorizedApps, serverError: null }); //eslint-disable-line react/no-did-mount-set-state\n                }, function (err) {\n                    _this3.setState({ serverError: err.message }); //eslint-disable-line react/no-did-mount-set-state\n                });\n            }\n\n            if (this.props.canUseAccessTokens) {\n                this.props.actions.clearUserAccessTokens();\n                var userId = this.props.user ? this.props.user.id : '';\n                this.props.actions.getUserAccessTokensForUser(userId, 0, 200);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var user = this.props.user;\n            var config = window.mm_config;\n\n            var passwordSection = this.createPasswordSection();\n\n            var numMethods = 0;\n            numMethods = config.EnableSignUpWithGitLab === 'true' ? numMethods + 1 : numMethods;\n            numMethods = config.EnableSignUpWithGoogle === 'true' ? numMethods + 1 : numMethods;\n            numMethods = config.EnableLdap === 'true' ? numMethods + 1 : numMethods;\n            numMethods = config.EnableSaml === 'true' ? numMethods + 1 : numMethods;\n\n            // If there are other sign-in methods and either email is enabled or the user's account is email, then allow switching\n            var signInSection = void 0;\n            if ((config.EnableSignUpWithEmail === 'true' || user.auth_service === '') && numMethods > 0 && config.ExperimentalEnableAuthenticationTransfer === 'true') {\n                signInSection = this.createSignInSection();\n            }\n\n            var mfaSection = void 0;\n            if (config.EnableMultifactorAuthentication === 'true' && global.window.mm_license.IsLicensed === 'true' && (user.auth_service === '' || user.auth_service === _constants2.default.LDAP_SERVICE)) {\n                mfaSection = this.createMfaSection();\n            }\n\n            var oauthSection = void 0;\n            if (config.EnableOAuthServiceProvider === 'true') {\n                oauthSection = this.createOAuthAppsSection();\n            }\n\n            var tokensSection = void 0;\n            if (this.props.canUseAccessTokens) {\n                tokensSection = this.createTokensSection();\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': Utils.localizeMessage('user.settings.security.close', 'Close'),\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.title',\n                            defaultMessage: 'Security Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.title',\n                            defaultMessage: 'Security Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    passwordSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    mfaSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    oauthSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    tokensSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    signInSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(\n                        _toggle_modal_button2.default,\n                        {\n                            className: 'security-links color--link',\n                            dialogType: _access_history_modal2.default\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-clock-o' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.viewHistory',\n                            defaultMessage: 'View Access History'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        _toggle_modal_button2.default,\n                        {\n                            className: 'security-links color--link margin-top',\n                            dialogType: _activity_log_modal2.default\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-clock-o' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.logoutActiveSessions',\n                            defaultMessage: 'View and Logout of Active Sessions'\n                        })\n                    )\n                ),\n                _react2.default.createElement(_confirm_modal2.default, {\n                    title: this.state.confirmTitle,\n                    message: this.state.confirmMessage,\n                    confirmButtonText: this.state.confirmButton,\n                    show: this.state.showConfirmModal,\n                    onConfirm: this.state.confirmComplete || function () {} //eslint-disable-line no-empty-function\n                    , onCancel: this.handleCancelConfirm\n                })\n            );\n        }\n    }]);\n    return SecurityTab;\n}(_react2.default.Component);\n\nSecurityTab.propTypes = {\n    user: _propTypes2.default.object,\n    activeSection: _propTypes2.default.string,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired,\n\n    /*\n     * The personal access tokens for the user\n     */\n    userAccessTokens: _propTypes2.default.object,\n\n    /*\n     * Set if access tokens are enabled and this user can use them\n     */\n    canUseAccessTokens: _propTypes2.default.bool,\n\n    actions: _propTypes2.default.shape({\n        getMe: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to get personal access tokens for a user\n         */\n        getUserAccessTokensForUser: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to create a personal access token\n         */\n        createUserAccessToken: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to revoke a personal access token\n         */\n        revokeUserAccessToken: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to activate a personal access token\n         */\n        enableUserAccessToken: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to deactivate a personal access token\n         */\n        disableUserAccessToken: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to clear personal access tokens locally\n         */\n        clearUserAccessTokens: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = SecurityTab;\n\n\nSecurityTab.defaultProps = {\n    user: {},\n    activeSection: ''\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2343:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _users = __webpack_require__(61);\n\nvar _access_history_modal = __webpack_require__(2344);\n\nvar _access_history_modal2 = _interopRequireDefault(_access_history_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getUserAudits: _users.getUserAudits\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_access_history_modal2.default);\n\n/***/ }),\n\n/***/ 2344:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _audit_table = __webpack_require__(1967);\n\nvar _audit_table2 = _interopRequireDefault(_audit_table);\n\nvar _loading_screen = __webpack_require__(214);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AccessHistoryModal = function (_React$Component) {\n    (0, _inherits3.default)(AccessHistoryModal, _React$Component);\n\n    function AccessHistoryModal(props) {\n        (0, _classCallCheck3.default)(this, AccessHistoryModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AccessHistoryModal.__proto__ || (0, _getPrototypeOf2.default)(AccessHistoryModal)).call(this, props));\n\n        _this.onAuditChange = _this.onAuditChange.bind(_this);\n        _this.onShow = _this.onShow.bind(_this);\n        _this.onHide = _this.onHide.bind(_this);\n\n        var state = _this.getStateFromStoresForAudits();\n        state.moreInfo = [];\n        state.show = true;\n\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(AccessHistoryModal, [{\n        key: 'getStateFromStoresForAudits',\n        value: function getStateFromStoresForAudits() {\n            return {\n                audits: _user_store2.default.getAudits()\n            };\n        }\n    }, {\n        key: 'onShow',\n        value: function onShow() {\n            this.props.actions.getUserAudits(_user_store2.default.getCurrentId(), 0, 200);\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.modal-body').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addAuditsChangeListener(this.onAuditChange);\n            this.onShow();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeAuditsChangeListener(this.onAuditChange);\n        }\n    }, {\n        key: 'onAuditChange',\n        value: function onAuditChange() {\n            var newState = this.getStateFromStoresForAudits();\n            if (!Utils.areObjectsEqual(newState.audits, this.state.audits)) {\n                this.setState(newState);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = void 0;\n            if (this.state.audits.length === 0) {\n                content = _react2.default.createElement(_loading_screen2.default, null);\n            } else {\n                content = _react2.default.createElement(_audit_table2.default, {\n                    audits: this.state.audits,\n                    showIp: true,\n                    showSession: true\n                });\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'modal--scroll',\n                    show: this.state.show,\n                    onHide: this.onHide,\n                    onExited: this.props.onHide,\n                    bsSize: 'large'\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'access_history.title',\n                            defaultMessage: 'Access History'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    { ref: 'modalBody' },\n                    content\n                )\n            );\n        }\n    }]);\n    return AccessHistoryModal;\n}(_react2.default.Component); // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nAccessHistoryModal.propTypes = {\n    onHide: _propTypes2.default.func.isRequired,\n    actions: _propTypes2.default.shape({\n        getUserAudits: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = AccessHistoryModal;\n\n/***/ }),\n\n/***/ 2345:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _users = __webpack_require__(61);\n\nvar _activity_log_modal = __webpack_require__(2346);\n\nvar _activity_log_modal2 = _interopRequireDefault(_activity_log_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getSessions: _users.getSessions,\n            revokeSession: _users.revokeSession\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_activity_log_modal2.default);\n\n/***/ }),\n\n/***/ 2346:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(25);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _loading_screen = __webpack_require__(214);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActivityLogModal = function (_React$Component) {\n    (0, _inherits3.default)(ActivityLogModal, _React$Component);\n\n    function ActivityLogModal(props) {\n        (0, _classCallCheck3.default)(this, ActivityLogModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ActivityLogModal.__proto__ || (0, _getPrototypeOf2.default)(ActivityLogModal)).call(this, props));\n\n        _this.isMobileSession = function (session) {\n            return session.device_id && (session.device_id.includes('apple') || session.device_id.includes('android'));\n        };\n\n        _this.mobileSessionInfo = function (session) {\n            var deviceTypeId = void 0;\n            var deviceTypeMessage = void 0;\n            var devicePicture = void 0;\n\n            if (session.device_id.includes('apple')) {\n                devicePicture = 'fa fa-apple';\n                deviceTypeId = 'activity_log_modal.iphoneNativeClassicApp';\n                deviceTypeMessage = 'iPhone Native Classic App';\n\n                if (session.device_id.includes(_constants.General.PUSH_NOTIFY_APPLE_REACT_NATIVE)) {\n                    deviceTypeId = 'activity_log_modal.iphoneNativeApp';\n                    deviceTypeMessage = 'iPhone Native App';\n                }\n            } else if (session.device_id.includes('android')) {\n                devicePicture = 'fa fa-android';\n                deviceTypeId = 'activity_log_modal.androidNativeClassicApp';\n                deviceTypeMessage = 'Android Native Classic App';\n\n                if (session.device_id.includes(_constants.General.PUSH_NOTIFY_ANDROID_REACT_NATIVE)) {\n                    deviceTypeId = 'activity_log_modal.androidNativeApp';\n                    deviceTypeMessage = 'Android Native App';\n                }\n            }\n\n            return {\n                devicePicture: devicePicture,\n                devicePlatform: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: deviceTypeId,\n                    defaultMessage: deviceTypeMessage\n                })\n            };\n        };\n\n        _this.submitRevoke = _this.submitRevoke.bind(_this);\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n        _this.handleMoreInfo = _this.handleMoreInfo.bind(_this);\n        _this.onHide = _this.onHide.bind(_this);\n        _this.onShow = _this.onShow.bind(_this);\n\n        var state = _this.getStateFromStores();\n        state.moreInfo = [];\n        state.show = true;\n\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(ActivityLogModal, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            return {\n                sessions: _user_store2.default.getSessions(),\n                clientError: null\n            };\n        }\n    }, {\n        key: 'submitRevoke',\n        value: function submitRevoke(altId, e) {\n            var _this2 = this;\n\n            e.preventDefault();\n            var modalContent = (0, _jquery2.default)(e.target).closest('.modal-content');\n            modalContent.addClass('animation--highlight');\n            setTimeout(function () {\n                modalContent.removeClass('animation--highlight');\n            }, 1500);\n            this.props.actions.revokeSession(_user_store2.default.getCurrentId(), altId).then(function () {\n                _this2.props.actions.getSessions(_user_store2.default.getCurrentId());\n            });\n        }\n    }, {\n        key: 'onShow',\n        value: function onShow() {\n            this.props.actions.getSessions(_user_store2.default.getCurrentId());\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.modal-body').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addSessionsChangeListener(this.onListenerChange);\n            this.onShow();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeSessionsChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            var newState = this.getStateFromStores();\n            if (!Utils.areObjectsEqual(newState.sessions, this.state.sessions)) {\n                this.setState(newState);\n            }\n        }\n    }, {\n        key: 'handleMoreInfo',\n        value: function handleMoreInfo(index) {\n            var newMoreInfo = this.state.moreInfo;\n            newMoreInfo[index] = true;\n            this.setState({ moreInfo: newMoreInfo });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var activityList = [];\n\n            for (var i = 0; i < this.state.sessions.length; i++) {\n                var currentSession = this.state.sessions[i];\n                var lastAccessTime = new Date(currentSession.last_activity_at);\n                var firstAccessTime = new Date(currentSession.create_at);\n                var devicePlatform = currentSession.props.platform;\n                var devicePicture = '';\n\n                if (currentSession.props.type === 'UserAccessToken') {\n                    continue;\n                }\n\n                if (currentSession.props.platform === 'Windows') {\n                    devicePicture = 'fa fa-windows';\n                } else if (this.isMobileSession(currentSession)) {\n                    var sessionInfo = this.mobileSessionInfo(currentSession);\n\n                    devicePicture = sessionInfo.devicePicture;\n                    devicePlatform = sessionInfo.devicePlatform;\n                } else if (currentSession.props.platform === 'Macintosh' || currentSession.props.platform === 'iPhone') {\n                    devicePicture = 'fa fa-apple';\n                } else if (currentSession.props.platform === 'Linux') {\n                    if (currentSession.props.os.indexOf('Android') >= 0) {\n                        devicePlatform = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log_modal.android',\n                            defaultMessage: 'Android'\n                        });\n                        devicePicture = 'fa fa-android';\n                    } else {\n                        devicePicture = 'fa fa-linux';\n                    }\n                } else if (currentSession.props.os.indexOf('Linux') !== -1) {\n                    devicePicture = 'fa fa-linux';\n                }\n\n                if (currentSession.props.browser.indexOf('Desktop App') !== -1) {\n                    devicePlatform = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'activity_log_modal.desktop',\n                        defaultMessage: 'Native Desktop App'\n                    });\n                }\n\n                var moreInfo = void 0;\n                if (this.state.moreInfo[i]) {\n                    moreInfo = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.firstTime',\n                                defaultMessage: 'First time active: {date}, {time}',\n                                values: {\n                                    date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                                        value: firstAccessTime,\n                                        day: '2-digit',\n                                        month: 'long',\n                                        year: 'numeric'\n                                    }),\n                                    time: _react2.default.createElement(_reactIntl.FormattedTime, {\n                                        value: firstAccessTime,\n                                        hour: '2-digit',\n                                        minute: '2-digit'\n                                    })\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.os',\n                                defaultMessage: 'OS: {os}',\n                                values: {\n                                    os: currentSession.props.os\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.browser',\n                                defaultMessage: 'Browser: {browser}',\n                                values: {\n                                    browser: currentSession.props.browser\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.sessionId',\n                                defaultMessage: 'Session ID: {id}',\n                                values: {\n                                    id: currentSession.id\n                                }\n                            })\n                        )\n                    );\n                } else {\n                    moreInfo = _react2.default.createElement(\n                        'a',\n                        {\n                            className: 'theme',\n                            href: '#',\n                            onClick: this.handleMoreInfo.bind(this, i)\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log.moreInfo',\n                            defaultMessage: 'More info'\n                        })\n                    );\n                }\n\n                activityList[i] = _react2.default.createElement(\n                    'div',\n                    {\n                        key: 'activityLogEntryKey' + i,\n                        className: 'activity-log__table'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'activity-log__report' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'report__platform' },\n                            _react2.default.createElement('i', { className: devicePicture }),\n                            devicePlatform\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'report__info' },\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'activity_log.lastActivity',\n                                    defaultMessage: 'Last activity: {date}, {time}',\n                                    values: {\n                                        date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                                            value: lastAccessTime,\n                                            day: '2-digit',\n                                            month: 'long',\n                                            year: 'numeric'\n                                        }),\n                                        time: _react2.default.createElement(_reactIntl.FormattedTime, {\n                                            value: lastAccessTime,\n                                            hour: '2-digit',\n                                            minute: '2-digit'\n                                        })\n                                    }\n                                })\n                            ),\n                            moreInfo\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'activity-log__action' },\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                onClick: this.submitRevoke.bind(this, currentSession.id),\n                                className: 'btn btn-primary'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.logout',\n                                defaultMessage: 'Logout'\n                            })\n                        )\n                    )\n                );\n            }\n\n            var content = void 0;\n            if (this.state.sessions.loading) {\n                content = _react2.default.createElement(_loading_screen2.default, null);\n            } else {\n                content = _react2.default.createElement(\n                    'form',\n                    { role: 'form' },\n                    activityList\n                );\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'modal--scroll',\n                    show: this.state.show,\n                    onHide: this.onHide,\n                    onExited: this.props.onHide,\n                    bsSize: 'large'\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log.activeSessions',\n                            defaultMessage: 'Active Sessions'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    { ref: 'modalBody' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'session-help-text' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log.sessionsDescription',\n                            defaultMessage: 'Sessions are created when you log in to a new browser on a device. Sessions let you use Mattermost without having to log in again for a time period specified by the System Admin. If you want to log out sooner, use the \\'Logout\\' button below to end a session.'\n                        })\n                    ),\n                    content\n                )\n            );\n        }\n    }]);\n    return ActivityLogModal;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nActivityLogModal.propTypes = {\n    onHide: _propTypes2.default.func.isRequired,\n    actions: _propTypes2.default.shape({\n        getSessions: _propTypes2.default.func.isRequired,\n        revokeSession: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = ActivityLogModal;\n\n/***/ }),\n\n/***/ 2347:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _setting_item_max = __webpack_require__(653);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(654);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarSettingsDisplay = function (_React$Component) {\n    (0, _inherits3.default)(SidebarSettingsDisplay, _React$Component);\n\n    function SidebarSettingsDisplay(props) {\n        (0, _classCallCheck3.default)(this, SidebarSettingsDisplay);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarSettingsDisplay.__proto__ || (0, _getPrototypeOf2.default)(SidebarSettingsDisplay)).call(this, props));\n\n        _this.getStateFromStores = _this.getStateFromStores.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.updateSetting = _this.updateSetting.bind(_this);\n\n        _this.renderAutoCloseDMSection = _this.renderAutoCloseDMSection.bind(_this);\n\n        _this.state = _this.getStateFromStores();\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarSettingsDisplay, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var settings = {\n                close_unused_direct_messages: _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_SIDEBAR_SETTINGS, 'close_unused_direct_messages', 'after_seven_days')\n            };\n\n            return {\n                settings: settings,\n                isSaving: false\n            };\n        }\n    }, {\n        key: 'updateSetting',\n        value: function updateSetting(setting, value) {\n            var settings = this.state.settings;\n            settings[setting] = value;\n            this.setState(settings);\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(setting) {\n            var _this2 = this;\n\n            var preferences = [];\n            var userId = _user_store2.default.getCurrentId();\n\n            preferences.push({\n                user_id: userId,\n                category: _constants2.default.Preferences.CATEGORY_SIDEBAR_SETTINGS,\n                name: setting,\n                value: this.state.settings[setting]\n            });\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.savePreferences)(preferences, function () {\n                _this2.updateSection('');\n            });\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if (!section) {\n                this.setState(this.getStateFromStores());\n            }\n            this.setState({ isSaving: false });\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'renderAutoCloseDMLabel',\n        value: function renderAutoCloseDMLabel(value) {\n            if (value === 'after_seven_days') {\n                return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.sidebar.after_seven_days',\n                    defaultMessage: 'After 7 days with no new messages'\n                });\n            }\n\n            return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'user.settings.sidebar.never',\n                defaultMessage: 'Never'\n            });\n        }\n    }, {\n        key: 'renderAutoCloseDMSection',\n        value: function renderAutoCloseDMSection() {\n            var _this3 = this;\n\n            if (this.props.activeSection === 'autoCloseDM') {\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.sidebar.autoCloseDMTitle',\n                        defaultMessage: 'Automatically Close Direct Messages'\n                    }),\n                    inputs: [_react2.default.createElement(\n                        'div',\n                        { key: 'autoCloseDMSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'autoCloseDMAfterSevenDays',\n                                    type: 'radio',\n                                    name: 'autoCloseDM',\n                                    checked: this.state.settings.close_unused_direct_messages === 'after_seven_days',\n                                    onChange: this.updateSetting.bind(this, 'close_unused_direct_messages', 'after_seven_days')\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.sidebar.after_seven_days',\n                                    defaultMessage: 'After 7 days with no new messages'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'autoCloseDMNever',\n                                    type: 'radio',\n                                    name: 'autoCloseDM',\n                                    checked: this.state.settings.close_unused_direct_messages === 'never',\n                                    onChange: this.updateSetting.bind(this, 'close_unused_direct_messages', 'never')\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.sidebar.never',\n                                    defaultMessage: 'Never'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement('br', null),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.sidebar.autoCloseDMDesc',\n                                defaultMessage: 'Direct Message conversations can be reopened with the \\u201C+\\u201D button in the sidebar or using the Channel Switcher (CTRL+K).'\n                            })\n                        )\n                    )],\n                    submit: function submit() {\n                        return _this3.handleSubmit('close_unused_direct_messages');\n                    },\n                    saving: this.state.isSaving,\n                    server_error: this.state.serverError,\n                    updateSection: function updateSection(e) {\n                        _this3.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            }\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.sidebar.autoCloseDMTitle',\n                    defaultMessage: 'Automatically Close Direct Messages'\n                }),\n                describe: this.renderAutoCloseDMLabel(this.state.settings.close_unused_direct_messages),\n                updateSection: function updateSection() {\n                    return _this3.props.updateSection('autoCloseDM');\n                }\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var autoCloseDMSection = this.renderAutoCloseDMSection();\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close',\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.sidebar.title',\n                            defaultMessage: 'Sidebar Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.sidebar.title',\n                            defaultMessage: 'Sidebar Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    autoCloseDMSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return SidebarSettingsDisplay;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = SidebarSettingsDisplay;\n\n\nSidebarSettingsDisplay.propTypes = {\n    user: _propTypes2.default.object,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    activeSection: _propTypes2.default.string,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2348:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _webrtc_actions = __webpack_require__(285);\n\nvar WebrtcActions = _interopRequireWildcard(_webrtc_actions);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _web_websocket_client = __webpack_require__(392);\n\nvar _web_websocket_client2 = _interopRequireDefault(_web_websocket_client);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _ring = __webpack_require__(2067);\n\nvar _ring2 = _interopRequireDefault(_ring);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PreReleaseFeatures = _constants.Constants.PRE_RELEASE_FEATURES; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar WebrtcNotification = function (_React$Component) {\n    (0, _inherits3.default)(WebrtcNotification, _React$Component);\n\n    function WebrtcNotification() {\n        (0, _classCallCheck3.default)(this, WebrtcNotification);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (WebrtcNotification.__proto__ || (0, _getPrototypeOf2.default)(WebrtcNotification)).call(this));\n\n        _this.mounted = false;\n\n        _this.closeNotification = _this.closeNotification.bind(_this);\n        _this.onIncomingCall = _this.onIncomingCall.bind(_this);\n        _this.onCancelCall = _this.onCancelCall.bind(_this);\n        _this.onRhs = _this.onRhs.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.handleAnswer = _this.handleAnswer.bind(_this);\n        _this.handleTimeout = _this.handleTimeout.bind(_this);\n        _this.stopRinging = _this.stopRinging.bind(_this);\n        _this.closeRightHandSide = _this.closeRightHandSide.bind(_this);\n\n        _this.state = {\n            userCalling: null,\n            rhsOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(WebrtcNotification, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _webrtc_store2.default.addNotifyListener(this.onIncomingCall);\n            _webrtc_store2.default.addChangedListener(this.onCancelCall);\n            _webrtc_store2.default.addRhsChangedListener(this.onRhs);\n            this.mounted = true;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _webrtc_store2.default.removeNotifyListener(this.onIncomingCall);\n            _webrtc_store2.default.removeChangedListener(this.onCancelCall);\n            _webrtc_store2.default.removeRhsChangedListener(this.onRhs);\n            if (this.refs.ring) {\n                this.refs.ring.removeListener('ended', this.handleTimeout);\n            }\n            this.mounted = false;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.state.userCalling) {\n                this.refs.ring.addEventListener('ended', this.handleTimeout);\n            }\n        }\n    }, {\n        key: 'closeNotification',\n        value: function closeNotification() {\n            this.setState({\n                userCalling: null\n            });\n        }\n    }, {\n        key: 'stopRinging',\n        value: function stopRinging() {\n            if (this.refs.ring) {\n                this.refs.ring.pause();\n                this.refs.ring.currentTime = 0;\n            }\n            this.setState({ userCalling: null });\n        }\n    }, {\n        key: 'closeRightHandSide',\n        value: function closeRightHandSide(e) {\n            e.preventDefault();\n            GlobalActions.emitCloseRightHandSide();\n            setTimeout(function () {\n                (0, _jquery2.default)('.app__body .inner-wrap').addClass('move--left');\n            }, 0);\n        }\n    }, {\n        key: 'onIncomingCall',\n        value: function onIncomingCall(incoming) {\n            if (this.mounted) {\n                var userId = incoming.from_user_id;\n                var userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n                var featureEnabled = Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n\n                if (featureEnabled) {\n                    if (_webrtc_store2.default.isBusy()) {\n                        _web_websocket_client2.default.sendMessage('webrtc', {\n                            action: _constants.WebrtcActionTypes.BUSY,\n                            from_user_id: _user_store2.default.getCurrentId(),\n                            to_user_id: userId\n                        });\n                        this.stopRinging();\n                    } else if (userMedia) {\n                        _webrtc_store2.default.setVideoCallWith(userId);\n                        this.setState({\n                            userCalling: _user_store2.default.getProfile(userId)\n                        });\n                    } else {\n                        _web_websocket_client2.default.sendMessage('webrtc', {\n                            action: _constants.WebrtcActionTypes.UNSUPPORTED,\n                            from_user_id: _user_store2.default.getCurrentId(),\n                            to_user_id: userId\n                        });\n                        this.stopRinging();\n                    }\n                } else {\n                    _web_websocket_client2.default.sendMessage('webrtc', {\n                        action: _constants.WebrtcActionTypes.DISABLED,\n                        from_user_id: _user_store2.default.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                }\n            }\n        }\n    }, {\n        key: 'onCancelCall',\n        value: function onCancelCall(message) {\n            if (message) {\n                if (message.action !== _constants.WebrtcActionTypes.CANCEL) {\n                    return;\n                }\n                if (this.state.userCalling) {\n                    if (message.from_user_uid === _user_store2.default.getCurrentId() && message.calling_user_id === this.state.userCalling.id) {\n                        // Allow cancel message from ourselves when the calling user_id matches our current state.\n                    } else if (message.from_user_id !== this.state.userCalling.id) {\n                        // Ignore cancel messages from user_ids which are not in our current state.\n                        return;\n                    }\n                }\n            }\n\n            _webrtc_store2.default.setVideoCallWith(null);\n            this.closeNotification();\n        }\n    }, {\n        key: 'onRhs',\n        value: function onRhs(rhsOpened) {\n            this.setState({ rhsOpened: rhsOpened });\n        }\n    }, {\n        key: 'handleTimeout',\n        value: function handleTimeout() {\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.NO_ANSWER,\n                from_user_id: _user_store2.default.getCurrentId(),\n                to_user_id: this.state.userCalling.id\n            });\n\n            this.onCancelCall();\n        }\n    }, {\n        key: 'handleAnswer',\n        value: function handleAnswer(e) {\n            if (e) {\n                e.preventDefault();\n            }\n\n            var caller = this.state.userCalling;\n            if (caller) {\n                var callerId = caller.id;\n                var currentUserId = _user_store2.default.getCurrentId();\n                var message = {\n                    action: _constants.WebrtcActionTypes.ANSWER,\n                    from_user_id: currentUserId,\n                    to_user_id: callerId\n                };\n\n                GlobalActions.emitCloseRightHandSide();\n                WebrtcActions.initWebrtc(callerId, false);\n                _web_websocket_client2.default.sendMessage('webrtc', message);\n\n                // delay till next tick (this will give time to listen for events\n                setTimeout(function () {\n                    //we switch from and to user to handle the event locally\n                    message.from_user_id = callerId;\n                    message.to_user_id = currentUserId;\n                    WebrtcActions.handle(message);\n\n                    // Notify current users sessions.\n                    _web_websocket_client2.default.sendMessage('webrtc', {\n                        action: _constants.WebrtcActionTypes.CANCEL,\n                        from_user_id: currentUserId,\n                        to_user_id: currentUserId,\n                        calling_user_id: callerId\n                    });\n                }, 0);\n\n                this.closeNotification();\n            }\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose(e) {\n            if (e) {\n                e.preventDefault();\n            }\n            if (this.state.userCalling) {\n                // Notify current users sessions.\n                _web_websocket_client2.default.sendMessage('webrtc', {\n                    action: _constants.WebrtcActionTypes.CANCEL,\n                    from_user_id: _user_store2.default.getCurrentId(),\n                    to_user_id: _user_store2.default.getCurrentId(),\n                    calling_user_id: this.state.userCalling.id\n                });\n\n                _web_websocket_client2.default.sendMessage('webrtc', {\n                    action: _constants.WebrtcActionTypes.DECLINE,\n                    from_user_id: _user_store2.default.getCurrentId(),\n                    to_user_id: this.state.userCalling.id\n                });\n            }\n\n            this.onCancelCall();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var user = this.state.userCalling;\n            if (user) {\n                var username = Utils.displayUsername(user.id);\n                var profileImgSrc = Utils.imageURLForUser(user);\n                var profileImg = _react2.default.createElement('img', {\n                    className: 'user-popover__image',\n                    src: profileImgSrc,\n                    height: '128',\n                    width: '128',\n                    key: 'user-popover-image'\n                });\n                var answerBtn = _react2.default.createElement(\n                    'svg',\n                    {\n                        className: 'webrtc-icons__pickup',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: this.handleAnswer\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.notification.answer',\n                                defaultMessage: 'Answer'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'translate(-10,-10)',\n                        fill: '#fff',\n                        d: 'M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    })\n                );\n\n                var rejectBtn = _react2.default.createElement(\n                    'svg',\n                    {\n                        className: 'webrtc-icons__cancel',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: this.handleClose\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.notification.decline',\n                                defaultMessage: 'Decline'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'scale(0.7), translate(11,10)',\n                        d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                        fill: 'white'\n                    })\n                );\n\n                var msg = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.notification.incoming_call',\n                        defaultMessage: '{username} is calling you.',\n                        values: {\n                            username: username\n                        }\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            className: 'webrtc-buttons webrtc-icons active',\n                            style: { marginTop: '5px' }\n                        },\n                        answerBtn,\n                        rejectBtn\n                    )\n                );\n\n                return _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc-notification' },\n                    _react2.default.createElement('audio', {\n                        ref: 'ring',\n                        src: _ring2.default,\n                        autoPlay: true\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        profileImg\n                    ),\n                    msg\n                );\n            } else if (this.state.rhsOpened && _webrtc_store2.default.isBusy()) {\n                return _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'webrtc__notification--rhs',\n                        onClick: this.closeRightHandSide\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-phone' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.notification.returnToCall',\n                        defaultMessage: 'Return to ongoing call with {username}',\n                        values: {\n                            username: Utils.displayUsername(_webrtc_store2.default.getVideoCallWith())\n                        }\n                    })\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return WebrtcNotification;\n}(_react2.default.Component);\n\nexports.default = WebrtcNotification;\n\n/***/ }),\n\n/***/ 2349:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _webrtc_controller = __webpack_require__(2350);\n\nvar _webrtc_controller2 = _interopRequireDefault(_webrtc_controller);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SidebarRight = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRight, _React$Component);\n\n    function SidebarRight(props) {\n        (0, _classCallCheck3.default)(this, SidebarRight);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRight.__proto__ || (0, _getPrototypeOf2.default)(SidebarRight)).call(this, props));\n\n        _this.plScrolledToBottom = true;\n\n        _this.onShrink = _this.onShrink.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n        _this.onInitializeVideoCall = _this.onInitializeVideoCall.bind(_this);\n\n        _this.doStrangeThings = _this.doStrangeThings.bind(_this);\n\n        _this.state = {\n            expanded: false,\n            currentUser: _user_store2.default.getCurrentUser(),\n            videoCallVisible: false,\n            isCaller: false,\n            videoCallWithUserId: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRight, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _webrtc_store2.default.addInitListener(this.onInitializeVideoCall);\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _webrtc_store2.default.removeInitListener(this.onInitializeVideoCall);\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !Utils.areObjectsEqual(nextState, this.state);\n        }\n    }, {\n        key: 'doStrangeThings',\n        value: function doStrangeThings() {\n            // We should have a better way to do this stuff\n            // Hence the function name.\n            (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .inner-wrap').addClass('webrtc--show move--left');\n            (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .webrtc').addClass('webrtc--show');\n\n            //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n            if (!this.state.videoCallVisible) {\n                (0, _jquery2.default)('.app__body .inner-wrap').removeClass('webrtc--show move--left move--right');\n                (0, _jquery2.default)('.app__body .webrtc').removeClass('webrtc--show');\n                return _react2.default.createElement('div', null);\n            }\n            return null;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'onShrink',\n        value: function onShrink() {\n            this.setState({ expanded: false });\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize(e) {\n            if (e) {\n                e.preventDefault();\n            }\n            this.setState(function (prevState) {\n                return { expanded: !prevState.expanded };\n            });\n        }\n    }, {\n        key: 'onInitializeVideoCall',\n        value: function onInitializeVideoCall(userId, isCaller) {\n            var expanded = this.state.expanded;\n            if (userId === null) {\n                expanded = false;\n            }\n            this.setState({\n                videoCallVisible: userId !== null,\n                isCaller: isCaller,\n                videoCallWithUserId: userId,\n                expanded: expanded\n            });\n\n            if (userId !== null) {\n                this.forceUpdate();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = null;\n            var expandedClass = '';\n\n            if (this.state.expanded) {\n                expandedClass = 'sidebar--right--expanded';\n            }\n\n            if (this.state.videoCallVisible) {\n                content = _react2.default.createElement(_webrtc_controller2.default, {\n                    currentUser: this.state.currentUser,\n                    userId: this.state.videoCallWithUserId,\n                    isCaller: this.state.isCaller,\n                    expanded: this.state.expanded,\n                    toggleSize: this.toggleSize\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--right webrtc ' + expandedClass,\n                    id: 'sidebar-webrtc'\n                },\n                _react2.default.createElement('div', {\n                    onClick: this.onShrink,\n                    className: 'sidebar--right__bg'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right-container' },\n                    content\n                )\n            );\n        }\n    }]);\n    return SidebarRight;\n}(_react2.default.Component);\n\nexports.default = SidebarRight;\n\n/***/ }),\n\n/***/ 2350:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _janus = __webpack_require__(2351);\n\nvar _janus2 = _interopRequireDefault(_janus);\n\nvar _diagnostics_actions = __webpack_require__(215);\n\nvar _webrtc_actions = __webpack_require__(285);\n\nvar WebrtcActions = _interopRequireWildcard(_webrtc_actions);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _web_websocket_client = __webpack_require__(392);\n\nvar _web_websocket_client2 = _interopRequireDefault(_web_websocket_client);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _ring = __webpack_require__(2067);\n\nvar _ring2 = _interopRequireDefault(_ring);\n\nvar _loading_screen = __webpack_require__(214);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _search_bar = __webpack_require__(669);\n\nvar _search_bar2 = _interopRequireDefault(_search_bar);\n\nvar _webrtc_header = __webpack_require__(2363);\n\nvar _webrtc_header2 = _interopRequireDefault(_webrtc_header);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar VIDEO_WIDTH = 640;\nvar VIDEO_HEIGHT = 360;\nvar MIN_ASPECT = 1.777;\nvar MAX_ASPECT = 1.778;\nvar ALREADY_REGISTERED_ERROR = 477;\nvar USERNAME_TAKEN = 476;\n\nvar WebrtcController = function (_React$Component) {\n    (0, _inherits3.default)(WebrtcController, _React$Component);\n\n    function WebrtcController(props) {\n        (0, _classCallCheck3.default)(this, WebrtcController);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (WebrtcController.__proto__ || (0, _getPrototypeOf2.default)(WebrtcController)).call(this, props));\n\n        _this.mounted = false;\n        _this.localMedia = null;\n        _this.session = null;\n        _this.videocall = null;\n\n        _this.handleResize = _this.handleResize.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.close = _this.close.bind(_this);\n        _this.clearError = _this.clearError.bind(_this);\n\n        _this.getLocalMedia = _this.getLocalMedia.bind(_this);\n        _this.stopMediaStream = _this.stopMediaStream.bind(_this);\n        _this.previewVideo = _this.previewVideo.bind(_this);\n        _this.stopRinging = _this.stopRinging.bind(_this);\n\n        _this.handleMakeOffer = _this.handleMakeOffer.bind(_this);\n        _this.handleCancelOffer = _this.handleCancelOffer.bind(_this);\n        _this.handleWebrtcEvent = _this.handleWebrtcEvent.bind(_this);\n        _this.handleVideoCallEvent = _this.handleVideoCallEvent.bind(_this);\n        _this.handleRemoteStream = _this.handleRemoteStream.bind(_this);\n\n        _this.onStatusChange = _this.onStatusChange.bind(_this);\n        _this.onCallDeclined = _this.onCallDeclined.bind(_this);\n        _this.onUnsupported = _this.onUnsupported.bind(_this);\n        _this.onNoAnswer = _this.onNoAnswer.bind(_this);\n        _this.onBusy = _this.onBusy.bind(_this);\n        _this.onDisabled = _this.onDisabled.bind(_this);\n        _this.onFailed = _this.onFailed.bind(_this);\n        _this.onCancelled = _this.onCancelled.bind(_this);\n        _this.onConnectCall = _this.onConnectCall.bind(_this);\n\n        _this.onSessionCreated = _this.onSessionCreated.bind(_this);\n        _this.onSessionError = _this.onSessionError.bind(_this);\n\n        _this.doCall = _this.doCall.bind(_this);\n        _this.doAnswer = _this.doAnswer.bind(_this);\n        _this.doHangup = _this.doHangup.bind(_this);\n        _this.doCleanup = _this.doCleanup.bind(_this);\n\n        _this.renderButtons = _this.renderButtons.bind(_this);\n        _this.onToggleVideo = _this.onToggleVideo.bind(_this);\n        _this.onToggleAudio = _this.onToggleAudio.bind(_this);\n        _this.onToggleRemoteMute = _this.onToggleRemoteMute.bind(_this);\n        _this.toggleIcons = _this.toggleIcons.bind(_this);\n\n        var currentUser = _user_store2.default.getCurrentUser();\n        var remoteUser = _user_store2.default.getProfile(props.userId);\n        var remoteUserImage = Utils.imageURLForUser(remoteUser);\n\n        _this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            channelId: _channel_store2.default.getCurrentId(),\n            currentUser: currentUser,\n            currentUserImage: Utils.imageURLForUser(currentUser),\n            remoteUserImage: remoteUserImage,\n            localMediaLoaded: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            errorType: '',\n            ended: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(WebrtcController, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            window.addEventListener('resize', this.handleResize);\n            _webrtc_store2.default.addChangedListener(this.handleWebrtcEvent);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n\n            this.mounted = true;\n            this.previewVideo();\n\n            if (this.props.isCaller) {\n                this.handleMakeOffer();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            window.removeEventListener('resize', this.handleResize);\n            _webrtc_store2.default.removeChangedListener(this.handleWebrtcEvent);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            this.mounted = false;\n            this.close();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.currentUser !== this.props.currentUser || nextProps.userId !== this.props.userId || nextProps.isCaller !== this.props.isCaller) {\n                var remoteUser = _user_store2.default.getProfile(nextProps.userId);\n                var remoteUserImage = Utils.imageURLForUser(remoteUser);\n                this.setState({\n                    error: null,\n                    remoteUserImage: remoteUserImage\n                });\n            }\n\n            if (nextProps.isCaller && nextProps.expanded === this.props.expanded) {\n                this.startCall = true;\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.isCaller && this.startCall) {\n                this.startCall = false;\n                this.handleMakeOffer();\n            }\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize() {\n            this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        }\n    }, {\n        key: 'clearError',\n        value: function clearError() {\n            var _this2 = this;\n\n            setTimeout(function () {\n                _this2.setState({ error: null, ended: null, errorType: '' });\n            }, _constants.Constants.WEBRTC_CLEAR_ERROR_DELAY);\n        }\n    }, {\n        key: 'getLocalMedia',\n        value: function getLocalMedia(constraints, element, callback) {\n            var media = constraints || { audio: true, video: true };\n            navigator.mediaDevices.getUserMedia(media).then(function (stream) {\n                if (element) {\n                    element.srcObject = stream;\n                }\n\n                if (callback && typeof callback === 'function') {\n                    callback(null, stream);\n                }\n            }).catch(function (error) {\n                callback(error);\n            });\n        }\n    }, {\n        key: 'stopMediaStream',\n        value: function stopMediaStream(stream) {\n            var tracks = stream.getTracks();\n            tracks.forEach(function (track) {\n                track.stop();\n            });\n        }\n    }, {\n        key: 'previewVideo',\n        value: function previewVideo() {\n            var _this3 = this;\n\n            if (this.mounted) {\n                if (this.localMedia) {\n                    this.setState({\n                        localMediaLoaded: true,\n                        error: null\n                    });\n                    this.localMedia.enabled = true;\n                } else {\n                    this.getLocalMedia({\n                        audio: true,\n                        video: {\n                            minAspectRatio: MIN_ASPECT,\n                            maxAspectRatio: MAX_ASPECT,\n                            width: VIDEO_WIDTH,\n                            height: VIDEO_HEIGHT\n                        }\n                    }, this.refs['local-video'], function (error, stream) {\n                        if (error) {\n                            _this3.setState({\n                                error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'webrtc.mediaError',\n                                    defaultMessage: 'Unable to access Camera and Microphone'\n                                })\n                            });\n                            return;\n                        }\n                        _this3.localMedia = stream;\n                        _this3.setState({\n                            localMediaLoaded: true\n                        });\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'stopRinging',\n        value: function stopRinging() {\n            if (this.refs.ring) {\n                this.refs.ring.pause();\n                this.refs.ring.currentTime = 0;\n            }\n        }\n    }, {\n        key: 'handleMakeOffer',\n        value: function handleMakeOffer() {\n            if (_user_store2.default.getStatus(this.props.userId) === _constants.UserStatuses.OFFLINE) {\n                this.onStatusChange();\n            } else {\n                var connectingMsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'calling_screen',\n                    defaultMessage: 'Calling'\n                });\n\n                this.setState({\n                    isCalling: true,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error: null,\n                    ended: null,\n                    connectingMsg: connectingMsg\n                });\n\n                _webrtc_store2.default.setVideoCallWith(this.props.userId);\n\n                var user = this.state.currentUser;\n                _web_websocket_client2.default.sendMessage('webrtc', {\n                    action: _constants.WebrtcActionTypes.NOTIFY,\n                    from_user_id: user.id,\n                    to_user_id: this.props.userId\n                });\n            }\n        }\n    }, {\n        key: 'handleCancelOffer',\n        value: function handleCancelOffer() {\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: null,\n                ended: null\n            });\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.CANCEL,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'handleWebrtcEvent',\n        value: function handleWebrtcEvent(message) {\n            switch (message.action) {\n                case _constants.WebrtcActionTypes.DECLINE:\n                    this.onCallDeclined();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.UNSUPPORTED:\n                    this.onUnsupported();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.BUSY:\n                    this.onBusy();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.NO_ANSWER:\n                    this.onNoAnswer();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.FAILED:\n                    this.onFailed();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.ANSWER:\n                    this.onConnectCall();\n                    break;\n                case _constants.WebrtcActionTypes.CANCEL:\n                    this.onCancelled();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.MUTED:\n                    this.onToggleRemoteMute(message);\n                    break;\n                case _constants.WebrtcActionTypes.IN_PROGRESS:\n                    this.setState({\n                        error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'webrtc.inProgress',\n                            defaultMessage: 'You have a call in progress. Please hang up first.'\n                        }),\n                        errorType: ' warning'\n                    });\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.DISABLED:\n                    this.onDisabled();\n                    this.clearError();\n                    break;\n            }\n        }\n    }, {\n        key: 'handleVideoCallEvent',\n        value: function handleVideoCallEvent(msg, jsep) {\n            var result = msg.result;\n\n            if (result) {\n                var event = result.event;\n                switch (event) {\n                    case 'registered':\n                        if (this.state.isCalling) {\n                            this.doCall();\n                        }\n                        break;\n                    case 'incomingcall':\n                        this.doAnswer(jsep);\n                        break;\n                    case 'accepted':\n                        this.stopRinging();\n\n                        if (jsep) {\n                            this.videocall.handleRemoteJsep({ jsep: jsep });\n                        }\n                        break;\n                    case 'hangup':\n                        this.doHangup(false);\n                        break;\n                }\n            } else {\n                var errorCode = msg.error_code;\n                if (errorCode !== ALREADY_REGISTERED_ERROR && errorCode !== USERNAME_TAKEN) {\n                    this.doHangup(true);\n                } else if (this.state.isCalling) {\n                    this.doCall();\n                }\n            }\n        }\n    }, {\n        key: 'handleRemoteStream',\n        value: function handleRemoteStream(stream) {\n            // attaching stream to where they belong\n            this.refs['main-video'].srcObject = stream;\n\n            var isRemotePaused = false;\n            var isRemoteMuted = false;\n            var videoTracks = stream.getVideoTracks();\n            var audioTracks = stream.getAudioTracks();\n            if (!videoTracks || videoTracks.length === 0 || videoTracks[0].muted || !videoTracks[0].enabled) {\n                isRemotePaused = true;\n            }\n\n            if (!audioTracks || audioTracks.length === 0 || audioTracks[0].muted || !audioTracks[0].enabled) {\n                isRemoteMuted = true;\n            }\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: true,\n                isMuted: false,\n                isPaused: false,\n                error: null,\n                ended: null,\n                isRemotePaused: isRemotePaused,\n                isRemoteMuted: isRemoteMuted\n            });\n\n            var icons = this.refs.icons;\n            if (icons) {\n                icons.classList.remove('hidden');\n                icons.classList.add('active');\n            }\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose(e) {\n            e.preventDefault();\n            if (this.state.callInProgress) {\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.inProgress',\n                        defaultMessage: 'You have a call in progress. Please hang up first.'\n                    }),\n                    errorType: ' warning'\n                });\n            } else if (this.state.isCalling) {\n                this.handleCancelOffer();\n                this.close();\n            } else {\n                this.close();\n            }\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            this.doCleanup();\n\n            if (this.session) {\n                this.session.destroy();\n                this.session = null;\n            }\n\n            if (this.localMedia) {\n                this.stopMediaStream(this.localMedia);\n                this.localMedia = null;\n            }\n\n            WebrtcActions.initWebrtc(null, false);\n        }\n    }, {\n        key: 'onStatusChange',\n        value: function onStatusChange() {\n            var status = _user_store2.default.getStatus(this.props.userId);\n\n            if (status === _constants.UserStatuses.OFFLINE) {\n                var error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.offline',\n                    defaultMessage: '{username} is offline',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n\n                if (this.state.isCalling || this.state.isAnswering) {\n                    this.setState({\n                        isCalling: false,\n                        isAnswering: false,\n                        callInProgress: false,\n                        error: error\n                    });\n                } else {\n                    this.setState({\n                        error: error\n                    });\n                }\n            } else if (status !== _constants.UserStatuses.OFFLINE && this.state.error) {\n                this.setState({\n                    error: null,\n                    ended: null\n                });\n            }\n        }\n    }, {\n        key: 'onCallDeclined',\n        value: function onCallDeclined() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.declined',\n                    defaultMessage: 'Your call has been declined by {username}',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onUnsupported',\n        value: function onUnsupported() {\n            if (this.mounted) {\n                this.stopRinging();\n\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unsupported',\n                        defaultMessage: 'Call to {username} not successful. Their client does not support video calls.',\n                        values: {\n                            username: Utils.displayUsername(this.props.userId)\n                        }\n                    }),\n                    callInProgress: false,\n                    isCalling: false,\n                    isAnswering: false\n                });\n            }\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onNoAnswer',\n        value: function onNoAnswer() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.noAnswer',\n                    defaultMessage: '{username} is not answering the call',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onBusy',\n        value: function onBusy() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.busy',\n                    defaultMessage: '{username} is busy',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onDisabled',\n        value: function onDisabled() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.disabled',\n                    defaultMessage: '{username} has WebRTC disabled, and cannot receive calls. To enable the feature, they must go to Account Settings > Advanced > Preview pre-release features and turn on WebRTC.',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onFailed',\n        value: function onFailed() {\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_failed');\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                isPaused: false,\n                isMuted: false,\n                isRemotePaused: false,\n                isRemoteMuted: false,\n                error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.failed',\n                    defaultMessage: 'There was a problem connecting the video call'\n                })\n            });\n\n            this.stopRinging();\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onCancelled',\n        value: function onCancelled() {\n            if (this.mounted && this.state.isAnswering) {\n                this.stopRinging();\n                this.setState({\n                    isCalling: false,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.cancelled',\n                        defaultMessage: '{username} cancelled the call',\n                        values: {\n                            username: Utils.displayUsername(this.props.userId)\n                        }\n                    })\n                });\n            }\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onConnectCall',\n        value: function onConnectCall() {\n            var _this4 = this;\n\n            WebrtcActions.webrtcToken(function (info) {\n                var connectingMsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'connecting_screen',\n                    defaultMessage: 'Connecting'\n                });\n\n                _this4.setState({ isAnswering: !_this4.state.isCalling, connectingMsg: connectingMsg });\n                if (_this4.session) {\n                    _this4.onSessionCreated();\n                } else {\n                    var iceServers = [];\n\n                    if (info.stun_uri) {\n                        iceServers.push({\n                            urls: info.stun_uri.split(' ')\n                        });\n                    }\n\n                    if (info.turn_uri) {\n                        iceServers.push({\n                            urls: info.turn_uri.split(' '),\n                            username: info.turn_username,\n                            credential: info.turn_password\n                        });\n                    }\n\n                    _janus2.default.init({ debug: global.mm_config.EnableDeveloper === 'true' });\n                    _this4.session = new _janus2.default({\n                        server: info.gateway_url,\n                        iceServers: iceServers,\n                        token: info.token,\n                        success: _this4.onSessionCreated,\n                        error: _this4.onSessionError\n                    });\n                }\n            }, function () {\n                _this4.onSessionError();\n            });\n        }\n    }, {\n        key: 'onSessionCreated',\n        value: function onSessionCreated() {\n            var _this5 = this;\n\n            if (this.videocall) {\n                this.doCall();\n            } else {\n                this.session.attach({\n                    plugin: 'janus.plugin.videocall',\n                    success: function success(plugin) {\n                        _this5.videocall = plugin;\n                        _this5.videocall.send({ message: { request: 'register', username: _this5.state.currentUser.id } });\n                    },\n                    error: this.onSessionError,\n                    onmessage: this.handleVideoCallEvent,\n                    onremotestream: this.handleRemoteStream\n                });\n            }\n        }\n    }, {\n        key: 'onSessionError',\n        value: function onSessionError() {\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.FAILED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n\n            this.onFailed();\n        }\n    }, {\n        key: 'doCall',\n        value: function doCall() {\n            var _this6 = this;\n\n            // delay call so receiver has time to register\n            setTimeout(function () {\n                _this6.videocall.createOffer({\n                    stream: _this6.localMedia,\n                    success: function success(jsep) {\n                        var body = { request: 'call', username: _this6.props.userId };\n                        _this6.videocall.send({ message: body, jsep: jsep });\n                    },\n                    error: function error() {\n                        _this6.doHangup(true);\n                    }\n                });\n            }, _constants.Constants.WEBRTC_TIME_DELAY);\n        }\n    }, {\n        key: 'doAnswer',\n        value: function doAnswer(jsep) {\n            var _this7 = this;\n\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_start');\n            this.videocall.createAnswer({\n                jsep: jsep,\n                stream: this.localMedia,\n                success: function success(jsepSuccess) {\n                    var body = { request: 'accept' };\n                    _this7.videocall.send({ message: body, jsep: jsepSuccess });\n                },\n                error: function error() {\n                    _this7.doHangup(true);\n                }\n            });\n        }\n    }, {\n        key: 'doHangup',\n        value: function doHangup(error, manual) {\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_end');\n            if (this.videocall && this.state.callInProgress) {\n                this.videocall.send({ message: { request: 'hangup' } });\n                this.videocall.hangup();\n                this.toggleIcons();\n\n                if (this.localMedia) {\n                    this.localMedia.getVideoTracks()[0].enabled = true;\n                    this.localMedia.getAudioTracks()[0].enabled = true;\n                }\n            }\n\n            if (error) {\n                this.onSessionError();\n                return this.doCleanup();\n            }\n\n            _webrtc_store2.default.setVideoCallWith(null);\n            _webrtc_store2.default.emitRhsChanged(false);\n\n            if (manual) {\n                return this.close();\n            }\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                isPaused: false,\n                isMuted: false,\n                isRemotePaused: false,\n                isRemoteMuted: false,\n                error: null,\n                ended: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.callEnded',\n                    defaultMessage: 'Call with {username} ended.',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                })\n            });\n            this.clearError();\n            return this.doCleanup();\n        }\n    }, {\n        key: 'doCleanup',\n        value: function doCleanup() {\n            _webrtc_store2.default.setVideoCallWith(null);\n\n            if (this.videocall) {\n                this.videocall.detach();\n                this.videocall = null;\n            }\n        }\n    }, {\n        key: 'onToggleVideo',\n        value: function onToggleVideo() {\n            var shouldPause = !this.state.isPaused;\n            if (shouldPause) {\n                this.videocall.unmuteVideo();\n            } else {\n                this.videocall.muteVideo();\n            }\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.MUTED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId,\n                type: 'video',\n                mute: shouldPause\n            });\n\n            this.setState({\n                isPaused: shouldPause,\n                error: null,\n                ended: null\n            });\n        }\n    }, {\n        key: 'onToggleAudio',\n        value: function onToggleAudio() {\n            var shouldMute = !this.state.isMuted;\n            if (shouldMute) {\n                this.videocall.unmuteAudio();\n            } else {\n                this.videocall.muteAudio();\n            }\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.MUTED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId,\n                type: 'audio',\n                mute: shouldMute\n            });\n\n            this.setState({\n                isMuted: shouldMute,\n                error: null,\n                ended: null\n            });\n        }\n    }, {\n        key: 'onToggleRemoteMute',\n        value: function onToggleRemoteMute(message) {\n            if (message.type === 'video') {\n                this.setState({\n                    isRemotePaused: message.mute\n                });\n            } else {\n                this.setState({ isRemoteMuted: message.mute, error: null, ended: null });\n            }\n        }\n    }, {\n        key: 'toggleIcons',\n        value: function toggleIcons() {\n            var icons = this.refs.icons;\n            if (icons) {\n                icons.classList.toggle('hidden');\n                icons.classList.toggle('active');\n            }\n        }\n    }, {\n        key: 'renderButtons',\n        value: function renderButtons() {\n            var _this8 = this;\n\n            var buttons = void 0;\n            if (this.state.isCalling) {\n                buttons = _react2.default.createElement(\n                    'svg',\n                    {\n                        id: 'cancel',\n                        className: 'webrtc-icons__cancel',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: function onClick() {\n                            return _this8.handleCancelOffer();\n                        }\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.cancel',\n                                defaultMessage: 'Cancel Call'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'scale(0.8), translate(6,10)',\n                        d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                        fill: 'white'\n                    })\n                );\n            } else if (!this.state.callInProgress && this.state.localMediaLoaded) {\n                buttons = _react2.default.createElement(\n                    'svg',\n                    {\n                        id: 'call',\n                        className: 'webrtc-icons__call',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: function onClick() {\n                            return _this8.handleMakeOffer();\n                        },\n                        disabled: _user_store2.default.getStatus(this.props.userId) === 'offline'\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.call',\n                                defaultMessage: 'Call'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'translate(-10,-10)',\n                        fill: '#fff',\n                        d: 'M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    })\n                );\n            } else if (this.state.callInProgress) {\n                var onClass = 'on';\n                var offClass = 'off';\n                var audioOnClass = offClass;\n                var audioOffClass = onClass;\n                var videoOnClass = offClass;\n                var videoOffClass = onClass;\n\n                var audioTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.mute_audio',\n                    defaultMessage: 'Mute'\n                });\n\n                var videoTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.pause_video',\n                    defaultMessage: 'Turn off Video'\n                });\n\n                if (this.state.isMuted) {\n                    audioOnClass = onClass;\n                    audioOffClass = offClass;\n                    audioTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unmute_audio',\n                        defaultMessage: 'Unmute'\n                    });\n                }\n\n                if (this.state.isPaused) {\n                    videoOnClass = onClass;\n                    videoOffClass = offClass;\n                    videoTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unpause_video',\n                        defaultMessage: 'Turn on Video'\n                    });\n                }\n\n                buttons = _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'icons',\n                        className: 'webrtc-icons hidden'\n                    },\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'mute-audio',\n                            className: 'webrtc-icons__call',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.onToggleAudio();\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                audioTitle\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            className: audioOnClass,\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: audioOffClass,\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z',\n                            fill: 'white'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'mute-video',\n                            className: 'webrtc-icons__call',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.onToggleVideo();\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                videoTitle\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            className: videoOnClass,\n                            transform: 'scale(0.6), translate(17,16)',\n                            d: 'M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: videoOffClass,\n                            transform: 'scale(0.6), translate(17,16)',\n                            d: 'M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z',\n                            fill: 'white'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'hangup',\n                            className: 'webrtc-icons__cancel',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.doHangup(false, true);\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'webrtc.hangup',\n                                    defaultMessage: 'Hang up'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            transform: 'scale(0.7), translate(11,10)',\n                            d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                            fill: 'white'\n                        })\n                    )\n                );\n            }\n\n            return buttons;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentId = _user_store2.default.getCurrentId();\n            var remoteImage = _react2.default.createElement('img', { src: this.state.remoteUserImage });\n            var localImage = void 0;\n            var localVideoHidden = '';\n            var remoteVideoHidden = 'hidden';\n            var error = void 0;\n            var remoteMute = void 0;\n            var localImageHidden = 'webrtc__local-image hidden';\n            var remoteImageHidden = 'webrtc__remote-image';\n\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group has-error' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' + this.state.errorType },\n                            this.state.error\n                        )\n                    )\n                );\n            } else if (this.state.ended) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.ended\n                        )\n                    )\n                );\n            }\n\n            if (this.state.isRemoteMuted) {\n                remoteMute = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__remote-mute' },\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '60',\n                            height: '60',\n                            viewBox: '-10 -10 68 68'\n                        },\n                        _react2.default.createElement('path', {\n                            className: 'off',\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: 'on',\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z',\n                            fill: 'white'\n                        })\n                    )\n                );\n            }\n\n            var searchForm = void 0;\n            if (currentId != null) {\n                searchForm = _react2.default.createElement(_search_bar2.default, null);\n            }\n\n            var buttons = this.renderButtons();\n            var calling = this.state.isCalling;\n            var connecting = void 0;\n            var audio = void 0;\n            if (calling || this.state.isAnswering) {\n                if (calling) {\n                    audio = _react2.default.createElement('audio', {\n                        ref: 'ring',\n                        src: _ring2.default,\n                        autoPlay: true\n                    });\n                }\n\n                connecting = _react2.default.createElement(\n                    'div',\n                    { className: 'connecting' },\n                    _react2.default.createElement(_loading_screen2.default, {\n                        position: 'absolute',\n                        message: this.state.connectingMsg\n                    }),\n                    audio\n                );\n            }\n\n            if (this.state.callInProgress) {\n                if (this.state.isPaused) {\n                    localVideoHidden = 'hidden';\n                    localImageHidden = 'webrtc__local-image';\n                    localImage = _react2.default.createElement('img', { src: this.state.currentUserImage });\n                }\n\n                if (this.state.isRemotePaused) {\n                    remoteVideoHidden = 'hidden';\n                    remoteImageHidden = 'webrtc__remote-image';\n                } else {\n                    remoteVideoHidden = '';\n                    remoteImageHidden = 'webrtc__remote-image hidden';\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'post-right__container' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'search-bar__container channel-header alt' },\n                    searchForm\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right__body' },\n                    _react2.default.createElement(_webrtc_header2.default, {\n                        username: Utils.displayUsername(this.props.userId),\n                        onClose: this.handleClose,\n                        toggleSize: this.props.toggleSize\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-right__scroll' },\n                        _react2.default.createElement(\n                            'div',\n                            { id: 'videos' },\n                            remoteMute,\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    id: 'main-video',\n                                    className: remoteVideoHidden,\n                                    autoPlay: true\n                                },\n                                _react2.default.createElement('video', {\n                                    ref: 'main-video',\n                                    autoPlay: true\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    id: 'local-video',\n                                    className: localVideoHidden\n                                },\n                                _react2.default.createElement('video', {\n                                    ref: 'local-video',\n                                    autoPlay: true,\n                                    muted: true\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: remoteImageHidden },\n                                remoteImage\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: localImageHidden },\n                                localImage\n                            )\n                        ),\n                        error,\n                        connecting,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'webrtc-buttons' },\n                            buttons\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return WebrtcController;\n}(_react2.default.Component);\n\nexports.default = WebrtcController;\n\n\nWebrtcController.propTypes = {\n    currentUser: _propTypes2.default.object,\n    userId: _propTypes2.default.string.isRequired,\n    isCaller: _propTypes2.default.bool.isRequired,\n    expanded: _propTypes2.default.bool.isRequired,\n    toggleSize: _propTypes2.default.func\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2351:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n The MIT License (MIT)\n\n Copyright (c) 2016 Meetecho\n\n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the \"Software\"),\n to deal in the Software without restriction, including without limitation\n the rights to use, copy, modify, merge, publish, distribute, sublicense,\n and/or sell copies of the Software, and to permit persons to whom the\n Software is furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included\n in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable */\n\nvar adapter = __webpack_require__(2352);\n\n// List of sessions\nJanus.sessions = {};\n\n// Screensharing Chrome Extension ID\nJanus.extensionId = \"hapfgfdkleiggjjpfpenajgdnfckjpaj\";\nJanus.isExtensionEnabled = function() {\n    if(window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        if(window.navigator.userAgent.match('Linux'))\n            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n        if(chromever >= 26 && chromever <= maxver) {\n            // Older versions of Chrome don't support this extension-based approach, so lie\n            return true;\n        }\n        return Janus.checkJanusExtension();\n    } else {\n        // Firefox of others, no need for the extension (but this doesn't mean it will work)\n        return true;\n    }\n};\n\nJanus.useDefaultDependencies = function (deps) {\n    var f = (deps && deps.fetch) || fetch;\n    var p = (deps && deps.Promise) || Promise;\n    var socketCls = (deps && deps.WebSocket) || WebSocket;\n    return {\n        newWebSocket: function(server, proto) { return new socketCls(server, proto); },\n        isArray: function(arr) { return Array.isArray(arr); },\n        checkJanusExtension: function() { return document.querySelector('#janus-extension-installed') !== null; },\n        webRTCAdapter: (deps && deps.adapter) || adapter,\n        httpAPICall: function(url, options) {\n            var fetchOptions = {method: options.verb, cache: 'no-cache'};\n            if(options.withCredentials !== undefined) {\n                fetchOptions.credentials = options.withCredentials === true ? 'include' : (options.withCredentials ? options.withCredentials : 'omit');\n            }\n            if(options.body !== undefined) {\n                fetchOptions.body = JSON.stringify(options.body);\n            }\n\n            var fetching = f(url, fetchOptions).catch(function(error) {\n                return p.reject({message: 'Probably a network error, is the gateway down?', error: error});\n            });\n\n            /*\n             * fetch() does not natively support timeouts.\n             * Work around this by starting a timeout manually, and racing it agains the fetch() to see which thing resolves first.\n             */\n\n            if(options.timeout !== undefined) {\n                var timeout = new p(function(resolve, reject) {\n                    var timerId = setTimeout(function() {\n                        clearTimeout(timerId);\n                        return reject({message: 'Request timed out', timeout: options.timeout});\n                    }, options.timeout);\n                });\n                fetching = p.race([fetching,timeout]);\n            }\n\n            fetching.then(function(response) {\n                if(response.ok) {\n                    if(typeof(options.success) === typeof(Janus.noop)) {\n                        return response.json().then(function(parsed) {\n                            options.success(parsed);\n                        }).catch(function(error) {\n                            return p.reject({message: 'Failed to parse response body', error: error, response: response});\n                        });\n                    }\n                }\n                else {\n                    return p.reject({message: 'API call failed', response: response});\n                }\n            }).catch(function(error) {\n                if(typeof(options.error) === typeof(Janus.noop)) {\n                    options.error(error.message || '<< internal error >>', error);\n                }\n            });\n\n            return fetching;\n        }\n    }\n};\n\nJanus.useOldDependencies = function (deps) {\n    var jq = (deps && deps.jQuery) || jQuery;\n    var socketCls = (deps && deps.WebSocket) || WebSocket;\n    return {\n        newWebSocket: function(server, proto) { return new socketCls(server, proto); },\n        isArray: function(arr) { return jq.isArray(arr); },\n        checkJanusExtension: function() { return jq('#janus-extension-installed').length > 0; },\n        webRTCAdapter: (deps && deps.adapter) || adapter,\n        httpAPICall: function(url, options) {\n            var payload = options.body !== undefined ? {\n                contentType: 'application/json',\n                data: JSON.stringify(options.body)\n            } : {};\n            var credentials = options.withCredentials !== undefined ? {xhrFields: {withCredentials: options.withCredentials}} : {};\n\n            return jq.ajax(jq.extend(payload, credentials, {\n                url: url,\n                type: options.verb,\n                cache: false,\n                dataType: 'json',\n                async: options.async,\n                timeout: options.timeout,\n                success: function(result) {\n                    if(typeof(options.success) === typeof(Janus.noop)) {\n                        options.success(result);\n                    }\n                },\n                error: function(xhr, status, err) {\n                    if(typeof(options.error) === typeof(Janus.noop)) {\n                        options.error(status, err);\n                    }\n                }\n            }));\n        },\n    };\n};\n\nJanus.noop = function() {};\n\n// Initialization\nJanus.init = function(options) {\n    options = options || {};\n    options.callback = (typeof options.callback == \"function\") ? options.callback : Janus.noop;\n    if(Janus.initDone === true) {\n        // Already initialized\n        options.callback();\n    } else {\n        if(typeof console == \"undefined\" || typeof console.log == \"undefined\")\n            console = { log: function() {} };\n        // Console logging (all debugging disabled by default)\n        Janus.trace = Janus.noop;\n        Janus.debug = Janus.noop;\n        Janus.vdebug = Janus.noop;\n        Janus.log = Janus.noop;\n        Janus.warn = Janus.noop;\n        Janus.error = Janus.noop;\n        if(options.debug === true || options.debug === \"all\") {\n            // Enable all debugging levels\n            Janus.trace = console.trace.bind(console);\n            Janus.debug = console.debug.bind(console);\n            Janus.vdebug = console.debug.bind(console);\n            Janus.log = console.log.bind(console);\n            Janus.warn = console.warn.bind(console);\n            Janus.error = console.error.bind(console);\n        } else if(Array.isArray(options.debug)) {\n            for(var i in options.debug) {\n                var d = options.debug[i];\n                switch(d) {\n                case \"trace\":\n                    Janus.trace = console.trace.bind(console);\n                    break;\n                case \"debug\":\n                    Janus.debug = console.debug.bind(console);\n                    break;\n                case \"vdebug\":\n                    Janus.vdebug = console.debug.bind(console);\n                    break;\n                case \"log\":\n                    Janus.log = console.log.bind(console);\n                    break;\n                case \"warn\":\n                    Janus.warn = console.warn.bind(console);\n                    break;\n                case \"error\":\n                    Janus.error = console.error.bind(console);\n                    break;\n                default:\n                    console.error(\"Unknown debugging option '\" + d + \"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')\");\n                    break;\n                }\n            }\n        }\n        Janus.log(\"Initializing library\");\n\n        var usedDependencies = options.dependencies || Janus.useDefaultDependencies();\n        Janus.isArray = usedDependencies.isArray;\n        Janus.webRTCAdapter = usedDependencies.webRTCAdapter;\n        Janus.httpAPICall = usedDependencies.httpAPICall;\n        Janus.checkJanusExtension = usedDependencies.checkJanusExtension;\n        Janus.newWebSocket = usedDependencies.newWebSocket;\n\n        // Helper method to enumerate devices\n        Janus.listDevices = function(callback, config) {\n            callback = (typeof callback == \"function\") ? callback : Janus.noop;\n            if (config == null) config = { audio: true, video: true };\n            if(navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia(config)\n                .then(function(stream) {\n                    navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                        Janus.debug(devices);\n                        callback(devices);\n                        // Get rid of the now useless stream\n                        try {\n                            var tracks = stream.getTracks();\n                            for(var i in tracks) {\n                                var mst = tracks[i];\n                                if(mst !== null && mst !== undefined)\n                                    mst.stop();\n                            }\n                        } catch(e) {}\n                    });\n                })\n                .catch(function(err) {\n                    Janus.error(err);\n                    callback([]);\n                });\n            } else {\n                Janus.warn(\"navigator.mediaDevices unavailable\");\n                callback([]);\n            }\n        }\n        // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n        Janus.attachMediaStream = function(element, stream) {\n            if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n                var chromever = Janus.webRTCAdapter.browserDetails.version;\n                if(chromever >= 43) {\n                    element.srcObject = stream;\n                } else if(typeof element.src !== 'undefined') {\n                    element.src = URL.createObjectURL(stream);\n                } else {\n                    Janus.error(\"Error attaching stream to element\");\n                }\n            } else {\n                element.srcObject = stream;\n            }\n        };\n        Janus.reattachMediaStream = function(to, from) {\n            if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n                var chromever = Janus.webRTCAdapter.browserDetails.version;\n                if(chromever >= 43) {\n                    to.srcObject = from.srcObject;\n                } else if(typeof to.src !== 'undefined') {\n                    to.src = from.src;\n                } else {\n                    Janus.error(\"Error reattaching stream to element\");\n                }\n            } else {\n                to.srcObject = from.srcObject;\n            }\n        };\n        // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n        var oldOBF = window.onbeforeunload;\n        window.onbeforeunload = function() {\n            Janus.log(\"Closing window\");\n            for(var s in Janus.sessions) {\n                if(Janus.sessions[s] !== null && Janus.sessions[s] !== undefined &&\n                    Janus.sessions[s].destroyOnUnload) {\n                    Janus.log(\"Destroying session \" + s);\n                    Janus.sessions[s].destroy({asyncRequest: false});\n                }\n            }\n            if(oldOBF && typeof oldOBF == \"function\")\n                oldOBF();\n        }\n        Janus.initDone = true;\n        options.callback();\n    }\n};\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n    return window.RTCPeerConnection !== undefined && window.RTCPeerConnection !== null &&\n        navigator.getUserMedia !== undefined && navigator.getUserMedia !== null;\n};\n\n// Helper method to create random identifiers (e.g., transaction)\nJanus.randomString = function(len) {\n    var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var randomString = '';\n    for (var i = 0; i < len; i++) {\n        var randomPoz = Math.floor(Math.random() * charSet.length);\n        randomString += charSet.substring(randomPoz,randomPoz+1);\n    }\n    return randomString;\n}\n\n\nfunction Janus(gatewayCallbacks) {\n    if(Janus.initDone === undefined) {\n        gatewayCallbacks.error(\"Library not initialized\");\n        return {};\n    }\n    if(!Janus.isWebrtcSupported()) {\n        gatewayCallbacks.error(\"WebRTC not supported by this browser\");\n        return {};\n    }\n    Janus.log(\"Library initialized: \" + Janus.initDone);\n    gatewayCallbacks = gatewayCallbacks || {};\n    gatewayCallbacks.success = (typeof gatewayCallbacks.success == \"function\") ? gatewayCallbacks.success : Janus.noop;\n    gatewayCallbacks.error = (typeof gatewayCallbacks.error == \"function\") ? gatewayCallbacks.error : Janus.noop;\n    gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == \"function\") ? gatewayCallbacks.destroyed : Janus.noop;\n    if(gatewayCallbacks.server === null || gatewayCallbacks.server === undefined) {\n        gatewayCallbacks.error(\"Invalid gateway url\");\n        return {};\n    }\n    var websockets = false;\n    var ws = null;\n    var wsHandlers = {};\n    var wsKeepaliveTimeoutId = null;\n\n    var servers = null, serversIndex = 0;\n    var server = gatewayCallbacks.server;\n    if(Janus.isArray(server)) {\n        Janus.log(\"Multiple servers provided (\" + server.length + \"), will use the first that works\");\n        server = null;\n        servers = gatewayCallbacks.server;\n        Janus.debug(servers);\n    } else {\n        if(server.indexOf(\"ws\") === 0) {\n            websockets = true;\n            Janus.log(\"Using WebSockets to contact Janus: \" + server);\n        } else {\n            websockets = false;\n            Janus.log(\"Using REST API to contact Janus: \" + server);\n        }\n    }\n    var iceServers = gatewayCallbacks.iceServers;\n    if(iceServers === undefined || iceServers === null)\n        iceServers = [{urls: \"stun:stun.l.google.com:19302\"}];\n    var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy;\n    var bundlePolicy = gatewayCallbacks.bundlePolicy;\n    // Whether IPv6 candidates should be gathered\n    var ipv6Support = gatewayCallbacks.ipv6;\n    if(ipv6Support === undefined || ipv6Support === null)\n        ipv6Support = false;\n    // Whether we should enable the withCredentials flag for XHR requests\n    var withCredentials = false;\n    if(gatewayCallbacks.withCredentials !== undefined && gatewayCallbacks.withCredentials !== null)\n        withCredentials = gatewayCallbacks.withCredentials === true;\n    // Optional max events\n    var maxev = null;\n    if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n        maxev = gatewayCallbacks.max_poll_events;\n    if(maxev < 1)\n        maxev = 1;\n    // Token to use (only if the token based authentication mechanism is enabled)\n    var token = null;\n    if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n        token = gatewayCallbacks.token;\n    // API secret to use (only if the shared API secret is enabled)\n    var apisecret = null;\n    if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n        apisecret = gatewayCallbacks.apisecret;\n    // Whether we should destroy this session when onbeforeunload is called\n    this.destroyOnUnload = true;\n    if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n        this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true);\n\n    var connected = false;\n    var sessionId = null;\n    var pluginHandles = {};\n    var that = this;\n    var retries = 0;\n    var transactions = {};\n    createSession(gatewayCallbacks);\n\n    // Public methods\n    this.getServer = function() { return server; };\n    this.isConnected = function() { return connected; };\n    this.getSessionId = function() { return sessionId; };\n    this.destroy = function(callbacks) { destroySession(callbacks); };\n    this.attach = function(callbacks) { createHandle(callbacks); };\n\n    function eventHandler() {\n        if(sessionId == null)\n            return;\n        Janus.debug('Long poll...');\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var longpoll = server + \"/\" + sessionId + \"?rid=\" + new Date().getTime();\n        if(maxev !== undefined && maxev !== null)\n            longpoll = longpoll + \"&maxev=\" + maxev;\n        if(token !== null && token !== undefined)\n            longpoll = longpoll + \"&token=\" + token;\n        if(apisecret !== null && apisecret !== undefined)\n            longpoll = longpoll + \"&apisecret=\" + apisecret;\n        Janus.httpAPICall(longpoll, {\n            verb: 'GET',\n            withCredentials: withCredentials,\n            success: handleEvent,\n            timeout: 60000,\t// FIXME\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\n                retries++;\n                if(retries > 3) {\n                    // Did we just lose the gateway? :-(\n                    connected = false;\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                    return;\n                }\n                eventHandler();\n            }\n        });\n    }\n\n    // Private event handler: this will trigger plugin callbacks, if set\n    function handleEvent(json, skipTimeout) {\n        retries = 0;\n        if(!websockets && sessionId !== undefined && sessionId !== null && skipTimeout !== true)\n            setTimeout(eventHandler, 200);\n        if(!websockets && Janus.isArray(json)) {\n            // We got an array: it means we passed a maxev > 1, iterate on all objects\n            for(var i=0; i<json.length; i++) {\n                handleEvent(json[i], true);\n            }\n            return;\n        }\n        if(json[\"janus\"] === \"keepalive\") {\n            // Nothing happened\n            Janus.vdebug(\"Got a keepalive on session \" + sessionId);\n            return;\n        } else if(json[\"janus\"] === \"ack\") {\n            // Just an ack, we can probably ignore\n            Janus.debug(\"Got an ack on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"success\") {\n            // Success!\n            Janus.debug(\"Got a success on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"webrtcup\") {\n            // The PeerConnection with the gateway is up! Notify this\n            Janus.debug(\"Got a webrtcup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(true);\n            return;\n        } else if(json[\"janus\"] === \"hangup\") {\n            // A plugin asked the core to hangup a PeerConnection on one of our handles\n            Janus.debug(\"Got a hangup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(false, json[\"reason\"]);\n            pluginHandle.hangup();\n        } else if(json[\"janus\"] === \"detached\") {\n            // A plugin asked the core to detach one of our handles\n            Janus.debug(\"Got a detached event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                // Don't warn here because destroyHandle causes this situation.\n                return;\n            }\n            pluginHandle.detached = true;\n            pluginHandle.ondetached();\n            pluginHandle.detach();\n        } else if(json[\"janus\"] === \"media\") {\n            // Media started/stopped flowing\n            Janus.debug(\"Got a media event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.mediaState(json[\"type\"], json[\"receiving\"]);\n        } else if(json[\"janus\"] === \"slowlink\") {\n            Janus.debug(\"Got a slowlink event on session \" + sessionId);\n            Janus.debug(json);\n            // Trouble uplink or downlink\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.slowLink(json[\"uplink\"], json[\"nacks\"]);\n        } else if(json[\"janus\"] === \"error\") {\n            // Oops, something wrong happened\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"event\") {\n            Janus.debug(\"Got a plugin event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var plugindata = json[\"plugindata\"];\n            if(plugindata === undefined || plugindata === null) {\n                Janus.warn(\"Missing plugindata...\");\n                return;\n            }\n            Janus.debug(\"  -- Event is coming from \" + sender + \" (\" + plugindata[\"plugin\"] + \")\");\n            var data = plugindata[\"data\"];\n            Janus.debug(data);\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            var jsep = json[\"jsep\"];\n            if(jsep !== undefined && jsep !== null) {\n                Janus.debug(\"Handling SDP as well...\");\n                Janus.debug(jsep);\n            }\n            var callback = pluginHandle.onmessage;\n            if(callback !== null && callback !== undefined) {\n                Janus.debug(\"Notifying application...\");\n                // Send to callback specified when attaching plugin handle\n                callback(data, jsep);\n            } else {\n                // Send to generic callback (?)\n                Janus.debug(\"No provided notification callback\");\n            }\n        } else {\n            Janus.warn(\"Unkown message/event  '\" + json[\"janus\"] + \"' on session \" + sessionId);\n            Janus.debug(json);\n        }\n    }\n\n    // Private helper to send keep-alive messages on WebSockets\n    function keepAlive() {\n        if(server === null || !websockets || !connected)\n            return;\n        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n        var request = { \"janus\": \"keepalive\", \"session_id\": sessionId, \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        ws.send(JSON.stringify(request));\n    }\n\n    // Private method to create a session\n    function createSession(callbacks) {\n        var transaction = Janus.randomString(12);\n        var request = { \"janus\": \"create\", \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(server === null && Janus.isArray(servers)) {\n            // We still need to find a working server from the list we were given\n            server = servers[serversIndex];\n            if(server.indexOf(\"ws\") === 0) {\n                websockets = true;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying WebSockets to contact Janus (\" + server + \")\");\n            } else {\n                websockets = false;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying REST API to contact Janus (\" + server + \")\");\n            }\n        }\n        if(websockets) {\n            ws = Janus.newWebSocket(server, 'janus-protocol');\n            wsHandlers = {\n                'error': function() {\n                    Janus.error(\"Error connecting to the Janus WebSockets server... \" + server);\n                    if (Janus.isArray(servers)) {\n                        serversIndex++;\n                        if (serversIndex == servers.length) {\n                            // We tried all the servers the user gave us and they all failed\n                            callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                            return;\n                        }\n                        // Let's try the next server\n                        server = null;\n                        setTimeout(function() {\n                            createSession(callbacks);\n                        }, 200);\n                        return;\n                    }\n                    callbacks.error(\"Error connecting to the Janus WebSockets server: Is the gateway down?\");\n                },\n\n                'open': function() {\n                    // We need to be notified about the success\n                    transactions[transaction] = function(json) {\n                        Janus.debug(json);\n                        if (json[\"janus\"] !== \"success\") {\n                            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                            callbacks.error(json[\"error\"].reason);\n                            return;\n                        }\n                        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n                        connected = true;\n                        sessionId = json.data[\"id\"];\n                        Janus.log(\"Created session: \" + sessionId);\n                        Janus.sessions[sessionId] = that;\n                        callbacks.success();\n                    };\n                    ws.send(JSON.stringify(request));\n                },\n\n                'message': function(event) {\n                    handleEvent(JSON.parse(event.data));\n                },\n\n                'close': function() {\n                    if (server === null || !connected) {\n                        return;\n                    }\n                    connected = false;\n                    // FIXME What if this is called when the page is closed?\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                }\n            };\n\n            for(var eventName in wsHandlers) {\n                ws.addEventListener(eventName, wsHandlers[eventName]);\n            }\n\n            return;\n        }\n        Janus.httpAPICall(server, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(json[\"error\"].reason);\n                    return;\n                }\n                connected = true;\n                sessionId = json.data[\"id\"];\n                Janus.log(\"Created session: \" + sessionId);\n                Janus.sessions[sessionId] = that;\n                eventHandler();\n                callbacks.success();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                if(Janus.isArray(servers)) {\n                    serversIndex++;\n                    if(serversIndex == servers.length) {\n                        // We tried all the servers the user gave us and they all failed\n                        callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                        return;\n                    }\n                    // Let's try the next server\n                    server = null;\n                    setTimeout(function() { createSession(callbacks); }, 200);\n                    return;\n                }\n                if(errorThrown === \"\")\n                    callbacks.error(textStatus + \": Is the gateway down?\");\n                else\n                    callbacks.error(textStatus + \": \" + errorThrown);\n            }\n        });\n    }\n\n    // Private method to destroy a session\n    function destroySession(callbacks) {\n        callbacks = callbacks || {};\n        // FIXME This method triggers a success even when we fail\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying session \" + sessionId + \" (async=\" + asyncRequest + \")\");\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.success();\n            return;\n        }\n        if(sessionId === undefined || sessionId === null) {\n            Janus.warn(\"No session to destroy\");\n            callbacks.success();\n            gatewayCallbacks.destroyed();\n            return;\n        }\n        delete Janus.sessions[sessionId];\n        // No need to destroy all handles first, Janus will do that itself\n        var request = { \"janus\": \"destroy\", \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n\n            var unbindWebSocket = function() {\n                for(var eventName in wsHandlers) {\n                    ws.removeEventListener(eventName, wsHandlers[eventName]);\n                }\n                ws.removeEventListener('message', onUnbindMessage);\n                ws.removeEventListener('error', onUnbindError);\n                if(wsKeepaliveTimeoutId) {\n                    clearTimeout(wsKeepaliveTimeoutId);\n                }\n            };\n\n            var onUnbindMessage = function(event){\n                var data = JSON.parse(event.data);\n                if(data.session_id == request.session_id && data.transaction == request.transaction) {\n                    unbindWebSocket();\n                    callbacks.success();\n                    gatewayCallbacks.destroyed();\n                }\n            };\n            var onUnbindError = function(event) {\n                unbindWebSocket();\n                callbacks.error(\"Failed to destroy the gateway: Is the gateway down?\");\n                gatewayCallbacks.destroyed();\n            };\n\n            ws.addEventListener('message', onUnbindMessage);\n            ws.addEventListener('error', onUnbindError);\n\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId, {\n            verb: 'POST',\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.log(\"Destroyed session:\");\n                Janus.debug(json);\n                sessionId = null;\n                connected = false;\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // Reset everything anyway\n                sessionId = null;\n                connected = false;\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            }\n        });\n    }\n\n    // Private method to create a plugin handle\n    function createHandle(callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        callbacks.consentDialog = (typeof callbacks.consentDialog == \"function\") ? callbacks.consentDialog : Janus.noop;\n        callbacks.iceState = (typeof callbacks.iceState == \"function\") ? callbacks.iceState : Janus.noop;\n        callbacks.mediaState = (typeof callbacks.mediaState == \"function\") ? callbacks.mediaState : Janus.noop;\n        callbacks.webrtcState = (typeof callbacks.webrtcState == \"function\") ? callbacks.webrtcState : Janus.noop;\n        callbacks.slowLink = (typeof callbacks.slowLink == \"function\") ? callbacks.slowLink : Janus.noop;\n        callbacks.onmessage = (typeof callbacks.onmessage == \"function\") ? callbacks.onmessage : Janus.noop;\n        callbacks.onlocalstream = (typeof callbacks.onlocalstream == \"function\") ? callbacks.onlocalstream : Janus.noop;\n        callbacks.onremotestream = (typeof callbacks.onremotestream == \"function\") ? callbacks.onremotestream : Janus.noop;\n        callbacks.ondata = (typeof callbacks.ondata == \"function\") ? callbacks.ondata : Janus.noop;\n        callbacks.ondataopen = (typeof callbacks.ondataopen == \"function\") ? callbacks.ondataopen : Janus.noop;\n        callbacks.oncleanup = (typeof callbacks.oncleanup == \"function\") ? callbacks.oncleanup : Janus.noop;\n        callbacks.ondetached = (typeof callbacks.ondetached == \"function\") ? callbacks.ondetached : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var plugin = callbacks.plugin;\n        if(plugin === undefined || plugin === null) {\n            Janus.error(\"Invalid plugin\");\n            callbacks.error(\"Invalid plugin\");\n            return;\n        }\n        var opaqueId = callbacks.opaqueId;\n        var transaction = Janus.randomString(12);\n        var request = { \"janus\": \"attach\", \"plugin\": plugin, \"opaque_id\": opaqueId, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        // If we know the browser supports BUNDLE and/or rtcp-mux, let's advertise those right away\n        if(Janus.webRTCAdapter.browserDetails.browser == \"chrome\" || Janus.webRTCAdapter.browserDetails.browser == \"firefox\" ||\n            Janus.webRTCAdapter.browserDetails.browser == \"safari\") {\n            request[\"force-bundle\"] = true;\n            request[\"force-rtcp-mux\"] = true;\n        }\n        if(websockets) {\n            transactions[transaction] = function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        detached : false,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        iceState : callbacks.iceState,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            };\n            request[\"session_id\"] = sessionId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        detached : false,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        iceState : callbacks.iceState,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            }\n        });\n    }\n\n    // Private method to send a message\n    function sendMessage(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var message = callbacks.message;\n        var jsep = callbacks.jsep;\n        var transaction = Janus.randomString(12);\n        var request = { \"janus\": \"message\", \"body\": message, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(jsep !== null && jsep !== undefined)\n            request.jsep = jsep;\n        Janus.debug(\"Sending message to plugin (handle=\" + handleId + \"):\");\n        Janus.debug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            transactions[transaction] = function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            };\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                callbacks.error(textStatus + \": \" + errorThrown);\n            }\n        });\n    }\n\n    // Private method to send a trickle candidate\n    function sendTrickleCandidate(handleId, candidate) {\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"trickle\", \"candidate\": candidate, \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        Janus.vdebug(\"Sending trickle candidate (handle=\" + handleId + \"):\");\n        Janus.vdebug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.vdebug(\"Candidate sent!\");\n                Janus.vdebug(json);\n                if(json[\"janus\"] !== \"ack\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    return;\n                }\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            }\n        });\n    }\n\n    // Private method to send a data channel message\n    function sendData(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var text = callbacks.text;\n        if(text === null || text === undefined) {\n            Janus.warn(\"Invalid text\");\n            callbacks.error(\"Invalid text\");\n            return;\n        }\n        Janus.log(\"Sending string on data channel: \" + text);\n        config.dataChannel.send(text);\n        callbacks.success();\n    }\n\n    // Private method to send a DTMF tone\n    function sendDtmf(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.dtmfSender === null || config.dtmfSender === undefined) {\n            // Create the DTMF sender, if possible\n            if(config.myStream !== undefined && config.myStream !== null) {\n                var tracks = config.myStream.getAudioTracks();\n                if(tracks !== null && tracks !== undefined && tracks.length > 0) {\n                    var local_audio_track = tracks[0];\n                    config.dtmfSender = config.pc.createDTMFSender(local_audio_track);\n                    Janus.log(\"Created DTMF Sender\");\n                    config.dtmfSender.ontonechange = function(tone) { Janus.debug(\"Sent DTMF tone: \" + tone.tone); };\n                }\n            }\n            if(config.dtmfSender === null || config.dtmfSender === undefined) {\n                Janus.warn(\"Invalid DTMF configuration\");\n                callbacks.error(\"Invalid DTMF configuration\");\n                return;\n            }\n        }\n        var dtmf = callbacks.dtmf;\n        if(dtmf === null || dtmf === undefined) {\n            Janus.warn(\"Invalid DTMF parameters\");\n            callbacks.error(\"Invalid DTMF parameters\");\n            return;\n        }\n        var tones = dtmf.tones;\n        if(tones === null || tones === undefined) {\n            Janus.warn(\"Invalid DTMF string\");\n            callbacks.error(\"Invalid DTMF string\");\n            return;\n        }\n        var duration = dtmf.duration;\n        if(duration === null || duration === undefined)\n            duration = 500;\t// We choose 500ms as the default duration for a tone\n        var gap = dtmf.gap;\n        if(gap === null || gap === undefined)\n            gap = 50;\t// We choose 50ms as the default gap between tones\n        Janus.debug(\"Sending DTMF string \" + tones + \" (duration \" + duration + \"ms, gap \" + gap + \"ms)\");\n        config.dtmfSender.insertDTMF(tones, duration, gap);\n    }\n\n    // Private method to destroy a plugin handle\n    function destroyHandle(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        Janus.warn(callbacks);\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying handle \" + handleId + \" (async=\" + asyncRequest + \")\");\n        cleanupWebrtc(handleId);\n        if (pluginHandles[handleId].detached) {\n            // Plugin was already detached by Janus, calling detach again will return a handle not found error, so just exit here\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"detach\", \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n            verb: 'POST',\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.log(\"Destroyed handle:\");\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // We cleanup anyway\n                delete pluginHandles[handleId];\n                callbacks.success();\n            }\n        });\n    }\n\n    // WebRTC stuff\n    function streamsDone(handleId, jsep, media, callbacks, stream) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.debug(\"streamsDone:\", stream);\n        config.myStream = stream;\n        var pc_config = {\"iceServers\": iceServers, \"iceTransportPolicy\": iceTransportPolicy, \"bundlePolicy\": bundlePolicy};\n        //~ var pc_constraints = {'mandatory': {'MozDontOfferDataChannel':true}};\n        var pc_constraints = {\n            \"optional\": [{\"DtlsSrtpKeyAgreement\": true}]\n        };\n        if(ipv6Support === true) {\n            // FIXME This is only supported in Chrome right now\n            // For support in Firefox track this: https://bugzilla.mozilla.org/show_bug.cgi?id=797262\n            pc_constraints.optional.push({\"googIPv6\":true});\n        }\n        // Any custom constraint to add?\n        if(callbacks.rtcConstraints && typeof callbacks.rtcConstraints === 'object') {\n            Janus.debug(\"Adding custom PeerConnection constraints:\", callbacks.rtcConstraints);\n            for(var i in callbacks.rtcConstraints) {\n                pc_constraints.optional.push(callbacks.rtcConstraints[i]);\n            }\n        }\n        if(Janus.webRTCAdapter.browserDetails.browser === \"edge\") {\n            // This is Edge, enable BUNDLE explicitly\n            pc_config.bundlePolicy = \"max-bundle\";\n        }\n        Janus.log(\"Creating PeerConnection\");\n        Janus.debug(pc_constraints);\n        config.pc = new RTCPeerConnection(pc_config, pc_constraints);\n        Janus.debug(config.pc);\n        if(config.pc.getStats) {\t// FIXME\n            config.volume.value = 0;\n            config.bitrate.value = \"0 kbits/sec\";\n        }\n        Janus.log(\"Preparing local SDP and gathering candidates (trickle=\" + config.trickle + \")\");\n        config.pc.oniceconnectionstatechange = function(e) {\n            if(config.pc)\n                pluginHandle.iceState(config.pc.iceConnectionState);\n        };\n        config.pc.onicecandidate = function(event) {\n            if (event.candidate == null ||\n                (Janus.webRTCAdapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n                Janus.log(\"End of candidates.\");\n                config.iceDone = true;\n                if(config.trickle === true) {\n                    // Notify end of candidates\n                    sendTrickleCandidate(handleId, {\"completed\": true});\n                } else {\n                    // No trickle, time to send the complete SDP (including all candidates)\n                    sendSDP(handleId, callbacks);\n                }\n            } else {\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var candidate = {\n                    \"candidate\": event.candidate.candidate,\n                    \"sdpMid\": event.candidate.sdpMid,\n                    \"sdpMLineIndex\": event.candidate.sdpMLineIndex\n                };\n                if(config.trickle === true) {\n                    // Send candidate\n                    sendTrickleCandidate(handleId, candidate);\n                }\n            }\n        };\n        if(stream !== null && stream !== undefined) {\n            Janus.log('Adding local stream');\n            stream.getTracks().forEach(function(track) { config.pc.addTrack(track, stream); });\n            pluginHandle.onlocalstream(stream);\n        }\n        config.pc.ontrack = function(event) {\n            Janus.log(\"Handling Remote Track\");\n            Janus.debug(event);\n            if(!event.streams)\n                return;\n            config.remoteStream = event.streams[0];\n            pluginHandle.onremotestream(config.remoteStream);\n        };\n        // Any data channel to create?\n        if(isDataEnabled(media)) {\n            Janus.log(\"Creating data channel\");\n            var onDataChannelMessage = function(event) {\n                Janus.log('Received message on data channel: ' + event.data);\n                pluginHandle.ondata(event.data);\t// FIXME\n            }\n            var onDataChannelStateChange = function() {\n                var dcState = config.dataChannel !== null ? config.dataChannel.readyState : \"null\";\n                Janus.log('State change on data channel: ' + dcState);\n                if(dcState === 'open') {\n                    pluginHandle.ondataopen();\t// FIXME\n                }\n            }\n            var onDataChannelError = function(error) {\n                Janus.error('Got error on data channel:', error);\n                // TODO\n            }\n            // Until we implement the proxying of open requests within the Janus core, we open a channel ourselves whatever the case\n            config.dataChannel = config.pc.createDataChannel(\"JanusDataChannel\", {ordered:false});\t// FIXME Add options (ordered, maxRetransmits, etc.)\n            config.dataChannel.onmessage = onDataChannelMessage;\n            config.dataChannel.onopen = onDataChannelStateChange;\n            config.dataChannel.onclose = onDataChannelStateChange;\n            config.dataChannel.onerror = onDataChannelError;\n        }\n        // Create offer/answer now\n        if(jsep === null || jsep === undefined) {\n            createOffer(handleId, media, callbacks);\n        } else {\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    createAnswer(handleId, media, callbacks);\n                }, callbacks.error);\n        }\n    }\n\n    function prepareWebrtc(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var media = callbacks.media;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Are we updating a session?\n        if(config.pc !== undefined && config.pc !== null) {\n            Janus.log(\"Updating existing media session\");\n            // Create offer/answer now\n            if(jsep === null || jsep === undefined) {\n                createOffer(handleId, media, callbacks);\n            } else {\n                config.pc.setRemoteDescription(\n                    new RTCSessionDescription(jsep),\n                    function() {\n                        Janus.log(\"Remote description accepted!\");\n                        createAnswer(handleId, media, callbacks);\n                    }, callbacks.error);\n            }\n            return;\n        }\n        config.trickle = isTrickleEnabled(callbacks.trickle);\n        // Was a MediaStream object passed, or do we need to take care of that?\n        if(callbacks.stream !== null && callbacks.stream !== undefined) {\n            var stream = callbacks.stream;\n            Janus.log(\"MediaStream provided by the application\");\n            Janus.debug(stream);\n            // Skip the getUserMedia part\n            config.streamExternal = true;\n            streamsDone(handleId, jsep, media, callbacks, stream);\n            return;\n        }\n        if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n            var constraints = { mandatory: {}, optional: []};\n            pluginHandle.consentDialog(true);\n            var audioSupport = isAudioSendEnabled(media);\n            if(audioSupport === true && media != undefined && media != null) {\n                if(typeof media.audio === 'object') {\n                    audioSupport = media.audio;\n                }\n            }\n            var videoSupport = isVideoSendEnabled(media);\n            if(videoSupport === true && media != undefined && media != null) {\n                var simulcast = callbacks.simulcast === true ? true : false;\n                if(simulcast && !jsep && (media.video === undefined || media.video === false))\n                    media.video = \"hires\";\n                if(media.video && media.video != 'screen' && media.video != 'window') {\n                    var width = 0;\n                    var height = 0, maxHeight = 0;\n                    if(media.video === 'lowres') {\n                        // Small resolution, 4:3\n                        height = 240;\n                        maxHeight = 240;\n                        width = 320;\n                    } else if(media.video === 'lowres-16:9') {\n                        // Small resolution, 16:9\n                        height = 180;\n                        maxHeight = 180;\n                        width = 320;\n                    } else if(media.video === 'hires' || media.video === 'hires-16:9' ) {\n                        // High resolution is only 16:9\n                        height = 720;\n                        maxHeight = 720;\n                        width = 1280;\n                        if(navigator.mozGetUserMedia) {\n                            var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                            if(firefoxVer < 38) {\n                                // Unless this is and old Firefox, which doesn't support it\n                                Janus.warn(media.video + \" unsupported, falling back to stdres (old Firefox)\");\n                                height = 480;\n                                maxHeight = 480;\n                                width  = 640;\n                            }\n                        }\n                    } else if(media.video === 'stdres') {\n                        // Normal resolution, 4:3\n                        height = 480;\n                        maxHeight = 480;\n                        width  = 640;\n                    } else if(media.video === 'stdres-16:9') {\n                        // Normal resolution, 16:9\n                        height = 360;\n                        maxHeight = 360;\n                        width = 640;\n                    } else {\n                        Janus.log(\"Default video setting is stdres 4:3\");\n                        height = 480;\n                        maxHeight = 480;\n                        width = 640;\n                    }\n                    Janus.log(\"Adding media constraint:\", media.video);\n                    if(navigator.mozGetUserMedia) {\n                        var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(firefoxVer < 38) {\n                            videoSupport = {\n                                'require': ['height', 'width'],\n                                'height': {'max': maxHeight, 'min': height},\n                                'width':  {'max': width,  'min': width}\n                            };\n                        } else {\n                            // http://stackoverflow.com/questions/28282385/webrtc-firefox-constraints/28911694#28911694\n                            // https://github.com/meetecho/janus-gateway/pull/246\n                            videoSupport = {\n                                'height': {'ideal': height},\n                                'width':  {'ideal': width}\n                            };\n                        }\n                    } else {\n                        videoSupport = {\n                            'mandatory': {\n                                'maxHeight': maxHeight,\n                                'minHeight': height,\n                                'maxWidth':  width,\n                                'minWidth':  width\n                            },\n                            'optional': []\n                        };\n                    }\n                    if(typeof media.video === 'object') {\n                        videoSupport = media.video;\n                    }\n                    Janus.debug(videoSupport);\n                } else if(media.video === 'screen' || media.video === 'window') {\n                    if(!media.screenshareFrameRate) {\n                        media.screenshareFrameRate = 3;\n                    }\n                    // Not a webcam, but screen capture\n                    if(window.location.protocol !== 'https:') {\n                        // Screen sharing mandates HTTPS\n                        Janus.warn(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        pluginHandle.consentDialog(false);\n                        callbacks.error(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        return;\n                    }\n                    // We're going to try and use the extension for Chrome 34+, the old approach\n                    // for older versions of Chrome, or the experimental support in Firefox 33+\n                    var cache = {};\n                    function callbackUserMedia (error, stream) {\n                        pluginHandle.consentDialog(false);\n                        if(error) {\n                            callbacks.error({code: error.code, name: error.name, message: error.message});\n                        } else {\n                            streamsDone(handleId, jsep, media, callbacks, stream);\n                        }\n                    };\n                    function getScreenMedia(constraints, gsmCallback, useAudio) {\n                        Janus.log(\"Adding media constraint (screen capture)\");\n                        Janus.debug(constraints);\n                        navigator.mediaDevices.getUserMedia(constraints)\n                        .then(function(stream) {\n                            if(useAudio){\n                                navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n                                .then(function (audioStream) {\n                                    stream.addTrack(audioStream.getAudioTracks()[0]);\n                                    gsmCallback(null, stream);\n                                })\n                            } else {\n                                gsmCallback(null, stream);\n                            }\n                        })\n                        .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error); });\n                    };\n                    if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n                        var chromever = Janus.webRTCAdapter.browserDetails.version;\n                        var maxver = 33;\n                        if(window.navigator.userAgent.match('Linux'))\n                            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n                        if(chromever >= 26 && chromever <= maxver) {\n                            // Chrome 26->33 requires some awkward chrome://flags manipulation\n                            constraints = {\n                                video: {\n                                    mandatory: {\n                                        googLeakyBucket: true,\n                                        maxWidth: window.screen.width,\n                                        maxHeight: window.screen.height,\n                                        minFrameRate: media.screenshareFrameRate,\n                                        maxFrameRate: media.screenshareFrameRate,\n                                        chromeMediaSource: 'screen'\n                                    }\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, callbackUserMedia);\n                        } else {\n                            // Chrome 34+ requires an extension\n                            var pending = window.setTimeout(\n                                function () {\n                                    error = new Error('NavigatorUserMediaError');\n                                    error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)';\n                                    pluginHandle.consentDialog(false);\n                                    return callbacks.error(error);\n                                }, 1000);\n                            cache[pending] = [callbackUserMedia, null];\n                            window.postMessage({ type: 'janusGetScreen', id: pending }, '*');\n                        }\n                    } else if (window.navigator.userAgent.match('Firefox')) {\n                        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(ffver >= 33) {\n                            // Firefox 33+ has experimental support for screen sharing\n                            constraints = {\n                                video: {\n                                    mozMediaSource: media.video,\n                                    mediaSource: media.video\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, function (err, stream) {\n                                callbackUserMedia(err, stream);\n                                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                                if (!err) {\n                                    var lastTime = stream.currentTime;\n                                    var polly = window.setInterval(function () {\n                                        if(!stream)\n                                            window.clearInterval(polly);\n                                        if(stream.currentTime == lastTime) {\n                                            window.clearInterval(polly);\n                                            if(stream.onended) {\n                                                stream.onended();\n                                            }\n                                        }\n                                        lastTime = stream.currentTime;\n                                    }, 500);\n                                }\n                            });\n                        } else {\n                            var error = new Error('NavigatorUserMediaError');\n                            error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)';\n                            pluginHandle.consentDialog(false);\n                            callbacks.error(error);\n                            return;\n                        }\n                    }\n\n                    // Wait for events from the Chrome Extension\n                    window.addEventListener('message', function (event) {\n                        if(event.origin != window.location.origin)\n                            return;\n                        if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n                            var data = cache[event.data.id];\n                            var callback = data[0];\n                            delete cache[event.data.id];\n\n                            if (event.data.sourceId === '') {\n                                // user canceled\n                                var error = new Error('NavigatorUserMediaError');\n                                error.name = 'You cancelled the request for permission, giving up...';\n                                pluginHandle.consentDialog(false);\n                                callbacks.error(error);\n                            } else {\n                                constraints = {\n                                    audio: false,\n                                    video: {\n                                        mandatory: {\n                                            chromeMediaSource: 'desktop',\n                                            maxWidth: window.screen.width,\n                                            maxHeight: window.screen.height,\n                                            minFrameRate: media.screenshareFrameRate,\n                                            maxFrameRate: media.screenshareFrameRate,\n                                        },\n                                        optional: [\n                                            {googLeakyBucket: true},\n                                            {googTemporalLayeredScreencast: true}\n                                        ]\n                                    }\n                                };\n                                constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n                                getScreenMedia(constraints, callback, isAudioSendEnabled(media));\n                            }\n                        } else if (event.data.type == 'janusGetScreenPending') {\n                            window.clearTimeout(event.data.id);\n                        }\n                    });\n                    return;\n                }\n            }\n            // If we got here, we're not screensharing\n            if(media === null || media === undefined || media.video !== 'screen') {\n                // Check whether all media sources are actually available or not\n                navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                    var audioExist = devices.some(function(device) {\n                            return device.kind === 'audioinput';\n                        }),\n                        videoExist = devices.some(function(device) {\n                            return device.kind === 'videoinput';\n                        });\n\n                    // Check whether a missing device is really a problem\n                    var audioSend = isAudioSendEnabled(media);\n                    var videoSend = isVideoSendEnabled(media);\n                    var needAudioDevice = isAudioSendRequired(media);\n                    var needVideoDevice = isVideoSendRequired(media);\n                    if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n                        // We need to send either audio or video\n                        var haveAudioDevice = audioSend ? audioExist : false;\n                        var haveVideoDevice = videoSend ? videoExist : false;\n                        if(!haveAudioDevice && !haveVideoDevice) {\n                            // FIXME Should we really give up, or just assume recvonly for both?\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('No capture device found');\n                            return false;\n                        } else if(!haveAudioDevice && needAudioDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Audio capture is required, but no capture device found');\n                            return false;\n                        } else if(!haveVideoDevice && needVideoDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Video capture is required, but no capture device found');\n                            return false;\n                        }\n                    }\n\n                    navigator.mediaDevices.getUserMedia({\n                        audio: audioExist ? audioSupport : false,\n                        video: videoExist ? videoSupport : false\n                    })\n                    .then(function(stream) { pluginHandle.consentDialog(false); streamsDone(handleId, jsep, media, callbacks, stream); })\n                    .catch(function(error) { pluginHandle.consentDialog(false); callbacks.error({code: error.code, name: error.name, message: error.message}); });\n                })\n                .catch(function(error) {\n                    pluginHandle.consentDialog(false);\n                    callbacks.error('enumerateDevices error', error);\n                });\n            }\n        } else {\n            // No need to do a getUserMedia, create offer/answer right away\n            streamsDone(handleId, jsep, media, callbacks);\n        }\n    }\n\n    function prepareWebrtcPeer(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(jsep !== undefined && jsep !== null) {\n            if(config.pc === null) {\n                Janus.warn(\"Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep\");\n                callbacks.error(\"No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep\");\n                return;\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    callbacks.success();\n                }, callbacks.error);\n        } else {\n            callbacks.error(\"Invalid JSEP\");\n        }\n    }\n\n    function createOffer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var simulcast = callbacks.simulcast === true ? true : false;\n        if(!simulcast) {\n            Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \")\");\n        } else {\n            Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \", simulcast=\" + simulcast + \")\");\n        }\n        // https://code.google.com/p/webrtc/issues/detail?id=3508\n        var mediaConstraints = null;\n        if(Janus.webRTCAdapter.browserDetails.browser == \"firefox\" || Janus.webRTCAdapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        // Check if this is Firefox and we've been asked to do simulcasting\n        var sendVideo = isVideoSendEnabled(media);\n        if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === \"firefox\") {\n            // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n            Janus.log(\"Enabling Simulcasting for Firefox (RID)\");\n            var sender = config.pc.getSenders()[1];\n            Janus.log(sender);\n            var parameters = sender.getParameters();\n            Janus.log(parameters);\n            sender.setParameters({encodings: [\n                { rid: \"high\", active: true, priority: \"high\", maxBitrate: 1000000 },\n                { rid: \"medium\", active: true, priority: \"medium\", maxBitrate: 300000 },\n                { rid: \"low\", active: true, priority: \"low\", maxBitrate: 100000 }\n            ]});\n        }\n        config.pc.createOffer(\n            function(offer) {\n                Janus.debug(offer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    if(sendVideo && simulcast) {\n                        // This SDP munging only works with Chrome\n                        if(Janus.webRTCAdapter.browserDetails.browser === \"chrome\") {\n                            Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n                            offer.sdp = mungeSdpForSimulcasting(offer.sdp);\n                        } else if(Janus.webRTCAdapter.browserDetails.browser !== \"firefox\") {\n                            Janus.warn(\"simulcast=true, but this is not Chrome nor Firefox, ignoring\");\n                        }\n                    }\n                    config.mySdp = offer.sdp;\n                    config.pc.setLocalDescription(offer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\n                    Janus.log(\"Offer already sent, not sending it again\");\n                    return;\n                }\n                Janus.log(\"Offer ready\");\n                Janus.debug(callbacks);\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": offer.type,\n                    \"sdp\": offer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function createAnswer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var simulcast = callbacks.simulcast === true ? true : false;\n        if(!simulcast) {\n            Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \")\");\n        } else {\n            Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \", simulcast=\" + simulcast + \")\");\n        }\n        var mediaConstraints = null;\n        if(Janus.webRTCAdapter.browserDetails.browser == \"firefox\" || Janus.webRTCAdapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        // Check if this is Firefox and we've been asked to do simulcasting\n        var sendVideo = isVideoSendEnabled(media);\n        if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === \"firefox\") {\n            // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n            Janus.log(\"Enabling Simulcasting for Firefox (RID)\");\n            var sender = config.pc.getSenders()[1];\n            Janus.log(sender);\n            var parameters = sender.getParameters();\n            Janus.log(parameters);\n            sender.setParameters({encodings: [\n                { rid: \"high\", active: true, priority: \"high\", maxBitrate: 1000000 },\n                { rid: \"medium\", active: true, priority: \"medium\", maxBitrate: 300000 },\n                { rid: \"low\", active: true, priority: \"low\", maxBitrate: 100000 }\n            ]});\n        }\n        config.pc.createAnswer(\n            function(answer) {\n                Janus.debug(answer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    if(sendVideo && simulcast) {\n                        // This SDP munging only works with Chrome\n                        if(Janus.webRTCAdapter.browserDetails.browser === \"chrome\") {\n                            // FIXME Apparently trying to simulcast when answering breaks video in Chrome...\n                            //~ Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n                            //~ answer.sdp = mungeSdpForSimulcasting(answer.sdp);\n                            Janus.warn(\"simulcast=true, but this is an answer, and video breaks in Chrome if we enable it\");\n                        } else if(Janus.webRTCAdapter.browserDetails.browser !== \"firefox\") {\n                            Janus.warn(\"simulcast=true, but this is not Chrome nor Firefox, ignoring\");\n                        }\n                    }\n                    config.mySdp = answer.sdp;\n                    config.pc.setLocalDescription(answer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\t// FIXME badly\n                    Janus.log(\"Answer already sent, not sending it again\");\n                    return;\n                }\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": answer.type,\n                    \"sdp\": answer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function sendSDP(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle, not sending anything\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Sending offer/answer SDP...\");\n        if(config.mySdp === null || config.mySdp === undefined) {\n            Janus.warn(\"Local SDP instance is invalid, not sending anything...\");\n            return;\n        }\n        config.mySdp = {\n            \"type\": config.pc.localDescription.type,\n            \"sdp\": config.pc.localDescription.sdp\n        };\n        if(config.sdpSent) {\n            Janus.log(\"Offer/Answer SDP already sent, not sending it again\");\n            return;\n        }\n        if(config.trickle === false)\n            config.mySdp[\"trickle\"] = false;\n        Janus.debug(callbacks);\n        config.sdpSent = true;\n        callbacks.success(config.mySdp);\n    }\n\n    function getVolume(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return 0;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Start getting the volume, if getStats is supported\n        if(config.pc.getStats && Janus.webRTCAdapter.browserDetails.browser == \"chrome\") {\t// FIXME\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return 0;\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.volume.timer === null || config.volume.timer === undefined) {\n                Janus.log(\"Starting volume monitor\");\n                config.volume.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('audioOutputLevel')) {\n                                config.volume.value = res.stat('audioOutputLevel');\n                            }\n                        }\n                    });\n                }, 200);\n                return 0;\t// We don't have a volume to return yet\n            }\n            return config.volume.value;\n        } else {\n            Janus.log(\"Getting the remote volume unsupported by browser\");\n            return 0;\n        }\n    }\n\n    function isMuted(handleId, video) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return true;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return true;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return true;\n        }\n        if(video) {\n            // Check video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return true;\n            }\n            return !config.myStream.getVideoTracks()[0].enabled;\n        } else {\n            // Check audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return true;\n            }\n            return !config.myStream.getAudioTracks()[0].enabled;\n        }\n    }\n\n    function mute(handleId, video, mute) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return false;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return false;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return false;\n        }\n        if(video) {\n            // Mute/unmute video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return false;\n            }\n            config.myStream.getVideoTracks()[0].enabled = mute ? false : true;\n            return true;\n        } else {\n            // Mute/unmute audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return false;\n            }\n            config.myStream.getAudioTracks()[0].enabled = mute ? false : true;\n            return true;\n        }\n    }\n\n    function getBitrate(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return \"Invalid handle\";\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined)\n            return \"Invalid PeerConnection\";\n        // Start getting the bitrate, if getStats is supported\n        if(config.pc.getStats) {\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (via getStats)\");\n                config.bitrate.timer = setInterval(function() {\n                    config.pc.getStats()\n                    .then(function(stats) {\n                        stats.forEach(function (res) {\n                            if(!res)\n                                return;\n                            var inStats = false;\n                            // Check if these are statistics on incoming media\n                            if((res.mediaType === \"video\" || res.id.toLowerCase().indexOf(\"video\") > -1) &&\n                                res.type === \"inbound-rtp\" && res.id.indexOf(\"rtcp\") < 0) {\n                                // New stats\n                                inStats = true;\n                            } else if(res.type == 'ssrc' && res.bytesReceived &&\n                                (res.googCodecName === \"VP8\" || res.googCodecName === \"\")) {\n                                // Older Chromer versions\n                                inStats = true;\n                            }\n                            // Parse stats now\n                            if(inStats) {\n                                config.bitrate.bsnow = res.bytesReceived;\n                                config.bitrate.tsnow = res.timestamp;\n                                if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                                    // Skip this round\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                } else {\n                                    // Calculate bitrate\n                                    var timePassed = config.bitrate.tsnow - config.bitrate.tsbefore;\n                                    if(Janus.webRTCAdapter.browserDetails.browser == \"safari\")\n                                        timePassed = timePassed/1000;\t// Apparently the timestamp is in microseconds, in Safari\n                                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / timePassed);\n                                    config.bitrate.value = bitRate + ' kbits/sec';\n                                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                }\n                            }\n                        });\n                    });\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else {\n            Janus.warn(\"Getting the video bitrate unsupported by browser\");\n            return \"Feature unsupported by browser\";\n        }\n    }\n\n    function webrtcError(error) {\n        Janus.error(\"WebRTC error:\", error);\n    }\n\n    function cleanupWebrtc(handleId, hangupRequest) {\n        Janus.log(\"Cleaning WebRTC stuff\");\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined) {\n            // Nothing to clean\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config !== null && config !== undefined) {\n            if(hangupRequest === true) {\n                // Send a hangup request (we don't really care about the response)\n                var request = { \"janus\": \"hangup\", \"transaction\": Janus.randomString(12) };\n                if(token !== null && token !== undefined)\n                    request[\"token\"] = token;\n                if(apisecret !== null && apisecret !== undefined)\n                    request[\"apisecret\"] = apisecret;\n                Janus.debug(\"Sending hangup request (handle=\" + handleId + \"):\");\n                Janus.debug(request);\n                if(websockets) {\n                    request[\"session_id\"] = sessionId;\n                    request[\"handle_id\"] = handleId;\n                    ws.send(JSON.stringify(request));\n                } else {\n                    Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n                        verb: 'POST',\n                        withCredentials: withCredentials,\n                        data: request\n                    });\n                }\n            }\n            // Cleanup stack\n            config.remoteStream = null;\n            if(config.volume.timer)\n                clearInterval(config.volume.timer);\n            config.volume.value = null;\n            if(config.bitrate.timer)\n                clearInterval(config.bitrate.timer);\n            config.bitrate.timer = null;\n            config.bitrate.bsnow = null;\n            config.bitrate.bsbefore = null;\n            config.bitrate.tsnow = null;\n            config.bitrate.tsbefore = null;\n            config.bitrate.value = null;\n            try {\n                // Try a MediaStreamTrack.stop() for each track\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream tracks\");\n                    var tracks = config.myStream.getTracks();\n                    for(var i in tracks) {\n                        var mst = tracks[i];\n                        Janus.log(mst);\n                        if(mst !== null && mst !== undefined)\n                            mst.stop();\n                    }\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            config.streamExternal = false;\n            config.myStream = null;\n            // Close PeerConnection\n            try {\n                config.pc.close();\n            } catch(e) {\n                // Do nothing\n            }\n            config.pc = null;\n            config.mySdp = null;\n            config.iceDone = false;\n            config.sdpSent = false;\n            config.dataChannel = null;\n            config.dtmfSender = null;\n        }\n        pluginHandle.oncleanup();\n    }\n\n    // Helper method to munge an SDP to enable simulcasting (Chrome only)\n    function mungeSdpForSimulcasting(sdp) {\n        // Let's munge the SDP to add the attributes for enabling simulcasting\n        // (based on https://gist.github.com/ggarber/a19b4c33510028b9c657)\n        var lines = sdp.split(\"\\r\\n\");\n        var video = false;\n        var ssrc = [ -1 ], ssrc_fid = -1;\n        var cname = null, msid = null, mslabel = null, label = null;\n        var insertAt = -1;\n        for(var i=0; i<lines.length; i++) {\n            var mline = lines[i].match(/m=(\\w+) */);\n            if(mline) {\n                var medium = mline[1];\n                if(medium === \"video\") {\n                    // New video m-line: make sure it's the first one\n                    if(ssrc[0] < 0) {\n                        video = true;\n                    } else {\n                        // We're done, let's add the new attributes here\n                        insertAt = i;\n                        break;\n                    }\n                } else {\n                    // New non-video m-line: do we have what we were looking for?\n                    if(ssrc[0] > -1) {\n                        // We're done, let's add the new attributes here\n                        insertAt = i;\n                        break;\n                    }\n                }\n                continue;\n            }\n            if(!video)\n                continue;\n            var fid = lines[i].match(/a=ssrc-group:FID (\\d+) (\\d+)/);\n            if(fid) {\n                ssrc[0] = fid[1];\n                ssrc_fid = fid[2];\n                lines.splice(i, 1); i--;\n                continue;\n            }\n            if(ssrc[0]) {\n                var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n                if(match) {\n                    cname = match[1];\n                }\n                match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n                if(match) {\n                    msid = match[1];\n                }\n                match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n                if(match) {\n                    mslabel = match[1];\n                }\n                match = lines[i].match('a=ssrc:' + ssrc + ' label:(.+)')\n                if(match) {\n                    label = match[1];\n                }\n                if(lines[i].indexOf('a=ssrc:' + ssrc_fid) === 0) {\n                    lines.splice(i, 1); i--;\n                    continue;\n                }\n                if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n                    lines.splice(i, 1); i--;\n                    continue;\n                }\n            }\n            if(lines[i].length == 0) {\n                lines.splice(i, 1); i--;\n                continue;\n            }\n        }\n        if(ssrc[0] < 0) {\n            // Couldn't find a FID attribute, let's just take the first video SSRC we find\n            insertAt = -1;\n            video = false;\n            for(var i=0; i<lines.length; i++) {\n                var mline = lines[i].match(/m=(\\w+) */);\n                if(mline) {\n                    var medium = mline[1];\n                    if(medium === \"video\") {\n                        // New video m-line: make sure it's the first one\n                        if(ssrc[0] < 0) {\n                            video = true;\n                        } else {\n                            // We're done, let's add the new attributes here\n                            insertAt = i;\n                            break;\n                        }\n                    } else {\n                        // New non-video m-line: do we have what we were looking for?\n                        if(ssrc[0] > -1) {\n                            // We're done, let's add the new attributes here\n                            insertAt = i;\n                            break;\n                        }\n                    }\n                    continue;\n                }\n                if(!video)\n                    continue;\n                if(ssrc[0] < 0) {\n                    var value = lines[i].match(/a=ssrc:(\\d+)/);\n                    if(value) {\n                        ssrc[0] = value[1];\n                        lines.splice(i, 1); i--;\n                        continue;\n                    }\n                } else {\n                    var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n                    if(match) {\n                        cname = match[1];\n                    }\n                    match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n                    if(match) {\n                        msid = match[1];\n                    }\n                    match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n                    if(match) {\n                        mslabel = match[1];\n                    }\n                    match = lines[i].match('a=ssrc:' + ssrc + ' label:(.+)')\n                    if(match) {\n                        label = match[1];\n                    }\n                    if(lines[i].indexOf('a=ssrc:' + ssrc_fid) === 0) {\n                        lines.splice(i, 1); i--;\n                        continue;\n                    }\n                    if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n                        lines.splice(i, 1); i--;\n                        continue;\n                    }\n                }\n                if(lines[i].length == 0) {\n                    lines.splice(i, 1); i--;\n                    continue;\n                }\n            }\n        }\n        if(ssrc[0] < 0) {\n            // Still nothing, let's just return the SDP we were asked to munge\n            Janus.warn(\"Couldn't find the video SSRC, simulcasting NOT enabled\");\n            return sdp;\n        }\n        if(insertAt < 0) {\n            // Append at the end\n            insertAt = lines.length;\n        }\n        // Generate a couple of SSRCs\n        ssrc[1] = Math.floor(Math.random()*0xFFFFFFFF);\n        ssrc[2] = Math.floor(Math.random()*0xFFFFFFFF);\n        // Add attributes to the SDP\n        for(var i=0; i<ssrc.length; i++) {\n            if(cname) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' cname:' + cname);\n                insertAt++;\n            }\n            if(msid) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' msid:' + msid);\n                insertAt++;\n            }\n            if(mslabel) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' mslabel:' + msid);\n                insertAt++;\n            }\n            if(label) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' label:' + msid);\n                insertAt++;\n            }\n        }\n        lines.splice(insertAt, 0, 'a=ssrc-group:SIM ' + ssrc[0] + ' ' + ssrc[1] + ' ' + ssrc[2]);\n        sdp = lines.join(\"\\r\\n\");\n        if(!sdp.endsWith(\"\\r\\n\"))\n            sdp += \"\\r\\n\";\n        return sdp;\n    }\n\n    // Helper methods to parse a media object\n    function isAudioSendEnabled(media) {\n        Janus.debug(\"isAudioSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioSend === undefined || media.audioSend === null)\n            return true;\t// Default\n        return (media.audioSend === true);\n    }\n\n    function isAudioSendRequired(media) {\n        Janus.debug(\"isAudioSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.audio === false || media.audioSend === false)\n            return false;\t// If we're not asking to capture audio, it's not required\n        if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n            return false;\t// Default\n        return (media.failIfNoAudio === true);\n    }\n\n    function isAudioRecvEnabled(media) {\n        Janus.debug(\"isAudioRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioRecv === undefined || media.audioRecv === null)\n            return true;\t// Default\n        return (media.audioRecv === true);\n    }\n\n    function isVideoSendEnabled(media) {\n        Janus.debug(\"isVideoSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoSend === undefined || media.videoSend === null)\n            return true;\t// Default\n        return (media.videoSend === true);\n    }\n\n    function isVideoSendRequired(media) {\n        Janus.debug(\"isVideoSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.video === false || media.videoSend === false)\n            return false;\t// If we're not asking to capture video, it's not required\n        if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n            return false;\t// Default\n        return (media.failIfNoVideo === true);\n    }\n\n    function isVideoRecvEnabled(media) {\n        Janus.debug(\"isVideoRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoRecv === undefined || media.videoRecv === null)\n            return true;\t// Default\n        return (media.videoRecv === true);\n    }\n\n    function isDataEnabled(media) {\n        Janus.debug(\"isDataEnabled:\", media);\n        if(Janus.webRTCAdapter.browserDetails.browser == \"edge\") {\n            Janus.warn(\"Edge doesn't support data channels yet\");\n            return false;\n        }\n        if(media === undefined || media === null)\n            return false;\t// Default\n        return (media.data === true);\n    }\n\n    function isTrickleEnabled(trickle) {\n        Janus.debug(\"isTrickleEnabled:\", trickle);\n        if(trickle === undefined || trickle === null)\n            return true;\t// Default is true\n        return (trickle === true);\n    }\n};\n\nmodule.exports = Janus;\n\n\n\n/***/ }),\n\n/***/ 2352:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = __webpack_require__(2353);\nmodule.exports = adapterFactory({window: global.window});\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2353:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = __webpack_require__(2035);\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = __webpack_require__(2354) || null;\n  var edgeShim = __webpack_require__(2356) || null;\n  var firefoxShim = __webpack_require__(2359) || null;\n  var safariShim = __webpack_require__(2361) || null;\n  var commonShim = __webpack_require__(2362) || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n\n\n\n/***/ }),\n\n/***/ 2354:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = __webpack_require__(2035);\nvar logging = utils.log;\n\nvar chromeShim = {\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 64) {\n      return;\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var self = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      self._reverseStreams = self._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return self._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimAddTrackRemoveTrack: chromeShim.shimAddTrackRemoveTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(2355)\n};\n\n\n\n/***/ }),\n\n/***/ 2355:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = __webpack_require__(2035);\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 2356:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = __webpack_require__(2035);\nvar shimRTCPeerConnection = __webpack_require__(2357);\n\nmodule.exports = {\n  shimGetUserMedia: __webpack_require__(2358),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 2357:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = __webpack_require__(2068);\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all field are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  var RTCPeerConnection = function(config) {\n    var self = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          self[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.onicecandidate = null;\n    this.onaddstream = null;\n    this.ontrack = null;\n    this.onremovestream = null;\n    this.onsignalingstatechange = null;\n    this.oniceconnectionstatechange = null;\n    this.onicegatheringstatechange = null;\n    this.onnegotiationneeded = null;\n    this.ondatachannel = null;\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      var e = new Error('rtcpMuxPolicy \\'negotiate\\' is not supported');\n      e.name = 'NotSupportedError';\n      throw(e);\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers = new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        });\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onicegatheringstatechange === 'function') {\n      this.onicegatheringstatechange(event);\n    }\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (whih is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    this.transceivers.push(transceiver);\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var self = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        self.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        self.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var idx = this.localStreams.indexOf(stream);\n    if (idx > -1) {\n      this.localStreams.splice(idx, 1);\n      this._maybeFireNegotiationNeeded();\n    }\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var self = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].candidates = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (self.transceivers[sdpMLineIndex].candidates !== null) {\n        self.transceivers[sdpMLineIndex].candidates.push(event.candidate);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var self = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var candidates = this.transceivers[sdpMLineIndex].candidates;\n    this.transceivers[sdpMLineIndex].candidates = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (self.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // dpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        event.candidate.candidate = SDPUtils.writeCandidate(cand);\n      }\n\n      // update local description.\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      self.localDescription.sdp = sections.join('');\n      var complete = self.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (self.iceGatheringState !== 'gathering') {\n        self.iceGatheringState = 'gathering';\n        self._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        self.dispatchEvent(event);\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(event);\n        }\n      }\n      if (complete) {\n        self.dispatchEvent(new Event('icecandidate'));\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(new Event('icecandidate'));\n        }\n        self.iceGatheringState = 'complete';\n        self._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      candidates.forEach(function(candidate) {\n        var e = new Event('RTCIceGatherEvent');\n        e.candidate = candidate;\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var self = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      self._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      self._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      self._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      params.encodings = transceiver.recvEncodingParameters;\n      params.rtcp = {\n        cname: transceiver.rtcpParameters.cname,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set local ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        self.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        self._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = self.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n\n        if (!rejected && !transceiver.isDatachannel) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!self.usingBundle || sdpMLineIndex === 0) {\n            self._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          self._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    this.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-local-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n\n    // If a success callback was provided, emit ICE candidates after it\n    // has been executed. Otherwise, emit callback after the Promise is\n    // resolved.\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    return new Promise(function(resolve) {\n      if (cb) {\n        cb.apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set remote ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var streams = {};\n    this.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    this.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      this.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      this.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (kind === 'application' && protocol === 'DTLS/SCTP') {\n        self.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          isDatachannel: true\n        };\n        return;\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          self.transceivers[sdpMLineIndex]) {\n        self._disposeIceAndDtlsTransports(sdpMLineIndex);\n        self.transceivers[sdpMLineIndex].iceGatherer =\n            self.transceivers[0].iceGatherer;\n        self.transceivers[sdpMLineIndex].iceTransport =\n            self.transceivers[0].iceTransport;\n        self.transceivers[sdpMLineIndex].dtlsTransport =\n            self.transceivers[0].dtlsTransport;\n        if (self.transceivers[sdpMLineIndex].rtpSender) {\n          self.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n        if (self.transceivers[sdpMLineIndex].rtpReceiver) {\n          self.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex] ||\n            self._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            stream.addTrack(track);\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        self._transceive(self.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        self.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        self.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        self.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        self._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            streams[remoteMsid.stream].addTrack(track);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            streams.default.addTrack(track);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (this._dtlsRole === undefined) {\n      this._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    this.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-remote-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (self.remoteStreams.indexOf(stream) === -1) {\n          self.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            self.dispatchEvent(event);\n            if (typeof self.onaddstream === 'function') {\n              self.onaddstream(event);\n            }\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          var trackEvent = new Event('track');\n          trackEvent.track = track;\n          trackEvent.receiver = receiver;\n          trackEvent.transceiver = {receiver: receiver};\n          trackEvent.streams = [stream];\n          window.setTimeout(function() {\n            self.dispatchEvent(trackEvent);\n            if (typeof self.ontrack === 'function') {\n              self.ontrack(trackEvent);\n            }\n          });\n        });\n      }\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(self && self.transceivers)) {\n        return;\n      }\n      self.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return new Promise(function(resolve) {\n      if (args.length > 1 && typeof args[1] === 'function') {\n        args[1].apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onsignalingstatechange === 'function') {\n      this.onsignalingstatechange(event);\n    }\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var self = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (self.needNegotiation === false) {\n        return;\n      }\n      self.needNegotiation = false;\n      var event = new Event('negotiationneeded');\n      self.dispatchEvent(event);\n      if (typeof self.onnegotiationneeded === 'function') {\n        self.onnegotiationneeded(event);\n      }\n    }, 0);\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0 || states.checking > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0 || states.completed > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this.dispatchEvent(event);\n      if (typeof this.oniceconnectionstatechange === 'function') {\n        this.oniceconnectionstatechange(event);\n      }\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var self = this;\n    var args = arguments;\n\n    var offerOptions;\n    if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n      offerOptions = arguments[0];\n    } else if (arguments.length === 3) {\n      offerOptions = arguments[2];\n    }\n\n    var numAudioTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        this._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        this._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n            self.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (this._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, self._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && self.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !self.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var self = this;\n    var args = arguments;\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    if (this.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.splitSections(\n        this.remoteDescription.sdp).length - 1;\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.isDatachannel) {\n        sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n            'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, self._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var err;\n    var sections;\n    if (!candidate || candidate.candidate === '') {\n      for (var j = 0; j < this.transceivers.length; j++) {\n        if (this.transceivers[j].isDatachannel) {\n          continue;\n        }\n        this.transceivers[j].iceTransport.addRemoteCandidate({});\n        sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n        sections[j + 1] += 'a=end-of-candidates\\r\\n';\n        this.remoteDescription.sdp = sections.join('');\n        if (this.usingBundle) {\n          break;\n        }\n      }\n    } else if (!(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) {\n      throw new TypeError('sdpMLineIndex or sdpMid required');\n    } else if (!this.remoteDescription) {\n      err = new Error('Can not add ICE candidate without ' +\n          'a remote description');\n      err.name = 'InvalidStateError';\n    } else {\n      var sdpMLineIndex = candidate.sdpMLineIndex;\n      if (candidate.sdpMid) {\n        for (var i = 0; i < this.transceivers.length; i++) {\n          if (this.transceivers[i].mid === candidate.sdpMid) {\n            sdpMLineIndex = i;\n            break;\n          }\n        }\n      }\n      var transceiver = this.transceivers[sdpMLineIndex];\n      if (transceiver) {\n        if (transceiver.isDatachannel) {\n          return Promise.resolve();\n        }\n        var cand = Object.keys(candidate.candidate).length > 0 ?\n            SDPUtils.parseCandidate(candidate.candidate) : {};\n        // Ignore Chrome's invalid candidates since Edge does not like them.\n        if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n          return Promise.resolve();\n        }\n        // Ignore RTCP candidates, we assume RTCP-MUX.\n        if (cand.component && cand.component !== 1) {\n          return Promise.resolve();\n        }\n        // when using bundle, avoid adding candidates to the wrong\n        // ice transport. And avoid adding candidates added in the SDP.\n        if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n            transceiver.iceTransport !== this.transceivers[0].iceTransport)) {\n          if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n            err = new Error('Can not add ICE candidate');\n            err.name = 'OperationError';\n          }\n        }\n\n        if (!err) {\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[sdpMLineIndex + 1] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      } else {\n        err = new Error('Can not add ICE candidate');\n        err.name = 'OperationError';\n      }\n    }\n    var args = arguments;\n    return new Promise(function(resolve, reject) {\n      if (err) {\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [err]);\n        }\n        reject(err);\n      } else {\n        if (args.length > 1 && typeof args[1] === 'function') {\n          args[1].apply(null);\n        }\n        resolve();\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        if (cb) {\n          cb.apply(null, results);\n        }\n        resolve(results);\n      });\n    });\n  };\n  return RTCPeerConnection;\n};\n\n\n\n/***/ }),\n\n/***/ 2358:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n/***/ }),\n\n/***/ 2359:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = __webpack_require__(2035);\n\nvar firefoxShim = {\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if ('removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimRemoveStream: firefoxShim.shimRemoveStream,\n  shimGetUserMedia: __webpack_require__(2360)\n};\n\n\n\n/***/ }),\n\n/***/ 2360:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = __webpack_require__(2035);\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n/***/ }),\n\n/***/ 2361:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = __webpack_require__(2035);\n\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var self = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(self, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var self = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            self.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            var stream = e.streams[0];\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = e.streams[0];\n            this.dispatchEvent(event);\n          }.bind(this));\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            audioTransceiver.setDirection('sendonly');\n          } else if (audioTransceiver.direction === 'recvonly') {\n            audioTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimCallbacksAPI: safariShim.shimCallbacksAPI,\n  shimLocalStreamsAPI: safariShim.shimLocalStreamsAPI,\n  shimRemoteStreamsAPI: safariShim.shimRemoteStreamsAPI,\n  shimGetUserMedia: safariShim.shimGetUserMedia,\n  shimRTCIceServerUrls: safariShim.shimRTCIceServerUrls,\n  shimTrackEventTransceiver: safariShim.shimTrackEventTransceiver,\n  shimCreateOfferLegacy: safariShim.shimCreateOfferLegacy\n  // TODO\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n/***/ }),\n\n/***/ 2362:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = __webpack_require__(2068);\nvar utils = __webpack_require__(2035);\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 2363:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = WebrtcHeader;\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction WebrtcHeader(props) {\n    var title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n        id: 'webrtc.header',\n        defaultMessage: 'Call with {username}',\n        values: {\n            username: props.username\n        }\n    });\n\n    var closeSidebarTooltip = _react2.default.createElement(\n        _reactBootstrap.Tooltip,\n        { id: 'closeSidebarTooltip' },\n        _react2.default.createElement(_reactIntl.FormattedMessage, {\n            id: 'rhs_header.closeTooltip',\n            defaultMessage: 'Close Sidebar'\n        })\n    );\n\n    var expandSidebarTooltip = _react2.default.createElement(\n        _reactBootstrap.Tooltip,\n        { id: 'expandSidebarTooltip' },\n        _react2.default.createElement(_reactIntl.FormattedMessage, {\n            id: 'rhs_header.expandTooltip',\n            defaultMessage: 'Expand Sidebar'\n        })\n    );\n\n    var shrinkSidebarTooltip = _react2.default.createElement(\n        _reactBootstrap.Tooltip,\n        { id: 'shrinkSidebarTooltip' },\n        _react2.default.createElement(_reactIntl.FormattedMessage, {\n            id: 'rhs_header.expandTooltip',\n            defaultMessage: 'Shrink Sidebar'\n        })\n    );\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'sidebar--right__header' },\n        _react2.default.createElement(\n            'span',\n            { className: 'sidebar--right__title' },\n            title\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'pull-right' },\n            _react2.default.createElement(\n                'button',\n                {\n                    type: 'button',\n                    className: 'sidebar--right__expand',\n                    'aria-label': 'Expand',\n                    onClick: props.toggleSize\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus'],\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: expandSidebarTooltip\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-expand' })\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus'],\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: shrinkSidebarTooltip\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-compress' })\n                )\n            ),\n            _react2.default.createElement(\n                'button',\n                {\n                    type: 'button',\n                    className: 'sidebar--right__close',\n                    'aria-label': 'Close',\n                    title: 'Close',\n                    onClick: props.onClose\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: closeSidebarTooltip\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                )\n            )\n        )\n    );\n} // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nWebrtcHeader.propTypes = {\n    username: _propTypes2.default.string.isRequired,\n    onClose: _propTypes2.default.func.isRequired,\n    toggleSize: _propTypes2.default.func\n};\n\n/***/ }),\n\n/***/ 2364:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _modals = __webpack_require__(404);\n\nvar _modal_controller = __webpack_require__(2365);\n\nvar _modal_controller2 = _interopRequireDefault(_modal_controller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        modals: state.views.modals\n    });\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            closeModal: _modals.closeModal\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_modal_controller2.default);\n\n/***/ }),\n\n/***/ 2365:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _objectWithoutProperties2 = __webpack_require__(102);\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ModalController = function (_React$Component) {\n    (0, _inherits3.default)(ModalController, _React$Component);\n\n    function ModalController() {\n        (0, _classCallCheck3.default)(this, ModalController);\n        return (0, _possibleConstructorReturn3.default)(this, (ModalController.__proto__ || (0, _getPrototypeOf2.default)(ModalController)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(ModalController, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                modals = _props.modals,\n                props = (0, _objectWithoutProperties3.default)(_props, ['modals']);\n            var modalState = modals.modalState;\n\n\n            if (!modals) {\n                return _react2.default.createElement('div', null);\n            }\n\n            var modalOutput = [];\n\n            for (var modalId in modalState) {\n                if (modalState.hasOwnProperty(modalId)) {\n                    var modal = modalState[modalId];\n                    if (modal.open) {\n                        var modalComponent = _react2.default.createElement(modal.dialogType, (0, _assign2.default)({}, modal.dialogProps, {\n                            onHide: props.actions.closeModal.bind(this, modalId),\n                            key: modalId + '_modal'\n                        }));\n\n                        modalOutput.push(modalComponent);\n                    }\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                modalOutput\n            );\n        }\n    }]);\n    return ModalController;\n}(_react2.default.Component);\n\nModalController.propTypes = {\n    modals: _propTypes2.default.object.isRequired,\n    actions: _propTypes2.default.shape({\n        closeModal: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = ModalController;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 7.8aae2556af2f13d4beaa.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getMyChannelMembers, viewChannel} from 'mattermost-redux/actions/channels';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\n\nimport NeedsTeam from './needs_team.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        theme: getTheme(state)\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            viewChannel,\n            getMyChannelMembers\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NeedsTeam);\n\n\n\n// WEBPACK FOOTER //\n// ./components/needs_team/index.js","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  deprecated: utils.deprecated,\n  disableLog: utils.disableLog,\n  disableWarnings: utils.disableWarnings,\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/utils.js\n// module id = 2035\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class GetLinkModal extends React.PureComponent {\n    static propTypes = {\n        show: PropTypes.bool.isRequired,\n        onHide: PropTypes.func.isRequired,\n        title: PropTypes.string.isRequired,\n        helpText: PropTypes.string,\n        link: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {\n        helpText: null\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            copiedLink: false\n        };\n    }\n\n    onHide = () => {\n        this.setState({copiedLink: false});\n        this.props.onHide();\n    }\n\n    copyLink = () => {\n        const textarea = this.refs.textarea;\n        textarea.focus();\n        textarea.setSelectionRange(0, this.props.link.length);\n\n        try {\n            if (document.execCommand('copy')) {\n                this.setState({copiedLink: true});\n            } else {\n                this.setState({copiedLink: false});\n            }\n        } catch (err) {\n            this.setState({copiedLink: false});\n        }\n    }\n\n    render() {\n        let helpText = null;\n        if (this.props.helpText) {\n            helpText = (\n                <p>\n                    {this.props.helpText}\n                    <br/>\n                    <br/>\n                </p>\n            );\n        }\n\n        let copyLink = null;\n\n        if (document.queryCommandSupported('copy')) {\n            copyLink = (\n                <button\n                    id='linkModalCopyLink'\n                    data-copy-btn='true'\n                    type='button'\n                    className='btn btn-primary pull-left'\n                    onClick={this.copyLink}\n                >\n                    <FormattedMessage\n                        id='get_link.copy'\n                        defaultMessage='Copy Link'\n                    />\n                </button>\n            );\n        }\n\n        const linkText = (\n            <textarea\n                id='linkModalTextArea'\n                className='form-control no-resize min-height'\n                ref='textarea'\n                value={this.props.link}\n                onClick={this.copyLink}\n                readOnly={true}\n            />\n        );\n\n        let copyLinkConfirm = null;\n        if (this.state.copiedLink) {\n            copyLinkConfirm = (\n                <p className='alert alert-success alert--confirm'>\n                    <i className='fa fa-check'/>\n                    <FormattedMessage\n                        id='get_link.clipboard'\n                        defaultMessage=' Link copied'\n                    />\n                </p>\n            );\n        }\n\n        return (\n            <Modal\n                show={this.props.show}\n                onHide={this.onHide}\n            >\n                <Modal.Header closeButton={true}>\n                    <h4 className='modal-title'>{this.props.title}</h4>\n                </Modal.Header>\n                <Modal.Body>\n                    {helpText}\n                    {linkText}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        id='linkModalCloseButton'\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='get_link.close'\n                            defaultMessage='Close'\n                        />\n                    </button>\n                    {copyLink}\n                    {copyLinkConfirm}\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_link_modal.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = require('./Scrollbars');\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/index.js\n// module id = 2064\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar prefix = require('prefix-style')\nvar toCamelCase = require('to-camel-case')\nvar cache = { 'float': 'cssFloat' }\nvar addPxToStyle = require('add-px-to-style')\n\nfunction style (element, property, value) {\n  var camel = cache[property]\n  if (typeof camel === 'undefined') {\n    camel = detect(property)\n  }\n\n  // may be false if CSS prop is unsupported\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel]\n    }\n\n    element.style[camel] = addPxToStyle(camel, value)\n  }\n}\n\nfunction each (element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k])\n    }\n  }\n}\n\nfunction detect (cssProp) {\n  var camel = toCamelCase(cssProp)\n  var result = prefix(camel)\n  cache[camel] = cache[cssProp] = cache[result] = result\n  return result\n}\n\nfunction set () {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1]\n    } else {\n      each(arguments[0], arguments[1])\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2])\n  }\n}\n\nmodule.exports = set\nmodule.exports.set = set\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '')\n      return obj\n    }, {})\n  } else {\n    return style(element, properties || '')\n  }\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dom-css/index.js\n// module id = 2065\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport * as UserAgent from 'utils/user_agent.jsx';\n\nexport default class SettingsSidebar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handleClick(tab, e) {\n        e.preventDefault();\n        this.props.updateTab(tab.name);\n        $(e.target).closest('.settings-modal').addClass('display--content');\n    }\n    componentDidMount() {\n        if (UserAgent.isFirefox()) {\n            $('.settings-modal .settings-table .nav').addClass('position--top');\n        }\n    }\n    render() {\n        const tabList = this.props.tabs.map((tab) => {\n            const key = `${tab.name}_li`;\n            let className = '';\n            if (this.props.activeTab === tab.name) {\n                className = 'active';\n            }\n\n            return (\n                <li\n                    id={`${tab.name}Li`}\n                    key={key}\n                    className={className}\n                >\n                    <button\n                        id={`${tab.name}Button`}\n                        className='cursor--pointer style--none'\n                        onClick={this.handleClick.bind(null, tab)}\n                    >\n                        <i className={tab.icon}/>\n                        {tab.uiName}\n                    </button>\n                </li>\n            );\n        });\n\n        return (\n            <div>\n                <ul\n                    id='tabList'\n                    className='nav nav-pills nav-stacked'\n                >\n                    {tabList}\n                </ul>\n            </div>\n        );\n    }\n}\n\nSettingsSidebar.propTypes = {\n    tabs: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        uiName: PropTypes.string.isRequired,\n        icon: PropTypes.string.isRequired\n    })).isRequired,\n    activeTab: PropTypes.string,\n    updateTab: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/settings_sidebar.jsx","module.exports = __webpack_public_path__ + \"files/a4a8b617d1f6c75ad4bf17bafc2aec6a.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./images/ring.mp3\n// module id = 2067\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return {\n    kind: mline[0].substr(2),\n    port: parseInt(mline[1], 10),\n    protocol: mline[2],\n    fmt: mline.slice(3).join(' ')\n  };\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/sdp/sdp.js\n// module id = 2068\n// module chunks = 7","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {browserHistory} from 'react-router';\n\nimport iNoBounce from 'inobounce';\n\nimport {startPeriodicStatusUpdates, stopPeriodicStatusUpdates} from 'actions/status_actions.jsx';\nimport {loadProfilesForSidebar} from 'actions/user_actions.jsx';\nimport {startPeriodicSync, stopPeriodicSync} from 'actions/websocket_actions.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Pluggable from 'plugins/pluggable';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport AnnouncementBar from 'components/announcement_bar';\nimport DeletePostModal from 'components/delete_post_modal.jsx';\nimport EditPostModal from 'components/edit_post_modal';\nimport GetPostLinkModal from 'components/get_post_link_modal';\nimport GetTeamInviteLinkModal from 'components/get_team_invite_link_modal';\nimport GetPublicLinkModal from 'components/get_public_link_modal';\nimport InviteMemberModal from 'components/invite_member_modal.jsx';\nimport LeaveTeamModal from 'components/leave_team_modal.jsx';\nimport LeavePrivateChannelModal from 'components/modals/leave_private_channel_modal.jsx';\nimport Navbar from 'components/navbar';\nimport RemovedFromChannelModal from 'components/removed_from_channel_modal.jsx';\nimport ResetStatusModal from 'components/reset_status_modal';\nimport ShortcutsModal from 'components/shortcuts_modal.jsx';\nimport SidebarRight from 'components/sidebar_right';\nimport SidebarRightMenu from 'components/sidebar_right_menu';\nimport TeamSettingsModal from 'components/team_settings_modal.jsx';\nimport ImportThemeModal from 'components/user_settings/import_theme_modal.jsx';\nimport UserSettingsModal from 'components/user_settings/user_settings_modal.jsx';\nimport WebrtcNotification from 'components/webrtc/components/webrtc_notification.jsx';\nimport WebrtcSidebar from 'components/webrtc/components/webrtc_sidebar.jsx';\nimport ModalController from 'components/modal_controller';\n\nconst TutorialSteps = Constants.TutorialSteps;\nconst Preferences = Constants.Preferences;\n\nconst UNREAD_CHECK_TIME_MILLISECONDS = 10000;\n\nexport default class NeedsTeam extends React.Component {\n    static propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.element),\n            PropTypes.element\n        ]),\n        navbar: PropTypes.element,\n        params: PropTypes.object,\n        sidebar: PropTypes.element,\n        team_sidebar: PropTypes.element,\n        center: PropTypes.element,\n        user: PropTypes.object,\n        actions: PropTypes.shape({\n            viewChannel: PropTypes.func.isRequired,\n            getMyChannelMembers: PropTypes.func.isRequired\n        }).isRequired,\n        theme: PropTypes.object.isRequired\n    }\n\n    constructor(params) {\n        super(params);\n\n        this.teamChanged = (e) => this.onTeamChanged(e);\n        this.shortcutKeyDown = (e) => this.onShortcutKeyDown(e);\n\n        this.blurTime = new Date().getTime();\n\n        const team = TeamStore.getCurrent();\n\n        this.state = {\n            team\n        };\n    }\n\n    onShortcutKeyDown(e) {\n        if (e.shiftKey && Utils.cmdOrCtrlPressed(e) && e.keyCode === Constants.KeyCodes.L) {\n            if (document.getElementById('sidebar-right').className.match('sidebar--right sidebar--right--expanded')) {\n                document.getElementById('reply_textbox').focus();\n            } else {\n                document.getElementById('post_textbox').focus();\n            }\n        }\n    }\n\n    onTeamChanged() {\n        const team = TeamStore.getCurrent();\n\n        this.setState({\n            team\n        });\n    }\n\n    componentWillMount() {\n        // Go to tutorial if we are first arriving\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, UserStore.getCurrentId(), 999);\n        if (tutorialStep <= TutorialSteps.INTRO_SCREENS) {\n            browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/tutorial');\n        }\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.teamChanged);\n\n        startPeriodicStatusUpdates();\n        startPeriodicSync();\n\n        // Set up tracking for whether the window is active\n        window.isActive = true;\n        $(window).on('focus', async () => {\n            ChannelStore.resetCounts([ChannelStore.getCurrentId()]);\n            ChannelStore.emitChange();\n            window.isActive = true;\n\n            await this.props.actions.viewChannel(ChannelStore.getCurrentId());\n            if (new Date().getTime() - this.blurTime > UNREAD_CHECK_TIME_MILLISECONDS) {\n                this.props.actions.getMyChannelMembers(TeamStore.getCurrentId()).then(loadProfilesForSidebar);\n            }\n        });\n\n        $(window).on('blur', () => {\n            window.isActive = false;\n            this.blurTime = new Date().getTime();\n            if (UserStore.getCurrentUser()) {\n                this.props.actions.viewChannel('');\n            }\n        });\n\n        Utils.applyTheme(this.props.theme);\n\n        if (UserAgent.isIosSafari()) {\n            // Use iNoBounce to prevent scrolling past the boundaries of the page\n            iNoBounce.enable();\n        }\n        document.addEventListener('keydown', this.shortcutKeyDown);\n    }\n\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.teamChanged);\n        $(window).off('focus');\n        $(window).off('blur');\n\n        if (UserAgent.isIosSafari()) {\n            iNoBounce.disable();\n        }\n        stopPeriodicStatusUpdates();\n        stopPeriodicSync();\n        document.removeEventListener('keydown', this.shortcutKeyDown);\n    }\n\n    componentDidUpdate(prevProps) {\n        const {theme} = this.props;\n        if (!Utils.areObjectsEqual(prevProps.theme, theme)) {\n            Utils.applyTheme(theme);\n        }\n    }\n\n    render() {\n        let content = [];\n        if (this.props.children) {\n            content = this.props.children;\n        } else {\n            content.push(\n                this.props.navbar\n            );\n            content.push(this.props.team_sidebar);\n            content.push(\n                this.props.sidebar\n            );\n            content.push(\n                <div\n                    id='inner-wrap-webrtc'\n                    key='inner-wrap'\n                    className='inner-wrap channel__wrap'\n                >\n                    <div className='row header'>\n                        <div id='navbar'>\n                            <Navbar/>\n                        </div>\n                    </div>\n                    <div className='row main'>\n                        {React.cloneElement(this.props.center, {\n                            user: this.props.user,\n                            team: this.state.team\n                        })}\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className='channel-view'>\n                <AnnouncementBar/>\n                <WebrtcNotification/>\n                <div className='container-fluid'>\n                    <SidebarRight/>\n                    <SidebarRightMenu teamType={this.state.team.type}/>\n                    <WebrtcSidebar/>\n                    {content}\n\n                    <Pluggable pluggableName='Root'/>\n                    <UserSettingsModal/>\n                    <GetPostLinkModal/>\n                    <GetPublicLinkModal/>\n                    <GetTeamInviteLinkModal/>\n                    <InviteMemberModal/>\n                    <LeaveTeamModal/>\n                    <ImportThemeModal/>\n                    <TeamSettingsModal/>\n                    <EditPostModal/>\n                    <DeletePostModal/>\n                    <RemovedFromChannelModal/>\n                    <ResetStatusModal/>\n                    <LeavePrivateChannelModal/>\n                    <ShortcutsModal isMac={Utils.isMac()}/>\n                    <ModalController/>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/needs_team/needs_team.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*! iNoBounce - v0.1.0\n* https://github.com/lazd/iNoBounce/\n* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function(global) {\n\t// Stores the Y position where the touch started\n\tvar startY = 0;\n\n\t// Store enabled status\n\tvar enabled = false;\n\n\tvar handleTouchmove = function(evt) {\n\t\t// Get the element that was scrolled upon\n\t\tvar el = evt.target;\n\n\t\t// Check all parent elements for scrollability\n\t\twhile (el !== document.body && el !== document) {\n\t\t\t// Get some style properties\n\t\t\tvar style = window.getComputedStyle(el);\n\n\t\t\tif (!style) {\n\t\t\t\t// If we've encountered an element we can't compute the style for, get out\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Ignore range input element\n\t\t\tif (el.nodeName === 'INPUT' && el.getAttribute('type') === 'range') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar scrolling = style.getPropertyValue('-webkit-overflow-scrolling');\n\t\t\tvar overflowY = style.getPropertyValue('overflow-y');\n\t\t\tvar height = parseInt(style.getPropertyValue('height'), 10);\n\n\t\t\t// Determine if the element should scroll\n\t\t\tvar isScrollable = scrolling === 'touch' && (overflowY === 'auto' || overflowY === 'scroll');\n\t\t\tvar canScroll = el.scrollHeight > el.offsetHeight;\n\n\t\t\tif (isScrollable && canScroll) {\n\t\t\t\t// Get the current Y position of the touch\n\t\t\t\tvar curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n\t\t\t\t// Determine if the user is trying to scroll past the top or bottom\n\t\t\t\t// In this case, the window will bounce, so we have to prevent scrolling completely\n\t\t\t\tvar isAtTop = (startY <= curY && el.scrollTop === 0);\n\t\t\t\tvar isAtBottom = (startY >= curY && el.scrollHeight - el.scrollTop === height);\n\n\t\t\t\t// Stop a bounce bug when at the bottom or top of the scrollable element\n\t\t\t\tif (isAtTop || isAtBottom) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// No need to continue up the DOM, we've done our job\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Test the next parent\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\t// Stop the bouncing -- no parents are scrollable\n\t\tevt.preventDefault();\n\t};\n\n\tvar handleTouchstart = function(evt) {\n\t\t// Store the first Y position of the touch\n\t\tstartY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\t};\n\n\tvar enable = function() {\n\t\t// Listen to a couple key touch events\n\t\twindow.addEventListener('touchstart', handleTouchstart, false);\n\t\twindow.addEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = true;\n\t};\n\n\tvar disable = function() {\n\t\t// Stop listening\n\t\twindow.removeEventListener('touchstart', handleTouchstart, false);\n\t\twindow.removeEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = false;\n\t};\n\n\tvar isEnabled = function() {\n\t\treturn enabled;\n\t};\n\n\t// Enable by default if the browser supports -webkit-overflow-scrolling\n\t// Test this by setting the property with JavaScript on an element that exists in the DOM\n\t// Then, see if the property is reflected in the computed style\n\tvar testDiv = document.createElement('div');\n\tdocument.documentElement.appendChild(testDiv);\n\ttestDiv.style.WebkitOverflowScrolling = 'touch';\n\tvar scrollSupport = 'getComputedStyle' in window && window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch';\n\tdocument.documentElement.removeChild(testDiv);\n\n\tif (scrollSupport) {\n\t\tenable();\n\t}\n\n\t// A module to support enabling/disabling iNoBounce\n\tvar iNoBounce = {\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tisEnabled: isEnabled\n\t};\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\t// Node.js Support\n\t\tmodule.exports = iNoBounce;\n\t}\n\tif (typeof global.define === 'function') {\n\t\t// AMD Support\n\t\t(function(define) {\n\t\t\tdefine('iNoBounce', [], function() { return iNoBounce; });\n\t\t}(global.define));\n\t}\n\telse {\n\t\t// Browser support\n\t\tglobal.iNoBounce = iNoBounce;\n\t}\n}(this));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/inobounce/inobounce.js\n// module id = 2253\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport {deletePost} from 'actions/post_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nvar ActionTypes = Constants.ActionTypes;\n\nexport default class DeletePostModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n\n        this.state = {\n            show: false,\n            post: null,\n            commentCount: 0,\n            error: ''\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.show && !prevState.show) {\n            setTimeout(() => {\n                $(ReactDOM.findDOMNode(this.refs.deletePostBtn)).focus();\n            }, 0);\n        }\n    }\n\n    handleDelete() {\n        deletePost(\n            this.state.post.channel_id,\n            this.state.post,\n            () => {\n                this.handleHide();\n            },\n            (err) => {\n                this.setState({error: err.message});\n            }\n        );\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            post: args.post,\n            commentCount: args.commentCount,\n            error: ''\n        });\n    }\n\n    handleHide() {\n        this.setState({show: false});\n    }\n\n    render() {\n        if (!this.state.post) {\n            return null;\n        }\n\n        var error = null;\n        if (this.state.error) {\n            error = <div className='form-group has-error'><label className='control-label'>{this.state.error}</label></div>;\n        }\n\n        var commentWarning = '';\n        if (this.state.commentCount > 0) {\n            commentWarning = (\n                <FormattedMessage\n                    id='delete_post.warning'\n                    defaultMessage='This post has {count, number} {count, plural, one {comment} other {comments}} on it.'\n                    values={{\n                        count: this.state.commentCount\n                    }}\n                />\n            );\n        }\n\n        const postTerm = this.state.post.root_id ? (\n            <FormattedMessage\n                id='delete_post.comment'\n                defaultMessage='Comment'\n            />\n        ) : (\n            <FormattedMessage\n                id='delete_post.post'\n                defaultMessage='Post'\n            />\n        );\n\n        return (\n            <Modal\n                show={this.state.show}\n                onHide={this.handleHide}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='delete_post.confirm'\n                            defaultMessage='Confirm {term} Delete'\n                            values={{\n                                term: (postTerm)\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <FormattedMessage\n                        id='delete_post.question'\n                        defaultMessage='Are you sure you want to delete this {term}?'\n                        values={{\n                            term: (postTerm)\n                        }}\n                    />\n                    <br/>\n                    <br/>\n                    {commentWarning}\n                    {error}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.handleHide}\n                    >\n                        <FormattedMessage\n                            id='delete_post.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        ref='deletePostBtn'\n                        type='button'\n                        className='btn btn-danger'\n                        onClick={this.handleDelete}\n                    >\n                        <FormattedMessage\n                            id='delete_post.del'\n                            defaultMessage='Delete'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/delete_post_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {addMessageIntoHistory} from 'mattermost-redux/actions/posts';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {setEditingPost} from 'actions/post_actions';\nimport {editPost} from 'actions/views/edit_post_modal';\n\nimport {getEditingPost} from 'selectors/posts';\n\nimport EditPostModal from './edit_post_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        ctrlSend: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        config: getConfig(state),\n        editingPost: getEditingPost(state)\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            editPost,\n            setEditingPost,\n            addMessageIntoHistory\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPostModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/edit_post_modal/index.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport * as PostActions from 'mattermost-redux/actions/posts';\n\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\n\nimport {ActionTypes} from 'utils/constants.jsx';\n\nexport function editPost(post) {\n    return async (dispatch, getState) => {\n        const result = await PostActions.editPost(post)(dispatch, getState);\n\n        if (result.error) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_ERROR,\n                err: {\n                    id: result.error.server_error_id,\n                    ...result.error\n                }\n            });\n        }\n\n        return result;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./actions/views/edit_post_modal.js","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {createSelector} from 'reselect';\n\nimport {getPost} from 'mattermost-redux/selectors/entities/posts';\n\nexport const getEditingPost = createSelector(\n    (state) => {\n        if (state.views.posts.editingPost && state.views.posts.editingPost.postId) {\n            return getPost(state, state.views.posts.editingPost.postId);\n        }\n\n        return null;\n    },\n    (state) => state.views.posts.editingPost,\n    (post, editingPost) => {\n        return {\n            ...editingPost,\n            post\n        };\n    }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./selectors/posts.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport * as Selectors from 'mattermost-redux/selectors/entities/posts';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\n\nimport Textbox from '../textbox.jsx';\n\nconst KeyCodes = Constants.KeyCodes;\n\nconst getState = store.getState;\n\nexport default class EditPostModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n         */\n        ctrlSend: PropTypes.bool,\n\n        /**\n         * Global config object\n         */\n        config: PropTypes.object.isRequired,\n\n        /**\n         * Editing post information\n         */\n        editingPost: PropTypes.object.isRequired,\n\n        actions: PropTypes.shape({\n            editPost: PropTypes.func.isRequired,\n            addMessageIntoHistory: PropTypes.func.isRequired,\n            setEditingPost: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            editText: '',\n            postError: '',\n            errorClass: null,\n            showEmojiPicker: false,\n            hidding: false\n        };\n    }\n\n    mustBeShown = () => {\n        if (this.state.hidding) {\n            return false;\n        }\n        if (!this.props.editingPost || !this.props.editingPost.post) {\n            return false;\n        }\n        return true;\n    }\n\n    getContainer = () => {\n        return this.refs.editModalBody;\n    }\n\n    toggleEmojiPicker = () => {\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n    }\n\n    hideEmojiPicker = () => {\n        this.setState({showEmojiPicker: false});\n    }\n\n    handleEmojiClick = (emoji) => {\n        const emojiAlias = emoji && (emoji.name || (emoji.aliases && emoji.aliases[0]));\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        if (this.state.editText === '') {\n            this.setState({editText: ':' + emojiAlias + ': '});\n        } else {\n            //check whether there is already a blank at the end of the current message\n            const newMessage = (/\\s+$/.test(this.state.editText)) ?\n                this.state.editText + ':' + emojiAlias + ': ' : this.state.editText + ' :' + emojiAlias + ': ';\n\n            this.setState({editText: newMessage});\n        }\n\n        this.setState({showEmojiPicker: false});\n\n        this.refs.editbox.focus();\n    }\n\n    getEditPostControls = () => {\n        return this.refs.editPostEmoji;\n    }\n\n    handlePostError = (postError) => {\n        if (this.state.postError !== postError) {\n            this.setState({postError});\n        }\n    }\n\n    handleEdit = async () => {\n        const updatedPost = {\n            message: this.state.editText,\n            id: this.props.editingPost.postId,\n            channel_id: this.props.editingPost.post.channel_id\n        };\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        if (updatedPost.message === this.props.editingPost.post.message) {\n            // no changes so just close the modal\n            this.handleHide();\n            return;\n        }\n\n        if (updatedPost.message.trim().length === 0) {\n            this.handleHide();\n            GlobalActions.showDeletePostModal(Selectors.getPost(getState(), this.props.editingPost.postId), this.props.editingPost.commentsCount);\n            return;\n        }\n\n        this.props.actions.addMessageIntoHistory(updatedPost.message);\n\n        const {data} = await this.props.actions.editPost(updatedPost);\n        if (data) {\n            window.scrollTo(0, 0);\n        }\n\n        this.handleHide();\n    }\n\n    handleChange = (e) => {\n        const message = e.target.value;\n        this.setState({\n            editText: message\n        });\n    }\n\n    handleEditKeyPress = (e) => {\n        if (!UserAgent.isMobile() && !this.props.ctrlSend && e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n            e.preventDefault();\n            ReactDOM.findDOMNode(this.refs.editbox).blur();\n            this.handleEdit();\n        } else if (this.props.ctrlSend && e.ctrlKey && e.which === KeyCodes.ENTER) {\n            e.preventDefault();\n            ReactDOM.findDOMNode(this.refs.editbox).blur();\n            this.handleEdit();\n        }\n    }\n\n    handleKeyDown = (e) => {\n        if (this.props.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n            this.handleEdit();\n        }\n    }\n\n    handleHide = () => {\n        this.setState({hidding: true});\n    }\n\n    handleEnter = () => {\n        this.setState({\n            editText: this.props.editingPost.post.message\n        });\n    }\n\n    handleEntered = () => {\n        this.refs.editbox.focus();\n        this.refs.editbox.recalculateSize();\n    }\n\n    handleExit = () => {\n        this.refs.editbox.hidePreview();\n    }\n\n    handleExited = () => {\n        const refocusId = this.props.editingPost.refocusId;\n        if (refocusId !== '') {\n            setTimeout(() => {\n                const element = document.getElementById(refocusId);\n                if (element) {\n                    element.focus();\n                }\n            });\n        }\n        this.props.actions.setEditingPost();\n        this.setState({editText: '', postError: '', errorClass: null, hidding: false, showEmojiPicker: false});\n    }\n\n    render() {\n        const errorBoxClass = 'edit-post-footer' + (this.state.postError ? ' has-error' : '');\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = (<label className={postErrorClass}>{this.state.postError}</label>);\n        }\n\n        let emojiPicker = null;\n        if (this.props.config.EnableEmojiPicker === 'true') {\n            emojiPicker = (\n                <span className='emoji-picker__container'>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        container={this.getContainer}\n                        target={this.getEditPostControls}\n                        onHide={this.hideEmojiPicker}\n                        onEmojiClick={this.handleEmojiClick}\n                        rightOffset={50}\n                        topOffset={-20}\n                    />\n                    <span\n                        className='icon icon--emoji'\n                        onClick={this.toggleEmojiPicker}\n                        dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='edit-modal'\n                show={this.mustBeShown()}\n                onKeyDown={this.handleKeyDown}\n                onHide={this.handleHide}\n                onEnter={this.handleEnter}\n                onEntered={this.handleEntered}\n                onExit={this.handleExit}\n                onExited={this.handleExited}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='edit_post.edit'\n                            defaultMessage='Edit {title}'\n                            values={{\n                                title: this.props.editingPost.title\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body\n                    bsClass='modal-body edit-modal-body'\n                    ref='editModalBody'\n                >\n                    <Textbox\n                        onChange={this.handleChange}\n                        onKeyPress={this.handleEditKeyPress}\n                        onKeyDown={this.handleKeyDown}\n                        handlePostError={this.handlePostError}\n                        value={this.state.editText}\n                        channelId={this.props.editingPost.post && this.props.editingPost.post.channel_id}\n                        emojiEnabled={this.props.config.EnableEmojiPicker === 'true'}\n                        createMessage={Utils.localizeMessage('edit_post.editPost', 'Edit the post...')}\n                        supportsCommands={false}\n                        suggestionListStyle='bottom'\n                        id='edit_textbox'\n                        ref='editbox'\n                    />\n                    <span\n                        ref='editPostEmoji'\n                        className='edit-post__actions'\n                    >\n                        {emojiPicker}\n                    </span>\n                    <div className={errorBoxClass}>\n                        {postError}\n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.handleHide}\n                    >\n                        <FormattedMessage\n                            id='edit_post.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        type='button'\n                        className='btn btn-primary'\n                        onClick={this.handleEdit}\n                    >\n                        <FormattedMessage\n                            id='edit_post.save'\n                            defaultMessage='Save'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/edit_post_modal/edit_post_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getSiteURL} from 'utils/url.jsx';\n\nimport GetPostLinkModal from './get_post_link_modal';\n\nfunction mapStateToProps(state, ownProps) {\n    const currentTeam = getCurrentTeam(state);\n    const currentTeamUrl = `${getSiteURL()}/${currentTeam.name}`;\n    return {\n        ...ownProps,\n        currentTeamUrl\n    };\n}\n\nexport default connect(mapStateToProps)(GetPostLinkModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_post_link_modal/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport GetLinkModal from 'components/get_link_modal.jsx';\n\nexport default class GetPostLinkModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * URL of current team\n         */\n        currentTeamUrl: PropTypes.string.isRequired\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.hide = this.hide.bind(this);\n\n        this.state = {\n            show: false,\n            post: {}\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            post: args.post\n        });\n    }\n\n    hide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        const postUrl = this.props.currentTeamUrl + '/pl/' + this.state.post.id;\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={this.hide}\n                title={Utils.localizeMessage('get_post_link_modal.title', 'Copy Permalink')}\n                helpText={Utils.localizeMessage('get_post_link_modal.help', 'The link below allows authorized users to see your post.')}\n                link={postUrl}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_post_link_modal/get_post_link_modal.jsx","import {connect} from 'react-redux';\n\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport GetTeamInviteLinkModal from './get_team_invite_link_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        currentTeam: getCurrentTeam(state),\n        config: getConfig(state)\n    };\n}\n\nexport default connect(mapStateToProps)(GetTeamInviteLinkModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_team_invite_link_modal/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport {getSiteURL} from 'utils/url.jsx';\n\nimport GetLinkModal from 'components/get_link_modal.jsx';\n\nexport default class GetTeamInviteLinkModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Current team object\n         */\n        currentTeam: PropTypes.object.isRequired,\n\n        /**\n         * Global config object\n         */\n        config: PropTypes.object.isRequired\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n    }\n\n    handleToggle = (value) => {\n        this.setState({\n            show: value\n        });\n    }\n\n    render() {\n        const inviteUrl = getSiteURL() + '/signup_user_complete/?id=' + this.props.currentTeam.invite_id;\n\n        let helpText;\n        if (this.props.config.EnableUserCreation === 'true') {\n            helpText = Utils.localizeMessage('get_team_invite_link_modal.help', 'Send teammates the link below for them to sign-up to this team site. The Team Invite Link can be shared with multiple teammates as it does not change unless it\\'s regenerated in Team Settings by a Team Admin.');\n        } else {\n            helpText = Utils.localizeMessage('get_team_invite_link_modal.helpDisabled', 'User creation has been disabled for your team. Please ask your team administrator for details.');\n        }\n\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={() => this.handleToggle(false)}\n                title={Utils.localizeMessage('get_team_invite_link_modal.title', 'Team Invite Link')}\n                helpText={helpText}\n                link={inviteUrl}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_team_invite_link_modal/get_team_invite_link_modal.jsx","import {connect} from 'react-redux';\n\nimport {bindActionCreators} from 'redux';\n\nimport {getFilePublicLink} from 'mattermost-redux/actions/files';\nimport * as Selectors from 'mattermost-redux/selectors/entities/files';\n\nimport GetPublicLinkModal from './get_public_link_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        link: Selectors.getFilePublicLink(state).link\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getFilePublicLink\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GetPublicLinkModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_public_link_modal/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport GetLinkModal from 'components/get_link_modal.jsx';\n\nexport default class GetPublicLinkModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Public link of the file\n         */\n        link: PropTypes.string,\n\n        actions: PropTypes.shape({\n\n            /**\n             * An action to get public link\n             */\n            getFilePublicLink: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    static defaultProps = {\n        link: ''\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false,\n            fileId: ''\n        };\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.show && !prevState.show) {\n            this.props.actions.getFilePublicLink(this.state.fileId);\n        }\n    }\n\n    handleToggle = (value, args) => {\n        this.setState({\n            show: value,\n            fileId: args.fileId\n        });\n    }\n\n    onHide = () => {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={this.onHide}\n                title={Utils.localizeMessage('get_public_link_modal.title', 'Copy Public Link')}\n                helpText={Utils.localizeMessage('get_public_link_modal.help', 'The link below allows anyone to see this file without being registered on this server.')}\n                link={this.props.link}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_public_link_modal/get_public_link_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, FormattedHTMLMessage, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {inviteMembers} from 'actions/team_actions.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as utils from 'utils/utils.jsx';\n\nimport ConfirmModal from './confirm_modal.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\n\nconst holders = defineMessages({\n    emailError: {\n        id: 'invite_member.emailError',\n        defaultMessage: 'Please enter a valid email address'\n    },\n    firstname: {\n        id: 'invite_member.firstname',\n        defaultMessage: 'First name'\n    },\n    lastname: {\n        id: 'invite_member.lastname',\n        defaultMessage: 'Last name'\n    },\n    modalTitle: {\n        id: 'invite_member.modalTitle',\n        defaultMessage: 'Discard Invitations?'\n    },\n    modalMessage: {\n        id: 'invite_member.modalMessage',\n        defaultMessage: 'You have unsent invitations, are you sure you want to discard them?'\n    },\n    modalButton: {\n        id: 'invite_member.modalButton',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nclass InviteMemberModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.teamChange = this.teamChange.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.addInviteFields = this.addInviteFields.bind(this);\n        this.clearFields = this.clearFields.bind(this);\n        this.removeInviteFields = this.removeInviteFields.bind(this);\n        this.showGetTeamInviteLinkModal = this.showGetTeamInviteLinkModal.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n\n        const team = TeamStore.getCurrent();\n\n        this.state = {\n            show: false,\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {},\n            emailEnabled: global.window.mm_config.SendEmailNotifications === 'true',\n            userCreationEnabled: global.window.mm_config.EnableUserCreation === 'true',\n            showConfirmModal: false,\n            isSendingEmails: false,\n            teamType: team ? team.type : null\n        };\n    }\n\n    teamChange() {\n        const team = TeamStore.getCurrent();\n        const teamType = team ? team.type : null;\n        this.setState({\n            teamType\n        });\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n        TeamStore.addChangeListener(this.teamChange);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n        TeamStore.removeChangeListener(this.teamChange);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value,\n            serverError: null\n        });\n    }\n\n    handleSubmit() {\n        if (!this.state.emailEnabled) {\n            return;\n        }\n\n        var inviteIds = this.state.inviteIds;\n        var count = inviteIds.length;\n        var invites = [];\n        var emailErrors = this.state.emailErrors;\n        var firstNameErrors = this.state.firstNameErrors;\n        var lastNameErrors = this.state.lastNameErrors;\n        var valid = true;\n\n        for (var i = 0; i < count; i++) {\n            var invite = {};\n            var index = inviteIds[i];\n            invite.email = ReactDOM.findDOMNode(this.refs['email' + index]).value.trim();\n            invite.firstName = ReactDOM.findDOMNode(this.refs['first_name' + index]).value.trim();\n            invite.lastName = ReactDOM.findDOMNode(this.refs['last_name' + index]).value.trim();\n            if (invite.email !== '' || index === 0) {\n                if (!invite.email || !utils.isEmail(invite.email)) {\n                    emailErrors[index] = this.props.intl.formatMessage(holders.emailError);\n                    valid = false;\n                } else {\n                    emailErrors[index] = '';\n                }\n                invites.push(invite);\n            }\n        }\n\n        this.setState({emailErrors, firstNameErrors, lastNameErrors});\n\n        if (!valid || invites.length === 0) {\n            return;\n        }\n\n        var data = {};\n        data.invites = invites;\n\n        this.setState({isSendingEmails: true});\n\n        inviteMembers(\n            data,\n            () => {\n                this.handleHide(false);\n                this.setState({isSendingEmails: false});\n            },\n            (err) => {\n                if (err.id === 'api.team.invite_members.already.app_error') {\n                    emailErrors[err.detailed_error] = err.message;\n                    this.setState({emailErrors});\n                } else {\n                    this.setState({serverError: err.message});\n                }\n\n                this.setState({isSendingEmails: false});\n            }\n        );\n    }\n\n    handleHide(requireConfirm) {\n        if (requireConfirm) {\n            var notEmpty = false;\n            for (var i = 0; i < this.state.inviteIds.length; i++) {\n                var index = this.state.inviteIds[i];\n                if (ReactDOM.findDOMNode(this.refs['email' + index]).value.trim() !== '') {\n                    notEmpty = true;\n                    break;\n                }\n            }\n\n            if (notEmpty) {\n                this.setState({\n                    showConfirmModal: true\n                });\n\n                return;\n            }\n        }\n\n        this.clearFields();\n\n        this.setState({\n            show: false,\n            showConfirmModal: false\n        });\n    }\n\n    addInviteFields() {\n        var count = this.state.idCount + 1;\n        var inviteIds = this.state.inviteIds;\n        inviteIds.push(count);\n        this.setState({inviteIds, idCount: count});\n    }\n\n    clearFields() {\n        var inviteIds = this.state.inviteIds;\n\n        for (var i = 0; i < inviteIds.length; i++) {\n            var index = inviteIds[i];\n            ReactDOM.findDOMNode(this.refs['email' + index]).value = '';\n            ReactDOM.findDOMNode(this.refs['first_name' + index]).value = '';\n            ReactDOM.findDOMNode(this.refs['last_name' + index]).value = '';\n        }\n\n        this.setState({\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {}\n        });\n    }\n\n    removeInviteFields(index) {\n        var count = this.state.idCount;\n        var inviteIds = this.state.inviteIds;\n        var i = inviteIds.indexOf(index);\n        if (i > -1) {\n            inviteIds.splice(i, 1);\n        }\n        if (!inviteIds.length) {\n            inviteIds.push(++count);\n        }\n        this.setState({inviteIds, idCount: count});\n    }\n\n    showGetTeamInviteLinkModal() {\n        this.handleHide(false);\n\n        GlobalActions.showGetTeamInviteLinkModal();\n    }\n\n    handleKeyDown(e) {\n        if (e.keyCode === Constants.KeyCodes.ENTER) {\n            e.preventDefault();\n            this.handleSubmit();\n        }\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n        const {formatMessage} = this.props.intl;\n\n        if (currentUser != null && this.state.teamType != null) {\n            var inviteSections = [];\n            var inviteIds = this.state.inviteIds;\n            for (var i = 0; i < inviteIds.length; i++) {\n                var index = inviteIds[i];\n                var emailError = null;\n                if (this.state.emailErrors[index]) {\n                    emailError = <label className='control-label'>{this.state.emailErrors[index]}</label>;\n                }\n                var firstNameError = null;\n                if (this.state.firstNameErrors[index]) {\n                    firstNameError = <label className='control-label'>{this.state.firstNameErrors[index]}</label>;\n                }\n                var lastNameError = null;\n                if (this.state.lastNameErrors[index]) {\n                    lastNameError = <label className='control-label'>{this.state.lastNameErrors[index]}</label>;\n                }\n\n                var removeButton = null;\n                if (index) {\n                    removeButton = (\n                        <div>\n                            <button\n                                type='button'\n                                className='btn btn-link remove__member'\n                                onClick={this.removeInviteFields.bind(this, index)}\n                            >\n                                <span className='fa fa-trash'/>\n                            </button>\n                        </div>\n                    );\n                }\n                var emailClass = 'form-group invite';\n                if (emailError) {\n                    emailClass += ' has-error';\n                }\n\n                var nameFields = null;\n\n                var firstNameClass = 'form-group';\n                if (firstNameError) {\n                    firstNameClass += ' has-error';\n                }\n                var lastNameClass = 'form-group';\n                if (lastNameError) {\n                    lastNameClass += ' has-error';\n                }\n                nameFields = (\n                    <div className='row row--invite'>\n                        <div className='col-sm-6'>\n                            <div className={firstNameClass}>\n                                <input\n                                    onKeyDown={this.handleKeyDown}\n                                    type='text'\n                                    className='form-control'\n                                    ref={'first_name' + index}\n                                    placeholder={formatMessage(holders.firstname)}\n                                    maxLength='64'\n                                    disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                    spellCheck='false'\n                                />\n                                {firstNameError}\n                            </div>\n                        </div>\n                        <div className='col-sm-6'>\n                            <div className={lastNameClass}>\n                                <input\n                                    onKeyDown={this.handleKeyDown}\n                                    type='text'\n                                    className='form-control'\n                                    ref={'last_name' + index}\n                                    placeholder={formatMessage(holders.lastname)}\n                                    maxLength='64'\n                                    disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                    spellCheck='false'\n                                />\n                                {lastNameError}\n                            </div>\n                        </div>\n                    </div>\n                );\n\n                inviteSections[index] = (\n                    <div key={'key' + index}>\n                        {removeButton}\n                        <div className={emailClass}>\n                            <input\n                                onKeyUp={this.displayNameKeyUp}\n                                onKeyDown={this.handleKeyDown}\n                                type='text'\n                                ref={'email' + index}\n                                className='form-control'\n                                placeholder='email@domain.com'\n                                maxLength='64'\n                                disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                spellCheck='false'\n                            />\n                            {emailError}\n                        </div>\n                        {nameFields}\n                    </div>\n                );\n            }\n\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = <div className='form-group has-error'><label className='control-label'>{this.state.serverError}</label></div>;\n            }\n\n            var content = null;\n            var sendButton = null;\n\n            var defaultChannelName = '';\n            if (ChannelStore.getByName(Constants.DEFAULT_CHANNEL)) {\n                defaultChannelName = ChannelStore.getByName(Constants.DEFAULT_CHANNEL).display_name;\n            }\n\n            if (this.state.emailEnabled && this.state.userCreationEnabled) {\n                content = (\n                    <div>\n                        {serverError}\n                        <button\n                            type='button'\n                            className='btn btn-default'\n                            onClick={this.addInviteFields}\n                        >\n                            <FormattedMessage\n                                id='invite_member.addAnother'\n                                defaultMessage='Add another'\n                            />\n                        </button>\n                        <br/>\n                        <br/>\n                        <span>\n                            <FormattedHTMLMessage\n                                id='invite_member.autoJoin'\n                                defaultMessage='People invited automatically join the <strong>{channel}</strong> channel.'\n                                values={{\n                                    channel: defaultChannelName\n                                }}\n                            />\n                        </span>\n                    </div>\n                );\n\n                var sendButtonLabel = (\n                    <FormattedMessage\n                        id='invite_member.send'\n                        defaultMessage='Send Invitation'\n                    />\n                );\n                if (this.state.isSendingEmails) {\n                    sendButtonLabel = (\n                        <span><i className='fa fa-spinner fa-spin'/>\n                            <FormattedMessage\n                                id='invite_member.sending'\n                                defaultMessage=' Sending'\n                            />\n                        </span>\n                    );\n                } else if (this.state.inviteIds.length > 1) {\n                    sendButtonLabel = (\n                        <FormattedMessage\n                            id='invite_member.send2'\n                            defaultMessage='Send Invitations'\n                        />\n                    );\n                }\n\n                sendButton = (\n                    <button\n                        onClick={this.handleSubmit}\n                        type='button'\n                        className='btn btn-primary'\n                        disabled={this.state.isSendingEmails}\n                    >\n                        {sendButtonLabel}\n                    </button>\n                );\n            } else if (this.state.userCreationEnabled) {\n                var teamInviteLink = null;\n                if (currentUser && this.state.teamType === 'O') {\n                    var link = (\n                        <button\n                            className='color--link style--none'\n                            onClick={this.showGetTeamInviteLinkModal}\n                        >\n                            <FormattedMessage\n                                id='invite_member.inviteLink'\n                                defaultMessage='Team Invite Link'\n                            />\n                        </button>\n                    );\n\n                    teamInviteLink = (\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.teamInviteLink'\n                                defaultMessage='You can also invite people using the {link}.'\n                                values={{\n                                    link\n                                }}\n                            />\n                        </p>\n                    );\n                }\n\n                content = (\n                    <div>\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.content'\n                                defaultMessage='Email is currently disabled for your team, and email invitations cannot be sent. Contact your System Administrator to enable email and email invitations.'\n                            />\n                        </p>\n                        {teamInviteLink}\n                    </div>\n                );\n            } else {\n                content = (\n                    <div>\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.disabled'\n                                defaultMessage='User creation has been disabled for your team. Please ask your Team Administrator for details.'\n                            />\n                        </p>\n                    </div>\n                );\n            }\n\n            return (\n                <div>\n                    <Modal\n                        dialogClassName='modal-invite-member'\n                        show={this.state.show}\n                        onHide={this.handleHide.bind(this, true)}\n                        enforceFocus={!this.state.showConfirmModal}\n                        backdrop={this.state.isSendingEmails ? 'static' : true}\n                    >\n                        <Modal.Header closeButton={!this.state.isSendingEmails}>\n                            <Modal.Title>\n                                <FormattedMessage\n                                    id='invite_member.newMember'\n                                    defaultMessage='Send Email Invite'\n                                />\n                            </Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body ref='modalBody'>\n                            <form role='form'>\n                                {inviteSections}\n                            </form>\n                            {content}\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                type='button'\n                                className='btn btn-default'\n                                onClick={this.handleHide.bind(this, true)}\n                                disabled={this.state.isSendingEmails}\n                            >\n                                <FormattedMessage\n                                    id='invite_member.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            {sendButton}\n                        </Modal.Footer>\n                    </Modal>\n                    <ConfirmModal\n                        title={formatMessage(holders.modalTitle)}\n                        message={formatMessage(holders.modalMessage)}\n                        confirmButtonText={formatMessage(holders.modalButton)}\n                        show={this.state.showConfirmModal}\n                        onConfirm={this.handleHide.bind(this, false)}\n                        onCancel={() => this.setState({showConfirmModal: false})}\n                    />\n                </div>\n            );\n        }\n\n        return null;\n    }\n}\n\nInviteMemberModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(InviteMemberModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/invite_member_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport {ActionTypes, WebrtcActionTypes} from 'utils/constants.jsx';\n\nclass LeaveTeamModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n        document.addEventListener('keypress', this.handleKeyPress);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n        document.removeEventListener('keypress', this.handleKeyPress);\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter' && this.state.show) {\n            this.handleSubmit(e);\n        }\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    handleSubmit(e) {\n        this.setState({\n            show: false\n        });\n\n        if (WebrtcStore.isBusy()) {\n            WebrtcStore.emitChanged({action: WebrtcActionTypes.IN_PROGRESS});\n            e.preventDefault();\n            return;\n        }\n\n        GlobalActions.emitLeaveTeam();\n        GlobalActions.toggleSideBarRightMenuAction();\n    }\n\n    handleHide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n\n        if (currentUser != null) {\n            return (\n                <Modal\n                    className='modal-confirm'\n                    show={this.state.show}\n                    onHide={this.handleHide}\n                >\n                    <Modal.Header closeButton={false}>\n                        <Modal.Title>\n                            <FormattedMessage\n                                id='leave_team_modal.title'\n                                defaultMessage='Leave the team?'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <FormattedMessage\n                            id='leave_team_modal.desc'\n                            defaultMessage='You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?'\n                        />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type='button'\n                            className='btn btn-default'\n                            onClick={this.handleHide}\n                        >\n                            <FormattedMessage\n                                id='leave_team_modal.no'\n                                defaultMessage='No'\n                            />\n                        </button>\n                        <button\n                            type='button'\n                            className='btn btn-danger'\n                            onClick={this.handleSubmit}\n                        >\n                            <FormattedMessage\n                                id='leave_team_modal.yes'\n                                defaultMessage='Yes'\n                            />\n                        </button>\n                    </Modal.Footer>\n                </Modal>\n            );\n        }\n\n        return null;\n    }\n}\n\nLeaveTeamModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(LeaveTeamModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/leave_team_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\n\nclass LeavePrivateChannelModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n\n        this.state = {\n            show: false,\n            channel: null\n        };\n        this.mounted = false;\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter' && this.state.show) {\n            this.handleSubmit();\n        }\n    }\n\n    handleSubmit() {\n        const channelId = this.state.channel.id;\n        this.setState({\n            show: false,\n            channel: null\n        });\n        ChannelActions.leaveChannel(channelId);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            channel: value,\n            show: value !== null\n        });\n    }\n\n    handleHide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        let title = '';\n        let message = '';\n        if (this.state.channel) {\n            title = (\n                <FormattedMessage\n                    id='leave_private_channel_modal.title'\n                    defaultMessage='Leave Private Channel {channel}'\n                    values={{\n                        channel: <b>{this.state.channel.display_name}</b>\n                    }}\n                />\n            );\n\n            message = (\n                <FormattedMessage\n                    id='leave_private_channel_modal.message'\n                    defaultMessage='Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.'\n                    values={{\n                        channel: <b>{this.state.channel.display_name}</b>\n                    }}\n                />\n            );\n        }\n\n        const buttonClass = 'btn btn-danger';\n        const button = (\n            <FormattedMessage\n                id='leave_private_channel_modal.leave'\n                defaultMessage='Yes, leave channel'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                show={this.state.show}\n                title={title}\n                message={message}\n                confirmButtonClass={buttonClass}\n                confirmButtonText={button}\n                onConfirm={this.handleSubmit}\n                onCancel={this.handleHide}\n            />\n        );\n    }\n}\n\nLeavePrivateChannelModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(LeavePrivateChannelModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/modals/leave_private_channel_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {closeRightHandSide, updateRhsState} from 'actions/views/rhs';\n\nimport {getRhsState} from 'selectors/rhs';\n\nimport {RHSStates} from 'utils/constants.jsx';\n\nimport Navbar from './navbar.jsx';\n\nfunction mapStateToProps(state) {\n    const rhsState = getRhsState(state);\n\n    return {\n        isPinnedPosts: rhsState === RHSStates.PIN\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeRightHandSide,\n            updateRhsState\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\n\n\n\n// WEBPACK FOOTER //\n// ./components/navbar/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router';\n\nimport EditChannelHeaderModal from 'components/edit_channel_header_modal';\nimport EditChannelPurposeModal from 'components/edit_channel_purpose_modal';\n\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as WebrtcActions from 'actions/webrtc_actions.jsx';\nimport {getPinnedPosts} from 'actions/post_actions.jsx';\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport * as ChannelUtils from 'utils/channel_utils.jsx';\nimport {ActionTypes, Constants, ModalIdentifiers, RHSStates, UserStatuses} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ChannelInfoModal from 'components/channel_info_modal';\nimport ChannelInviteModal from 'components/channel_invite_modal';\nimport ChannelMembersModal from 'components/channel_members_modal.jsx';\nimport ChannelNotificationsModal from 'components/channel_notifications_modal.jsx';\n\nimport DeleteChannelModal from 'components/delete_channel_modal';\n\nimport NotifyCounts from 'components/notify_counts.jsx';\nimport QuickSwitchModal from 'components/quick_switch_modal';\nimport RenameChannelModal from 'components/rename_channel_modal';\nimport StatusIcon from 'components/status_icon.jsx';\nimport ToggleModalButton from 'components/toggle_modal_button.jsx';\nimport ToggleModalButtonRedux from 'components/toggle_modal_button_redux';\n\nimport Pluggable from 'plugins/pluggable';\n\nimport NavbarInfoButton from './navbar_info_button.jsx';\n\nexport default class Navbar extends React.Component {\n    static propTypes = {\n        teamDisplayName: PropTypes.string,\n        isPinnedPosts: PropTypes.bool,\n        actions: PropTypes.shape({\n            closeRightHandSide: PropTypes.func,\n            updateRhsState: PropTypes.func\n        })\n    };\n\n    static defaultProps = {\n        teamDisplayName: ''\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ...this.getStateFromStores(),\n            showEditChannelPurposeModal: false,\n            showEditChannelHeaderModal: false,\n            showMembersModal: false,\n            showRenameChannelModal: false,\n            showQuickSwitchModal: false,\n            showChannelNotificationsModal: false,\n            quickSwitchMode: 'channel'\n        };\n    }\n\n    componentDidMount() {\n        ChannelStore.addChangeListener(this.onChange);\n        ChannelStore.addStatsChangeListener(this.onChange);\n        UserStore.addStatusesChangeListener(this.onChange);\n        UserStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onChange);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.showEditChannelHeaderModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.showChannelPurposeModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.showRenameChannelModal);\n        WebrtcStore.addChangedListener(this.onChange);\n        WebrtcStore.addBusyListener(this.onBusy);\n        $('.inner-wrap').click(this.hideSidebars);\n        document.addEventListener('keydown', this.handleQuickSwitchKeyPress);\n    }\n\n    componentWillUnmount() {\n        ChannelStore.removeChangeListener(this.onChange);\n        ChannelStore.removeStatsChangeListener(this.onChange);\n        UserStore.removeStatusesChangeListener(this.onChange);\n        UserStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onChange);\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.hideEditChannelHeaderModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.hideChannelPurposeModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.hideRenameChannelModal);\n        WebrtcStore.removeChangedListener(this.onChange);\n        WebrtcStore.removeBusyListener(this.onBusy);\n        document.removeEventListener('keydown', this.handleQuickSwitchKeyPress);\n    }\n\n    getStateFromStores = () => {\n        const channel = ChannelStore.getCurrent();\n\n        let contactId = null;\n        if (channel && channel.type === 'D') {\n            contactId = Utils.getUserIdFromChannelName(channel);\n        }\n\n        return {\n            channel,\n            member: ChannelStore.getCurrentMember(),\n            users: [],\n            userCount: ChannelStore.getCurrentStats().member_count,\n            currentUser: UserStore.getCurrentUser(),\n            isFavorite: channel && ChannelUtils.isFavoriteChannel(channel),\n            contactId,\n            isBusy: WebrtcStore.isBusy()\n        };\n    }\n\n    isStateValid = () => {\n        return this.state.channel && this.state.member && this.state.users && this.state.currentUser;\n    }\n\n    handleLeave = () => {\n        if (this.state.channel.type === Constants.PRIVATE_CHANNEL) {\n            GlobalActions.showLeavePrivateChannelModal(this.state.channel);\n        } else {\n            ChannelActions.leaveChannel(this.state.channel.id);\n        }\n    }\n\n    hideSidebars = (e) => {\n        var windowWidth = $(window).outerWidth();\n        if (windowWidth <= 768) {\n            this.props.actions.closeRightHandSide();\n\n            if (e.target.className !== 'navbar-toggle' && e.target.className !== 'icon-bar') {\n                $('.app__body .inner-wrap').removeClass('move--right move--left move--left-small');\n                $('.app__body .sidebar--left').removeClass('move--right');\n                $('.multi-teams .team-sidebar').removeClass('move--right');\n                $('.app__body .sidebar--right').removeClass('move--left');\n                $('.app__body .sidebar--menu').removeClass('move--left');\n            }\n        }\n    }\n\n    toggleLeftSidebar = () => {\n        $('.app__body .inner-wrap').toggleClass('move--right');\n        $('.app__body .sidebar--left').toggleClass('move--right');\n        $('.multi-teams .team-sidebar').toggleClass('move--right');\n    }\n\n    toggleRightSidebar = () => {\n        $('.app__body .inner-wrap').toggleClass('move--left-small');\n        $('.app__body .sidebar--menu').toggleClass('move--left');\n    }\n\n    showSearch = () => {\n        this.props.actions.updateRhsState(RHSStates.SEARCH);\n    }\n\n    onChange = () => {\n        this.setState(this.getStateFromStores());\n    }\n\n    showEditChannelHeaderModal = () => {\n        this.setState({\n            showEditChannelHeaderModal: true\n        });\n    }\n\n    hideEditChannelHeaderModal = () => {\n        this.setState({\n            showEditChannelHeaderModal: false\n        });\n    }\n\n    showChannelNotificationsModal = (e) => {\n        e.preventDefault();\n\n        this.setState({\n            showChannelNotificationsModal: true\n        });\n    }\n\n    hideChannelNotificationsModal = () => {\n        this.setState({\n            showChannelNotificationsModal: false\n        });\n    }\n\n    showChannelPurposeModal = () => {\n        this.setState({\n            showEditChannelPurposeModal: true\n        });\n    }\n\n    hideChannelPurposeModal = () => {\n        this.setState({\n            showEditChannelPurposeModal: false\n        });\n    }\n\n    showRenameChannelModal = () => {\n        this.setState({\n            showRenameChannelModal: true\n        });\n    }\n\n    hideRenameChannelModal = () => {\n        this.setState({\n            showRenameChannelModal: false\n        });\n    }\n\n    showMembersModal = (e) => {\n        e.preventDefault();\n\n        this.setState({showMembersModal: true});\n    }\n\n    hideMembersModal = () => {\n        this.setState({showMembersModal: false});\n    }\n\n    handleQuickSwitchKeyPress = (e) => {\n        if (Utils.cmdOrCtrlPressed(e) && !e.shiftKey && e.keyCode === Constants.KeyCodes.K) {\n            if (!e.altKey) {\n                e.preventDefault();\n                this.toggleQuickSwitchModal('channel');\n            }\n        }\n    }\n\n    toggleQuickSwitchModal = (mode = 'channel') => {\n        if (this.state.showQuickSwitchModal) {\n            this.setState({showQuickSwitchModal: false, quickSwitchMode: 'channel'});\n        } else {\n            this.setState({showQuickSwitchModal: true, quickSwitchMode: mode});\n        }\n    }\n\n    hideQuickSwitchModal = () => {\n        this.setState({\n            showQuickSwitchModal: false,\n            quickSwitchMode: 'channel'\n        });\n    }\n\n    openDirectMessageModal = () => {\n        AppDispatcher.handleViewAction({\n            type: ActionTypes.TOGGLE_DM_MODAL,\n            value: true,\n            channelId: this.state.channel.id\n        });\n    }\n\n    getPinnedPosts = (e) => {\n        e.preventDefault();\n        if (this.props.isPinnedPosts) {\n            GlobalActions.emitCloseRightHandSide();\n        } else {\n            getPinnedPosts(this.state.channel.id);\n        }\n    }\n\n    toggleFavorite = (e) => {\n        e.preventDefault();\n\n        if (this.state.isFavorite) {\n            ChannelActions.unmarkFavorite(this.state.channel.id);\n        } else {\n            ChannelActions.markFavorite(this.state.channel.id);\n        }\n    };\n\n    onBusy = (isBusy) => {\n        this.setState({isBusy});\n    }\n\n    isContactNotAvailable() {\n        const contactStatus = UserStore.getStatus(this.state.contactId);\n\n        return contactStatus === UserStatuses.OFFLINE || contactStatus === UserStatuses.DND || this.state.isBusy;\n    }\n\n    isWebrtcEnabled() {\n        const userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n        const PreReleaseFeatures = Constants.PRE_RELEASE_FEATURES;\n        return global.mm_config.EnableWebrtc === 'true' && userMedia && Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n    }\n\n    initWebrtc = () => {\n        if (!this.isContactNotAvailable()) {\n            GlobalActions.emitCloseRightHandSide();\n            WebrtcActions.initWebrtc(this.state.contactId, true);\n        }\n    }\n\n    generateWebrtcDropdown() {\n        if (!this.isWebrtcEnabled()) {\n            return null;\n        }\n\n        let linkClass = '';\n        if (this.isContactNotAvailable()) {\n            linkClass = 'disable-links';\n        }\n\n        return (\n            <li\n                role='presentation'\n                className='webrtc__option'\n            >\n                <a\n                    role='menuitem'\n                    href='#'\n                    onClick={this.initWebrtc}\n                    className={linkClass}\n                >\n                    <FormattedMessage\n                        id='navbar_dropdown.webrtc.call'\n                        defaultMessage='Start Video Call'\n                    />\n                </a>\n            </li>\n        );\n    }\n\n    generateWebrtcIcon() {\n        if (!this.isWebrtcEnabled()) {\n            return null;\n        }\n\n        let circleClass = '';\n        if (this.isContactNotAvailable()) {\n            circleClass = 'offline';\n        }\n\n        return (\n            <div className={'pull-right description navbar-right__icon webrtc__button ' + circleClass}>\n                <a onClick={this.initWebrtc}>\n                    {'WebRTC'}\n                </a>\n            </div>\n        );\n    }\n\n    createDropdown = (channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup) => {\n        if (channel) {\n            let viewInfoOption;\n            let webrtcOption;\n            let viewPinnedPostsOption;\n            let addMembersOption;\n            let manageMembersOption;\n            let setChannelHeaderOption;\n            let setChannelPurposeOption;\n            let notificationPreferenceOption;\n            let renameChannelOption;\n            let deleteChannelOption;\n            let leaveChannelOption;\n\n            if (isDirect) {\n                setChannelHeaderOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showEditChannelHeaderModal}\n                        >\n                            <FormattedMessage\n                                id='channel_header.channelHeader'\n                                defaultMessage='Edit Channel Header'\n                            />\n                        </a>\n                    </li>\n                );\n\n                webrtcOption = this.generateWebrtcDropdown();\n            } else if (isGroup) {\n                setChannelHeaderOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showEditChannelHeaderModal}\n                        >\n                            <FormattedMessage\n                                id='channel_header.channelHeader'\n                                defaultMessage='Edit Channel Header'\n                            />\n                        </a>\n                    </li>\n                );\n\n                notificationPreferenceOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showChannelNotificationsModal}\n                        >\n                            <FormattedMessage\n                                id='navbar.preferences'\n                                defaultMessage='Notification Preferences'\n                            />\n                        </a>\n                    </li>\n                );\n\n                addMembersOption = (\n                    <li\n                        role='presentation'\n                    >\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.openDirectMessageModal}\n                        >\n                            <FormattedMessage\n                                id='navbar.addMembers'\n                                defaultMessage='Add Members'\n                            />\n                        </a>\n                    </li>\n                );\n            } else {\n                viewInfoOption = (\n                    <li role='presentation'>\n                        <ToggleModalButtonRedux\n                            role='menuitem'\n                            modalId={ModalIdentifiers.CHANNEL_INFO}\n                            dialogType={ChannelInfoModal}\n                            dialogProps={{channel}}\n                        >\n                            <FormattedMessage\n                                id='navbar.viewInfo'\n                                defaultMessage='View Info'\n                            />\n                        </ToggleModalButtonRedux>\n                    </li>\n                );\n\n                viewPinnedPostsOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.getPinnedPosts}\n                        >\n                            <FormattedMessage\n                                id='navbar.viewPinnedPosts'\n                                defaultMessage='View Pinned Posts'\n                            />\n                        </a>\n                    </li>\n                );\n\n                if (ChannelStore.isDefault(channel)) {\n                    manageMembersOption = (\n                        <li\n                            key='view_members'\n                            role='presentation'\n                        >\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showMembersModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.viewMembers'\n                                    defaultMessage='View Members'\n                                />\n                            </a>\n                        </li>\n                    );\n                } else {\n                    addMembersOption = (\n                        <li role='presentation'>\n                            <ToggleModalButton\n                                ref='channelInviteModalButton'\n                                role='menuitem'\n                                dialogType={ChannelInviteModal}\n                                dialogProps={{channel, currentUser: this.state.currentUser}}\n                            >\n                                <FormattedMessage\n                                    id='navbar.addMembers'\n                                    defaultMessage='Add Members'\n                                />\n                            </ToggleModalButton>\n                        </li>\n                    );\n\n                    if (ChannelUtils.canManageMembers(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                        manageMembersOption = (\n                            <li\n                                key='manage_members'\n                                role='presentation'\n                            >\n                                <a\n                                    role='menuitem'\n                                    href='#'\n                                    onClick={this.showMembersModal}\n                                >\n                                    <FormattedMessage\n                                        id='channel_header.manageMembers'\n                                        defaultMessage='Manage Members'\n                                    />\n                                </a>\n                            </li>\n                        );\n                    } else {\n                        manageMembersOption = (\n                            <li\n                                key='view_members'\n                                role='presentation'\n                            >\n                                <a\n                                    role='menuitem'\n                                    href='#'\n                                    onClick={this.showMembersModal}\n                                >\n                                    <FormattedMessage\n                                        id='channel_header.viewMembers'\n                                        defaultMessage='View Members'\n                                    />\n                                </a>\n                            </li>\n                        );\n                    }\n                }\n\n                notificationPreferenceOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showChannelNotificationsModal}\n                        >\n                            <FormattedMessage\n                                id='navbar.preferences'\n                                defaultMessage='Notification Preferences'\n                            />\n                        </a>\n                    </li>\n                );\n\n                if (ChannelUtils.showManagementOptions(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                    setChannelHeaderOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showEditChannelHeaderModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.setHeader'\n                                    defaultMessage='Edit Channel Header'\n                                />\n                            </a>\n                        </li>\n                    );\n\n                    setChannelPurposeOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showChannelPurposeModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.setPurpose'\n                                    defaultMessage='Edit Channel Purpose'\n                                />\n                            </a>\n                        </li>\n                    );\n\n                    renameChannelOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showRenameChannelModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.rename'\n                                    defaultMessage='Rename Channel'\n                                />\n                            </a>\n                        </li>\n                    );\n                }\n\n                if (ChannelUtils.showDeleteOptionForCurrentUser(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                    deleteChannelOption = (\n                        <li role='presentation'>\n                            <ToggleModalButton\n                                role='menuitem'\n                                dialogType={DeleteChannelModal}\n                                dialogProps={{channel}}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.delete'\n                                    defaultMessage='Delete Channel'\n                                />\n                            </ToggleModalButton>\n                        </li>\n                    );\n                }\n\n                if (!ChannelStore.isDefault(channel)) {\n                    leaveChannelOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.handleLeave}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.leave'\n                                    defaultMessage='Leave Channel'\n                                />\n                            </a>\n                        </li>\n                    );\n                }\n            }\n\n            const toggleFavoriteOption = (\n                <li\n                    key='toggle_favorite'\n                    role='presentation'\n                >\n                    <a\n                        role='menuitem'\n                        href='#'\n                        onClick={this.toggleFavorite}\n                    >\n                        {this.state.isFavorite ?\n                            <FormattedMessage\n                                id='channelHeader.removeFromFavorites'\n                                defaultMessage='Remove from Favorites'\n                            /> :\n                            <FormattedMessage\n                                id='channelHeader.addToFavorites'\n                                defaultMessage='Add to Favorites'\n                            />}\n                    </a>\n                </li>\n            );\n\n            return (\n                <div className='navbar-brand'>\n                    <div className='dropdown'>\n                        {this.generateWebrtcIcon()}\n                        <a\n                            href='#'\n                            className='dropdown-toggle theme'\n                            type='button'\n                            data-toggle='dropdown'\n                            aria-expanded='true'\n                        >\n                            <span className='heading'><StatusIcon status={this.getTeammateStatus()}/>{channelTitle} </span>\n                            <span className='fa fa-angle-down header-dropdown__icon'/>\n                        </a>\n                        <ul\n                            className='dropdown-menu'\n                            role='menu'\n                        >\n                            {viewInfoOption}\n                            {webrtcOption}\n                            {viewPinnedPostsOption}\n                            {notificationPreferenceOption}\n                            {addMembersOption}\n                            {manageMembersOption}\n                            {setChannelHeaderOption}\n                            {setChannelPurposeOption}\n                            {renameChannelOption}\n                            {deleteChannelOption}\n                            {leaveChannelOption}\n                            {toggleFavoriteOption}\n                            <div\n                                className='close visible-xs-block'\n                                onClick={() => this.refs.headerOverlay.hide()}\n                            >\n                                {''}\n                            </div>\n                        </ul>\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className='navbar-brand'>\n                <Link\n                    to={TeamStore.getCurrentTeamUrl() + '/channels/town-square'}\n                    className='heading'\n                >\n                    {channelTitle}\n                </Link>\n            </div>\n        );\n    }\n\n    createCollapseButtons = (currentId) => {\n        var buttons = [];\n        const menuIcon = Constants.MENU_ICON_SVG;\n\n        if (currentId == null) {\n            buttons.push(\n                <button\n                    key='navbar-toggle-collapse'\n                    type='button'\n                    className='navbar-toggle'\n                    data-toggle='collapse'\n                    data-target='#navbar-collapse-1'\n                >\n                    <span className='sr-only'>\n                        <FormattedMessage\n                            id='navbar.toggle1'\n                            defaultMessage='Toggle sidebar'\n                        />\n                    </span>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                </button>\n            );\n        } else {\n            buttons.push(\n                <button\n                    key='navbar-toggle-sidebar'\n                    type='button'\n                    className='navbar-toggle'\n                    data-toggle='collapse'\n                    data-target='#sidebar-nav'\n                    onClick={this.toggleLeftSidebar}\n                >\n                    <span className='sr-only'>\n                        <FormattedMessage\n                            id='navbar.toggle2'\n                            defaultMessage='Toggle sidebar'\n                        />\n                    </span>\n                    <span\n                        className='icon icon__menu icon--sidebarHeaderTextColor'\n                        dangerouslySetInnerHTML={{__html: menuIcon}}\n                        aria-hidden='true'\n                    />\n                    <NotifyCounts/>\n                </button>\n            );\n\n            buttons.push(\n                <button\n                    key='navbar-toggle-menu'\n                    type='button'\n                    className='navbar-toggle navbar-right__icon menu-toggle pull-right'\n                    data-toggle='collapse'\n                    data-target='#sidebar-nav'\n                    onClick={this.toggleRightSidebar}\n                >\n                    <span dangerouslySetInnerHTML={{__html: Constants.MENU_ICON}}/>\n                </button>\n            );\n        }\n\n        return buttons;\n    }\n\n    getTeammateStatus = () => {\n        const channel = this.state.channel;\n\n        // get status for direct message channels\n        if (channel.type === 'D') {\n            const currentUserId = this.state.currentUser.id;\n            const teammate = this.state.users.find((user) => user.id !== currentUserId);\n            if (teammate) {\n                return UserStore.getStatus(teammate.id);\n            }\n        }\n        return null;\n    }\n\n    render() {\n        if (!this.isStateValid()) {\n            return null;\n        }\n\n        var currentId = this.state.currentUser.id;\n        var channel = this.state.channel;\n        var channelTitle = this.props.teamDisplayName;\n        var isTeamAdmin = TeamStore.isTeamAdminForCurrentTeam();\n        var isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n        var isChannelAdmin = false;\n        var isDirect = false;\n        let isGroup = false;\n\n        var editChannelHeaderModal = null;\n        var editChannelPurposeModal = null;\n        let renameChannelModal = null;\n        let channelMembersModal = null;\n        let channelNotificationsModal = null;\n        let quickSwitchModal = null;\n\n        if (channel) {\n            isChannelAdmin = ChannelStore.isChannelAdminForCurrentChannel();\n            channelTitle = channel.display_name;\n\n            if (channel.type === Constants.DM_CHANNEL) {\n                isDirect = true;\n                const teammateId = Utils.getUserIdFromChannelName(channel);\n                channelTitle = Utils.displayUsername(teammateId);\n            } else if (channel.type === Constants.GM_CHANNEL) {\n                isGroup = true;\n            }\n\n            if (this.state.showEditChannelHeaderModal) {\n                editChannelHeaderModal = (\n                    <EditChannelHeaderModal\n                        onHide={() => this.setState({showEditChannelHeaderModal: false})}\n                        channel={channel}\n                    />\n                );\n            }\n\n            if (this.state.showEditChannelPurposeModal) {\n                editChannelPurposeModal = (\n                    <EditChannelPurposeModal\n                        onModalDismissed={this.hideChannelPurposeModal}\n                        channel={channel}\n                    />\n                );\n            }\n\n            renameChannelModal = (\n                <RenameChannelModal\n                    show={this.state.showRenameChannelModal}\n                    onHide={this.hideRenameChannelModal}\n                    channel={channel}\n                />\n            );\n\n            if (this.state.showMembersModal) {\n                channelMembersModal = (\n                    <ChannelMembersModal\n                        show={true}\n                        onModalDismissed={this.hideMembersModal}\n                        showInviteModal={() => this.refs.channelInviteModalButton.show()}\n                        channel={channel}\n                        isAdmin={isTeamAdmin || isSystemAdmin}\n                    />\n                );\n            }\n\n            channelNotificationsModal = (\n                <ChannelNotificationsModal\n                    show={this.state.showChannelNotificationsModal}\n                    onHide={this.hideChannelNotificationsModal}\n                    channel={channel}\n                    channelMember={this.state.member}\n                    currentUser={this.state.currentUser}\n                />\n            );\n\n            quickSwitchModal = (\n                <QuickSwitchModal\n                    show={this.state.showQuickSwitchModal}\n                    onHide={this.hideQuickSwitchModal}\n                    initialMode={this.state.quickSwitchMode}\n                />\n            );\n        }\n\n        var collapseButtons = this.createCollapseButtons(currentId);\n\n        const searchIcon = Constants.SEARCH_ICON_SVG;\n        const searchButton = (\n            <button\n                type='button'\n                className='navbar-toggle navbar-right__icon navbar-search pull-right'\n                onClick={this.showSearch}\n            >\n                <span\n                    className='icon icon__search'\n                    dangerouslySetInnerHTML={{__html: searchIcon}}\n                    aria-hidden='true'\n                />\n            </button>\n        );\n\n        var channelMenuDropdown = this.createDropdown(channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup);\n\n        return (\n            <div>\n                <nav\n                    className='navbar navbar-default navbar-fixed-top'\n                    role='navigation'\n                >\n                    <div className='container-fluid theme'>\n                        <div className='navbar-header'>\n                            {collapseButtons}\n                            {searchButton}\n                            <NavbarInfoButton\n                                ref='headerOverlay'\n                                channel={channel}\n                                showEditChannelHeaderModal={this.showEditChannelHeaderModal}\n                            />\n                            <Pluggable pluggableName='MobileChannelHeaderButton'/>\n                            {channelMenuDropdown}\n                        </div>\n                    </div>\n                </nav>\n                {editChannelHeaderModal}\n                {editChannelPurposeModal}\n                {renameChannelModal}\n                {channelMembersModal}\n                {channelNotificationsModal}\n                {quickSwitchModal}\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/navbar/navbar.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport {getCountsStateFromStores} from 'utils/channel_utils.jsx';\nimport * as utils from 'utils/utils.jsx';\n\nexport default class NotifyCounts extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onListenerChange = this.onListenerChange.bind(this);\n\n        this.state = getCountsStateFromStores();\n        this.mounted = false;\n    }\n    componentDidMount() {\n        this.mounted = true;\n        ChannelStore.addChangeListener(this.onListenerChange);\n        TeamStore.addChangeListener(this.onListenerChange);\n    }\n    componentWillUnmount() {\n        this.mounted = false;\n        ChannelStore.removeChangeListener(this.onListenerChange);\n        TeamStore.removeChangeListener(this.onListenerChange);\n    }\n    onListenerChange() {\n        if (this.mounted) {\n            var newState = getCountsStateFromStores();\n            if (!utils.areObjectsEqual(newState, this.state)) {\n                this.setState(newState);\n            }\n        }\n    }\n    render() {\n        if (this.state.mentionCount) {\n            return <span className='badge badge-notify'>{this.state.mentionCount}</span>;\n        } else if (this.state.messageCount) {\n            return <span className='badge badge-notify'>{''}</span>;\n        }\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/notify_counts.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport QuickSwitchModal from './quick_switch_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        showTeamSwitcher: false\n    };\n}\n\nexport default connect(mapStateToProps)(QuickSwitchModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/quick_switch_modal/index.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router';\n\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\n\nimport {goToChannel, openDirectChannelToUser} from 'actions/channel_actions.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\n\nimport SuggestionBox from 'components/suggestion/suggestion_box.jsx';\nimport SuggestionList from 'components/suggestion/suggestion_list.jsx';\nimport SwitchChannelProvider from 'components/suggestion/switch_channel_provider.jsx';\nimport SwitchTeamProvider from 'components/suggestion/switch_team_provider.jsx';\n\nconst getState = store.getState;\n\nconst CHANNEL_MODE = 'channel';\nconst TEAM_MODE = 'team';\n\nexport default class QuickSwitchModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The mode to start in when showing the modal, either 'channel' or 'team'\n         */\n        initialMode: PropTypes.string.isRequired,\n\n        /**\n         * Set to show the modal\n         */\n        show: PropTypes.bool.isRequired,\n\n        /**\n         * The function called to hide the modal\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * Set to show team switcher\n         */\n        showTeamSwitcher: PropTypes.bool\n    }\n\n    static defaultProps = {\n        initialMode: CHANNEL_MODE\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.onShow = this.onShow.bind(this);\n        this.onHide = this.onHide.bind(this);\n        this.onExited = this.onExited.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.switchToChannel = this.switchToChannel.bind(this);\n        this.switchMode = this.switchMode.bind(this);\n        this.focusTextbox = this.focusTextbox.bind(this);\n\n        this.enableChannelProvider = this.enableChannelProvider.bind(this);\n        this.enableTeamProvider = this.enableTeamProvider.bind(this);\n        this.channelProviders = [new SwitchChannelProvider()];\n        this.teamProviders = [new SwitchTeamProvider()];\n\n        this.switchBox = null;\n\n        this.state = {\n            text: '',\n            mode: props.initialMode\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!this.props.show && nextProps.show) {\n            this.setState({mode: nextProps.initialMode, text: ''});\n        }\n    }\n\n    focusTextbox() {\n        if (this.switchBox == null) {\n            return;\n        }\n\n        const textbox = this.switchBox.getTextbox();\n        if (document.activeElement !== textbox) {\n            textbox.focus();\n            Utils.placeCaretAtEnd(textbox);\n        }\n    }\n\n    setSwitchBoxRef = (input) => {\n        this.switchBox = input;\n        this.focusTextbox();\n    }\n\n    onShow() {\n        this.setState({\n            text: ''\n        });\n    }\n\n    onHide() {\n        this.setState({\n            text: ''\n        });\n        this.props.onHide();\n    }\n\n    onExited() {\n        if (!UserAgent.isMobile()) {\n            setTimeout(() => {\n                const textbox = document.querySelector('#post_textbox');\n                if (textbox) {\n                    textbox.focus();\n                }\n            });\n        }\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    handleKeyDown(e) {\n        if (e.keyCode === Constants.KeyCodes.TAB) {\n            e.preventDefault();\n            this.switchMode();\n        }\n    }\n\n    handleSubmit(selected) {\n        let channel = null;\n\n        if (!selected) {\n            return;\n        }\n\n        if (this.state.mode === CHANNEL_MODE) {\n            const selectedChannel = selected.channel;\n            if (selectedChannel.type === Constants.DM_CHANNEL) {\n                openDirectChannelToUser(\n                    selectedChannel.id,\n                    (ch) => {\n                        channel = ch;\n                        this.switchToChannel(channel);\n                    },\n                    () => {\n                        channel = null;\n                        this.switchToChannel(channel);\n                    }\n                );\n            } else if (selectedChannel.type === Constants.GM_CHANNEL) {\n                channel = getChannel(getState(), selectedChannel.id);\n                this.switchToChannel(channel);\n            } else {\n                this.switchToChannel(selectedChannel);\n            }\n        } else {\n            browserHistory.push('/' + selected.name);\n            this.onHide();\n        }\n    }\n\n    switchToChannel(channel) {\n        if (channel != null) {\n            goToChannel(channel);\n            this.onHide();\n        }\n    }\n\n    enableChannelProvider() {\n        this.channelProviders[0].disableDispatches = false;\n        this.teamProviders[0].disableDispatches = true;\n    }\n\n    enableTeamProvider() {\n        this.teamProviders[0].disableDispatches = false;\n        this.channelProviders[0].disableDispatches = true;\n    }\n\n    switchMode() {\n        if (this.state.mode === CHANNEL_MODE && this.props.showTeamSwitcher) {\n            this.enableTeamProvider();\n            this.setState({mode: TEAM_MODE});\n        } else if (this.state.mode === TEAM_MODE) {\n            this.enableChannelProvider();\n            this.setState({mode: CHANNEL_MODE});\n        }\n    }\n\n    render() {\n        let providers = this.channelProviders;\n        let header;\n        let renderDividers = true;\n\n        let channelShortcut = 'quick_switch_modal.channelsShortcut.windows';\n        let defaultChannelShortcut = 'CTRL+K';\n        if (Utils.isMac()) {\n            channelShortcut = 'quick_switch_modal.channelsShortcut.mac';\n            defaultChannelShortcut = 'CMD+K';\n        }\n\n        let teamShortcut = 'quick_switch_modal.teamsShortcut.windows';\n        let defaultTeamShortcut = 'CTRL+ALT+K';\n        if (Utils.isMac()) {\n            teamShortcut = 'quick_switch_modal.teamsShortcut.mac';\n            defaultTeamShortcut = 'CMD+ALT+K';\n        }\n\n        if (this.props.showTeamSwitcher) {\n            let channelsActiveClass = '';\n            let teamsActiveClass = '';\n            if (this.state.mode === TEAM_MODE) {\n                providers = this.teamProviders;\n                renderDividers = false;\n                teamsActiveClass = 'active';\n            } else {\n                channelsActiveClass = 'active';\n            }\n\n            header = (\n                <div className='nav nav-tabs'>\n                    <li className={channelsActiveClass}>\n                        <a\n                            href='#'\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.enableChannelProvider();\n                                this.setState({mode: 'channel'});\n                                this.focusTextbox();\n                            }}\n                        >\n                            <FormattedMessage\n                                id='quick_switch_modal.channels'\n                                defaultMessage='Channels'\n                            />\n                            <span className='small'>\n                                <FormattedMessage\n                                    id={channelShortcut}\n                                    defaultMessage={defaultChannelShortcut}\n                                />\n                            </span>\n                        </a>\n                    </li>\n                    <li className={teamsActiveClass}>\n                        <a\n                            href='#'\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.enableTeamProvider();\n                                this.setState({mode: 'team'});\n                                this.focusTextbox();\n                            }}\n                        >\n                            <FormattedMessage\n                                id='quick_switch_modal.teams'\n                                defaultMessage='Teams'\n                            />\n                            <span className='small'>\n                                <FormattedMessage\n                                    id={teamShortcut}\n                                    defaultMessage={defaultTeamShortcut}\n                                />\n                            </span>\n                        </a>\n                    </li>\n                </div>\n            );\n        }\n\n        let help;\n        if (Utils.isMobile()) {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help_mobile'\n                    defaultMessage='Type to find a channel.'\n                />\n            );\n        } else if (this.props.showTeamSwitcher) {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help'\n                    defaultMessage='Start typing then use TAB to toggle channels/teams,  to browse,  to select, and ESC to dismiss.'\n                />\n            );\n        } else {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help_no_team'\n                    defaultMessage='Type to find a channel. Use  to browse,  to select, ESC to dismiss.'\n                />\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='channel-switch-modal modal--overflow'\n                ref='modal'\n                show={this.props.show}\n                onHide={this.onHide}\n                onExited={this.onExited}\n            >\n                <Modal.Header closeButton={true}/>\n                <Modal.Body>\n                    {header}\n                    <div className='modal__hint'>\n                        {help}\n                    </div>\n                    <SuggestionBox\n                        ref={this.setSwitchBoxRef}\n                        className='form-control focused'\n                        type='input'\n                        onChange={this.onChange}\n                        value={this.state.text}\n                        onKeyDown={this.handleKeyDown}\n                        onItemSelected={this.handleSubmit}\n                        listComponent={SuggestionList}\n                        maxLength='64'\n                        providers={providers}\n                        listStyle='bottom'\n                        completeOnTab={false}\n                        renderDividers={renderDividers}\n                    />\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/quick_switch_modal/quick_switch_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport {Client4} from 'mattermost-redux/client';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getChannelsInCurrentTeam, getGroupChannels, getMyChannelMemberships} from 'mattermost-redux/selectors/entities/channels';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId, searchProfiles} from 'mattermost-redux/selectors/entities/users';\n\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport {getChannelDisplayName, sortChannelsByDisplayName} from 'utils/channel_utils.jsx';\nimport {ActionTypes, Constants} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nconst getState = store.getState;\n\nclass SwitchChannelSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n        const channel = item.channel;\n        const globeIcon = Constants.GLOBE_ICON_SVG;\n        const lockIcon = Constants.LOCK_ICON_SVG;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        let displayName = channel.display_name;\n        let icon = null;\n        if (channel.type === Constants.OPEN_CHANNEL) {\n            icon = (\n                <span\n                    className='icon icon__globe icon--body'\n                    dangerouslySetInnerHTML={{__html: globeIcon}}\n                />\n            );\n        } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n            icon = (\n                <span\n                    className='icon icon__lock icon--body'\n                    dangerouslySetInnerHTML={{__html: lockIcon}}\n                />\n            );\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            displayName = getChannelDisplayName(channel);\n            icon = <div className='status status--group'>{'G'}</div>;\n        } else {\n            icon = (\n                <div className='pull-left'>\n                    <img\n                        className='mention__image'\n                        src={Utils.imageURLForUser(channel)}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n            >\n                {icon}\n                {displayName}\n            </div>\n        );\n    }\n}\n\nlet prefix = '';\n\nfunction quickSwitchSorter(wrappedA, wrappedB) {\n    if (wrappedA.type === Constants.MENTION_CHANNELS && wrappedB.type === Constants.MENTION_MORE_CHANNELS) {\n        return -1;\n    } else if (wrappedB.type === Constants.MENTION_CHANNELS && wrappedA.type === Constants.MENTION_MORE_CHANNELS) {\n        return 1;\n    }\n\n    if (wrappedA.deactivated && !wrappedB.deactivated) {\n        return 1;\n    } else if (wrappedB.deactivated && !wrappedA.deactivated) {\n        return -1;\n    }\n\n    const a = wrappedA.channel;\n    const b = wrappedB.channel;\n\n    let aDisplayName = getChannelDisplayName(a).toLowerCase();\n    let bDisplayName = getChannelDisplayName(b).toLowerCase();\n\n    if (a.type === Constants.DM_CHANNEL) {\n        aDisplayName = aDisplayName.substring(1);\n    }\n\n    if (b.type === Constants.DM_CHANNEL) {\n        bDisplayName = bDisplayName.substring(1);\n    }\n\n    const aStartsWith = aDisplayName.startsWith(prefix);\n    const bStartsWith = bDisplayName.startsWith(prefix);\n    if (aStartsWith && bStartsWith) {\n        return sortChannelsByDisplayName(a, b);\n    } else if (!aStartsWith && !bStartsWith) {\n        return sortChannelsByDisplayName(a, b);\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nexport default class SwitchChannelProvider extends Provider {\n    handlePretextChanged(suggestionId, channelPrefix) {\n        if (channelPrefix) {\n            prefix = channelPrefix;\n            this.startNewRequest(suggestionId, channelPrefix);\n\n            // Dispatch suggestions for local data\n            const channels = getChannelsInCurrentTeam(getState()).concat(getGroupChannels(getState()));\n            const users = Object.assign([], searchProfiles(getState(), channelPrefix, true));\n            this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users, true);\n\n            // Fetch data from the server and dispatch\n            this.fetchUsersAndChannels(channelPrefix, suggestionId);\n\n            return true;\n        }\n\n        return false;\n    }\n\n    async fetchUsersAndChannels(channelPrefix, suggestionId) {\n        const teamId = getCurrentTeamId(getState());\n        if (!teamId) {\n            return;\n        }\n\n        let usersAsync;\n        if (global.window.mm_config.RestrictDirectMessage === 'team') {\n            usersAsync = Client4.autocompleteUsers(channelPrefix, teamId, '');\n        } else {\n            usersAsync = Client4.autocompleteUsers(channelPrefix, '', '');\n        }\n\n        const channelsAsync = Client4.searchChannels(teamId, channelPrefix);\n\n        let usersFromServer = [];\n        let channelsFromServer = [];\n        try {\n            usersFromServer = await usersAsync;\n            channelsFromServer = await channelsAsync;\n        } catch (err) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_ERROR,\n                err\n            });\n        }\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const users = Object.assign([], searchProfiles(getState(), channelPrefix, true)).concat(usersFromServer.users);\n        const channels = getChannelsInCurrentTeam(getState()).concat(getGroupChannels(getState())).concat(channelsFromServer);\n        this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users);\n    }\n\n    formatChannelsAndDispatch(channelPrefix, suggestionId, allChannels, users, skipNotInChannel = false) {\n        const channels = [];\n        const members = getMyChannelMemberships(getState());\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const currentId = getCurrentUserId(getState());\n\n        const completedChannels = {};\n\n        for (const id of Object.keys(allChannels)) {\n            const channel = allChannels[id];\n\n            if (completedChannels[channel.id]) {\n                continue;\n            }\n\n            const member = members[channel.id];\n\n            if (channel.display_name.toLowerCase().indexOf(channelPrefix.toLowerCase()) !== -1) {\n                const newChannel = Object.assign({}, channel);\n                const wrappedChannel = {channel: newChannel, name: newChannel.name, deactivated: false};\n                if (newChannel.type === Constants.GM_CHANNEL) {\n                    newChannel.name = getChannelDisplayName(newChannel);\n                    wrappedChannel.name = newChannel.name;\n                    const isGMVisible = getBool(getState(), Preferences.CATEGORY_GROUP_CHANNEL_SHOW, newChannel.id, false);\n                    if (isGMVisible) {\n                        wrappedChannel.type = Constants.MENTION_CHANNELS;\n                    } else {\n                        wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                        if (skipNotInChannel) {\n                            continue;\n                        }\n                    }\n                } else if (member) {\n                    wrappedChannel.type = Constants.MENTION_CHANNELS;\n                } else {\n                    wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                    if (skipNotInChannel || !newChannel.display_name.toLowerCase().startsWith(channelPrefix)) {\n                        continue;\n                    }\n                }\n\n                completedChannels[channel.id] = true;\n                channels.push(wrappedChannel);\n            }\n        }\n\n        for (let i = 0; i < users.length; i++) {\n            const user = users[i];\n\n            if (completedChannels[user.id]) {\n                continue;\n            }\n\n            const isDMVisible = getBool(getState(), Preferences.CATEGORY_DIRECT_CHANNEL_SHOW, user.id, false);\n            let displayName = `@${user.username}`;\n\n            if (user.id === currentId) {\n                continue;\n            }\n\n            if ((user.first_name || user.last_name) && user.nickname) {\n                displayName += ` - ${Utils.getFullName(user)} (${user.nickname})`;\n            } else if (user.nickname) {\n                displayName += ` - (${user.nickname})`;\n            } else if (user.first_name || user.last_name) {\n                displayName += ` - ${Utils.getFullName(user)}`;\n            }\n\n            if (user.delete_at) {\n                displayName += ' - ' + Utils.localizeMessage('channel_switch_modal.deactivated', 'Deactivated');\n            }\n\n            const wrappedChannel = {\n                channel: {\n                    display_name: displayName,\n                    name: user.username,\n                    id: user.id,\n                    update_at: user.update_at,\n                    type: Constants.DM_CHANNEL,\n                    last_picture_update: user.last_picture_update || 0\n                },\n                name: user.username,\n                deactivated: user.delete_at\n            };\n\n            if (isDMVisible) {\n                wrappedChannel.type = Constants.MENTION_CHANNELS;\n            } else {\n                wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                if (skipNotInChannel) {\n                    continue;\n                }\n            }\n\n            completedChannels[user.id] = true;\n            channels.push(wrappedChannel);\n        }\n\n        const channelNames = channels.\n            sort(quickSwitchSorter).\n            map((wrappedChannel) => wrappedChannel.channel.name);\n\n        if (skipNotInChannel) {\n            channels.push({\n                type: Constants.MENTION_MORE_CHANNELS,\n                loading: true\n            });\n        }\n\n        setTimeout(() => {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                id: suggestionId,\n                matchedPretext: channelPrefix,\n                terms: channelNames,\n                items: channels,\n                component: SwitchChannelSuggestion\n            });\n        }, 0);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/suggestion/switch_channel_provider.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport * as Selectors from 'mattermost-redux/selectors/entities/teams';\n\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport LocalizationStore from 'stores/localization_store.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport {ActionTypes} from 'utils/constants.jsx';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nconst getState = store.getState;\n\nclass SwitchTeamSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n            >\n                <div className='status'><i className='fa fa-group'/></div>\n                {item.display_name}\n            </div>\n        );\n    }\n}\n\nlet prefix = '';\n\nfunction quickSwitchSorter(a, b) {\n    const aDisplayName = a.display_name.toLowerCase();\n    const bDisplayName = b.display_name.toLowerCase();\n    const aStartsWith = aDisplayName.startsWith(prefix);\n    const bStartsWith = bDisplayName.startsWith(prefix);\n\n    if (aStartsWith && bStartsWith) {\n        const locale = LocalizationStore.getLocale();\n\n        if (aDisplayName !== bDisplayName) {\n            return aDisplayName.localeCompare(bDisplayName, locale, {numeric: true});\n        }\n\n        return a.name.localeCompare(b.name, locale, {numeric: true});\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nexport default class SwitchTeamProvider extends Provider {\n    handlePretextChanged(suggestionId, teamPrefix) {\n        if (teamPrefix) {\n            prefix = teamPrefix;\n            this.startNewRequest(suggestionId, teamPrefix);\n\n            const allTeams = Selectors.getMyTeams(getState());\n\n            const teams = allTeams.filter((team) => {\n                return team.display_name.toLowerCase().indexOf(teamPrefix) !== -1 ||\n                    team.name.indexOf(teamPrefix) !== -1;\n            });\n\n            const teamNames = teams.\n                sort(quickSwitchSorter).\n                map((team) => team.name);\n\n            setTimeout(() => {\n                AppDispatcher.handleServerAction({\n                    type: ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                    id: suggestionId,\n                    matchedPretext: teamPrefix,\n                    terms: teamNames,\n                    items: teams,\n                    component: SwitchTeamSuggestion\n                });\n            }, 0);\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/suggestion/switch_team_provider.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Popover} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants.jsx';\n\nimport MessageWrapper from 'components/message_wrapper.jsx';\n\nexport default class NavbarInfoButton extends React.PureComponent {\n    static propTypes = {\n        channel: PropTypes.object,\n        showEditChannelHeaderModal: PropTypes.func.isRequired\n    };\n\n    showEditChannelHeaderModal = () => {\n        this.refs.headerOverlay.hide();\n\n        this.props.showEditChannelHeaderModal();\n    }\n\n    hide = () => {\n        this.refs.headerOverlay.hide();\n    }\n\n    render() {\n        let popoverContent = null;\n        if (this.props.channel) {\n            if (this.props.channel.header) {\n                popoverContent = (\n                    <MessageWrapper\n                        message={this.props.channel.header}\n                        options={{singleline: true, mentionHighlight: false}}\n                    />\n                );\n            } else {\n                const link = (\n                    <a\n                        href='#'\n                        onClick={this.showEditChannelHeaderModal}\n                    >\n                        <FormattedMessage\n                            id='navbar.click'\n                            defaultMessage='Click here'\n                        />\n                    </a>\n                );\n\n                popoverContent = (\n                    <div>\n                        <FormattedMessage\n                            id='navbar.noHeader'\n                            defaultMessage='No channel header yet.{newline}{link} to add one.'\n                            values={{\n                                newline: (<br/>),\n                                link\n                            }}\n                        />\n                    </div>\n                );\n            }\n        }\n\n        const popover = (\n            <Popover\n                bsStyle='info'\n                placement='bottom'\n                id='header-popover'\n            >\n                {popoverContent}\n                <div\n                    className='close visible-xs-block'\n                    onClick={this.hide}\n                >\n                    {''}\n                </div>\n            </Popover>\n        );\n\n        return (\n            <OverlayTrigger\n                ref='headerOverlay'\n                trigger='click'\n                placement='bottom'\n                overlay={popover}\n                className='description'\n                rootClose={true}\n            >\n                <div className='navbar-toggle navbar-right__icon navbar-info-button pull-right'>\n                    <span\n                        className='icon icon__info'\n                        dangerouslySetInnerHTML={{__html: Constants.INFO_ICON_SVG}}\n                        aria-hidden='true'\n                    />\n                </div>\n            </OverlayTrigger>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/navbar/navbar_info_button.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router';\n\nimport BrowserStore from 'stores/browser_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nexport default class RemovedFromChannelModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleShow = this.handleShow.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n\n        this.state = {\n            channelName: '',\n            remover: ''\n        };\n    }\n\n    handleShow() {\n        var newState = {};\n        if (BrowserStore.getItem('channel-removed-state')) {\n            newState = BrowserStore.getItem('channel-removed-state');\n            BrowserStore.removeItem('channel-removed-state');\n        }\n\n        var townSquare = ChannelStore.getByName('town-square');\n        setTimeout(\n            () => {\n                browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/channels/' + townSquare.name);\n            },\n        1);\n\n        this.setState(newState);\n    }\n\n    handleClose() {\n        this.setState({channelName: '', remover: ''});\n    }\n\n    componentDidMount() {\n        $(ReactDOM.findDOMNode(this)).on('show.bs.modal', this.handleShow);\n        $(ReactDOM.findDOMNode(this)).on('hidden.bs.modal', this.handleClose);\n    }\n\n    componentWillUnmount() {\n        $(ReactDOM.findDOMNode(this)).off('show.bs.modal', this.handleShow);\n        $(ReactDOM.findDOMNode(this)).off('hidden.bs.modal', this.handleClose);\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n\n        var channelName = (\n            <FormattedMessage\n                id='removed_channel.channelName'\n                defaultMessage='the channel'\n            />\n        );\n        if (this.state.channelName) {\n            channelName = this.state.channelName;\n        }\n\n        var remover = (\n            <FormattedMessage\n                id='removed_channel.someone'\n                defaultMessage='Someone'\n            />\n        );\n        if (this.state.remover) {\n            remover = this.state.remover;\n        }\n\n        if (currentUser != null) {\n            return (\n                <div\n                    className='modal fade'\n                    ref='modal'\n                    id='removed_from_channel'\n                    tabIndex='-1'\n                    role='dialog'\n                    aria-hidden='true'\n                >\n                    <div className='modal-dialog'>\n                        <div className='modal-content'>\n                            <div className='modal-header'>\n                                <button\n                                    type='button'\n                                    className='close'\n                                    data-dismiss='modal'\n                                    aria-label='Close'\n                                >\n                                    <span aria-hidden='true'>\n                                        {''}\n                                    </span>\n                                </button>\n                                <h4 className='modal-title'>\n                                    <FormattedMessage\n                                        id='removed_channel.from'\n                                        defaultMessage='Removed from '\n                                    />\n                                    <span className='name'>{channelName}</span></h4>\n                            </div>\n                            <div className='modal-body'>\n                                <p>\n                                    <FormattedMessage\n                                        id='removed_channel.remover'\n                                        defaultMessage='{remover} removed you from {channel}'\n                                        values={{\n                                            remover,\n                                            channel: (channelName)\n                                        }}\n                                    />\n                                </p>\n                            </div>\n                            <div className='modal-footer'>\n                                <button\n                                    type='button'\n                                    className='btn btn-primary'\n                                    data-dismiss='modal'\n                                >\n                                    <FormattedMessage\n                                        id='removed_channel.okay'\n                                        defaultMessage='Okay'\n                                    />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/removed_from_channel_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\nimport {setStatus} from 'mattermost-redux/actions/users';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {autoResetStatus} from 'actions/user_actions.jsx';\n\nimport ResetStatusModal from './reset_status_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const {currentUserId} = state.entities.users;\n    return {\n        ...ownProps,\n        autoResetPref: get(state, Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, currentUserId, '')\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            autoResetStatus,\n            setStatus,\n            savePreferences\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResetStatusModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/reset_status_modal/index.js","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {Preferences} from 'mattermost-redux/constants';\n\nimport {toTitleCase} from 'utils/utils.jsx';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\n\nexport default class ResetStatusModal extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The user's preference for whether their status is automatically reset\n         */\n        autoResetPref: PropTypes.string,\n        actions: PropTypes.shape({\n\n            /*\n             * Function to get and then reset the user's status if needed\n             */\n            autoResetStatus: PropTypes.func.isRequired,\n\n            /*\n             * Function to set the status for a user\n             */\n            setStatus: PropTypes.func.isRequired,\n\n            /*\n             * Function to save user preferences\n             */\n            savePreferences: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n            currentUserStatus: {}\n        };\n    }\n\n    componentDidMount() {\n        this.props.actions.autoResetStatus().then(\n            (status) => {\n                const statusIsManual = status.manual;\n                const autoResetPrefNotSet = this.props.autoResetPref === '';\n\n                this.setState({\n                    currentUserStatus: status, // Set in state until status refactor where we store 'manual' field in redux\n                    show: Boolean(statusIsManual && autoResetPrefNotSet)\n                });\n            }\n        );\n    }\n\n    onConfirm = (checked) => {\n        this.setState({show: false});\n\n        const newStatus = {...this.state.currentUserStatus};\n        newStatus.status = 'online';\n        this.props.actions.setStatus(newStatus);\n\n        if (checked) {\n            const pref = {category: Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: newStatus.user_id, name: newStatus.user_id, value: 'true'};\n            this.props.actions.savePreferences(pref.user_id, [pref]);\n        }\n    }\n\n    onCancel = (checked) => {\n        this.setState({show: false});\n\n        if (checked) {\n            const status = {...this.state.currentUserStatus};\n            const pref = {category: Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: status.user_id, name: status.user_id, value: 'false'};\n            this.props.actions.savePreferences(pref.user_id, [pref]);\n        }\n    }\n\n    render() {\n        const userStatus = this.state.currentUserStatus.status || '';\n        const userStatusId = 'modal.manaul_status.title_' + userStatus;\n        const manualStatusTitle = (\n            <FormattedMessage\n                id={userStatusId}\n                defaultMessage='Your status is set to \"{status}\"'\n                values={{\n                    status: toTitleCase(userStatus)\n                }}\n            />\n        );\n\n        const manualStatusMessage = (\n            <FormattedMessage\n                id='modal.manaul_status.message'\n                defaultMessage='Would you like to switch your status to \"Online\"?'\n            />\n        );\n\n        const manualStatusButton = (\n            <FormattedMessage\n                id='modal.manaul_status.button'\n                defaultMessage='Yes, set my status to \"Online\"'\n            />\n        );\n        const manualStatusId = 'modal.manual_status.cancel_' + userStatus;\n        const manualStatusCancel = (\n            <FormattedMessage\n                id={manualStatusId}\n                defaultMessage='No, keep it as \"{status}\"'\n                values={{\n                    status: toTitleCase(userStatus)\n                }}\n            />\n        );\n\n        const manualStatusCheckbox = (\n            <FormattedMessage\n                id='modal.manaul_status.ask'\n                defaultMessage='Do not ask me again'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                show={this.state.show}\n                title={manualStatusTitle}\n                message={manualStatusMessage}\n                confirmButtonText={manualStatusButton}\n                onConfirm={this.onConfirm}\n                cancelButtonText={manualStatusCancel}\n                onCancel={this.onCancel}\n                showCheckbox={true}\n                checkboxText={manualStatusCheckbox}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/reset_status_modal/reset_status_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {defineMessages, injectIntl, intlShape} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nconst allShortcuts = defineMessages({\n    mainHeader: {\n        default: {\n            id: 'shortcuts.header',\n            defaultMessage: 'Keyboard Shortcuts\\tCtrl|/'\n        },\n        mac: {\n            id: 'shortcuts.header.mac',\n            defaultMessage: 'Keyboard Shortcuts\\t|/'\n        }\n    },\n    navHeader: {\n        id: 'shortcuts.nav.header',\n        defaultMessage: 'Navigation'\n    },\n    navPrev: {\n        default: {\n            id: 'shortcuts.nav.prev',\n            defaultMessage: 'Previous channel:\\tAlt|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.prev.mac',\n            defaultMessage: 'Previous channel:\\t|Up'\n        }\n    },\n    navNext: {\n        default: {\n            id: 'shortcuts.nav.next',\n            defaultMessage: 'Next channel:\\tAlt|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.next.mac',\n            defaultMessage: 'Next channel:\\t|Down'\n        }\n    },\n    navUnreadPrev: {\n        default: {\n            id: 'shortcuts.nav.unread_prev',\n            defaultMessage: 'Previous unread channel:\\tAlt|Shift|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_prev.mac',\n            defaultMessage: 'Previous unread channel:\\t|Shift|Up'\n        }\n    },\n    navUnreadNext: {\n        default: {\n            id: 'shortcuts.nav.unread_next',\n            defaultMessage: 'Next unread channel:\\tAlt|Shift|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_next.mac',\n            defaultMessage: 'Next unread channel:\\t|Shift|Down'\n        }\n    },\n    navSwitcher: {\n        default: {\n            id: 'shortcuts.nav.switcher',\n            defaultMessage: 'Quick channel switcher:\\tCtrl|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.switcher.mac',\n            defaultMessage: 'Quick channel switcher:\\t|K'\n        }\n    },\n    navDMMenu: {\n        default: {\n            id: 'shortcuts.nav.direct_messages_menu',\n            defaultMessage: 'Direct messages menu:\\tCtrl|Shift|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.direct_messages_menu.mac',\n            defaultMessage: 'Direct messages menu:\\t|Shift|K'\n        }\n    },\n    navSettings: {\n        default: {\n            id: 'shortcuts.nav.settings',\n            defaultMessage: 'Account settings:\\tCtrl|Shift|A'\n        },\n        mac: {\n            id: 'shortcuts.nav.settings.mac',\n            defaultMessage: 'Account settings:\\t|Shift|A'\n        }\n    },\n    navMentions: {\n        default: {\n            id: 'shortcuts.nav.recent_mentions',\n            defaultMessage: 'Recent mentions:\\tCtrl|Shift|M'\n        },\n        mac: {\n            id: 'shortcuts.nav.recent_mentions.mac',\n            defaultMessage: 'Recent mentions:\\t|Shift|M'\n        }\n    },\n    navFocusCenter: {\n        default: {\n            id: 'shortcuts.nav.focus_center',\n            defaultMessage: 'Set focus to input field:\\tCtrl|Shift|L'\n        },\n        mac: {\n            id: 'shortcuts.nav.focus_center.mac',\n            defaultMessage: 'Set focus to input field:\\t|Shift|L'\n        }\n    },\n    msgHeader: {\n        id: 'shortcuts.msgs.header',\n        defaultMessage: 'Messages'\n    },\n    msgInputHeader: {\n        id: 'shortcuts.msgs.input.header',\n        defaultMessage: 'Works inside an empty input field'\n    },\n    msgEdit: {\n        id: 'shortcuts.msgs.edit',\n        defaultMessage: 'Edit last message in channel:\\tUp'\n    },\n    msgReply: {\n        id: 'shortcuts.msgs.reply',\n        defaultMessage: 'Reply to last message in channel:\\tShift|Up'\n    },\n    msgReprintPrev: {\n        default: {\n            id: 'shortcuts.msgs.reprint_prev',\n            defaultMessage: 'Reprint previous message:\\tCtrl|Up'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_prev.mac',\n            defaultMessage: 'Reprint previous message:\\t|Up'\n        }\n    },\n    msgReprintNext: {\n        default: {\n            id: 'shortcuts.msgs.reprint_next',\n            defaultMessage: 'Reprint next message:\\tCtrl|Down'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_next.mac',\n            defaultMessage: 'Reprint next message:\\t|Down'\n        }\n    },\n    msgCompHeader: {\n        id: 'shortcuts.msgs.comp.header',\n        defaultMessage: 'Autocomplete'\n    },\n    msgCompUsername: {\n        id: 'shortcuts.msgs.comp.username',\n        defaultMessage: 'Username:\\t@|[a-z]|Tab'\n    },\n    msgCompChannel: {\n        id: 'shortcuts.msgs.comp.channel',\n        defaultMessage: 'Channel:\\t~|[a-z]|Tab'\n    },\n    msgCompEmoji: {\n        id: 'shortcuts.msgs.comp.emoji',\n        defaultMessage: 'Emoji:\\t:|[a-z]|Tab'\n    },\n    filesHeader: {\n        id: 'shortcuts.files.header',\n        defaultMessage: 'Files'\n    },\n    filesUpload: {\n        default: {\n            id: 'shortcuts.files.upload',\n            defaultMessage: 'Upload files:\\tCtrl|U'\n        },\n        mac: {\n            id: 'shortcuts.files.upload.mac',\n            defaultMessage: 'Upload files:\\t|U'\n        }\n    },\n    browserHeader: {\n        id: 'shortcuts.browser.header',\n        defaultMessage: 'Built-in Browser Commands'\n    },\n    browserChannelPrev: {\n        default: {\n            id: 'shortcuts.browser.channel_prev',\n            defaultMessage: 'Back in history:\\tAlt|Left'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_prev.mac',\n            defaultMessage: 'Back in history:\\t|['\n        }\n    },\n    browserChannelNext: {\n        default: {\n            id: 'shortcuts.browser.channel_next',\n            defaultMessage: 'Forward in history:\\tAlt|Right'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_next.mac',\n            defaultMessage: 'Forward in history:\\t|]'\n        }\n    },\n    browserFontIncrease: {\n        default: {\n            id: 'shortcuts.browser.font_increase',\n            defaultMessage: 'Zoom in:\\tCtrl|+'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_increase.mac',\n            defaultMessage: 'Zoom in:\\t|+'\n        }\n    },\n    browserFontDecrease: {\n        default: {\n            id: 'shortcuts.browser.font_decrease',\n            defaultMessage: 'Zoom out:\\tCtrl|-'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_decrease.mac',\n            defaultMessage: 'Zoom out:\\t|-'\n        }\n    },\n    browserInputHeader: {\n        id: 'shortcuts.browser.input.header',\n        defaultMessage: 'Works inside an input field'\n    },\n    browserHighlightPrev: {\n        id: 'shortcuts.browser.highlight_prev',\n        defaultMessage: 'Highlight text to the previous line:\\tShift|Up'\n    },\n    browserHighlightNext: {\n        id: 'shortcuts.browser.highlight_next',\n        defaultMessage: 'Highlight text to the next line:\\tShift|Down'\n    },\n    browserNewline: {\n        id: 'shortcuts.browser.newline',\n        defaultMessage: 'Create a new line:\\tShift|Enter'\n    },\n    info: {\n        id: 'shortcuts.info',\n        defaultMessage: 'Begin a message with / for a list of all the commands at your disposal.'\n    }\n});\n\nclass ShortcutsModal extends React.PureComponent {\n    static propTypes = {\n        intl: intlShape.isRequired,\n        isMac: PropTypes.bool.isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n    }\n\n    handleToggle = () => {\n        //toggles the state of shortcut dialog\n        this.setState({\n            show: !this.state.show\n        });\n    }\n\n    handleHide = () => {\n        this.setState({show: false});\n    }\n\n    getShortcuts() {\n        const {isMac} = this.props;\n        const shortcuts = {};\n        Object.keys(allShortcuts).forEach((s) => {\n            if (isMac && allShortcuts[s].mac) {\n                shortcuts[s] = allShortcuts[s].mac;\n            } else if (!isMac && allShortcuts[s].default) {\n                shortcuts[s] = allShortcuts[s].default;\n            } else {\n                shortcuts[s] = allShortcuts[s];\n            }\n        });\n\n        return shortcuts;\n    }\n\n    render() {\n        const shortcuts = this.getShortcuts();\n        const {formatMessage} = this.props.intl;\n\n        return (\n            <Modal\n                dialogClassName='shortcuts-modal'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleHide}\n            >\n                <div className='shortcuts-content'>\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title>\n                            <strong>{renderShortcut(formatMessage(shortcuts.mainHeader))}</strong>\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body ref='modalBody'>\n                        <div className='row'>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.navHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.navPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.navNext))}\n                                        {renderShortcut(formatMessage(shortcuts.navUnreadPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.navUnreadNext))}\n                                        {renderShortcut(formatMessage(shortcuts.navSwitcher))}\n                                        {renderShortcut(formatMessage(shortcuts.navDMMenu))}\n                                        {renderShortcut(formatMessage(shortcuts.navSettings))}\n                                        {renderShortcut(formatMessage(shortcuts.navMentions))}\n                                        {renderShortcut(formatMessage(shortcuts.navFocusCenter))}\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.msgHeader)}</strong></h4>\n                                        <span><strong>{formatMessage(shortcuts.msgInputHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.msgEdit))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReply))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReprintPrev))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReprintNext))}\n                                        </div>\n                                        <span><strong>{formatMessage(shortcuts.msgCompHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.msgCompUsername))}\n                                            {renderShortcut(formatMessage(shortcuts.msgCompChannel))}\n                                            {renderShortcut(formatMessage(shortcuts.msgCompEmoji))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.filesHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.filesUpload))}\n                                    </div>\n                                    <div className='section--lower'>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.browserHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.browserChannelPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.browserChannelNext))}\n                                        {renderShortcut(formatMessage(shortcuts.browserFontIncrease))}\n                                        {renderShortcut(formatMessage(shortcuts.browserFontDecrease))}\n                                        <span><strong>{formatMessage(shortcuts.browserInputHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.browserHighlightPrev))}\n                                            {renderShortcut(formatMessage(shortcuts.browserHighlightNext))}\n                                            {renderShortcut(formatMessage(shortcuts.browserNewline))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className='info__label'>{formatMessage(shortcuts.info)}</div>\n                    </Modal.Body>\n                </div>\n            </Modal>\n        );\n    }\n}\n\nfunction renderShortcut(text) {\n    if (!text) {\n        return null;\n    }\n\n    const shortcut = text.split('\\t');\n    const description = <span>{shortcut[0]}</span>;\n\n    let keys = null;\n    if (shortcut.length > 1) {\n        keys = shortcut[1].split('|').map((key) =>\n            <span\n                className='shortcut-key'\n                key={key}\n            >\n                {key}\n            </span>\n        );\n    }\n\n    return (\n        <div className='shortcut-line'>\n            {description}\n            {keys}\n        </div>\n    );\n}\n\nexport default injectIntl(ShortcutsModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/shortcuts_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getPost} from 'mattermost-redux/selectors/entities/posts';\n\nimport PostStore from 'stores/post_store';\n\nimport {getPinnedPosts, getFlaggedPosts} from 'actions/views/rhs';\n\nimport {getRhsState, getSelectedPostId, getSelectedChannelId, getPreviousRhsState} from 'selectors/rhs';\n\nimport {RHSStates} from 'utils/constants.jsx';\n\nimport SidebarRight from './sidebar_right.jsx';\n\nfunction mapStateToProps(state) {\n    const rhsState = getRhsState(state);\n\n    const channelId = getSelectedChannelId(state);\n\n    let channel = null;\n    if (channelId) {\n        channel = getChannel(state, channelId);\n        if (channel == null) {\n            // the permalink view is not really tied to a particular channel but still needs it\n            const postId = PostStore.getFocusedPostId();\n            const post = getPost(state, postId);\n\n            // the post take some time before being available on page load\n            if (post != null) {\n                channel = getChannel(state, post.channel_id);\n            }\n        }\n    }\n\n    return {\n        channel,\n        currentUser: getCurrentUser(state),\n        postRightVisible: Boolean(getSelectedPostId(state)),\n        searchVisible: Boolean(rhsState),\n        previousRhsState: getPreviousRhsState(state),\n        isMentionSearch: rhsState === RHSStates.MENTION,\n        isFlaggedPosts: rhsState === RHSStates.FLAG,\n        isPinnedPosts: rhsState === RHSStates.PIN\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getPinnedPosts,\n            getFlaggedPosts\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarRight);\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {postListScrollChange} from 'actions/global_actions.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport FileUploadOverlay from 'components/file_upload_overlay.jsx';\nimport RhsThread from 'components/rhs_thread';\nimport SearchBox from 'components/search_bar';\nimport SearchResults from 'components/search_results';\n\nexport default class SidebarRight extends React.Component {\n    static propTypes = {\n        currentUser: PropTypes.object,\n        channel: PropTypes.object,\n        postRightVisible: PropTypes.bool,\n        searchVisible: PropTypes.bool,\n        isMentionSearch: PropTypes.bool,\n        isFlaggedPosts: PropTypes.bool,\n        isPinnedPosts: PropTypes.bool,\n        previousRhsState: PropTypes.string,\n        actions: PropTypes.shape({\n            getPinnedPosts: PropTypes.func,\n            getFlaggedPosts: PropTypes.func\n        })\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.plScrolledToBottom = true;\n\n        this.state = {\n            expanded: false,\n            useMilitaryTime: PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false)\n        };\n    }\n\n    componentDidMount() {\n        PostStore.addPostPinnedChangeListener(this.onPostPinnedChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        this.doStrangeThings();\n    }\n\n    componentWillUnmount() {\n        PostStore.removePostPinnedChangeListener(this.onPostPinnedChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const isOpen = this.props.searchVisible || this.props.postRightVisible;\n        const willOpen = nextProps.searchVisible || nextProps.postRightVisible;\n\n        if (!isOpen && willOpen) {\n            trackEvent('ui', 'ui_rhs_opened');\n        }\n\n        if (!isOpen && willOpen) {\n            this.setState({\n                expanded: false\n            });\n        }\n    }\n\n    doStrangeThings = () => {\n        // We should have a better way to do this stuff\n        // Hence the function name.\n        $('.app__body .inner-wrap').removeClass('.move--right');\n        $('.app__body .inner-wrap').addClass('move--left');\n        $('.app__body .sidebar--left').removeClass('move--right');\n        $('.multi-teams .team-sidebar').removeClass('move--right');\n        $('.app__body .sidebar--right').addClass('move--left');\n\n        //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n        if (!this.props.searchVisible && !this.props.postRightVisible) {\n            $('.app__body .inner-wrap').removeClass('move--left').removeClass('move--right');\n            $('.app__body .sidebar--right').removeClass('move--left');\n            return (\n                <div/>\n            );\n        }\n\n        /*setTimeout(() => {\n            $('.sidebar__overlay').fadeOut('200', () => {\n                $('.sidebar__overlay').remove();\n            });\n            }, 500);*/\n        return null;\n    }\n\n    componentDidUpdate(prevProps) {\n        const isOpen = this.props.searchVisible || this.props.postRightVisible;\n        WebrtcStore.emitRhsChanged(isOpen);\n        this.doStrangeThings();\n\n        const wasOpen = prevProps.searchVisible || prevProps.postRightVisible;\n\n        if (isOpen && !wasOpen) {\n            setTimeout(() => postListScrollChange(), 0);\n        }\n    }\n\n    onPreferenceChange = () => {\n        if (this.props.isFlaggedPosts) {\n            this.props.actions.getFlaggedPosts();\n        }\n\n        this.setState({\n            useMilitaryTime: PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false)\n        });\n    }\n\n    onPostPinnedChange = () => {\n        if (this.props.channel && this.props.isPinnedPosts) {\n            this.props.actions.getPinnedPosts(this.props.channel.id);\n        }\n    }\n\n    onShrink = () => {\n        this.setState({\n            expanded: false\n        });\n    }\n\n    toggleSize = () => {\n        this.setState({expanded: !this.state.expanded});\n    }\n\n    render() {\n        let content = null;\n        let expandedClass = '';\n\n        if (this.state.expanded) {\n            expandedClass = 'sidebar--right--expanded';\n        }\n\n        var currentId = this.props.currentUser.id;\n        var searchForm = null;\n        if (currentId) {\n            searchForm = <SearchBox isFocus={this.props.searchVisible && Utils.isMobile()}/>;\n        }\n\n        const channel = this.props.channel;\n\n        let channelDisplayName = '';\n        if (channel) {\n            if (channel.type === Constants.DM_CHANNEL || channel.type === Constants.GM_CHANNEL) {\n                channelDisplayName = Utils.localizeMessage('rhs_root.direct', 'Direct Message');\n            } else {\n                channelDisplayName = channel.display_name;\n            }\n        }\n\n        if (this.props.searchVisible) {\n            content = (\n                <div className='sidebar--right__content'>\n                    <div className='search-bar__container channel-header alt'>{searchForm}</div>\n                    <SearchResults\n                        isMentionSearch={this.props.isMentionSearch}\n                        isFlaggedPosts={this.props.isFlaggedPosts}\n                        isPinnedPosts={this.props.isPinnedPosts}\n                        useMilitaryTime={this.state.useMilitaryTime}\n                        toggleSize={this.toggleSize}\n                        shrink={this.onShrink}\n                        channelDisplayName={channelDisplayName}\n                    />\n                </div>\n            );\n        } else if (this.props.postRightVisible) {\n            content = (\n                <div className='post-right__container'>\n                    <FileUploadOverlay overlayType='right'/>\n                    <div className='search-bar__container channel-header alt'>{searchForm}</div>\n                    <RhsThread\n                        previousRhsState={this.props.previousRhsState}\n                        isWebrtc={WebrtcStore.isBusy()}\n                        currentUser={this.props.currentUser}\n                        useMilitaryTime={this.state.useMilitaryTime}\n                        toggleSize={this.toggleSize}\n                        shrink={this.onShrink}\n                    />\n                </div>\n            );\n        }\n\n        if (!content) {\n            expandedClass = '';\n        }\n\n        return (\n            <div\n                className={'sidebar--right ' + expandedClass}\n                id='sidebar-right'\n            >\n                <div\n                    onClick={this.onShrink}\n                    className='sidebar--right__bg'\n                />\n                <div className='sidebar-right-container'>\n                    {content}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right/sidebar_right.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {makeGetPostsForThread} from 'mattermost-redux/selectors/entities/posts';\nimport {get, getBool} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {removePost} from 'mattermost-redux/actions/posts';\n\nimport {Preferences} from 'utils/constants.jsx';\n\nimport {getSelectedPost, makeGetPostsEmbedVisibleObj} from 'selectors/rhs.jsx';\n\nimport RhsThread from './rhs_thread.jsx';\n\nfunction makeMapStateToProps() {\n    const getPostsForThread = makeGetPostsForThread();\n    const getPostsEmbedVisibleObj = makeGetPostsEmbedVisibleObj();\n\n    return function mapStateToProps(state) {\n        const selected = getSelectedPost(state);\n\n        let channel = null;\n        let posts = [];\n        if (selected) {\n            posts = getPostsForThread(state, {rootId: selected.id});\n            channel = getChannel(state, selected.channel_id);\n        }\n\n        const previewCollapsed = get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, Preferences.COLLAPSE_DISPLAY_DEFAULT);\n        const postsEmbedVisibleObj = getPostsEmbedVisibleObj(state, posts);\n\n        return {\n            selected,\n            channel,\n            posts,\n            previewCollapsed,\n            postsEmbedVisibleObj,\n            previewEnabled: getBool(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.LINK_PREVIEW_DISPLAY, Preferences.LINK_PREVIEW_DISPLAY_DEFAULT)\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            removePost\n        }, dispatch)\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(RhsThread);\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_thread/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport {FormattedMessage} from 'react-intl';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Scrollbars from 'react-custom-scrollbars';\n\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport DelayedAction from 'utils/delayed_action.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport CreateComment from 'components/create_comment';\nimport DateSeparator from 'components/post_view/date_separator.jsx';\nimport FloatingTimestamp from 'components/post_view/floating_timestamp.jsx';\nimport Comment from 'components/rhs_comment.jsx';\nimport RhsHeaderPost from 'components/rhs_header_post';\nimport RootPost from 'components/rhs_root_post.jsx';\n\nconst Preferences = Constants.Preferences;\n\nexport function renderView(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--view'\n        />);\n}\n\nexport function renderThumbHorizontal(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--horizontal'\n        />);\n}\n\nexport function renderThumbVertical(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--vertical'\n        />);\n}\n\nexport default class RhsThread extends React.Component {\n    static propTypes = {\n        posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n        channel: PropTypes.object.isRequired,\n        selected: PropTypes.object.isRequired,\n        previousRhsState: PropTypes.string,\n        isWebrtc: PropTypes.bool,\n        currentUser: PropTypes.object.isRequired,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        toggleSize: PropTypes.func,\n        shrink: PropTypes.func,\n        previewCollapsed: PropTypes.string.isRequired,\n        previewEnabled: PropTypes.bool.isRequired,\n        postsEmbedVisibleObj: PropTypes.object,\n        actions: PropTypes.shape({\n            removePost: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.scrollStopAction = new DelayedAction(this.handleScrollStop);\n\n        const openTime = (new Date()).getTime();\n\n        this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            profiles: JSON.parse(JSON.stringify(UserStore.getProfiles())),\n            compactDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST),\n            statuses: Object.assign({}, UserStore.getStatuses()),\n            previewsCollapsed: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false'),\n            isBusy: WebrtcStore.isBusy(),\n            isScrolling: false,\n            topRhsPostCreateAt: 0,\n            openTime\n        };\n    }\n\n    componentDidMount() {\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        UserStore.addChangeListener(this.onUserChange);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.addBusyListener(this.onBusy);\n\n        this.scrollToBottom();\n        window.addEventListener('resize', this.handleResize);\n    }\n\n    componentWillUnmount() {\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        UserStore.removeChangeListener(this.onUserChange);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.removeBusyListener(this.onBusy);\n\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!this.props.selected || !nextProps.selected) {\n            return;\n        }\n\n        if (this.props.selected.id !== nextProps.selected.id) {\n            this.setState({\n                openTime: (new Date()).getTime()\n            });\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        const prevPostsArray = prevProps.posts || [];\n        const curPostsArray = this.props.posts || [];\n\n        if (prevPostsArray.length >= curPostsArray.length) {\n            return;\n        }\n\n        const curLastPost = curPostsArray[curPostsArray.length - 1];\n\n        if (curLastPost.user_id === UserStore.getCurrentId()) {\n            this.scrollToBottom();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.postsArray, this.props.posts)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.selected, this.props.selected)) {\n            return true;\n        }\n\n        if (nextState.compactDisplay !== this.state.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextProps.previewEnabled !== this.props.previewEnabled) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.flaggedPosts, this.state.flaggedPosts)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.profiles, this.state.profiles)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (nextState.isBusy !== this.state.isBusy) {\n            return true;\n        }\n\n        if (nextState.isScrolling !== this.state.isScrolling) {\n            return true;\n        }\n\n        if (nextState.topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n            return true;\n        }\n        if (nextProps.postsEmbedVisibleObj !== this.props.postsEmbedVisibleObj) {\n            return true;\n        }\n\n        return false;\n    }\n\n    forceUpdateInfo = () => {\n        if (this.state.postList) {\n            for (var postId in this.state.postList.posts) {\n                if (this.refs[postId]) {\n                    this.refs[postId].forceUpdate();\n                }\n            }\n        }\n    }\n\n    handleResize = () => {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    onPreferenceChange = () => {\n        this.setState({\n            compactDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST)\n        });\n        this.forceUpdateInfo();\n    }\n\n    onStatusChange = () => {\n        this.setState({statuses: Object.assign({}, UserStore.getStatuses())});\n    }\n\n    onBusy = (isBusy) => {\n        this.setState({isBusy});\n    }\n\n    filterPosts = (posts, selected, openTime) => {\n        const postsArray = [];\n\n        posts.forEach((cpost) => {\n            // Do not show empherals created before sidebar has been opened\n            if (cpost.type === 'system_ephemeral' && cpost.create_at < openTime) {\n                return;\n            }\n\n            if (cpost.root_id === selected.id) {\n                postsArray.unshift(cpost);\n            }\n        });\n\n        return postsArray;\n    }\n\n    onUserChange = () => {\n        const profiles = JSON.parse(JSON.stringify(UserStore.getProfiles()));\n        this.setState({profiles});\n    }\n\n    scrollToBottom = () => {\n        if ($('.post-right__scroll')[0]) {\n            $('.post-right__scroll').parent().scrollTop($('.post-right__scroll')[0].scrollHeight);\n        }\n    }\n\n    updateFloatingTimestamp = () => {\n        // skip this in non-mobile view since that's when the timestamp is visible\n        if (!Utils.isMobile()) {\n            return;\n        }\n\n        if (this.props.posts) {\n            const childNodes = this.refs.rhspostlist.childNodes;\n            const viewPort = this.refs.rhspostlist.getBoundingClientRect();\n            let topRhsPostCreateAt = 0;\n            const offset = 100;\n\n            // determine the top rhs comment assuming that childNodes and postsArray are of same length\n            for (let i = 0; i < childNodes.length; i++) {\n                if ((childNodes[i].offsetTop + viewPort.top) - offset > 0) {\n                    topRhsPostCreateAt = this.props.posts[i].create_at;\n                    break;\n                }\n            }\n\n            if (topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                this.setState({\n                    topRhsPostCreateAt\n                });\n            }\n        }\n    }\n\n    handleScroll = () => {\n        this.updateFloatingTimestamp();\n\n        if (!this.state.isScrolling) {\n            this.setState({\n                isScrolling: true\n            });\n        }\n\n        this.scrollStopAction.fireAfter(Constants.SCROLL_DELAY);\n    }\n\n    handleScrollStop = () => {\n        this.setState({\n            isScrolling: false\n        });\n    }\n\n    getSidebarBody = () => {\n        return this.refs.sidebarbody;\n    }\n\n    render() {\n        if (this.props.posts == null || this.props.selected == null) {\n            return (\n                <div/>\n            );\n        }\n\n        const postsArray = this.filterPosts(this.props.posts, this.props.selected, this.state.openTime);\n        const selected = this.props.selected;\n        const profiles = this.state.profiles || {};\n\n        let profile;\n        if (UserStore.getCurrentId() === selected.user_id) {\n            profile = this.props.currentUser;\n        } else {\n            profile = profiles[selected.user_id];\n        }\n\n        let isRootFlagged = false;\n        if (this.state.flaggedPosts) {\n            isRootFlagged = this.state.flaggedPosts.get(selected.id) != null;\n        }\n\n        let rootStatus = 'offline';\n        if (this.state.statuses) {\n            rootStatus = this.state.statuses[selected.user_id] || 'offline';\n        }\n\n        let createAt = selected.create_at;\n        if (!createAt) {\n            createAt = this.props.posts[0].create_at;\n        }\n        const rootPostDay = Utils.getDateForUnixTicks(createAt);\n        let previousPostDay = rootPostDay;\n\n        const commentsLists = [];\n        const postsLength = postsArray.length;\n        for (let i = 0; i < postsLength; i++) {\n            const comPost = postsArray[i];\n            let p;\n            if (UserStore.getCurrentId() === comPost.user_id) {\n                p = UserStore.getCurrentUser();\n            } else {\n                p = profiles[comPost.user_id];\n            }\n\n            let isFlagged = false;\n            if (this.state.flaggedPosts) {\n                isFlagged = this.state.flaggedPosts.get(comPost.id) != null;\n            }\n\n            let status = 'offline';\n            if (this.state.statuses && p && p.id) {\n                status = this.state.statuses[p.id] || 'offline';\n            }\n\n            const currentPostDay = Utils.getDateForUnixTicks(comPost.create_at);\n            if (currentPostDay.toDateString() !== previousPostDay.toDateString()) {\n                previousPostDay = currentPostDay;\n                commentsLists.push(\n                    <DateSeparator\n                        key={currentPostDay}\n                        date={currentPostDay}\n                    />);\n            }\n\n            const keyPrefix = comPost.id ? comPost.id : comPost.pending_post_id;\n            const reverseCount = postsLength - i - 1;\n            commentsLists.push(\n                <div key={keyPrefix + 'commentKey'}>\n                    <Comment\n                        ref={comPost.id}\n                        post={comPost}\n                        lastPostCount={(reverseCount >= 0 && reverseCount < Constants.TEST_ID_COUNT) ? reverseCount : -1}\n                        user={p}\n                        currentUser={this.props.currentUser}\n                        compactDisplay={this.state.compactDisplay}\n                        useMilitaryTime={this.props.useMilitaryTime}\n                        isFlagged={isFlagged}\n                        status={status}\n                        isBusy={this.state.isBusy}\n                        removePost={this.props.actions.removePost}\n                        previewCollapsed={this.props.previewCollapsed}\n                        previewEnabled={this.props.previewEnabled}\n                        isEmbedVisible={this.props.postsEmbedVisibleObj[comPost.id]}\n                    />\n                </div>\n            );\n        }\n\n        let createComment;\n        if (selected.type !== Constants.PostTypes.FAKE_PARENT_DELETED) {\n            createComment = (\n                <div className='post-create__container'>\n                    <CreateComment\n                        channelId={selected.channel_id}\n                        rootId={selected.id}\n                        latestPostId={postsLength > 0 ? postsArray[postsLength - 1].id : selected.id}\n                        getSidebarBody={this.getSidebarBody}\n                    />\n                </div>\n            );\n        }\n\n        if (this.props.channel.type === Constants.DM_CHANNEL) {\n            const teammate = Utils.getDirectTeammate(this.props.channel.id);\n            if (teammate && teammate.delete_at) {\n                createComment = (\n                    <div\n                        className='post-create-message'\n                    >\n                        <FormattedMessage\n                            id='create_post.deactivated'\n                            defaultMessage='You are viewing an archived channel with a deactivated user.'\n                        />\n                    </div>\n                );\n            }\n        }\n\n        return (\n            <div\n                className='sidebar-right__body'\n                ref='sidebarbody'\n            >\n                <FloatingTimestamp\n                    isScrolling={this.state.isScrolling}\n                    isMobile={Utils.isMobile()}\n                    createAt={this.state.topRhsPostCreateAt}\n                    isRhsPost={true}\n                />\n                <RhsHeaderPost\n                    previousRhsState={this.props.previousRhsState}\n                    isWebrtc={this.props.isWebrtc}\n                    toggleSize={this.props.toggleSize}\n                    shrink={this.props.shrink}\n                />\n                <Scrollbars\n                    autoHide={true}\n                    autoHideTimeout={500}\n                    autoHideDuration={500}\n                    renderThumbHorizontal={renderThumbHorizontal}\n                    renderThumbVertical={renderThumbVertical}\n                    renderView={renderView}\n                    onScroll={this.handleScroll}\n                >\n                    <div className='post-right__scroll'>\n                        <DateSeparator\n                            date={rootPostDay}\n                        />\n                        <RootPost\n                            ref={selected.id}\n                            post={selected}\n                            commentCount={postsLength}\n                            user={profile}\n                            currentUser={this.props.currentUser}\n                            compactDisplay={this.state.compactDisplay}\n                            useMilitaryTime={this.props.useMilitaryTime}\n                            isFlagged={isRootFlagged}\n                            status={rootStatus}\n                            previewCollapsed={this.props.previewCollapsed}\n                            previewEnabled={this.props.previewEnabled}\n                            isBusy={this.state.isBusy}\n                            isEmbedVisible={this.props.postsEmbedVisibleObj[selected.id]}\n                        />\n                        <div\n                            ref='rhspostlist'\n                            className='post-right-comments-container'\n                        >\n                            {commentsLists}\n                        </div>\n                        {createComment}\n                    </div>\n                </Scrollbars>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_thread/rhs_thread.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _raf2 = require('raf');\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = require('react');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isString = require('../utils/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = require('../utils/getScrollbarWidth');\n\nvar _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);\n\nvar _returnFalse = require('../utils/returnFalse');\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = require('../utils/getInnerWidth');\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = require('../utils/getInnerHeight');\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = require('./styles');\n\nvar _defaultRenderElements = require('./defaultRenderElements');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Scrollbars = function (_Component) {\n    _inherits(Scrollbars, _Component);\n\n    function Scrollbars(props) {\n        var _ref;\n\n        _classCallCheck(this, Scrollbars);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            rest[_key - 1] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = Scrollbars.__proto__ || Object.getPrototypeOf(Scrollbars)).call.apply(_ref, [this, props].concat(rest)));\n\n        _this.getScrollLeft = _this.getScrollLeft.bind(_this);\n        _this.getScrollTop = _this.getScrollTop.bind(_this);\n        _this.getScrollWidth = _this.getScrollWidth.bind(_this);\n        _this.getScrollHeight = _this.getScrollHeight.bind(_this);\n        _this.getClientWidth = _this.getClientWidth.bind(_this);\n        _this.getClientHeight = _this.getClientHeight.bind(_this);\n        _this.getValues = _this.getValues.bind(_this);\n        _this.getThumbHorizontalWidth = _this.getThumbHorizontalWidth.bind(_this);\n        _this.getThumbVerticalHeight = _this.getThumbVerticalHeight.bind(_this);\n        _this.getScrollLeftForOffset = _this.getScrollLeftForOffset.bind(_this);\n        _this.getScrollTopForOffset = _this.getScrollTopForOffset.bind(_this);\n\n        _this.scrollLeft = _this.scrollLeft.bind(_this);\n        _this.scrollTop = _this.scrollTop.bind(_this);\n        _this.scrollToLeft = _this.scrollToLeft.bind(_this);\n        _this.scrollToTop = _this.scrollToTop.bind(_this);\n        _this.scrollToRight = _this.scrollToRight.bind(_this);\n        _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n\n        _this.handleTrackMouseEnter = _this.handleTrackMouseEnter.bind(_this);\n        _this.handleTrackMouseLeave = _this.handleTrackMouseLeave.bind(_this);\n        _this.handleHorizontalTrackMouseDown = _this.handleHorizontalTrackMouseDown.bind(_this);\n        _this.handleVerticalTrackMouseDown = _this.handleVerticalTrackMouseDown.bind(_this);\n        _this.handleHorizontalThumbMouseDown = _this.handleHorizontalThumbMouseDown.bind(_this);\n        _this.handleVerticalThumbMouseDown = _this.handleVerticalThumbMouseDown.bind(_this);\n        _this.handleWindowResize = _this.handleWindowResize.bind(_this);\n        _this.handleScroll = _this.handleScroll.bind(_this);\n        _this.handleDrag = _this.handleDrag.bind(_this);\n        _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n\n        _this.state = {\n            didMountUniversal: false\n        };\n        return _this;\n    }\n\n    _createClass(Scrollbars, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.addListeners();\n            this.update();\n            this.componentDidMountUniversal();\n        }\n    }, {\n        key: 'componentDidMountUniversal',\n        value: function componentDidMountUniversal() {\n            // eslint-disable-line react/sort-comp\n            var universal = this.props.universal;\n\n            if (!universal) return;\n            this.setState({ didMountUniversal: true });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.update();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.removeListeners();\n            (0, _raf2.cancel)(this.requestFrame);\n            clearTimeout(this.hideTracksTimeout);\n            clearInterval(this.detectScrollingInterval);\n        }\n    }, {\n        key: 'getScrollLeft',\n        value: function getScrollLeft() {\n            if (!this.view) return 0;\n            return this.view.scrollLeft;\n        }\n    }, {\n        key: 'getScrollTop',\n        value: function getScrollTop() {\n            if (!this.view) return 0;\n            return this.view.scrollTop;\n        }\n    }, {\n        key: 'getScrollWidth',\n        value: function getScrollWidth() {\n            if (!this.view) return 0;\n            return this.view.scrollWidth;\n        }\n    }, {\n        key: 'getScrollHeight',\n        value: function getScrollHeight() {\n            if (!this.view) return 0;\n            return this.view.scrollHeight;\n        }\n    }, {\n        key: 'getClientWidth',\n        value: function getClientWidth() {\n            if (!this.view) return 0;\n            return this.view.clientWidth;\n        }\n    }, {\n        key: 'getClientHeight',\n        value: function getClientHeight() {\n            if (!this.view) return 0;\n            return this.view.clientHeight;\n        }\n    }, {\n        key: 'getValues',\n        value: function getValues() {\n            var _ref2 = this.view || {},\n                _ref2$scrollLeft = _ref2.scrollLeft,\n                scrollLeft = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n                _ref2$scrollTop = _ref2.scrollTop,\n                scrollTop = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop,\n                _ref2$scrollWidth = _ref2.scrollWidth,\n                scrollWidth = _ref2$scrollWidth === undefined ? 0 : _ref2$scrollWidth,\n                _ref2$scrollHeight = _ref2.scrollHeight,\n                scrollHeight = _ref2$scrollHeight === undefined ? 0 : _ref2$scrollHeight,\n                _ref2$clientWidth = _ref2.clientWidth,\n                clientWidth = _ref2$clientWidth === undefined ? 0 : _ref2$clientWidth,\n                _ref2$clientHeight = _ref2.clientHeight,\n                clientHeight = _ref2$clientHeight === undefined ? 0 : _ref2$clientHeight;\n\n            return {\n                left: scrollLeft / (scrollWidth - clientWidth) || 0,\n                top: scrollTop / (scrollHeight - clientHeight) || 0,\n                scrollLeft: scrollLeft,\n                scrollTop: scrollTop,\n                scrollWidth: scrollWidth,\n                scrollHeight: scrollHeight,\n                clientWidth: clientWidth,\n                clientHeight: clientHeight\n            };\n        }\n    }, {\n        key: 'getThumbHorizontalWidth',\n        value: function getThumbHorizontalWidth() {\n            var _props = this.props,\n                thumbSize = _props.thumbSize,\n                thumbMinSize = _props.thumbMinSize;\n            var _view = this.view,\n                scrollWidth = _view.scrollWidth,\n                clientWidth = _view.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n            if (trackWidth === width) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(width, thumbMinSize);\n        }\n    }, {\n        key: 'getThumbVerticalHeight',\n        value: function getThumbVerticalHeight() {\n            var _props2 = this.props,\n                thumbSize = _props2.thumbSize,\n                thumbMinSize = _props2.thumbMinSize;\n            var _view2 = this.view,\n                scrollHeight = _view2.scrollHeight,\n                clientHeight = _view2.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n            if (trackHeight === height) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(height, thumbMinSize);\n        }\n    }, {\n        key: 'getScrollLeftForOffset',\n        value: function getScrollLeftForOffset(offset) {\n            var _view3 = this.view,\n                scrollWidth = _view3.scrollWidth,\n                clientWidth = _view3.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var thumbWidth = this.getThumbHorizontalWidth();\n            return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n        }\n    }, {\n        key: 'getScrollTopForOffset',\n        value: function getScrollTopForOffset(offset) {\n            var _view4 = this.view,\n                scrollHeight = _view4.scrollHeight,\n                clientHeight = _view4.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var thumbHeight = this.getThumbVerticalHeight();\n            return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n        }\n    }, {\n        key: 'scrollLeft',\n        value: function scrollLeft() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            if (!this.view) return;\n            this.view.scrollLeft = left;\n        }\n    }, {\n        key: 'scrollTop',\n        value: function scrollTop() {\n            var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            if (!this.view) return;\n            this.view.scrollTop = top;\n        }\n    }, {\n        key: 'scrollToLeft',\n        value: function scrollToLeft() {\n            if (!this.view) return;\n            this.view.scrollLeft = 0;\n        }\n    }, {\n        key: 'scrollToTop',\n        value: function scrollToTop() {\n            if (!this.view) return;\n            this.view.scrollTop = 0;\n        }\n    }, {\n        key: 'scrollToRight',\n        value: function scrollToRight() {\n            if (!this.view) return;\n            this.view.scrollLeft = this.view.scrollWidth;\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            if (!this.view) return;\n            this.view.scrollTop = this.view.scrollHeight;\n        }\n    }, {\n        key: 'addListeners',\n        value: function addListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined' || !this.view) return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.addEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.addEventListener('resize', this.handleWindowResize);\n        }\n    }, {\n        key: 'removeListeners',\n        value: function removeListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined' || !this.view) return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.removeEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.removeEventListener('resize', this.handleWindowResize);\n            // Possibly setup by `handleDragStart`\n            this.teardownDragging();\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll(event) {\n            var _this2 = this;\n\n            var _props3 = this.props,\n                onScroll = _props3.onScroll,\n                onScrollFrame = _props3.onScrollFrame;\n\n            if (onScroll) onScroll(event);\n            this.update(function (values) {\n                var scrollLeft = values.scrollLeft,\n                    scrollTop = values.scrollTop;\n\n                _this2.viewScrollLeft = scrollLeft;\n                _this2.viewScrollTop = scrollTop;\n                if (onScrollFrame) onScrollFrame(values);\n            });\n            this.detectScrolling();\n        }\n    }, {\n        key: 'handleScrollStart',\n        value: function handleScrollStart() {\n            var onScrollStart = this.props.onScrollStart;\n\n            if (onScrollStart) onScrollStart();\n            this.handleScrollStartAutoHide();\n        }\n    }, {\n        key: 'handleScrollStartAutoHide',\n        value: function handleScrollStartAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleScrollStop',\n        value: function handleScrollStop() {\n            var onScrollStop = this.props.onScrollStop;\n\n            if (onScrollStop) onScrollStop();\n            this.handleScrollStopAutoHide();\n        }\n    }, {\n        key: 'handleScrollStopAutoHide',\n        value: function handleScrollStopAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleWindowResize',\n        value: function handleWindowResize() {\n            this.update();\n        }\n    }, {\n        key: 'handleHorizontalTrackMouseDown',\n        value: function handleHorizontalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientX = event.clientX;\n\n            var _target$getBoundingCl = target.getBoundingClientRect(),\n                targetLeft = _target$getBoundingCl.left;\n\n            var thumbWidth = this.getThumbHorizontalWidth();\n            var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n            this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n        }\n    }, {\n        key: 'handleVerticalTrackMouseDown',\n        value: function handleVerticalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientY = event.clientY;\n\n            var _target$getBoundingCl2 = target.getBoundingClientRect(),\n                targetTop = _target$getBoundingCl2.top;\n\n            var thumbHeight = this.getThumbVerticalHeight();\n            var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n            this.view.scrollTop = this.getScrollTopForOffset(offset);\n        }\n    }, {\n        key: 'handleHorizontalThumbMouseDown',\n        value: function handleHorizontalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientX = event.clientX;\n            var offsetWidth = target.offsetWidth;\n\n            var _target$getBoundingCl3 = target.getBoundingClientRect(),\n                left = _target$getBoundingCl3.left;\n\n            this.prevPageX = offsetWidth - (clientX - left);\n        }\n    }, {\n        key: 'handleVerticalThumbMouseDown',\n        value: function handleVerticalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientY = event.clientY;\n            var offsetHeight = target.offsetHeight;\n\n            var _target$getBoundingCl4 = target.getBoundingClientRect(),\n                top = _target$getBoundingCl4.top;\n\n            this.prevPageY = offsetHeight - (clientY - top);\n        }\n    }, {\n        key: 'setupDragging',\n        value: function setupDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n            document.addEventListener('mousemove', this.handleDrag);\n            document.addEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = _returnFalse2[\"default\"];\n        }\n    }, {\n        key: 'teardownDragging',\n        value: function teardownDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n            document.removeEventListener('mousemove', this.handleDrag);\n            document.removeEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = undefined;\n        }\n    }, {\n        key: 'handleDragStart',\n        value: function handleDragStart(event) {\n            this.dragging = true;\n            event.stopImmediatePropagation();\n            this.setupDragging();\n        }\n    }, {\n        key: 'handleDrag',\n        value: function handleDrag(event) {\n            if (this.prevPageX) {\n                var clientX = event.clientX;\n\n                var _trackHorizontal$getB = this.trackHorizontal.getBoundingClientRect(),\n                    trackLeft = _trackHorizontal$getB.left;\n\n                var thumbWidth = this.getThumbHorizontalWidth();\n                var clickPosition = thumbWidth - this.prevPageX;\n                var offset = -trackLeft + clientX - clickPosition;\n                this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n            }\n            if (this.prevPageY) {\n                var clientY = event.clientY;\n\n                var _trackVertical$getBou = this.trackVertical.getBoundingClientRect(),\n                    trackTop = _trackVertical$getBou.top;\n\n                var thumbHeight = this.getThumbVerticalHeight();\n                var _clickPosition = thumbHeight - this.prevPageY;\n                var _offset = -trackTop + clientY - _clickPosition;\n                this.view.scrollTop = this.getScrollTopForOffset(_offset);\n            }\n            return false;\n        }\n    }, {\n        key: 'handleDragEnd',\n        value: function handleDragEnd() {\n            this.dragging = false;\n            this.prevPageX = this.prevPageY = 0;\n            this.teardownDragging();\n            this.handleDragEndAutoHide();\n        }\n    }, {\n        key: 'handleDragEndAutoHide',\n        value: function handleDragEndAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleTrackMouseEnter',\n        value: function handleTrackMouseEnter() {\n            this.trackMouseOver = true;\n            this.handleTrackMouseEnterAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseEnterAutoHide',\n        value: function handleTrackMouseEnterAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleTrackMouseLeave',\n        value: function handleTrackMouseLeave() {\n            this.trackMouseOver = false;\n            this.handleTrackMouseLeaveAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseLeaveAutoHide',\n        value: function handleTrackMouseLeaveAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'showTracks',\n        value: function showTracks() {\n            clearTimeout(this.hideTracksTimeout);\n            (0, _domCss2[\"default\"])(this.trackHorizontal, { opacity: 1 });\n            (0, _domCss2[\"default\"])(this.trackVertical, { opacity: 1 });\n        }\n    }, {\n        key: 'hideTracks',\n        value: function hideTracks() {\n            var _this3 = this;\n\n            if (this.dragging) return;\n            if (this.scrolling) return;\n            if (this.trackMouseOver) return;\n            var autoHideTimeout = this.props.autoHideTimeout;\n\n            clearTimeout(this.hideTracksTimeout);\n            this.hideTracksTimeout = setTimeout(function () {\n                (0, _domCss2[\"default\"])(_this3.trackHorizontal, { opacity: 0 });\n                (0, _domCss2[\"default\"])(_this3.trackVertical, { opacity: 0 });\n            }, autoHideTimeout);\n        }\n    }, {\n        key: 'detectScrolling',\n        value: function detectScrolling() {\n            var _this4 = this;\n\n            if (this.scrolling) return;\n            this.scrolling = true;\n            this.handleScrollStart();\n            this.detectScrollingInterval = setInterval(function () {\n                if (_this4.lastViewScrollLeft === _this4.viewScrollLeft && _this4.lastViewScrollTop === _this4.viewScrollTop) {\n                    clearInterval(_this4.detectScrollingInterval);\n                    _this4.scrolling = false;\n                    _this4.handleScrollStop();\n                }\n                _this4.lastViewScrollLeft = _this4.viewScrollLeft;\n                _this4.lastViewScrollTop = _this4.viewScrollTop;\n            }, 100);\n        }\n    }, {\n        key: 'raf',\n        value: function raf(callback) {\n            var _this5 = this;\n\n            if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n            this.requestFrame = (0, _raf3[\"default\"])(function () {\n                _this5.requestFrame = undefined;\n                callback();\n            });\n        }\n    }, {\n        key: 'update',\n        value: function update(callback) {\n            var _this6 = this;\n\n            this.raf(function () {\n                return _this6._update(callback);\n            });\n        }\n    }, {\n        key: '_update',\n        value: function _update(callback) {\n            var _props4 = this.props,\n                onUpdate = _props4.onUpdate,\n                hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n\n            var values = this.getValues();\n            if ((0, _getScrollbarWidth2[\"default\"])()) {\n                var scrollLeft = values.scrollLeft,\n                    clientWidth = values.clientWidth,\n                    scrollWidth = values.scrollWidth;\n\n                var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n                var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n                var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n                var thumbHorizontalStyle = {\n                    width: thumbHorizontalWidth,\n                    transform: 'translateX(' + thumbHorizontalX + 'px)'\n                };\n                var scrollTop = values.scrollTop,\n                    clientHeight = values.clientHeight,\n                    scrollHeight = values.scrollHeight;\n\n                var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n                var thumbVerticalHeight = this.getThumbVerticalHeight();\n                var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n                var thumbVerticalStyle = {\n                    height: thumbVerticalHeight,\n                    transform: 'translateY(' + thumbVerticalY + 'px)'\n                };\n                if (hideTracksWhenNotNeeded) {\n                    var trackHorizontalStyle = {\n                        visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n                    };\n                    var trackVerticalStyle = {\n                        visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n                    };\n                    (0, _domCss2[\"default\"])(this.trackHorizontal, trackHorizontalStyle);\n                    (0, _domCss2[\"default\"])(this.trackVertical, trackVerticalStyle);\n                }\n                (0, _domCss2[\"default\"])(this.thumbHorizontal, thumbHorizontalStyle);\n                (0, _domCss2[\"default\"])(this.thumbVertical, thumbVerticalStyle);\n            }\n            if (onUpdate) onUpdate(values);\n            if (typeof callback !== 'function') return;\n            callback(values);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var scrollbarWidth = (0, _getScrollbarWidth2[\"default\"])();\n            /* eslint-disable no-unused-vars */\n\n            var _props5 = this.props,\n                onScroll = _props5.onScroll,\n                onScrollFrame = _props5.onScrollFrame,\n                onScrollStart = _props5.onScrollStart,\n                onScrollStop = _props5.onScrollStop,\n                onUpdate = _props5.onUpdate,\n                renderView = _props5.renderView,\n                renderTrackHorizontal = _props5.renderTrackHorizontal,\n                renderTrackVertical = _props5.renderTrackVertical,\n                renderThumbHorizontal = _props5.renderThumbHorizontal,\n                renderThumbVertical = _props5.renderThumbVertical,\n                tagName = _props5.tagName,\n                hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n                autoHide = _props5.autoHide,\n                autoHideTimeout = _props5.autoHideTimeout,\n                autoHideDuration = _props5.autoHideDuration,\n                thumbSize = _props5.thumbSize,\n                thumbMinSize = _props5.thumbMinSize,\n                universal = _props5.universal,\n                autoHeight = _props5.autoHeight,\n                autoHeightMin = _props5.autoHeightMin,\n                autoHeightMax = _props5.autoHeightMax,\n                style = _props5.style,\n                children = _props5.children,\n                props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n            /* eslint-enable no-unused-vars */\n\n            var didMountUniversal = this.state.didMountUniversal;\n\n\n            var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }), style);\n\n            var viewStyle = _extends({}, _styles.viewStyleDefault, {\n                // Hide scrollbars by setting a negative margin\n                marginRight: scrollbarWidth ? -scrollbarWidth : 0,\n                marginBottom: scrollbarWidth ? -scrollbarWidth : 0\n            }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n                // Add scrollbarWidth to autoHeight in order to compensate negative margins\n                minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,\n                maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth\n            }), autoHeight && universal && !didMountUniversal && {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n            var trackAutoHeightStyle = {\n                transition: 'opacity ' + autoHideDuration + 'ms',\n                opacity: 0\n            };\n\n            var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: function ref(_ref3) {\n                    _this7.container = _ref3;\n                } }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: function ref(_ref4) {\n                    _this7.view = _ref4;\n                } }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: function ref(_ref5) {\n                    _this7.trackHorizontal = _ref5;\n                } }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: function ref(_ref6) {\n                    _this7.thumbHorizontal = _ref6;\n                } })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: function ref(_ref7) {\n                    _this7.trackVertical = _ref7;\n                } }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: function ref(_ref8) {\n                    _this7.thumbVertical = _ref8;\n                } }))]);\n        }\n    }]);\n\n    return Scrollbars;\n}(_react.Component);\n\nexports[\"default\"] = Scrollbars;\n\n\nScrollbars.propTypes = {\n    onScroll: _propTypes2[\"default\"].func,\n    onScrollFrame: _propTypes2[\"default\"].func,\n    onScrollStart: _propTypes2[\"default\"].func,\n    onScrollStop: _propTypes2[\"default\"].func,\n    onUpdate: _propTypes2[\"default\"].func,\n    renderView: _propTypes2[\"default\"].func,\n    renderTrackHorizontal: _propTypes2[\"default\"].func,\n    renderTrackVertical: _propTypes2[\"default\"].func,\n    renderThumbHorizontal: _propTypes2[\"default\"].func,\n    renderThumbVertical: _propTypes2[\"default\"].func,\n    tagName: _propTypes2[\"default\"].string,\n    thumbSize: _propTypes2[\"default\"].number,\n    thumbMinSize: _propTypes2[\"default\"].number,\n    hideTracksWhenNotNeeded: _propTypes2[\"default\"].bool,\n    autoHide: _propTypes2[\"default\"].bool,\n    autoHideTimeout: _propTypes2[\"default\"].number,\n    autoHideDuration: _propTypes2[\"default\"].number,\n    autoHeight: _propTypes2[\"default\"].bool,\n    autoHeightMin: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    autoHeightMax: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    universal: _propTypes2[\"default\"].bool,\n    style: _propTypes2[\"default\"].object,\n    children: _propTypes2[\"default\"].node\n};\n\nScrollbars.defaultProps = {\n    renderView: _defaultRenderElements.renderViewDefault,\n    renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n    renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n    renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n    renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n    tagName: 'div',\n    thumbMinSize: 30,\n    hideTracksWhenNotNeeded: false,\n    autoHide: false,\n    autoHideTimeout: 1000,\n    autoHideDuration: 200,\n    autoHeight: false,\n    autoHeightMin: 0,\n    autoHeightMax: 200,\n    universal: false\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/Scrollbars/index.js\n// module id = 2284\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/raf/index.js\n// module id = 2285\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/performance-now/lib/performance-now.js\n// module id = 2286\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar div = null\nvar prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]\n\nmodule.exports = function prefixStyle (prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div')\n  }\n\n  var style = div.style\n\n  // prop exists without prefix\n  if (prop in style) {\n    return prop\n  }\n\n  // borderRadius -> BorderRadius\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)\n\n  // find the vendor-prefixed prop\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase\n    // e.g. WebkitBorderRadius or webkitBorderRadius\n    if (name in style) {\n      return name\n    }\n  }\n\n  return false\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prefix-style/index.js\n// module id = 2287\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\nvar space = require('to-space-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/to-camel-case/index.js\n// module id = 2288\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\nvar clean = require('to-no-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/to-space-case/index.js\n// module id = 2289\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/to-no-case/index.js\n// module id = 2290\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function(name, value) {\n  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/add-px-to-style/index.js\n// module id = 2291\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/node_modules/prop-types/index.js\n// module id = 2292\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/node_modules/prop-types/factoryWithThrowingShims.js\n// module id = 2293\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/node_modules/prop-types/lib/ReactPropTypesSecret.js\n// module id = 2294\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = isString;\nfunction isString(maybe) {\n    return typeof maybe === 'string';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/isString.js\n// module id = 2295\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getScrollbarWidth;\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar scrollbarWidth = false;\n\nfunction getScrollbarWidth() {\n    if (scrollbarWidth !== false) return scrollbarWidth;\n    /* istanbul ignore else */\n    if (typeof document !== 'undefined') {\n        var div = document.createElement('div');\n        (0, _domCss2[\"default\"])(div, {\n            width: 100,\n            height: 100,\n            position: 'absolute',\n            top: -9999,\n            overflow: 'scroll',\n            MsOverflowStyle: 'scrollbar'\n        });\n        document.body.appendChild(div);\n        scrollbarWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n    } else {\n        scrollbarWidth = 0;\n    }\n    return scrollbarWidth || 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js\n// module id = 2296\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = returnFalse;\nfunction returnFalse() {\n    return false;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/returnFalse.js\n// module id = 2297\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerWidth;\nfunction getInnerWidth(el) {\n    var clientWidth = el.clientWidth;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingLeft = _getComputedStyle.paddingLeft,\n        paddingRight = _getComputedStyle.paddingRight;\n\n    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js\n// module id = 2298\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerHeight;\nfunction getInnerHeight(el) {\n    var clientHeight = el.clientHeight;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingTop = _getComputedStyle.paddingTop,\n        paddingBottom = _getComputedStyle.paddingBottom;\n\n    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js\n// module id = 2299\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar containerStyleDefault = exports.containerStyleDefault = {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%'\n};\n\n// Overrides containerStyleDefault properties\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n    height: 'auto'\n};\n\nvar viewStyleDefault = exports.viewStyleDefault = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'scroll',\n    WebkitOverflowScrolling: 'touch'\n};\n\n// Overrides viewStyleDefault properties\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n    position: 'relative',\n    top: undefined,\n    left: undefined,\n    right: undefined,\n    bottom: undefined\n};\n\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n    overflow: 'hidden',\n    marginRight: 0,\n    marginBottom: 0\n};\n\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n    position: 'absolute',\n    height: 6\n};\n\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n    position: 'absolute',\n    width: 6\n};\n\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    height: '100%'\n};\n\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    width: '100%'\n};\n\nvar disableSelectStyle = exports.disableSelectStyle = {\n    userSelect: 'none'\n};\n\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n    userSelect: ''\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js\n// module id = 2300\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/* eslint-disable react/prop-types */\n\nfunction renderViewDefault(props) {\n    return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n    var style = _ref.style,\n        props = _objectWithoutProperties(_ref, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        left: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n    var style = _ref2.style,\n        props = _objectWithoutProperties(_ref2, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        top: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n    var style = _ref3.style,\n        props = _objectWithoutProperties(_ref3, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n    var style = _ref4.style,\n        props = _objectWithoutProperties(_ref4, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js\n// module id = 2301\n// module chunks = 7","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {resetHistoryIndex} from 'mattermost-redux/actions/posts';\nimport {Preferences, Posts} from 'mattermost-redux/constants';\n\nimport {\n    clearCommentDraftUploads,\n    updateCommentDraft,\n    makeOnMoveHistoryIndex,\n    makeOnSubmit,\n    makeOnEditLatestPost\n} from 'actions/views/create_comment';\n\nimport {makeGetCommentDraft} from 'selectors/rhs';\n\nimport CreateComment from './create_comment.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const err = state.requests.posts.createPost.error || {};\n\n    const getCommentDraft = makeGetCommentDraft(ownProps.rootId);\n\n    const draft = getCommentDraft(state);\n\n    const enableAddButton = draft.message.trim().length !== 0 || draft.fileInfos.length !== 0;\n\n    return {\n        draft,\n        enableAddButton,\n        ctrlSend: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        createPostErrorId: err.server_error_id\n    };\n}\n\nfunction makeOnUpdateCommentDraft(rootId) {\n    return (draft) => updateCommentDraft(rootId, draft);\n}\n\nfunction makeMapDispatchToProps() {\n    let onUpdateCommentDraft;\n    let onSubmit;\n    let onMoveHistoryIndexBack;\n    let onMoveHistoryIndexForward;\n    let onEditLatestPost;\n\n    function onResetHistoryIndex() {\n        return resetHistoryIndex(Posts.MESSAGE_TYPES.COMMENT);\n    }\n\n    let rootId;\n    let channelId;\n    let latestPostId;\n\n    return (dispatch, ownProps) => {\n        if (rootId !== ownProps.rootId) {\n            onUpdateCommentDraft = makeOnUpdateCommentDraft(ownProps.rootId);\n            onMoveHistoryIndexBack = makeOnMoveHistoryIndex(ownProps.rootId, -1);\n            onMoveHistoryIndexForward = makeOnMoveHistoryIndex(ownProps.rootId, 1);\n        }\n\n        if (rootId !== ownProps.rootId || channelId !== ownProps.channelId) {\n            onEditLatestPost = makeOnEditLatestPost(ownProps.channelId, ownProps.rootId);\n        }\n\n        if (rootId !== ownProps.rootId || channelId !== ownProps.channelId || latestPostId !== ownProps.latestPostId) {\n            onSubmit = makeOnSubmit(ownProps.channelId, ownProps.rootId, ownProps.latestPostId);\n        }\n\n        rootId = ownProps.rootId;\n        channelId = ownProps.channelId;\n        latestPostId = ownProps.latestPostId;\n\n        return bindActionCreators({\n            clearCommentDraftUploads,\n            onUpdateCommentDraft,\n            onSubmit,\n            onResetHistoryIndex,\n            onMoveHistoryIndexBack,\n            onMoveHistoryIndexForward,\n            onEditLatestPost\n        }, dispatch);\n    };\n}\n\nexport default connect(mapStateToProps, makeMapDispatchToProps)(CreateComment);\n\n\n\n// WEBPACK FOOTER //\n// ./components/create_comment/index.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {createSelector} from 'reselect';\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {makeGetMessageInHistoryItem, makeGetCommentCountForPost, getPost} from 'mattermost-redux/selectors/entities/posts';\nimport {getCustomEmojisByName} from 'mattermost-redux/selectors/entities/emojis';\n\nimport {\n  addReaction,\n  removeReaction,\n  addMessageIntoHistory,\n  moveHistoryIndexBack,\n  moveHistoryIndexForward\n} from 'mattermost-redux/actions/posts';\n\nimport {Posts} from 'mattermost-redux/constants';\n\nimport * as PostActions from 'actions/post_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport {setGlobalItem, actionOnGlobalItemsWithPrefix} from 'actions/storage';\nimport {EmojiMap} from 'stores/emoji_store.jsx';\n\nimport {makeGetCommentDraft} from 'selectors/rhs';\n\nimport * as Utils from 'utils/utils.jsx';\nimport {Constants, StoragePrefixes} from 'utils/constants.jsx';\n\nimport {REACTION_PATTERN} from 'components/create_post.jsx';\n\nexport function clearCommentDraftUploads() {\n    return actionOnGlobalItemsWithPrefix(StoragePrefixes.COMMENT_DRAFT, (key, value) => {\n        if (value) {\n            return {...value, uploadsInProgress: []};\n        }\n        return value;\n    });\n}\n\nexport function updateCommentDraft(rootId, draft) {\n    return setGlobalItem(`${StoragePrefixes.COMMENT_DRAFT}${rootId}`, draft);\n}\n\nexport function makeOnMoveHistoryIndex(rootId, direction) {\n    const getMessageInHistory = makeGetMessageInHistoryItem(Posts.MESSAGE_TYPES.COMMENT);\n    const getCommentDraft = makeGetCommentDraft(rootId);\n\n    return () => (dispatch, getState) => {\n        const draft = getCommentDraft(getState());\n\n        if (draft.message !== '' && draft.message !== getMessageInHistory(getState())) {\n            return;\n        }\n\n        if (direction === -1) {\n            dispatch(moveHistoryIndexBack(Posts.MESSAGE_TYPES.COMMENT));\n        } else if (direction === 1) {\n            dispatch(moveHistoryIndexForward(Posts.MESSAGE_TYPES.COMMENT));\n        }\n\n        const nextMessageInHistory = getMessageInHistory(getState());\n\n        dispatch(updateCommentDraft(rootId, {...draft, message: nextMessageInHistory}));\n    };\n}\n\nexport function submitPost(channelId, rootId, draft) {\n    return (dispatch, getState) => {\n        const state = getState();\n\n        const userId = getCurrentUserId(state);\n\n        const time = Utils.getTimestamp();\n\n        const post = {\n            file_ids: [],\n            message: draft.message,\n            channel_id: channelId,\n            root_id: rootId,\n            parent_id: rootId,\n            pending_post_id: `${userId}:${time}`,\n            user_id: userId,\n            create_at: time\n        };\n\n        GlobalActions.emitUserCommentedEvent(post);\n\n        PostActions.createPost(post, draft.fileInfos);\n    };\n}\n\nexport function submitReaction(postId, action, emojiName) {\n    return (dispatch) => {\n        if (action === '+') {\n            dispatch(addReaction(postId, emojiName));\n        } else if (action === '-') {\n            dispatch(removeReaction(postId, emojiName));\n        }\n    };\n}\n\nexport function submitCommand(channelId, rootId, draft) {\n    return (dispatch, getState) => {\n        const state = getState();\n\n        const teamId = getCurrentTeamId(state);\n\n        const args = {\n            channel_id: channelId,\n            team_id: teamId,\n            root_id: rootId,\n            parent_id: rootId\n        };\n\n        const {message} = draft;\n\n        return new Promise((resolve, reject) => {\n            ChannelActions.executeCommand(message, args, resolve, (err) => {\n                if (err.sendMessage) {\n                    dispatch(submitPost(channelId, rootId, draft));\n                } else {\n                    reject(err);\n                }\n            });\n        });\n    };\n}\n\nexport function makeOnSubmit(channelId, rootId, latestPostId) {\n    const getCommentDraft = makeGetCommentDraft(rootId);\n\n    return () => async (dispatch, getState) => {\n        const draft = getCommentDraft(getState());\n        const {message} = draft;\n\n        dispatch(addMessageIntoHistory(message));\n\n        dispatch(updateCommentDraft(rootId, null));\n\n        const isReaction = REACTION_PATTERN.exec(message);\n\n        const emojis = getCustomEmojisByName(getState());\n        const emojiMap = new EmojiMap(emojis);\n\n        if (isReaction && emojiMap.has(isReaction[2])) {\n            dispatch(submitReaction(latestPostId, isReaction[1], isReaction[2]));\n        } else if (message.indexOf('/') === 0) {\n            await dispatch(submitCommand(channelId, rootId, draft));\n        } else {\n            dispatch(submitPost(channelId, rootId, draft));\n        }\n    };\n}\n\nfunction makeGetCurrentUsersLatestPost(channelId, rootId) {\n    return createSelector(\n        getCurrentUserId,\n        (state) => state.entities.posts.postsInChannel[channelId],\n        (state) => (id) => getPost(state, id),\n        (userId, postIds, getPostById) => {\n            let lastPost = null;\n\n            if (!postIds) {\n                return lastPost;\n            }\n\n            for (const id of postIds) {\n                const post = getPostById(id) || {};\n\n                // don't edit webhook posts, deleted posts, or system messages\n                if (post.user_id !== userId ||\n                    (post.props && post.props.from_webhook) ||\n                    post.state === Constants.POST_DELETED ||\n                    (post.type && post.type.startsWith(Constants.SYSTEM_MESSAGE_PREFIX))) {\n                    continue;\n                }\n\n                if (rootId) {\n                    if (post.root_id === rootId || post.id === rootId) {\n                        lastPost = post;\n                        break;\n                    }\n                } else {\n                    lastPost = post;\n                    break;\n                }\n            }\n\n            return lastPost;\n        }\n    );\n}\n\nexport function makeOnEditLatestPost(channelId, rootId) {\n    const getCurrentUsersLatestPost = makeGetCurrentUsersLatestPost(channelId, rootId);\n    const getCommentCount = makeGetCommentCountForPost();\n\n    return () => (dispatch, getState) => {\n        const state = getState();\n\n        const lastPost = getCurrentUsersLatestPost(state);\n\n        if (!lastPost) {\n            return;\n        }\n\n        dispatch(PostActions.setEditingPost(\n            lastPost.id,\n            getCommentCount(state, {post: lastPost}),\n            '#reply_textbox',\n            Utils.localizeMessage('create_comment.commentTitle', 'Comment')\n        ));\n    };\n}\n\n\n// WEBPACK FOOTER //\n// ./actions/views/create_comment.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport FilePreview from 'components/file_preview.jsx';\nimport FileUpload from 'components/file_upload.jsx';\nimport MsgTyping from 'components/msg_typing.jsx';\nimport PostDeletedModal from 'components/post_deleted_modal.jsx';\nimport Textbox from 'components/textbox.jsx';\n\nconst KeyCodes = Constants.KeyCodes;\n\nexport default class CreateComment extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The channel for which this comment is a part of\n         */\n        channelId: PropTypes.string.isRequired,\n\n        /**\n         * The id of the parent post\n         */\n        rootId: PropTypes.string.isRequired,\n\n        /**\n         * The current draft of the comment\n         */\n        draft: PropTypes.shape({\n            message: PropTypes.string.isRequired,\n            uploadsInProgress: PropTypes.array.isRequired,\n            fileInfos: PropTypes.array.isRequired\n        }).isRequired,\n\n        /**\n         * Whether the submit button is enabled\n         */\n        enableAddButton: PropTypes.bool.isRequired,\n\n        /**\n         * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n         */\n        ctrlSend: PropTypes.bool,\n\n         /**\n         * The id of the latest post in this channel\n         */\n        latestPostId: PropTypes.string,\n\n        /**\n         * A function returning a ref to the sidebar\n         */\n        getSidebarBody: PropTypes.func,\n\n        /**\n         * Create post error id\n         */\n        createPostErrorId: PropTypes.string,\n\n        /**\n         * Called to clear file uploads in progress\n         */\n        clearCommentDraftUploads: PropTypes.func.isRequired,\n\n        /**\n         * Called when comment draft needs to be updated\n         */\n        onUpdateCommentDraft: PropTypes.func.isRequired,\n\n        /**\n         * Called when submitting the comment\n         */\n        onSubmit: PropTypes.func.isRequired,\n\n        /**\n         * Called when resetting comment message history index\n         */\n        onResetHistoryIndex: PropTypes.func.isRequired,\n\n        /**\n         * Called when navigating back through comment message history\n         */\n        onMoveHistoryIndexBack: PropTypes.func.isRequired,\n\n        /**\n         * Called when navigating forward through comment message history\n         */\n        onMoveHistoryIndexForward: PropTypes.func.isRequired,\n\n        /**\n         * Called to initiate editing the user's latest post\n         */\n        onEditLatestPost: PropTypes.func.isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showPostDeletedModal: false,\n            showEmojiPicker: false,\n            draft: {\n                message: '',\n                uploadsInProgress: [],\n                fileInfos: []\n            }\n        };\n\n        this.lastBlurAt = 0;\n    }\n\n    componentWillMount() {\n        this.props.clearCommentDraftUploads();\n        this.props.onResetHistoryIndex();\n        this.setState({draft: {...this.props.draft, uploadsInProgress: []}});\n    }\n\n    componentDidMount() {\n        this.focusTextbox();\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.createPostErrorId === 'api.post.create_post.root_id.app_error' && newProps.createPostErrorId !== this.props.createPostErrorId) {\n            this.showPostDeletedModal();\n        }\n        if (newProps.rootId !== this.props.rootId) {\n            this.setState({draft: {...newProps.draft, uploadsInProgress: []}});\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.draft.uploadsInProgress.length < this.state.draft.uploadsInProgress.length) {\n            this.scrollToBottom();\n        }\n\n        if (prevProps.rootId !== this.props.rootId) {\n            this.focusTextbox();\n        }\n    }\n\n    toggleEmojiPicker = () => {\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n    }\n\n    hideEmojiPicker = () => {\n        this.setState({showEmojiPicker: false});\n    }\n\n    handleEmojiClick = (emoji) => {\n        const emojiAlias = emoji.name || emoji.aliases[0];\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        const {draft} = this.state;\n\n        let newMessage = '';\n        if (draft.message === '') {\n            newMessage = `:${emojiAlias}: `;\n        } else if (/\\s+$/.test(draft.message)) {\n            // Check whether there is already a blank at the end of the current message\n            newMessage = `${draft.message}:${emojiAlias}: `;\n        } else {\n            newMessage = `${draft.message} :${emojiAlias}: `;\n        }\n\n        this.props.onUpdateCommentDraft({...draft, message: newMessage});\n\n        this.setState({\n            showEmojiPicker: false,\n            draft: {...draft, message: newMessage}\n        });\n\n        this.focusTextbox();\n    }\n\n    handlePostError = (postError) => {\n        this.setState({postError});\n    }\n\n    handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const {enableAddButton} = this.props;\n        const {draft} = this.state;\n\n        if (!enableAddButton) {\n            return;\n        }\n\n        if (draft.uploadsInProgress.length > 0) {\n            return;\n        }\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        try {\n            await this.props.onSubmit();\n\n            this.setState({\n                postError: null,\n                serverError: null\n            });\n        } catch (err) {\n            this.setState({serverError: err.message});\n        }\n\n        const fasterThanHumanWillClick = 150;\n        const forceFocus = (Date.now() - this.lastBlurAt < fasterThanHumanWillClick);\n        this.setState({draft: {...this.props.draft, uploadsInProgress: []}});\n        this.focusTextbox(forceFocus);\n    }\n\n    commentMsgKeyPress = (e) => {\n        if (!UserAgent.isMobile() && ((this.props.ctrlSend && e.ctrlKey) || !this.props.ctrlSend)) {\n            if (e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                this.refs.textbox.blur();\n                this.handleSubmit(e);\n            }\n        }\n\n        GlobalActions.emitLocalUserTypingEvent(this.props.channelId, this.props.rootId);\n    }\n\n    scrollToBottom = () => {\n        const $el = $('.post-right__scroll');\n        if ($el[0]) {\n            $el.parent().scrollTop($el[0].scrollHeight);\n        }\n    }\n\n    handleChange = (e) => {\n        const message = e.target.value;\n\n        const {draft} = this.state;\n        const updatedDraft = {...draft, message};\n        this.props.onUpdateCommentDraft(updatedDraft);\n        this.setState({draft: updatedDraft});\n\n        this.scrollToBottom();\n    }\n\n    handleKeyDown = (e) => {\n        if (this.props.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey) {\n            this.commentMsgKeyPress(e);\n            return;\n        }\n\n        const {draft} = this.state;\n        const {message} = draft;\n\n        if (!e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && e.keyCode === KeyCodes.UP && message === '') {\n            e.preventDefault();\n            this.props.onEditLatestPost();\n        }\n\n        if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\n            if (e.keyCode === Constants.KeyCodes.UP) {\n                e.preventDefault();\n                this.props.onMoveHistoryIndexBack();\n            } else if (e.keyCode === Constants.KeyCodes.DOWN) {\n                e.preventDefault();\n                this.props.onMoveHistoryIndexForward();\n            }\n        }\n    }\n\n    handleFileUploadChange = () => {\n        this.focusTextbox();\n    }\n\n    handleUploadStart = (clientIds) => {\n        const {draft} = this.state;\n        const uploadsInProgress = [...draft.uploadsInProgress, ...clientIds];\n\n        this.props.onUpdateCommentDraft({...draft, uploadsInProgress});\n        this.setState({draft: {...draft, uploadsInProgress}});\n\n        // this is a bit redundant with the code that sets focus when the file input is clicked,\n        // but this also resets the focus after a drag and drop\n        this.focusTextbox();\n    }\n\n    handleFileUploadComplete = (fileInfos, clientIds) => {\n        const {draft} = this.state;\n        const uploadsInProgress = [...draft.uploadsInProgress];\n        const newFileInfos = [...draft.fileInfos, ...fileInfos];\n\n        // remove each finished file from uploads\n        for (let i = 0; i < clientIds.length; i++) {\n            const index = uploadsInProgress.indexOf(clientIds[i]);\n\n            if (index !== -1) {\n                uploadsInProgress.splice(index, 1);\n            }\n        }\n\n        this.props.onUpdateCommentDraft({...draft, fileInfos: newFileInfos, uploadsInProgress});\n        this.setState({draft: {...draft, fileInfos: newFileInfos, uploadsInProgress}});\n\n        // Focus on preview if needed/possible - if user has switched teams since starting the file upload,\n        // the preview will be undefined and the switch will fail\n        if (typeof this.refs.preview != 'undefined' && this.refs.preview) {\n            this.refs.preview.refs.container.scrollIntoView();\n        }\n    }\n\n    handleUploadError = (err, clientId = -1) => {\n        if (clientId !== -1) {\n            const {draft} = this.state;\n            const uploadsInProgress = [...draft.uploadsInProgress];\n\n            const index = uploadsInProgress.indexOf(clientId);\n            if (index !== -1) {\n                uploadsInProgress.splice(index, 1);\n            }\n\n            this.props.onUpdateCommentDraft({...draft, uploadsInProgress});\n            this.setState({draft: {...draft, uploadsInProgress}});\n        }\n\n        this.setState({serverError: err});\n    }\n\n    removePreview = (id) => {\n        const {draft} = this.state;\n        const fileInfos = [...draft.fileInfos];\n        const uploadsInProgress = [...draft.uploadsInProgress];\n\n        // Clear previous errors\n        this.handleUploadError(null);\n\n        // id can either be the id of an uploaded file or the client id of an in progress upload\n        let index = fileInfos.findIndex((info) => info.id === id);\n        if (index === -1) {\n            index = uploadsInProgress.indexOf(id);\n\n            if (index !== -1) {\n                uploadsInProgress.splice(index, 1);\n\n                if (this.refs.fileUpload) {\n                    this.refs.fileUpload.getWrappedInstance().cancelUpload(id);\n                }\n            }\n        } else {\n            fileInfos.splice(index, 1);\n        }\n\n        this.props.onUpdateCommentDraft({...draft, fileInfos, uploadsInProgress});\n        this.setState({draft: {...draft, fileInfos, uploadsInProgress}});\n\n        this.handleFileUploadChange();\n    }\n\n    getFileCount = () => {\n        const {\n            draft: {\n                fileInfos,\n                uploadsInProgress\n            }\n        } = this.state;\n        return fileInfos.length + uploadsInProgress.length;\n    }\n\n    getFileUploadTarget = () => {\n        return this.refs.textbox;\n    }\n\n    getCreateCommentControls = () => {\n        return this.refs.createCommentControls;\n    }\n\n    focusTextbox = (keepFocus = false) => {\n        if (this.refs.textbox && (keepFocus || !UserAgent.isMobile())) {\n            this.refs.textbox.focus();\n        }\n    }\n\n    showPostDeletedModal = () => {\n        this.setState({\n            showPostDeletedModal: true\n        });\n    }\n\n    hidePostDeletedModal = () => {\n        this.setState({\n            showPostDeletedModal: false\n        });\n    }\n\n    handleBlur = () => {\n        this.lastBlurAt = Date.now();\n    }\n\n    render() {\n        const {draft} = this.state;\n\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='form-group has-error'>\n                    <label className='control-label'>{this.state.serverError}</label>\n                </div>\n            );\n        }\n\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = <label className={postErrorClass}>{this.state.postError}</label>;\n        }\n\n        let preview = null;\n        if (draft.fileInfos.length > 0 || draft.uploadsInProgress.length > 0) {\n            preview = (\n                <FilePreview\n                    fileInfos={draft.fileInfos}\n                    onRemove={this.removePreview}\n                    uploadsInProgress={draft.uploadsInProgress}\n                    ref='preview'\n                />\n            );\n        }\n\n        let uploadsInProgressText = null;\n        if (draft.uploadsInProgress.length > 0) {\n            uploadsInProgressText = (\n                <span className='pull-right post-right-comments-upload-in-progress'>\n                    {draft.uploadsInProgress.length === 1 ? (\n                        <FormattedMessage\n                            id='create_comment.file'\n                            defaultMessage='File uploading'\n                        />\n                    ) : (\n                        <FormattedMessage\n                            id='create_comment.files'\n                            defaultMessage='Files uploading'\n                        />\n                    )}\n                </span>\n            );\n        }\n\n        let addButtonClass = 'btn btn-primary comment-btn pull-right';\n        if (!this.props.enableAddButton) {\n            addButtonClass += ' disabled';\n        }\n\n        const fileUpload = (\n            <FileUpload\n                ref='fileUpload'\n                getFileCount={this.getFileCount}\n                getTarget={this.getFileUploadTarget}\n                onFileUploadChange={this.handleFileUploadChange}\n                onUploadStart={this.handleUploadStart}\n                onFileUpload={this.handleFileUploadComplete}\n                onUploadError={this.handleUploadError}\n                postType='comment'\n                channelId={this.props.channelId}\n            />\n        );\n\n        let emojiPicker = null;\n        if (window.mm_config.EnableEmojiPicker === 'true') {\n            emojiPicker = (\n                <span className='emoji-picker__container'>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        container={this.props.getSidebarBody}\n                        target={this.getCreateCommentControls}\n                        onHide={this.hideEmojiPicker}\n                        onEmojiClick={this.handleEmojiClick}\n                        rightOffset={15}\n                        topOffset={55}\n                    />\n                    <span\n                        className={'icon icon--emoji emoji-rhs ' + (this.state.showEmojiPicker ? 'active' : '')}\n                        dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                        onClick={this.toggleEmojiPicker}\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className='post-create'>\n                    <div\n                        id={this.props.rootId}\n                        className='post-create-body comment-create-body'\n                    >\n                        <div className='post-body__cell'>\n                            <Textbox\n                                onChange={this.handleChange}\n                                onKeyPress={this.commentMsgKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                handlePostError={this.handlePostError}\n                                value={draft.message}\n                                onBlur={this.handleBlur}\n                                createMessage={Utils.localizeMessage('create_comment.addComment', 'Add a comment...')}\n                                emojiEnabled={window.mm_config.EnableEmojiPicker === 'true'}\n                                initialText=''\n                                channelId={this.props.channelId}\n                                isRHS={true}\n                                popoverMentionKeyClick={true}\n                                id='reply_textbox'\n                                ref='textbox'\n                            />\n                            <span\n                                ref='createCommentControls'\n                                className='post-body__actions'\n                            >\n                                {fileUpload}\n                                {emojiPicker}\n                            </span>\n                        </div>\n                    </div>\n                    <MsgTyping\n                        channelId={this.props.channelId}\n                        parentId={this.props.rootId}\n                    />\n                    <div className='post-create-footer'>\n                        <input\n                            type='button'\n                            className={addButtonClass}\n                            value={Utils.localizeMessage('create_comment.comment', 'Add Comment')}\n                            onClick={this.handleSubmit}\n                        />\n                        {uploadsInProgressText}\n                        {postError}\n                        {preview}\n                        {serverError}\n                    </div>\n                </div>\n                <PostDeletedModal\n                    show={this.state.showPostDeletedModal}\n                    onHide={this.hidePostDeletedModal}\n                />\n            </form>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/create_comment/create_comment.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedDate} from 'react-intl';\n\nexport default class DateSeparator extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The date to display in the separator\n         */\n        date: PropTypes.instanceOf(Date)\n    }\n\n    render() {\n        return (\n            <div\n                className='date-separator'\n            >\n                <hr className='separator__hr'/>\n                <div className='separator__text'>\n                    <FormattedDate\n                        value={this.props.date}\n                        weekday='short'\n                        month='short'\n                        day='2-digit'\n                        year='numeric'\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/post_view/date_separator.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router';\n\nimport {addReaction, emitEmojiPosted} from 'actions/post_actions.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport DotMenu from 'components/dot_menu';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport FileAttachmentListContainer from 'components/file_attachment_list';\nimport FailedPostOptions from 'components/post_view/failed_post_options';\nimport PostBodyAdditionalContent from 'components/post_view/post_body_additional_content.jsx';\nimport PostFlagIcon from 'components/post_view/post_flag_icon.jsx';\nimport PostMessageContainer from 'components/post_view/post_message_view';\nimport ReactionListContainer from 'components/post_view/reaction_list';\nimport ProfilePicture from 'components/profile_picture.jsx';\n\nimport UserProfile from './user_profile.jsx';\n\nexport default class RhsComment extends React.Component {\n    static propTypes = {\n        post: PropTypes.object,\n        lastPostCount: PropTypes.number,\n        user: PropTypes.object,\n        currentUser: PropTypes.object.isRequired,\n        compactDisplay: PropTypes.bool,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        isFlagged: PropTypes.bool,\n        status: PropTypes.string,\n        isBusy: PropTypes.bool,\n        removePost: PropTypes.func.isRequired,\n        previewCollapsed: PropTypes.string.isRequired,\n        previewEnabled: PropTypes.bool.isRequired,\n        isEmbedVisible: PropTypes.bool\n    };\n\n    constructor(props) {\n        super(props);\n        this.removePost = this.removePost.bind(this);\n        this.reactEmojiClick = this.reactEmojiClick.bind(this);\n        this.handleDropdownOpened = this.handleDropdownOpened.bind(this);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            dropdownOpened: false\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    removePost() {\n        this.props.removePost(this.props.post);\n    }\n\n    createRemovePostButton() {\n        return (\n            <button\n                className='post__remove theme color--link style--none'\n                type='button'\n                onClick={this.removePost}\n            >\n                {''}\n            </button>\n        );\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.status !== this.props.status) {\n            return true;\n        }\n\n        if (nextProps.isBusy !== this.props.isBusy) {\n            return true;\n        }\n\n        if (nextProps.compactDisplay !== this.props.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n            return true;\n        }\n\n        if (nextProps.lastPostCount !== this.props.lastPostCount) {\n            return true;\n        }\n\n        if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n            return true;\n        }\n\n        if (nextProps.isEmbedVisible !== this.props.isEmbedVisible) {\n            return true;\n        }\n\n        if (this.props.previewEnabled !== nextProps.previewEnabled) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    timeTag(post, timeOptions) {\n        const date = Utils.getDateForUnixTicks(post.create_at);\n\n        return (\n            <time\n                className='post__time'\n                dateTime={date.toISOString()}\n                title={date}\n            >\n                {date.toLocaleString('en', timeOptions)}\n            </time>\n        );\n    }\n\n    renderTimeTag(post, timeOptions) {\n        return Utils.isMobile() ?\n            this.timeTag(post, timeOptions) :\n            (\n                <Link\n                    to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                    className='post__permalink'\n                >\n                    {this.timeTag(post, timeOptions)}\n                </Link>\n            );\n    }\n\n    toggleEmojiPicker = () => {\n        const showEmojiPicker = !this.state.showEmojiPicker;\n\n        this.setState({\n            showEmojiPicker,\n            dropdownOpened: showEmojiPicker\n        });\n    }\n\n    reactEmojiClick(emoji) {\n        this.setState({showEmojiPicker: false});\n        const emojiName = emoji.name || emoji.aliases[0];\n        addReaction(this.props.post.channel_id, this.props.post.id, emojiName);\n        emitEmojiPosted(emojiName);\n        this.handleDropdownOpened(false);\n    }\n\n    getClassName = (post, isSystemMessage) => {\n        let className = 'post post--thread';\n\n        if (this.props.currentUser.id === post.user_id) {\n            className += ' current--user';\n        }\n\n        if (isSystemMessage) {\n            className += ' post--system';\n        }\n\n        if (this.props.compactDisplay) {\n            className += ' post--compact';\n        }\n\n        if (post.is_pinned) {\n            className += ' post--pinned';\n        }\n\n        if (this.state.dropdownOpened) {\n            className += ' post--hovered';\n        }\n\n        return className;\n    }\n\n    handleDropdownOpened(isOpened) {\n        this.setState({\n            dropdownOpened: isOpened\n        });\n    }\n\n    render() {\n        const post = this.props.post;\n        const mattermostLogo = Constants.MATTERMOST_ICON_SVG;\n\n        let idCount = -1;\n        if (this.props.lastPostCount >= 0 && this.props.lastPostCount < Constants.TEST_ID_COUNT) {\n            idCount = this.props.lastPostCount;\n        }\n\n        const isEphemeral = Utils.isPostEphemeral(post);\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n\n        let status = this.props.status;\n        if (post.props && post.props.from_webhook === 'true') {\n            status = null;\n        }\n\n        let botIndicator;\n        let userProfile = (\n            <UserProfile\n                user={this.props.user}\n                status={status}\n                isBusy={this.props.isBusy}\n                isRHS={true}\n                hasMention={true}\n            />\n        );\n\n        let visibleMessage;\n        if (post.props && post.props.from_webhook) {\n            if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                userProfile = (\n                    <UserProfile\n                        user={this.props.user}\n                        overwriteName={post.props.override_username}\n                        disablePopover={true}\n                    />\n                );\n            } else {\n                userProfile = (\n                    <UserProfile\n                        user={this.props.user}\n                        disablePopover={true}\n                    />\n                );\n            }\n\n            botIndicator = <div className='col col__name bot-indicator'>{'BOT'}</div>;\n        } else if (isSystemMessage) {\n            userProfile = (\n                <UserProfile\n                    user={{}}\n                    overwriteName={\n                        <FormattedMessage\n                            id='post_info.system'\n                            defaultMessage='System'\n                        />\n                    }\n                    overwriteImage={Constants.SYSTEM_MESSAGE_PROFILE_IMAGE}\n                    disablePopover={true}\n                />\n            );\n\n            visibleMessage = (\n                <span className='post__visibility'>\n                    <FormattedMessage\n                        id='post_info.message.visible'\n                        defaultMessage='(Only visible to you)'\n                    />\n                </span>\n            );\n        }\n\n        let failedPostOptions;\n        let postClass = '';\n\n        if (post.failed) {\n            postClass += ' post-failed';\n            failedPostOptions = <FailedPostOptions post={this.props.post}/>;\n        }\n\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        let profilePic = (\n            <ProfilePicture\n                src={PostUtils.getProfilePicSrcForPost(post, this.props.user)}\n                status={status}\n                width='36'\n                height='36'\n                user={this.props.user}\n                isBusy={this.props.isBusy}\n                isRHS={true}\n                hasMention={true}\n            />\n        );\n\n        if (post.props && post.props.from_webhook) {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, this.props.user)}\n                    width='36'\n                    height='36'\n                />\n            );\n        } else if (isSystemMessage) {\n            profilePic = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: mattermostLogo}}\n                />\n            );\n        }\n\n        if (this.props.compactDisplay) {\n            if (post.props && post.props.from_webhook) {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                    />\n                );\n            } else {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                        status={status}\n                        user={this.props.user}\n                        isBusy={this.props.isBusy}\n                        isRHS={true}\n                        hasMention={true}\n                    />\n                );\n            }\n        }\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let react;\n\n        if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n            react = (\n                <span>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        onHide={this.toggleEmojiPicker}\n                        target={() => this.refs.dotMenu}\n                        onEmojiClick={this.reactEmojiClick}\n                        rightOffset={15}\n                        spaceRequiredAbove={342}\n                        spaceRequiredBelow={342}\n                    />\n                    <button\n                        className='reacticon__container reaction color--link style--none'\n                        onClick={this.toggleEmojiPicker}\n                        ref={'rhs_reacticon_' + post.id}\n                    >\n                        <span\n                            className='icon icon--emoji'\n                            dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                        />\n                    </button>\n                </span>\n\n            );\n        }\n\n        let options;\n        if (isEphemeral) {\n            options = (\n                <div className='col col__remove'>\n                    {this.createRemovePostButton()}\n                </div>\n            );\n        } else if (!isSystemMessage) {\n            const dotMenu = (\n                <DotMenu\n                    idPrefix={Constants.RHS}\n                    idCount={idCount}\n                    post={this.props.post}\n                    isFlagged={this.props.isFlagged}\n                    handleDropdownOpened={this.handleDropdownOpened}\n                />\n            );\n\n            options = (\n                <div\n                    ref='dotMenu'\n                    className='col col__reply'\n                >\n                    {dotMenu}\n                    {react}\n                </div>\n            );\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        const timeOptions = {\n            hour: '2-digit',\n            minute: '2-digit',\n            hour12: !this.props.useMilitaryTime\n        };\n\n        return (\n            <div\n                ref={'post_body_' + post.id}\n                className={this.getClassName(post, isSystemMessage)}\n            >\n                <div className='post__content'>\n                    {profilePicContainer}\n                    <div>\n                        <div className='post__header'>\n                            <div className='col col__name'>\n                                <strong>{userProfile}</strong>\n                            </div>\n                            {botIndicator}\n                            <div className='col'>\n                                {this.renderTimeTag(post, timeOptions)}\n                                {pinnedBadge}\n                                <PostFlagIcon\n                                    idPrefix={'rhsCommentFlag'}\n                                    idCount={idCount}\n                                    postId={post.id}\n                                    isFlagged={this.props.isFlagged}\n                                    isEphemeral={isEphemeral}\n                                />\n                                {visibleMessage}\n                            </div>\n                            {options}\n                        </div>\n                        <div className='post__body' >\n                            <div className={postClass}>\n                                {failedPostOptions}\n                                <PostBodyAdditionalContent\n                                    post={post}\n                                    previewCollapsed={this.props.previewCollapsed}\n                                    previewEnabled={this.props.previewEnabled}\n                                    isEmbedVisible={this.props.isEmbedVisible}\n                                >\n                                    <PostMessageContainer\n                                        post={post}\n                                        isRHS={true}\n                                        hasMention={true}\n                                    />\n                                </PostBodyAdditionalContent>\n                            </div>\n                            {fileAttachment}\n                            <ReactionListContainer post={post}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_comment.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {\n    showMentions,\n    showSearchResults,\n    showFlaggedPosts,\n    showPinnedPosts,\n    closeRightHandSide\n} from 'actions/views/rhs';\n\nimport RhsHeaderPost from './rhs_header_post.jsx';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            showSearchResults,\n            showMentions,\n            showFlaggedPosts,\n            showPinnedPosts,\n            closeRightHandSide\n        }, dispatch)\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(RhsHeaderPost);\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_header_post/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants, {RHSStates} from 'utils/constants.jsx';\n\nexport default class RhsHeaderPost extends React.Component {\n    static propTypes = {\n        isWebrtc: PropTypes.bool,\n        previousRhsState: PropTypes.oneOf(\n            Object.values(RHSStates)\n        ),\n        toggleSize: PropTypes.func,\n        shrink: PropTypes.func,\n        actions: PropTypes.shape({\n            showMentions: PropTypes.func,\n            showSearchResults: PropTypes.func,\n            showFlaggedPosts: PropTypes.func,\n            showPinnedPosts: PropTypes.func,\n            closeRightHandSide: PropTypes.func\n        })\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {};\n    }\n\n    handleClose = (e) => {\n        e.preventDefault();\n        this.props.actions.closeRightHandSide();\n        this.props.shrink();\n    }\n\n    toggleSize = (e) => {\n        e.preventDefault();\n        this.props.toggleSize();\n    }\n\n    handleBack = (e) => {\n        e.preventDefault();\n\n        if (this.props.isWebrtc) {\n            this.props.actions.showSearchResults();\n            return;\n        }\n\n        switch (this.props.previousRhsState) {\n        case RHSStates.SEARCH:\n            this.props.actions.showSearchResults();\n            break;\n        case RHSStates.MENTION:\n            this.props.actions.showMentions();\n            break;\n        case RHSStates.FLAG:\n            this.props.actions.showFlaggedPosts();\n            break;\n        case RHSStates.PIN:\n            this.props.actions.showPinnedPosts();\n            break;\n        default:\n            break;\n        }\n    }\n\n    render() {\n        let back;\n        const closeSidebarTooltip = (\n            <Tooltip id='closeSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.closeSidebarTooltip'\n                    defaultMessage='Close Sidebar'\n                />\n            </Tooltip>\n        );\n\n        let backToResultsTooltip;\n\n        switch (this.props.previousRhsState) {\n        case RHSStates.SEARCH:\n        case RHSStates.MENTION:\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToResultsTooltip'\n                        defaultMessage='Back to Search Results'\n                    />\n                </Tooltip>\n            );\n            break;\n        case RHSStates.FLAG:\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToFlaggedTooltip'\n                        defaultMessage='Back to Flagged Posts'\n                    />\n                </Tooltip>\n            );\n            break;\n        case RHSStates.PIN:\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToPinnedTooltip'\n                        defaultMessage='Back to Pinned Posts'\n                    />\n                </Tooltip>\n            );\n            break;\n        default:\n            if (this.props.isWebrtc) {\n                backToResultsTooltip = (\n                    <Tooltip id='backToResultsTooltip'>\n                        <FormattedMessage\n                            id='rhs_header.backToCallTooltip'\n                            defaultMessage='Back to Call'\n                        />\n                    </Tooltip>\n                );\n            }\n            break;\n        }\n\n        const expandSidebarTooltip = (\n            <Tooltip id='expandSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandSidebarTooltip'\n                    defaultMessage='Expand Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const shrinkSidebarTooltip = (\n            <Tooltip id='shrinkSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.shrinkSidebarTooltip'\n                    defaultMessage='Shrink Sidebar'\n                />\n            </Tooltip>\n        );\n\n        if (backToResultsTooltip) {\n            back = (\n                <a\n                    href='#'\n                    onClick={this.handleBack}\n                    className='sidebar--right__back'\n                >\n                    <OverlayTrigger\n                        trigger={['hover', 'focus']}\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={backToResultsTooltip}\n                    >\n                        <i className='fa fa-angle-left'/>\n                    </OverlayTrigger>\n                </a>\n            );\n        }\n\n        return (\n            <div className='sidebar--right__header'>\n                <span className='sidebar--right__title'>\n                    {back}\n                    <FormattedMessage\n                        id='rhs_header.details'\n                        defaultMessage='Message Details'\n                    />\n                </span>\n                <div className='pull-right'>\n                    <button\n                        type='button'\n                        className='sidebar--right__expand'\n                        aria-label='Expand'\n                        onClick={this.toggleSize}\n                    >\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={expandSidebarTooltip}\n                        >\n                            <i className='fa fa-expand'/>\n                        </OverlayTrigger>\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={shrinkSidebarTooltip}\n                        >\n                            <i className='fa fa-compress'/>\n                        </OverlayTrigger>\n                    </button>\n                    <button\n                        type='button'\n                        className='sidebar--right__close'\n                        aria-label='Close'\n                        onClick={this.handleClose}\n                    >\n\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={closeSidebarTooltip}\n                        >\n                            <i className='fa fa-sign-out'/>\n                        </OverlayTrigger>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_header_post/rhs_header_post.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router';\n\nimport {addReaction, emitEmojiPosted} from 'actions/post_actions.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport DotMenu from 'components/dot_menu';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport FileAttachmentListContainer from 'components/file_attachment_list';\nimport PostBodyAdditionalContent from 'components/post_view/post_body_additional_content.jsx';\nimport PostFlagIcon from 'components/post_view/post_flag_icon.jsx';\nimport PostMessageContainer from 'components/post_view/post_message_view';\nimport ReactionListContainer from 'components/post_view/reaction_list';\nimport ProfilePicture from 'components/profile_picture.jsx';\n\nimport UserProfile from './user_profile.jsx';\n\nexport default class RhsRootPost extends React.Component {\n    static propTypes = {\n        post: PropTypes.object.isRequired,\n        user: PropTypes.object.isRequired,\n        currentUser: PropTypes.object.isRequired,\n        compactDisplay: PropTypes.bool,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        commentCount: PropTypes.number.isRequired,\n        isFlagged: PropTypes.bool,\n        status: PropTypes.string,\n        previewCollapsed: PropTypes.string,\n        previewEnabled: PropTypes.bool,\n        isBusy: PropTypes.bool,\n        isEmbedVisible: PropTypes.bool\n    }\n\n    static defaultProps = {\n        commentCount: 0\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.reactEmojiClick = this.reactEmojiClick.bind(this);\n        this.handleDropdownOpened = this.handleDropdownOpened.bind(this);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            testStateObj: true,\n            dropdownOpened: false\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.status !== this.props.status) {\n            return true;\n        }\n\n        if (nextProps.isBusy !== this.props.isBusy) {\n            return true;\n        }\n\n        if (nextProps.compactDisplay !== this.props.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (nextProps.isEmbedVisible !== this.props.isEmbedVisible) {\n            return true;\n        }\n\n        if (nextProps.previewEnabled !== this.props.previewEnabled) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n            return true;\n        }\n\n        if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n            return true;\n        }\n\n        if (this.props.previewCollapsed !== nextProps.previewCollapsed) {\n            return true;\n        }\n\n        return false;\n    }\n\n    timeTag(post, timeOptions) {\n        const date = Utils.getDateForUnixTicks(post.create_at);\n\n        return (\n            <time\n                className='post__time'\n                dateTime={date.toISOString()}\n                title={date}\n            >\n                {date.toLocaleString('en', timeOptions)}\n            </time>\n        );\n    }\n\n    renderTimeTag(post, timeOptions) {\n        if (post.type === Constants.PostTypes.FAKE_PARENT_DELETED) {\n            return null;\n        }\n\n        if (Utils.isMobile()) {\n            return this.timeTag(post, timeOptions);\n        }\n\n        return (\n            <Link\n                to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                className='post__permalink'\n            >\n                {this.timeTag(post, timeOptions)}\n            </Link>\n        );\n    }\n\n    toggleEmojiPicker = () => {\n        const showEmojiPicker = !this.state.showEmojiPicker;\n\n        this.setState({\n            showEmojiPicker,\n            dropdownOpened: showEmojiPicker\n        });\n    }\n\n    reactEmojiClick(emoji) {\n        this.setState({showEmojiPicker: false});\n        const emojiName = emoji.name || emoji.aliases[0];\n        addReaction(this.props.post.channel_id, this.props.post.id, emojiName);\n        emitEmojiPosted(emojiName);\n        this.handleDropdownOpened(false);\n    }\n\n    getClassName = (post, isSystemMessage) => {\n        let className = 'post post--root post--thread';\n        if (UserStore.getCurrentId() === post.user_id) {\n            className += ' current--user';\n        }\n\n        if (isSystemMessage) {\n            className += ' post--system';\n        }\n\n        if (this.props.compactDisplay) {\n            className += ' post--compact';\n        }\n\n        if (post.is_pinned) {\n            className += ' post--pinned';\n        }\n\n        if (this.state.dropdownOpened) {\n            className += ' post--hovered';\n        }\n\n        return className;\n    }\n\n    handleDropdownOpened(isOpened) {\n        this.setState({\n            dropdownOpened: isOpened\n        });\n    }\n\n    render() {\n        const post = this.props.post;\n        const user = this.props.user;\n        const mattermostLogo = Constants.MATTERMOST_ICON_SVG;\n        var channel = ChannelStore.get(post.channel_id);\n\n        const isEphemeral = Utils.isPostEphemeral(post);\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n\n        var channelName;\n        if (channel) {\n            if (channel.type === 'D') {\n                channelName = (\n                    <FormattedMessage\n                        id='rhs_root.direct'\n                        defaultMessage='Direct Message'\n                    />\n                );\n            } else {\n                channelName = channel.display_name;\n            }\n        }\n\n        let react;\n\n        if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n            react = (\n                <span>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        onHide={this.toggleEmojiPicker}\n                        target={() => this.refs.dotMenu}\n                        onEmojiClick={this.reactEmojiClick}\n                        rightOffset={15}\n                        spaceRequiredAbove={342}\n                        spaceRequiredBelow={342}\n                    />\n                    <button\n                        className='reacticon__container reaction color--link style--none'\n                        onClick={this.toggleEmojiPicker}\n                        ref='rhs_root_reacticon'\n                    >\n                        <span\n                            className='icon icon--emoji'\n                            dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                        />\n                    </button>\n                </span>\n\n            );\n        }\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let userProfile;\n        let botIndicator;\n        if (isSystemMessage) {\n            userProfile = (\n                <UserProfile\n                    user={{}}\n                    overwriteName={\n                        <FormattedMessage\n                            id='post_info.system'\n                            defaultMessage='System'\n                        />\n                    }\n                    overwriteImage={Constants.SYSTEM_MESSAGE_PROFILE_IMAGE}\n                    disablePopover={true}\n                />\n            );\n        } else if (post.props && post.props.from_webhook) {\n            if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                userProfile = (\n                    <UserProfile\n                        user={user}\n                        overwriteName={post.props.override_username}\n                        disablePopover={true}\n                    />\n                );\n            } else {\n                userProfile = (\n                    <UserProfile\n                        user={user}\n                        disablePopover={true}\n                    />\n                );\n            }\n\n            botIndicator = <div className='col col__name bot-indicator'>{'BOT'}</div>;\n        } else {\n            userProfile = (\n                <UserProfile\n                    user={user}\n                    status={this.props.status}\n                    isBusy={this.props.isBusy}\n                    isRHS={true}\n                    hasMention={true}\n                />\n            );\n        }\n\n        let status = this.props.status;\n        if (post.props && post.props.from_webhook === 'true') {\n            status = null;\n        }\n\n        let profilePic;\n        if (isSystemMessage) {\n            profilePic = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: mattermostLogo}}\n                />\n            );\n        } else if (post.props && post.props.from_webhook) {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, user)}\n                    width='36'\n                    height='36'\n                />\n            );\n        } else {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, user)}\n                    status={status}\n                    width='36'\n                    height='36'\n                    user={this.props.user}\n                    isBusy={this.props.isBusy}\n                    isRHS={true}\n                    hasMention={true}\n                />\n            );\n        }\n\n        if (this.props.compactDisplay) {\n            if (post.props && post.props.from_webhook) {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                    />\n                );\n            } else {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                        status={status}\n                        user={this.props.user}\n                        isBusy={this.props.isBusy}\n                        isRHS={true}\n                        hasMention={true}\n                    />\n                );\n            }\n        }\n\n        let postClass = '';\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        const timeOptions = {\n            hour: '2-digit',\n            minute: '2-digit',\n            hour12: !this.props.useMilitaryTime\n        };\n\n        const dotMenu = (\n            <DotMenu\n                idPrefix={Constants.RHS_ROOT}\n                post={this.props.post}\n                isFlagged={this.props.isFlagged}\n                handleDropdownOpened={this.handleDropdownOpened}\n                commentCount={this.props.commentCount}\n            />\n        );\n\n        let dotMenuContainer;\n        if (this.props.post.type !== Constants.PostTypes.FAKE_PARENT_DELETED) {\n            dotMenuContainer = (\n                <div\n                    ref='dotMenu'\n                    className='col col__reply'\n                >\n                    {dotMenu}\n                    {react}\n                </div>\n            );\n        }\n\n        let postFlagIcon;\n        if (this.props.post.type !== Constants.PostTypes.FAKE_PARENT_DELETED) {\n            postFlagIcon = (\n                <PostFlagIcon\n                    idPrefix={'rhsRootPostFlag'}\n                    postId={post.id}\n                    isFlagged={this.props.isFlagged}\n                />\n            );\n        }\n\n        return (\n            <div\n                id='thread--root'\n                className={this.getClassName(post, isSystemMessage)}\n            >\n                <div className='post-right-channel__name'>{channelName}</div>\n                <div className='post__content'>\n                    {profilePicContainer}\n                    <div>\n                        <div className='post__header'>\n                            <div className='col__name'>{userProfile}</div>\n                            {botIndicator}\n                            <div className='col'>\n                                {this.renderTimeTag(post, timeOptions)}\n                                {pinnedBadge}\n                                {postFlagIcon}\n                            </div>\n                            {dotMenuContainer}\n                        </div>\n                        <div className='post__body'>\n                            <div className={postClass}>\n                                <PostBodyAdditionalContent\n                                    post={post}\n                                    previewCollapsed={this.props.previewCollapsed}\n                                    previewEnabled={this.props.previewEnabled}\n                                    isEmbedVisible={this.props.isEmbedVisible}\n                                >\n                                    <PostMessageContainer\n                                        post={post}\n                                        isRHS={true}\n                                        hasMention={true}\n                                    />\n                                </PostBodyAdditionalContent>\n                            </div>\n                            {fileAttachment}\n                            <ReactionListContainer post={post}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_root_post.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getSearchResults} from 'mattermost-redux/selectors/entities/posts';\nimport * as PreferenceSelectors from 'mattermost-redux/selectors/entities/preferences';\n\nimport {selectPostFromRightHandSideSearch} from 'actions/views/rhs';\n\nimport {getSearchTerms, getIsSearching} from 'selectors/rhs';\n\nimport {Preferences} from 'utils/constants.jsx';\n\nimport SearchResults from './search_results.jsx';\n\nconst getCategory = PreferenceSelectors.makeGetCategory();\n\nfunction makeMapStateToProps() {\n    let results;\n    let posts;\n    let channels;\n    let flaggedPosts;\n    let isFlaggedByPostId;\n\n    return function mapStateToProps(state) {\n        const newResults = getSearchResults(state);\n\n        // Cache posts and channels\n        if (newResults && newResults !== results) {\n            results = newResults;\n\n            posts = results.filter((post) => Boolean(post));\n\n            channels = new Map();\n\n            const channelIds = posts.map((post) => post.channel_id);\n\n            for (const id of channelIds) {\n                if (channels.has(id)) {\n                    continue;\n                }\n\n                channels.set(id, getChannel(state, id));\n            }\n        }\n\n        const newFlaggedPosts = getCategory(state, Preferences.CATEGORY_FLAGGED_POST);\n\n        // Cache flagged posts map\n        if (newFlaggedPosts !== flaggedPosts) {\n            flaggedPosts = newFlaggedPosts;\n\n            isFlaggedByPostId = new Map();\n\n            for (const pref of flaggedPosts) {\n                isFlaggedByPostId.set(pref.name, true);\n            }\n        }\n\n        return {\n            results: posts,\n            channels,\n            searchTerms: getSearchTerms(state),\n            isFlaggedByPostId,\n            loading: getIsSearching(state),\n            compactDisplay: PreferenceSelectors.get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT\n        };\n    };\n}\n\nconst mapDispatchToProps = {\n    selectPost: selectPostFromRightHandSideSearch\n};\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(SearchResults);\n\n\n// WEBPACK FOOTER //\n// ./components/search_results/index.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport Scrollbars from 'react-custom-scrollbars';\n\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SearchResultsHeader from '../search_results_header';\nimport SearchResultsItem from '../search_results_item.jsx';\n\nexport function renderView(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--view'\n        />);\n}\n\nexport function renderThumbHorizontal(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--horizontal'\n        />);\n}\n\nexport function renderThumbVertical(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--vertical'\n        />);\n}\n\nexport default class SearchResults extends React.PureComponent {\n    static propTypes = {\n        results: PropTypes.array,\n        channels: PropTypes.object,\n        searchTerms: PropTypes.string,\n        isFlaggedByPostId: PropTypes.object,\n        loading: PropTypes.bool,\n        compactDisplay: PropTypes.bool,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        toggleSize: PropTypes.func,\n        shrink: PropTypes.func,\n        isMentionSearch: PropTypes.bool,\n        isFlaggedPosts: PropTypes.bool,\n        isPinnedPosts: PropTypes.bool,\n        channelDisplayName: PropTypes.string.isRequired,\n        selectPost: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            profiles: JSON.parse(JSON.stringify(UserStore.getProfiles())),\n            isBusy: WebrtcStore.isBusy(),\n            statuses: Object.assign({}, UserStore.getStatuses())\n        };\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onUserChange);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.addBusyListener(this.onBusy);\n\n        this.resize();\n        window.addEventListener('resize', this.handleResize);\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onUserChange);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.removeBusyListener(this.onBusy);\n\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.searchTerms !== prevProps.searchTerms) {\n            this.resize();\n        }\n    }\n\n    handleResize = () => {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    onUserChange = () => {\n        this.setState({profiles: JSON.parse(JSON.stringify(UserStore.getProfiles()))});\n    }\n\n    onBusy = (isBusy) => {\n        this.setState({isBusy});\n    }\n\n    onStatusChange = () => {\n        this.setState({statuses: Object.assign({}, UserStore.getStatuses())});\n    }\n\n    resize = () => {\n        $('#search-items-container').scrollTop(0);\n    }\n\n    render() {\n        const results = this.props.results;\n        const noResults = (!results || results.length === 0);\n        const searchTerms = this.props.searchTerms;\n        const profiles = this.state.profiles || {};\n        const flagIcon = Constants.FLAG_ICON_SVG;\n\n        let ctls = null;\n\n        if (this.props.loading) {\n            ctls =\n            (\n                <div className='sidebar--right__subheader'>\n                    <div className='sidebar--right__loading'>\n                        <i className='fa fa-spinner fa-spin'/>\n                        <FormattedMessage\n                            id='search_header.loading'\n                            defaultMessage='Searching...'\n                        />\n                    </div>\n                </div>\n            );\n        } else if (this.props.isFlaggedPosts && noResults) {\n            const tips = [\n                <li key='pin1'>\n                    <FormattedMessage\n                        id='search_results.usageFlag1'\n                        defaultMessage=\"You haven't flagged any messages yet.\"\n                    />\n                </li>,\n                <li key='pin2'>\n                    <FormattedMessage\n                        id='search_results.usageFlag2'\n                        defaultMessage='You can add a flag to messages and comments by clicking the '\n                    />\n                    <span\n                        className='usage__icon'\n                        dangerouslySetInnerHTML={{__html: flagIcon}}\n                    />\n                    <FormattedMessage\n                        id='search_results.usageFlag3'\n                        defaultMessage=' icon next to the timestamp.'\n                    />\n                </li>,\n                <li key='pin3'>\n                    <FormattedMessage\n                        id='search_results.usageFlag4'\n                        defaultMessage='Flags are a way to mark messages for follow up. Your flags are personal, and cannot be seen by other users.'\n                    />\n                </li>\n            ];\n\n            if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                tips.push(\n                    <li>\n                        <FormattedMessage\n                            id='search_results.usage.dataRetention'\n                            defaultMessage='Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.'\n                            values={{\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }}\n                        />\n                    </li>\n                );\n            }\n\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else if (this.props.isPinnedPosts && noResults) {\n            const tips = [\n                <li key='pin1'>\n                    <FormattedMessage\n                        id='search_results.usagePin1'\n                        defaultMessage='There are no pinned messages yet.'\n                    />\n                </li>,\n                <li key='pin2'>\n                    <FormattedMessage\n                        id='search_results.usagePin2'\n                        defaultMessage='All members of this channel can pin important or useful messages.'\n                    />\n                </li>,\n                <li key='pin3'>\n                    <FormattedMessage\n                        id='search_results.usagePin3'\n                        defaultMessage='Pinned messages are visible to all channel members.'\n                    />\n                </li>,\n                <li key='pin4'>\n                    <FormattedMessage\n                        id='search_results.usagePin4'\n                        defaultMessage={'To pin a message: Go to the message that you want to pin and click [...] > \"Pin to channel\".'}\n                    />\n                </li>\n            ];\n\n            if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                tips.push(\n                    <li>\n                        <FormattedMessage\n                            id='search_results.usage.dataRetention'\n                            defaultMessage='Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.'\n                            values={{\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }}\n                        />\n                    </li>\n                );\n            }\n\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else if (!searchTerms && noResults) {\n            const tips = [\n                <li key='quotes'>\n                    <FormattedMessage\n                        id='search_results.usage.phrasesSuggestion'\n                        defaultMessage='Use {quotationMarks} to search for phrases'\n                        values={{\n                            quotationMarks: (\n                                <b>\n                                    <FormattedMessage\n                                        id='search_results.usage.phrasesSuggestion.quotationMarks'\n                                        defaultMessage='\"quotation marks\"'\n                                    />\n                                </b>\n                            )\n                        }}\n                    />\n                </li>,\n                <li key='fromIn'>\n                    <FormattedMessage\n                        id='search_results.usage.fromInSuggestion'\n                        defaultMessage='Use {fromUser} to find posts from specific users and {inChannel} to find posts in specific channels'\n                        values={{\n                            fromUser: 'from:',\n                            inChannel: 'in:'\n                        }}\n                    />\n                </li>\n            ];\n\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else if (noResults) {\n            const tips = [\n                <li key='partialPhrase'>\n                    <FormattedMessage\n                        id='search_results.noResults.partialPhraseSuggestion'\n                        defaultMessage='If you&#39;re searching a partial phrase (ex. searching \"rea\", looking for \"reach\" or \"reaction\"), append a * to your search term.'\n                    />\n                </li>,\n                <li key='stopWords'>\n                    <FormattedMessage\n                        id='search_results.noResults.stopWordsSuggestion'\n                        defaultMessage='Two letter searches and common words like \"this\", \"a\" and \"is\" won&#39;t appear in search results due to the excessive results returned.'\n                    />\n                </li>\n            ];\n\n            if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                tips.push(\n                    <li>\n                        <FormattedMessage\n                            id='search_results.usage.dataRetention'\n                            defaultMessage='Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.'\n                            values={{\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }}\n                        />\n                    </li>\n                );\n            }\n\n            ctls =\n            (\n                <div className='sidebar--right__subheader'>\n                    <h4>\n                        <FormattedMessage\n                            id='search_results.noResults'\n                            defaultMessage='No results found. Try again?'\n                        />\n                    </h4>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else {\n            let sortedResults;\n            if (this.props.isPinnedPosts) {\n                sortedResults = [...results];\n                sortedResults.sort((postA, postB) => postB.create_at - postA.create_at);\n            } else {\n                sortedResults = results;\n            }\n\n            ctls = sortedResults.map(function searchResults(post, idx, arr) {\n                let profile;\n                if (UserStore.getCurrentId() === post.user_id) {\n                    profile = UserStore.getCurrentUser();\n                } else {\n                    profile = profiles[post.user_id];\n                }\n\n                let status = 'offline';\n                if (this.state.statuses) {\n                    status = this.state.statuses[post.user_id] || 'offline';\n                }\n\n                let isFlagged = false;\n                if (this.props.isFlaggedByPostId) {\n                    isFlagged = this.props.isFlaggedByPostId.get(post.id) || false;\n                }\n\n                const reverseCount = arr.length - idx - 1;\n\n                return (\n                    <SearchResultsItem\n                        key={post.id}\n                        channel={this.props.channels.get(post.channel_id)}\n                        compactDisplay={this.props.compactDisplay}\n                        post={post}\n                        lastPostCount={(reverseCount >= 0 && reverseCount < Constants.TEST_ID_COUNT) ? reverseCount : -1}\n                        user={profile}\n                        term={searchTerms}\n                        isMentionSearch={this.props.isMentionSearch}\n                        isFlaggedSearch={this.props.isFlaggedPosts}\n                        useMilitaryTime={this.props.useMilitaryTime}\n                        shrink={this.props.shrink}\n                        isFlagged={isFlagged}\n                        isBusy={this.state.isBusy}\n                        status={status}\n                        onSelect={this.props.selectPost}\n                    />\n                );\n            }, this);\n        }\n\n        return (\n            <div className='sidebar-right__body'>\n                <SearchResultsHeader\n                    isMentionSearch={this.props.isMentionSearch}\n                    toggleSize={this.props.toggleSize}\n                    shrink={this.props.shrink}\n                    isFlaggedPosts={this.props.isFlaggedPosts}\n                    isPinnedPosts={this.props.isPinnedPosts}\n                    channelDisplayName={this.props.channelDisplayName}\n                    isLoading={this.props.loading}\n                />\n                <Scrollbars\n                    autoHide={true}\n                    autoHideTimeout={500}\n                    autoHideDuration={500}\n                    renderThumbHorizontal={renderThumbHorizontal}\n                    renderThumbVertical={renderThumbVertical}\n                    renderView={renderView}\n                    onScroll={this.handleScroll}\n                >\n                    <div\n                        id='search-items-container'\n                        className='search-items-container'\n                    >\n                        {ctls}\n                    </div>\n                </Scrollbars>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results/search_results.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {closeRightHandSide} from 'actions/views/rhs';\n\nimport SearchResultsHeader from './search_results_header.jsx';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeRightHandSide\n        }, dispatch)\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(SearchResultsHeader);\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results_header/index.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants.jsx';\n\nexport default class SearchResultsHeader extends React.Component {\n    static propTypes = {\n        isMentionSearch: PropTypes.bool,\n        isFlaggedPosts: PropTypes.bool,\n        isPinnedPosts: PropTypes.bool,\n        toggleSize: PropTypes.func,\n        shrink: PropTypes.func,\n        channelDisplayName: PropTypes.string.isRequired,\n        actions: PropTypes.shape({\n            closeRightHandSide: PropTypes.func\n        })\n    };\n\n    handleClose = (e) => {\n        e.preventDefault();\n\n        this.props.actions.closeRightHandSide();\n\n        this.props.shrink();\n    }\n\n    toggleSize = (e) => {\n        e.preventDefault();\n        this.props.toggleSize();\n    }\n\n    render() {\n        var title = (\n            <FormattedMessage\n                id='search_header.results'\n                defaultMessage='Search Results'\n            />\n        );\n\n        const closeSidebarTooltip = (\n            <Tooltip id='closeSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.closeSidebarTooltip'\n                    defaultMessage='Close Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const expandSidebarTooltip = (\n            <Tooltip id='expandSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandSidebarTooltip'\n                    defaultMessage='Expand Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const shrinkSidebarTooltip = (\n            <Tooltip id='shrinkSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.shrinkSidebarTooltip'\n                    defaultMessage='Shrink Sidebar'\n                />\n            </Tooltip>\n        );\n\n        if (this.props.isMentionSearch) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title2'\n                    defaultMessage='Recent Mentions'\n                />\n            );\n        } else if (this.props.isFlaggedPosts) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title3'\n                    defaultMessage='Flagged Posts'\n                />\n            );\n        } else if (this.props.isPinnedPosts) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title4'\n                    defaultMessage='Pinned posts in {channelDisplayName}'\n                    values={{\n                        channelDisplayName: this.props.channelDisplayName\n                    }}\n                />\n            );\n        }\n\n        return (\n            <div className='sidebar--right__header'>\n                <span className='sidebar--right__title'>{title}</span>\n                <div className='pull-right'>\n                    <button\n                        type='button'\n                        className='sidebar--right__expand'\n                        aria-label='Expand'\n                        onClick={this.toggleSize}\n                    >\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={expandSidebarTooltip}\n                        >\n                            <i className='fa fa-expand'/>\n                        </OverlayTrigger>\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={shrinkSidebarTooltip}\n                        >\n                            <i className='fa fa-compress'/>\n                        </OverlayTrigger>\n                    </button>\n                    <button\n                        type='button'\n                        className='sidebar--right__close'\n                        aria-label='Close'\n                        title='Close'\n                        onClick={this.handleClose}\n                    >\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={closeSidebarTooltip}\n                        >\n                            <i className='fa fa-sign-out'/>\n                        </OverlayTrigger>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results_header/search_results_header.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedDate, FormattedMessage} from 'react-intl';\nimport {browserHistory, Link} from 'react-router';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\n\nimport PostMessageContainer from 'components/post_view/post_message_view';\nimport FileAttachmentListContainer from 'components/file_attachment_list';\n\nimport CommentIcon from 'components/common/comment_icon.jsx';\nimport DotMenu from 'components/dot_menu';\nimport PostFlagIcon from 'components/post_view/post_flag_icon.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ProfilePicture from './profile_picture.jsx';\nimport UserProfile from './user_profile.jsx';\n\nexport default class SearchResultsItem extends React.Component {\n    static propTypes = {\n        post: PropTypes.object,\n        lastPostCount: PropTypes.number,\n        user: PropTypes.object,\n        channel: PropTypes.object,\n        compactDisplay: PropTypes.bool,\n        isMentionSearch: PropTypes.bool,\n        isFlaggedSearch: PropTypes.bool,\n        term: PropTypes.string,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        shrink: PropTypes.func,\n        isFlagged: PropTypes.bool,\n        isBusy: PropTypes.bool,\n        status: PropTypes.string,\n        onSelect: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.handleFocusRHSClick = this.handleFocusRHSClick.bind(this);\n        this.handleJumpClick = this.handleJumpClick.bind(this);\n        this.handleDropdownOpened = this.handleDropdownOpened.bind(this);\n        this.shrinkSidebar = this.shrinkSidebar.bind(this);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            dropdownOpened: false\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState.post, this.props.post)) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (nextState.dropdownOpened !== this.state.dropdownOpened) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.onUpdateWindowDimensions);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onUpdateWindowDimensions);\n    }\n\n    onUpdateWindowDimensions = () => {\n        Utils.updateWindowDimensions(this);\n    }\n\n    shrinkSidebar() {\n        setTimeout(() => {\n            this.props.shrink();\n        });\n    }\n\n    handleFocusRHSClick(e) {\n        e.preventDefault();\n        this.props.onSelect(this.props.post);\n    }\n\n    handleJumpClick() {\n        if (Utils.isMobile()) {\n            GlobalActions.emitCloseRightHandSide();\n        }\n\n        this.shrinkSidebar();\n        browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/pl/' + this.props.post.id);\n    }\n\n    handleDropdownOpened = (isOpened) => {\n        this.setState({\n            dropdownOpened: isOpened\n        });\n    }\n\n    timeTag(post) {\n        const date = Utils.getDateForUnixTicks(post.create_at);\n\n        return (\n            <time\n                className='search-item-time'\n                dateTime={date.toISOString()}\n                title={date}\n            >\n                <FormattedDate\n                    value={post.create_at}\n                    hour12={!this.props.useMilitaryTime}\n                    hour='2-digit'\n                    minute='2-digit'\n                />\n            </time>\n        );\n    }\n\n    renderTimeTag(post) {\n        return Utils.isMobile() ?\n            this.timeTag(post) :\n            (\n                <Link\n                    to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                    target='_blank'\n                    className='post__permalink'\n                >\n                    {this.timeTag(post)}\n                </Link>\n            );\n    }\n\n    getClassName = () => {\n        let className = 'post post--thread';\n\n        if (this.props.compactDisplay) {\n            className += ' post--compact';\n        }\n\n        if (this.state.dropdownOpened) {\n            className += ' post--hovered';\n        }\n\n        return className;\n    }\n\n    render() {\n        let channelName = null;\n        const channel = this.props.channel;\n        const user = this.props.user || {};\n        const post = this.props.post;\n\n        let idCount = -1;\n        if (this.props.lastPostCount >= 0 && this.props.lastPostCount < Constants.TEST_ID_COUNT) {\n            idCount = this.props.lastPostCount;\n        }\n\n        if (channel) {\n            channelName = channel.display_name;\n            if (channel.type === 'D') {\n                channelName = (\n                    <FormattedMessage\n                        id='search_item.direct'\n                        defaultMessage='Direct Message (with {username})'\n                        values={{\n                            username: Utils.displayUsernameForUser(Utils.getDirectTeammate(channel.id))\n                        }}\n                    />\n                );\n            }\n        }\n\n        let overrideUsername;\n        let disableProfilePopover = false;\n        if (post.props &&\n                post.props.from_webhook &&\n                post.props.override_username &&\n                global.window.mm_config.EnablePostUsernameOverride === 'true') {\n            overrideUsername = post.props.override_username;\n            disableProfilePopover = true;\n        }\n\n        let botIndicator;\n        if (post.props && post.props.from_webhook) {\n            botIndicator = <div className='bot-indicator'>{Constants.BOT_NAME}</div>;\n        }\n\n        const profilePic = (\n            <ProfilePicture\n                src={PostUtils.getProfilePicSrcForPost(post, user)}\n                user={this.props.user}\n                status={this.props.status}\n                isBusy={this.props.isBusy}\n            />\n\n        );\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let postClass = '';\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let message;\n        let flagContent;\n        let rhsControls;\n        if (post.state === Constants.POST_DELETED) {\n            message = (\n                <p>\n                    <FormattedMessage\n                        id='post_body.deleted'\n                        defaultMessage='(message deleted)'\n                    />\n                </p>\n            );\n        } else {\n            flagContent = (\n                <PostFlagIcon\n                    idPrefix={'searchPostFlag'}\n                    idCount={idCount}\n                    postId={post.id}\n                    isFlagged={this.props.isFlagged}\n                />\n            );\n\n            rhsControls = (\n                <div className='col__controls'>\n                    <DotMenu\n                        idPrefix={Constants.SEARCH_POST}\n                        idCount={idCount}\n                        post={post}\n                        isFlagged={this.props.isFlagged}\n                        handleDropdownOpened={this.handleDropdownOpened}\n                    />\n                    <CommentIcon\n                        idPrefix={'searchCommentIcon'}\n                        idCount={idCount}\n                        handleCommentClick={this.handleFocusRHSClick}\n                        searchStyle={'search-item__comment'}\n                    />\n                    <a\n                        onClick={this.handleJumpClick}\n                        className='search-item__jump'\n                    >\n                        <FormattedMessage\n                            id='search_item.jump'\n                            defaultMessage='Jump'\n                        />\n                    </a>\n                </div>\n            );\n\n            message = (\n                <PostMessageContainer\n                    post={post}\n                    options={{\n                        searchTerm: this.props.term,\n                        mentionHighlight: this.props.isMentionSearch\n                    }}\n                />\n            );\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <div className='search-item__container'>\n                <div className='date-separator'>\n                    <hr className='separator__hr'/>\n                    <div className='separator__text'>\n                        <FormattedDate\n                            value={post.create_at}\n                            day='numeric'\n                            month='long'\n                            year='numeric'\n                        />\n                    </div>\n                </div>\n                <div className={this.getClassName()}>\n                    <div className='search-channel__name'>{channelName}</div>\n                    <div className='post__content'>\n                        {profilePicContainer}\n                        <div>\n                            <div className='post__header'>\n                                <div className='col col__name'>\n                                    <strong>\n                                        <UserProfile\n                                            user={user}\n                                            overwriteName={overrideUsername}\n                                            disablePopover={disableProfilePopover}\n                                            status={this.props.status}\n                                            isBusy={this.props.isBusy}\n                                        />\n                                    </strong>\n                                </div>\n                                {botIndicator}\n                                <div className='col'>\n                                    {this.renderTimeTag(post)}\n                                    {pinnedBadge}\n                                    {flagContent}\n                                </div>\n                                {rhsControls}\n                            </div>\n                            <div className='search-item-snippet post__body'>\n                                <div className={postClass}>\n                                    {message}\n                                    {fileAttachment}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results_item.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {showMentions, showFlaggedPosts, closeRightHandSide} from 'actions/views/rhs';\n\nimport {getRhsState} from 'selectors/rhs';\n\nimport {RHSStates} from 'utils/constants.jsx';\n\nimport SidebarRightMenu from './sidebar_right_menu.jsx';\n\nfunction mapStateToProps(state) {\n    const rhsState = getRhsState(state);\n\n    return {\n        isMentionSearch: rhsState === RHSStates.MENTION\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            showMentions,\n            showFlaggedPosts,\n            closeRightHandSide\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarRightMenu);\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right_menu/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\n\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport {Constants, WebrtcActionTypes} from 'utils/constants.jsx';\nimport {useSafeUrl} from 'utils/url.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport AboutBuildModal from 'components/about_build_modal';\nimport AddUsersToTeam from 'components/add_users_to_team';\nimport TeamMembersModal from 'components/team_members_modal';\nimport {createMenuTip} from 'components/tutorial/tutorial_tip.jsx';\n\nimport ToggleModalButton from '../toggle_modal_button.jsx';\n\nconst Preferences = Constants.Preferences;\nconst TutorialSteps = Constants.TutorialSteps;\n\nexport default class SidebarRightMenu extends React.Component {\n    static propTypes = {\n        teamType: PropTypes.string,\n        teamDisplayName: PropTypes.string,\n        isMentionSearch: PropTypes.bool,\n        actions: PropTypes.shape({\n            showMentions: PropTypes.func,\n            showFlaggedPosts: PropTypes.func,\n            closeRightHandSide: PropTypes.func\n        })\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ...this.getStateFromStores(),\n            showAboutModal: false,\n            showAddUsersToTeamModal: false\n        };\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onChange);\n    }\n\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onChange);\n    }\n\n    handleClick = (e) => {\n        if (WebrtcStore.isBusy()) {\n            WebrtcStore.emitChanged({action: WebrtcActionTypes.IN_PROGRESS});\n            e.preventDefault();\n        }\n    }\n\n    handleAboutModal = () => {\n        this.setState({showAboutModal: true});\n    }\n\n    aboutModalDismissed = () => {\n        this.setState({showAboutModal: false});\n    }\n\n    showAddUsersToTeamModal = (e) => {\n        e.preventDefault();\n\n        this.setState({\n            showAddUsersToTeamModal: true,\n            showDropdown: false\n        });\n    }\n\n    hideAddUsersToTeamModal = () => {\n        this.setState({\n            showAddUsersToTeamModal: false\n        });\n    }\n\n    getFlagged = (e) => {\n        e.preventDefault();\n        this.props.actions.showFlaggedPosts();\n        this.closeRightSidebar();\n    }\n\n    getStateFromStores = () => {\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, UserStore.getCurrentId(), 999);\n\n        return {\n            currentUser: UserStore.getCurrentUser(),\n            teamMembers: TeamStore.getMyTeamMembers(),\n            teamListings: TeamStore.getTeamListings(),\n            showTutorialTip: tutorialStep === TutorialSteps.MENU_POPOVER && Utils.isMobile()\n        };\n    }\n\n    onChange = () => {\n        this.setState(this.getStateFromStores());\n    }\n\n    searchMentions = (e) => {\n        e.preventDefault();\n\n        if (this.props.isMentionSearch) {\n            this.props.actions.closeRightHandSide();\n        } else {\n            this.closeRightSidebar();\n            this.props.actions.showMentions();\n        }\n    }\n\n    closeLeftSidebar = () => {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.remove('move--right');\n                document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n            });\n        }\n    }\n\n    openRightSidebar = () => {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.add('move--left-small');\n                document.querySelector('.app__body .sidebar--menu').classList.add('move--left');\n            });\n        }\n    }\n\n    closeRightSidebar = () => {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.remove('move--left-small');\n                document.querySelector('.app__body .sidebar--menu').classList.remove('move--left');\n            });\n        }\n    }\n\n    render() {\n        const currentUser = UserStore.getCurrentUser();\n        let teamLink;\n        let inviteLink;\n        let addUserToTeamLink;\n        let teamSettingsLink;\n        let manageLink;\n        let consoleLink;\n        let joinAnotherTeamLink;\n        let isAdmin = false;\n        let isSystemAdmin = false;\n        let createTeam = null;\n\n        if (currentUser != null) {\n            isAdmin = TeamStore.isTeamAdminForCurrentTeam() || UserStore.isSystemAdminForCurrentUser();\n            isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n\n            inviteLink = (\n                <li>\n                    <a\n                        href='#'\n                        onClick={GlobalActions.showInviteMemberModal}\n                    >\n                        <i className='icon fa fa-user-plus'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.inviteNew'\n                            defaultMessage='Send Email Invite'\n                        />\n                    </a>\n                </li>\n            );\n\n            addUserToTeamLink = (\n                <li>\n                    <a\n                        id='addUsersToTeam'\n                        href='#'\n                        onClick={this.showAddUsersToTeamModal}\n                    >\n                        <i className='icon fa fa-user-plus'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.addMemberToTeam'\n                            defaultMessage='Add Members to Team'\n                        />\n                    </a>\n                </li>\n            );\n\n            if (this.props.teamType === Constants.OPEN_TEAM && global.mm_config.EnableUserCreation === 'true') {\n                teamLink = (\n                    <li>\n                        <a\n                            href='#'\n                            onClick={GlobalActions.showGetTeamInviteLinkModal}\n                        >\n                            <i className='icon fa fa-link'/>\n                            <FormattedMessage\n                                id='sidebar_right_menu.teamLink'\n                                defaultMessage='Get Team Invite Link'\n                            />\n                        </a>\n                    </li>\n                );\n            }\n\n            if (global.window.mm_license.IsLicensed === 'true') {\n                if (global.window.mm_config.RestrictTeamInvite === Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addUserToTeamLink = null;\n                } else if (global.window.mm_config.RestrictTeamInvite === Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addUserToTeamLink = null;\n                }\n            }\n\n            let moreTeams = false;\n            const isAlreadyMember = this.state.teamMembers.reduce((result, item) => {\n                result[item.team_id] = true;\n                return result;\n            }, {});\n\n            for (const id in this.state.teamListings) {\n                if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                    moreTeams = true;\n                    break;\n                }\n            }\n\n            if (moreTeams) {\n                joinAnotherTeamLink = (\n                    <li key='joinTeam_li'>\n                        <Link to='/select_team'>\n                            <i className='icon fa fa-plus-square'/>\n                            <FormattedMessage\n                                id='navbar_dropdown.join'\n                                defaultMessage='Join Another Team'\n                            />\n                        </Link>\n                    </li>\n                );\n            }\n\n            if (global.window.mm_config.EnableTeamCreation === 'true' || isSystemAdmin) {\n                createTeam = (\n                    <li key='newTeam_li'>\n                        <Link\n                            id='createTeam'\n                            key='newTeam_a'\n                            to='/create_team'\n                            onClick={this.handleClick}\n                        >\n                            <i className='icon fa fa-plus-square'/>\n                            <FormattedMessage\n                                id='navbar_dropdown.create'\n                                defaultMessage='Create a New Team'\n                            />\n                        </Link>\n                    </li>\n                );\n            }\n        }\n\n        manageLink = (\n            <li>\n                <ToggleModalButton dialogType={TeamMembersModal}>\n                    <i className='icon fa fa-users'/>\n                    <FormattedMessage\n                        id='sidebar_right_menu.viewMembers'\n                        defaultMessage='View Members'\n                    />\n                </ToggleModalButton>\n            </li>\n        );\n\n        const leaveTeam = (\n            <li key='leaveTeam_li'>\n                <a\n                    id='leaveTeam'\n                    href='#'\n                    onClick={GlobalActions.showLeaveTeamModal}\n                >\n                    <span\n                        className='icon'\n                        dangerouslySetInnerHTML={{__html: Constants.LEAVE_TEAM_SVG}}\n                    />\n                    <FormattedMessage\n                        id='navbar_dropdown.leave'\n                        defaultMessage='Leave Team'\n                    />\n                </a>\n            </li>\n        );\n\n        if (isAdmin) {\n            teamSettingsLink = (\n                <li>\n                    <a\n                        href='#'\n                        data-toggle='modal'\n                        data-target='#team_settings'\n                    >\n                        <i className='icon fa fa-globe'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.teamSettings'\n                            defaultMessage='Team Settings'\n                        />\n                    </a>\n                </li>\n            );\n            manageLink = (\n                <li>\n                    <ToggleModalButton\n                        dialogType={TeamMembersModal}\n                        dialogProps={{isAdmin}}\n                    >\n                        <i className='icon fa fa-users'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.manageMembers'\n                            defaultMessage='Manage Members'\n                        />\n                    </ToggleModalButton>\n                </li>\n            );\n        }\n\n        if (isSystemAdmin && !Utils.isMobile()) {\n            consoleLink = (\n                <li>\n                    <Link\n                        to={'/admin_console'}\n                        onClick={this.handleClick}\n                    >\n                        <i className='icon fa fa-wrench'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.console'\n                            defaultMessage='System Console'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        var siteName = '';\n        if (global.window.mm_config.SiteName != null) {\n            siteName = global.window.mm_config.SiteName;\n        }\n        var teamDisplayName = siteName;\n        if (this.props.teamDisplayName) {\n            teamDisplayName = this.props.teamDisplayName;\n        }\n\n        let helpLink = null;\n        if (global.window.mm_config.HelpLink) {\n            helpLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={global.window.mm_config.HelpLink}\n                    >\n                        <i className='icon fa fa-question'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.help'\n                            defaultMessage='Help'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let reportLink = null;\n        if (global.window.mm_config.ReportAProblemLink) {\n            reportLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={global.window.mm_config.ReportAProblemLink}\n                    >\n                        <i className='icon fa fa-phone'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.report'\n                            defaultMessage='Report a Problem'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let tutorialTip = null;\n        if (this.state.showTutorialTip) {\n            tutorialTip = createMenuTip((e) => e.preventDefault(), true);\n            this.closeLeftSidebar();\n            this.openRightSidebar();\n        }\n\n        let nativeAppLink = null;\n        if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n            nativeAppLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={useSafeUrl(global.window.mm_config.AppDownloadLink)}\n                    >\n                        <i className='icon fa fa-mobile'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.nativeApps'\n                            defaultMessage='Download Apps'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let addUsersToTeamModal;\n        if (this.state.showAddUsersToTeamModal) {\n            addUsersToTeamModal = (\n                <AddUsersToTeam\n                    onModalDismissed={this.hideAddUsersToTeamModal}\n                />\n            );\n        }\n\n        let teamDivider = null;\n        if (teamSettingsLink || manageLink || joinAnotherTeamLink || createTeam || leaveTeam) {\n            teamDivider = <li className='divider'/>;\n        }\n\n        let consoleDivider = null;\n        if (consoleLink) {\n            consoleDivider = <li className='divider'/>;\n        }\n\n        return (\n            <div\n                className='sidebar--menu'\n                id='sidebar-menu'\n            >\n                <div className='team__header theme'>\n                    <Link\n                        className='team__name'\n                        to='/channels/town-square'\n                    >\n                        {teamDisplayName}\n                    </Link>\n                </div>\n\n                <div className='nav-pills__container'>\n                    {tutorialTip}\n                    <ul className='nav nav-pills nav-stacked'>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.searchMentions}\n                            >\n                                <i className='icon mentions'>{'@'}</i>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.recentMentions'\n                                    defaultMessage='Recent Mentions'\n                                />\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.getFlagged}\n                            >\n                                <i className='icon fa fa-flag'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.flagged'\n                                    defaultMessage='Flagged Posts'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={() => GlobalActions.showAccountSettingsModal()}\n                            >\n                                <i className='icon fa fa-cog'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.accountSettings'\n                                    defaultMessage='Account Settings'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        {inviteLink}\n                        {teamLink}\n                        {addUserToTeamLink}\n                        {teamDivider}\n                        {teamSettingsLink}\n                        {manageLink}\n                        {createTeam}\n                        {joinAnotherTeamLink}\n                        {leaveTeam}\n                        {consoleDivider}\n                        {consoleLink}\n                        <li className='divider'/>\n                        {helpLink}\n                        {reportLink}\n                        {nativeAppLink}\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.handleAboutModal}\n                            >\n                                <i className='icon fa fa-info'/>\n                                <FormattedMessage\n                                    id='navbar_dropdown.about'\n                                    defaultMessage='About Mattermost'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={() => GlobalActions.emitUserLoggedOutEvent()}\n                            >\n                                <i className='icon fa fa-sign-out'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.logout'\n                                    defaultMessage='Logout'\n                                />\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <AboutBuildModal\n                    show={this.state.showAboutModal}\n                    onModalDismissed={this.aboutModalDismissed}\n                />\n                {addUsersToTeamModal}\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right_menu/sidebar_right_menu.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingsSidebar from './settings_sidebar.jsx';\nimport TeamSettings from './team_settings.jsx';\n\nconst holders = defineMessages({\n    generalTab: {\n        id: 'team_settings_modal.generalTab',\n        defaultMessage: 'General'\n    },\n    importTab: {\n        id: 'team_settings_modal.importTab',\n        defaultMessage: 'Import'\n    }\n});\n\nclass TeamSettingsModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateTab = this.updateTab.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n\n        this.state = {\n            activeTab: 'general',\n            activeSection: ''\n        };\n    }\n    componentDidMount() {\n        const modal = $(ReactDOM.findDOMNode(this.refs.modal));\n\n        modal.on('click', '.modal-back', function handleBackClick() {\n            $(this).closest('.modal-dialog').removeClass('display--content');\n            $(this).closest('.modal-dialog').find('.settings-table .nav li.active').removeClass('active');\n        });\n        modal.on('click', '.modal-header .close', () => {\n            setTimeout(() => {\n                $('.modal-dialog.display--content').removeClass('display--content');\n            }, 500);\n        });\n\n        if (!Utils.isMobile()) {\n            $('.settings-modal .settings-content').perfectScrollbar();\n        }\n    }\n    updateTab(tab) {\n        this.setState({activeTab: tab, activeSection: ''});\n        if (!Utils.isMobile()) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n    }\n    updateSection(section) {\n        if ($('.section-max').length) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n        this.setState({activeSection: section});\n    }\n    render() {\n        const {formatMessage} = this.props.intl;\n        const tabs = [];\n        tabs.push({name: 'general', uiName: formatMessage(holders.generalTab), icon: 'icon fa fa-cog'});\n        tabs.push({name: 'import', uiName: formatMessage(holders.importTab), icon: 'icon fa fa-upload'});\n\n        return (\n            <div\n                className='modal fade'\n                ref='modal'\n                id='team_settings'\n                role='dialog'\n                tabIndex='-1'\n                aria-hidden='true'\n            >\n                <div className='modal-dialog settings-modal'>\n                    <div className='modal-content'>\n                        <div className='modal-header'>\n                            <button\n                                type='button'\n                                className='close'\n                                data-dismiss='modal'\n                                aria-label='Close'\n                            >\n                                <span aria-hidden='true'>\n                                    {''}\n                                </span>\n                            </button>\n                            <h4\n                                className='modal-title'\n                                ref='title'\n                            >\n                                <FormattedMessage\n                                    id='team_settings_modal.title'\n                                    defaultMessage='Team Settings'\n                                />\n                            </h4>\n                        </div>\n                        <div className='modal-body settings-modal__body'>\n                            <div className='settings-table'>\n                                <div className='settings-links'>\n                                    <SettingsSidebar\n                                        tabs={tabs}\n                                        activeTab={this.state.activeTab}\n                                        updateTab={this.updateTab}\n                                    />\n                                </div>\n                                <div className='settings-content minimize-settings'>\n                                    <TeamSettings\n                                        activeTab={this.state.activeTab}\n                                        activeSection={this.state.activeSection}\n                                        updateSection={this.updateSection}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nTeamSettingsModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(TeamSettingsModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_settings_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport TeamStore from 'stores/team_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport GeneralTab from './team_general_tab.jsx';\nimport ImportTab from './team_import_tab.jsx';\n\nexport default class TeamSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n\n        this.state = {team: TeamStore.getCurrent()};\n    }\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onChange);\n    }\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onChange);\n    }\n    onChange() {\n        var team = TeamStore.getCurrent();\n\n        if (!Utils.areObjectsEqual(this.state.team, team)) {\n            this.setState({team});\n        }\n    }\n    render() {\n        if (!this.state.team) {\n            return null;\n        }\n        var result;\n        switch (this.props.activeTab) {\n        case 'general':\n            result = (\n                <div>\n                    <GeneralTab\n                        team={this.state.team}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                    />\n                </div>\n            );\n            break;\n        case 'import':\n            result = (\n                <div>\n                    <ImportTab\n                        team={this.state.team}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                    />\n                </div>\n            );\n            break;\n        default:\n            result = (\n                <div/>\n            );\n            break;\n        }\n        return result;\n    }\n}\n\nTeamSettings.defaultProps = {\n    activeTab: '',\n    activeSection: ''\n};\n\nTeamSettings.propTypes = {\n    activeTab: PropTypes.string.isRequired,\n    activeSection: PropTypes.string.isRequired,\n    updateSection: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_settings.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {updateTeam} from 'actions/team_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from './setting_item_max.jsx';\nimport SettingItemMin from './setting_item_min.jsx';\n\nclass GeneralTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateSection = this.updateSection.bind(this);\n        this.handleNameSubmit = this.handleNameSubmit.bind(this);\n        this.handleInviteIdSubmit = this.handleInviteIdSubmit.bind(this);\n        this.handleOpenInviteSubmit = this.handleOpenInviteSubmit.bind(this);\n        this.handleDescriptionSubmit = this.handleDescriptionSubmit.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.onUpdateNameSection = this.onUpdateNameSection.bind(this);\n        this.updateName = this.updateName.bind(this);\n        this.updateDescription = this.updateDescription.bind(this);\n        this.onUpdateDescriptionSection = this.onUpdateDescriptionSection.bind(this);\n        this.onUpdateInviteIdSection = this.onUpdateInviteIdSection.bind(this);\n        this.updateInviteId = this.updateInviteId.bind(this);\n        this.onUpdateOpenInviteSection = this.onUpdateOpenInviteSection.bind(this);\n        this.handleOpenInviteRadio = this.handleOpenInviteRadio.bind(this);\n        this.handleGenerateInviteId = this.handleGenerateInviteId.bind(this);\n\n        this.state = this.setupInitialState(props);\n    }\n\n    updateSection(section) {\n        if ($('.section-max').length) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n        this.setState(this.setupInitialState(this.props));\n        this.props.updateSection(section);\n    }\n\n    setupInitialState(props) {\n        const team = props.team;\n\n        return {\n            name: team.display_name,\n            invite_id: team.invite_id,\n            allow_open_invite: team.allow_open_invite,\n            description: team.description,\n            serverError: '',\n            clientError: ''\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            name: nextProps.team.display_name,\n            description: nextProps.team.description,\n            invite_id: nextProps.team.invite_id,\n            allow_open_invite: nextProps.team.allow_open_invite\n        });\n    }\n\n    handleGenerateInviteId(e) {\n        e.preventDefault();\n\n        var newId = '';\n        for (var i = 0; i < 32; i++) {\n            newId += Math.floor(Math.random() * 16).toString(16);\n        }\n\n        this.setState({invite_id: newId});\n    }\n\n    handleOpenInviteRadio(openInvite) {\n        this.setState({allow_open_invite: openInvite});\n    }\n\n    handleOpenInviteSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n\n        var data = {...this.props.team};\n        data.allow_open_invite = this.state.allow_open_invite;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleNameSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const name = this.state.name.trim();\n        if (name) {\n            state.clientError = '';\n        } else {\n            state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n            valid = false;\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.display_name = this.state.name;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleInviteIdSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const inviteId = this.state.invite_id.trim();\n        if (inviteId) {\n            state.clientError = '';\n        } else {\n            state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n            valid = false;\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.invite_id = this.state.invite_id;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleClose() {\n        this.updateSection('');\n    }\n\n    handleDescriptionSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const description = this.state.description.trim();\n        if (description === this.props.team.description) {\n            state.clientError = Utils.localizeMessage('general_tab.chooseDescription', 'Please choose a new description for your team');\n            valid = false;\n        } else {\n            state.clientError = '';\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.description = this.state.description;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    componentDidMount() {\n        $('#team_settings').on('hidden.bs.modal', this.handleClose);\n    }\n\n    componentWillUnmount() {\n        $('#team_settings').off('hidden.bs.modal', this.handleClose);\n    }\n\n    onUpdateNameSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'name') {\n            this.updateSection('');\n        } else {\n            this.updateSection('name');\n        }\n    }\n\n    onUpdateDescriptionSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'description') {\n            this.updateSection('');\n        } else {\n            this.updateSection('description');\n        }\n    }\n\n    onUpdateInviteIdSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'invite_id') {\n            this.updateSection('');\n        } else {\n            this.updateSection('invite_id');\n        }\n    }\n\n    onUpdateOpenInviteSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'open_invite') {\n            this.updateSection('');\n        } else {\n            this.updateSection('open_invite');\n        }\n    }\n\n    updateName(e) {\n        this.setState({name: e.target.value});\n    }\n\n    updateDescription(e) {\n        this.setState({description: e.target.value});\n    }\n\n    updateInviteId(e) {\n        this.setState({invite_id: e.target.value});\n    }\n\n    render() {\n        let clientError = null;\n        let serverError = null;\n        if (this.state.clientError) {\n            clientError = this.state.clientError;\n        }\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        let openInviteSection;\n        if (this.props.activeSection === 'open_invite') {\n            const inputs = [\n                <div key='userOpenInviteOptions'>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='teamOpenInvite'\n                                name='userOpenInviteOptions'\n                                type='radio'\n                                defaultChecked={this.state.allow_open_invite}\n                                onChange={this.handleOpenInviteRadio.bind(this, true)}\n                            />\n                            <FormattedMessage\n                                id='general_tab.yes'\n                                defaultMessage='Yes'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='teamOpenInviteNo'\n                                name='userOpenInviteOptions'\n                                type='radio'\n                                defaultChecked={!this.state.allow_open_invite}\n                                onChange={this.handleOpenInviteRadio.bind(this, false)}\n                            />\n                            <FormattedMessage\n                                id='general_tab.no'\n                                defaultMessage='No'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div>\n                        <br/>\n                        <FormattedMessage\n                            id='general_tab.openInviteDesc'\n                            defaultMessage='When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team.'\n                        />\n                    </div>\n                </div>\n            ];\n\n            openInviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    inputs={inputs}\n                    submit={this.handleOpenInviteSubmit}\n                    server_error={serverError}\n                    updateSection={this.onUpdateOpenInviteSection}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.state.allow_open_invite === true) {\n                describe = Utils.localizeMessage('general_tab.yes', 'Yes');\n            } else {\n                describe = Utils.localizeMessage('general_tab.no', 'No');\n            }\n\n            openInviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    describe={describe}\n                    updateSection={this.onUpdateOpenInviteSection}\n                />\n            );\n        }\n\n        let inviteSection;\n\n        if (this.props.activeSection === 'invite_id') {\n            const inputs = [];\n\n            inputs.push(\n                <div key='teamInviteSetting'>\n                    <div className='row'>\n                        <label className='col-sm-5 control-label visible-xs-block'/>\n                        <div className='col-sm-12'>\n                            <input\n                                id='teamInviteId'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateInviteId}\n                                value={this.state.invite_id}\n                                maxLength='32'\n                            />\n                            <div className='padding-top x2'>\n                                <button\n                                    id='teamInviteIdRegenerate'\n                                    className='color--link style--none'\n                                    onClick={this.handleGenerateInviteId}\n                                >\n                                    <FormattedMessage\n                                        id='general_tab.regenerate'\n                                        defaultMessage='Regenerate'\n                                    />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='setting-list__hint'>\n                        <FormattedMessage\n                            id='general_tab.codeLongDesc'\n                            defaultMessage='The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.'\n                            values={{\n                                getTeamInviteLink: (\n                                    <strong>\n                                        <FormattedMessage\n                                            id='general_tab.getTeamInviteLink'\n                                            defaultMessage='Get Team Invite Link'\n                                        />\n                                    </strong>\n                                )\n                            }}\n                        />\n                    </div>\n                </div>\n            );\n\n            inviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    inputs={inputs}\n                    submit={this.handleInviteIdSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateInviteIdSection}\n                />\n            );\n        } else {\n            inviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    describe={Utils.localizeMessage('general_tab.codeDesc', \"Click 'Edit' to regenerate Invite Code.\")}\n                    updateSection={this.onUpdateInviteIdSection}\n                />\n            );\n        }\n\n        let nameSection;\n\n        if (this.props.activeSection === 'name') {\n            const inputs = [];\n\n            let teamNameLabel = (\n                <FormattedMessage\n                    id='general_tab.teamName'\n                    defaultMessage='Team Name'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamNameLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamNameSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamNameLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamName'\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMNAME_LENGTH.toString()}\n                            onChange={this.updateName}\n                            value={this.state.name}\n                        />\n                    </div>\n                </div>\n            );\n\n            const nameExtraInfo = <span>{Utils.localizeMessage('general_tab.teamNameInfo', 'Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.')}</span>;\n\n            nameSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    inputs={inputs}\n                    submit={this.handleNameSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateNameSection}\n                    extraInfo={nameExtraInfo}\n                />\n            );\n        } else {\n            var describe = this.state.name;\n\n            nameSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    describe={describe}\n                    updateSection={this.onUpdateNameSection}\n                />\n            );\n        }\n\n        let descriptionSection;\n\n        if (this.props.activeSection === 'description') {\n            const inputs = [];\n\n            let teamDescriptionLabel = (\n                <FormattedMessage\n                    id='general_tab.teamDescription'\n                    defaultMessage='Team Description'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamDescriptionLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamDescriptionSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamDescriptionLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamDescription'\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMDESCRIPTION_LENGTH.toString()}\n                            onChange={this.updateDescription}\n                            value={this.state.description}\n                        />\n                    </div>\n                </div>\n            );\n\n            const descriptionExtraInfo = <span>{Utils.localizeMessage('general_tab.teamDescriptionInfo', 'Team description provides additional information to help users select the right team. Maximum of 50 characters.')}</span>;\n\n            descriptionSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    inputs={inputs}\n                    submit={this.handleDescriptionSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateDescriptionSection}\n                    extraInfo={descriptionExtraInfo}\n                />\n            );\n        } else {\n            let describemsg = '';\n            if (this.state.description) {\n                describemsg = this.state.description;\n            } else {\n                describemsg = (\n                    <FormattedMessage\n                        id='general_tab.emptyDescription'\n                        defaultMessage=\"Click 'Edit' to add a team description.\"\n                    />\n                );\n            }\n\n            descriptionSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    describe={describemsg}\n                    updateSection={this.onUpdateDescriptionSection}\n                />\n            );\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                    >\n                        <span aria-hidden='true'>\n                            {''}\n                        </span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i className='fa fa-angle-left'/>\n                        </div>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {nameSection}\n                    <div className='divider-light'/>\n                    {descriptionSection}\n                    <div className='divider-light'/>\n                    {openInviteSection}\n                    <div className='divider-light'/>\n                    {inviteSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nGeneralTab.propTypes = {\n    updateSection: PropTypes.func.isRequired,\n    team: PropTypes.object.isRequired,\n    activeSection: PropTypes.string.isRequired\n};\n\nexport default GeneralTab;\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_general_tab.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as utils from 'utils/utils.jsx';\n\nimport SettingUpload from './setting_upload.jsx';\n\nconst holders = defineMessages({\n    importSlack: {\n        id: 'team_import_tab.importSlack',\n        defaultMessage: 'Import from Slack (Beta)'\n    }\n});\n\nclass TeamImportTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onImportFailure = this.onImportFailure.bind(this);\n        this.onImportSuccess = this.onImportSuccess.bind(this);\n        this.doImportSlack = this.doImportSlack.bind(this);\n\n        this.state = {\n            status: 'ready',\n            link: ''\n        };\n    }\n\n    onImportFailure() {\n        this.setState({status: 'fail'});\n    }\n\n    onImportSuccess(data) {\n        this.setState({status: 'done', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(atob(data.results))});\n    }\n\n    doImportSlack(file) {\n        this.setState({status: 'in-progress', link: ''});\n        utils.importSlack(file, this.onImportSuccess, this.onImportFailure);\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        var uploadDocsLink = (\n            <a\n                href='https://docs.mattermost.com/administration/migrating.html#migrating-from-slack'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpDocsLink'\n                    defaultMessage='documentation'\n                />\n            </a>\n        );\n\n        var uploadExportInstructions = (\n            <strong>\n                <FormattedMessage\n                    id='team_import_tab.importHelpExportInstructions'\n                    defaultMessage='Slack > Team Settings > Import/Export Data > Export > Start Export'\n                />\n            </strong>\n        );\n\n        var uploadExporterLink = (\n            <a\n                href='https://github.com/grundleborg/slack-advanced-exporter'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpExporterLink'\n                    defaultMessage='Slack Advanced Exporter'\n                />\n            </a>\n        );\n\n        var uploadHelpText = (\n            <div>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine1'\n                        defaultMessage=\"Slack import to Mattermost supports importing of messages in your Slack team's public channels.\"\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine2'\n                        defaultMessage='To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.'\n                        values={{\n                            exportInstructions: uploadExportInstructions,\n                            uploadDocsLink\n                        }}\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine3'\n                        defaultMessage='To import posts with attached files, see {slackAdvancedExporterLink} for details.'\n                        values={{\n                            slackAdvancedExporterLink: uploadExporterLink\n                        }}\n                    />\n                </p>\n            </div>\n        );\n\n        var uploadSection = (\n            <SettingUpload\n                title={formatMessage(holders.importSlack)}\n                submit={this.doImportSlack}\n                helpText={uploadHelpText}\n                fileTypesAccepted='.zip'\n            />\n        );\n\n        var messageSection;\n        switch (this.state.status) {\n\n        case 'ready':\n            messageSection = '';\n            break;\n        case 'in-progress':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'><i className='fa fa-spinner fa-pulse'/>\n                    <FormattedMessage\n                        id='team_import_tab.importing'\n                        defaultMessage=' Importing...'\n                    />\n                </p>\n            );\n            break;\n        case 'done':\n            messageSection = (\n                <p className='confirm-import alert alert-success'>\n                    <i className='fa fa-check'/>\n                    <FormattedMessage\n                        id='team_import_tab.successful'\n                        defaultMessage=' Import successful: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n        );\n            break;\n        case 'fail':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'>\n                    <i className='fa fa-warning'/>\n                    <FormattedMessage\n                        id='team_import_tab.failure'\n                        defaultMessage=' Import failure: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n            );\n            break;\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i className='fa fa-angle-left'/>\n                        </div>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {uploadSection}\n                    <div className='divider-dark'/>\n                    {messageSection}\n                </div>\n            </div>\n        );\n    }\n}\n\nTeamImportTab.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(TeamImportTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_import_tab.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class SettingsUpload extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.doFileSelect = this.doFileSelect.bind(this);\n        this.doSubmit = this.doSubmit.bind(this);\n\n        this.state = {\n            clientError: this.props.clientError,\n            serverError: this.props.serverError,\n            filename: ''\n        };\n    }\n\n    componentWillReceiveProps() {\n        this.setState({\n            clientError: this.props.clientError,\n            serverError: this.props.serverError\n        });\n    }\n\n    doFileSelect(e) {\n        e.preventDefault();\n        var filename = $(e.target).val();\n        if (filename.substring(3, 11) === 'fakepath') {\n            filename = filename.substring(12);\n        }\n        this.setState({\n            clientError: '',\n            serverError: '',\n            filename\n        });\n    }\n\n    doSubmit(e) {\n        e.preventDefault();\n        var inputnode = ReactDOM.findDOMNode(this.refs.uploadinput);\n        if (inputnode.files && inputnode.files[0]) {\n            this.props.submit(inputnode.files[0]);\n        } else {\n            this.setState({clientError: true});\n        }\n    }\n\n    render() {\n        let clientError = null;\n        if (this.state.clientError) {\n            clientError = (\n                <div className='file-status'>\n                    <FormattedMessage\n                        id='setting_upload.noFile'\n                        defaultMessage='No file selected.'\n                    />\n                </div>\n            );\n        }\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='file-status'>{this.state.serverError}</div>\n            );\n        }\n        let fileNameText = null;\n        let submitButtonClass = 'btn btn-sm btn-primary disabled';\n        if (this.state.filename) {\n            fileNameText = (\n                <div className='file-status file-name'>{this.state.filename}</div>\n            );\n            submitButtonClass = 'btn btn-sm btn-primary';\n        }\n\n        return (\n            <ul className='section-max'>\n                <li className='col-sm-12 section-title'>{this.props.title}</li>\n                <li className='col-sm-offset-3 col-sm-9'>{this.props.helpText}</li>\n                <li className='col-sm-offset-3 col-sm-9'>\n                    <ul className='setting-list'>\n                        <li className='setting-list-item'>\n                            <span className='btn btn-sm btn-primary btn-file sel-btn'>\n                                <FormattedMessage\n                                    id='setting_upload.select'\n                                    defaultMessage='Select file'\n                                />\n                                <input\n                                    ref='uploadinput'\n                                    accept={this.props.fileTypesAccepted}\n                                    type='file'\n                                    onChange={this.doFileSelect}\n                                />\n                            </span>\n                            <a\n                                className={submitButtonClass}\n                                onClick={this.doSubmit}\n                            >\n                                <FormattedMessage\n                                    id='setting_upload.import'\n                                    defaultMessage='Import'\n                                />\n                            </a>\n                            {fileNameText}\n                            {serverError}\n                            {clientError}\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n\nSettingsUpload.propTypes = {\n    title: PropTypes.string.isRequired,\n    submit: PropTypes.func.isRequired,\n    fileTypesAccepted: PropTypes.string.isRequired,\n    clientError: PropTypes.string,\n    serverError: PropTypes.string,\n    helpText: PropTypes.object\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/setting_upload.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\n\nexport default class ImportThemeModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateShow = this.updateShow.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n\n        this.state = {\n            value: '',\n            inputError: '',\n            show: false,\n            callback: null\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    updateShow(show, args) {\n        this.setState({\n            show,\n            callback: args.callback\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        const text = this.state.value;\n\n        if (!this.isInputValid(text)) {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                )\n            });\n            return;\n        }\n\n        const colors = text.split(',');\n        const theme = {type: 'custom'};\n\n        theme.sidebarBg = colors[0];\n        theme.sidebarText = colors[5];\n        theme.sidebarUnreadText = colors[5];\n        theme.sidebarTextHoverBg = colors[4];\n        theme.sidebarTextActiveBorder = colors[2];\n        theme.sidebarTextActiveColor = colors[3];\n        theme.sidebarHeaderBg = colors[1];\n        theme.sidebarHeaderTextColor = colors[5];\n        theme.onlineIndicator = colors[6];\n        theme.awayIndicator = '#E0B333';\n        theme.mentionBg = colors[7];\n        theme.mentionColor = '#ffffff';\n        theme.centerChannelBg = '#ffffff';\n        theme.centerChannelColor = '#333333';\n        theme.newMessageSeparator = '#F80';\n        theme.linkColor = '#2389d7';\n        theme.buttonBg = '#26a970';\n        theme.buttonColor = '#ffffff';\n        theme.mentionHighlightBg = '#fff2bb';\n        theme.mentionHighlightLink = '#2f81b7';\n        theme.codeTheme = 'github';\n\n        this.state.callback(theme);\n        this.setState({\n            show: false,\n            callback: null\n        });\n    }\n\n    isInputValid(text) {\n        if (text.length === 0) {\n            return false;\n        }\n\n        if (text.indexOf(' ') !== -1) {\n            return false;\n        }\n\n        if (text.length > 0 && text.indexOf(',') === -1) {\n            return false;\n        }\n\n        if (text.length > 0) {\n            const colors = text.split(',');\n\n            if (colors.length !== 8) {\n                return false;\n            }\n\n            for (let i = 0; i < colors.length; i++) {\n                if (colors[i].length !== 7 && colors[i].length !== 4) {\n                    return false;\n                }\n\n                if (colors[i].charAt(0) !== '#') {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    handleChange(e) {\n        const value = e.target.value;\n        this.setState({value});\n\n        if (this.isInputValid(value)) {\n            this.setState({inputError: null});\n        } else {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                )\n            });\n        }\n    }\n\n    render() {\n        return (\n            <span>\n                <Modal\n                    show={this.state.show}\n                    onHide={() => this.setState({show: false})}\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title>\n                            <FormattedMessage\n                                id='user.settings.import_theme.importHeader'\n                                defaultMessage='Import Slack Theme'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <form\n                        role='form'\n                        className='form-horizontal'\n                    >\n                        <Modal.Body>\n                            <p>\n                                <FormattedMessage\n                                    id='user.settings.import_theme.importBody'\n                                    defaultMessage='To import a theme, go to a Slack team and look for \"Preferences -> Sidebar Theme\". Open the custom theme option, copy the theme color values and paste them here:'\n                                />\n                            </p>\n                            <div className='form-group less'>\n                                <div className='col-sm-12'>\n                                    <input\n                                        id='themeVector'\n                                        type='text'\n                                        className='form-control'\n                                        value={this.state.value}\n                                        onChange={this.handleChange}\n                                    />\n                                    <div className='input__help'>\n                                        {this.state.inputError}\n                                    </div>\n                                </div>\n                            </div>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                id='cancelButton'\n                                type='button'\n                                className='btn btn-default'\n                                onClick={() => this.setState({show: false})}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                id='submitButton'\n                                onClick={this.handleSubmit}\n                                type='submit'\n                                className='btn btn-primary'\n                                tabIndex='3'\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.submit'\n                                    defaultMessage='Submit'\n                                />\n                            </button>\n                        </Modal.Footer>\n                    </form>\n                </Modal>\n            </span>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/import_theme_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ConfirmModal from '../confirm_modal.jsx';\nimport SettingsSidebar from '../settings_sidebar.jsx';\n\nimport UserSettings from './user_settings.jsx';\n\nconst holders = defineMessages({\n    general: {\n        id: 'user.settings.modal.general',\n        defaultMessage: 'General'\n    },\n    security: {\n        id: 'user.settings.modal.security',\n        defaultMessage: 'Security'\n    },\n    notifications: {\n        id: 'user.settings.modal.notifications',\n        defaultMessage: 'Notifications'\n    },\n    display: {\n        id: 'user.settings.modal.display',\n        defaultMessage: 'Display'\n    },\n    sidebar: {\n        id: 'user.settings.modal.sidebar',\n        defaultMessage: 'Sidebar'\n    },\n    advanced: {\n        id: 'user.settings.modal.advanced',\n        defaultMessage: 'Advanced'\n    },\n    confirmTitle: {\n        id: 'user.settings.modal.confirmTitle',\n        defaultMessage: 'Discard Changes?'\n    },\n    confirmMsg: {\n        id: 'user.settings.modal.confirmMsg',\n        defaultMessage: 'You have unsaved changes, are you sure you want to discard them?'\n    },\n    confirmBtns: {\n        id: 'user.settings.modal.confirmBtns',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nclass UserSettingsModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleHide = this.handleHide.bind(this);\n        this.handleHidden = this.handleHidden.bind(this);\n        this.handleCollapse = this.handleCollapse.bind(this);\n        this.handleConfirm = this.handleConfirm.bind(this);\n        this.handleCancelConfirmation = this.handleCancelConfirmation.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n\n        this.closeModal = this.closeModal.bind(this);\n        this.collapseModal = this.collapseModal.bind(this);\n\n        this.updateTab = this.updateTab.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.onUserChanged = this.onUserChanged.bind(this);\n\n        this.state = {\n            active_tab: 'general',\n            active_section: '',\n            showConfirmModal: false,\n            enforceFocus: true,\n            currentUser: UserStore.getCurrentUser(),\n            show: false\n        };\n\n        this.requireConfirm = false;\n        this.mounted = false;\n    }\n\n    onUserChanged() {\n        if (this.mounted) {\n            this.setState({currentUser: UserStore.getCurrentUser()});\n        }\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        UserStore.addChangeListener(this.onUserChanged);\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n        document.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n        document.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentDidUpdate() {\n        UserStore.removeChangeListener(this.onUserChanged);\n        if (!Utils.isMobile()) {\n            $('.settings-content .minimize-settings').perfectScrollbar('update');\n        }\n    }\n\n    handleKeyDown(e) {\n        if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && e.keyCode === Constants.KeyCodes.A) {\n            this.setState({\n                show: !this.state.show\n            });\n        }\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    // Called when the close button is pressed on the main modal\n    handleHide() {\n        if (this.requireConfirm) {\n            this.afterConfirm = () => this.handleHide();\n            this.showConfirmModal();\n\n            return;\n        }\n\n        this.setState({\n            show: false\n        });\n    }\n\n    // called after the dialog is fully hidden and faded out\n    handleHidden() {\n        this.setState({\n            active_tab: 'general',\n            active_section: ''\n        });\n    }\n\n    // Called to hide the settings pane when on mobile\n    handleCollapse() {\n        $(ReactDOM.findDOMNode(this.refs.modalBody)).closest('.modal-dialog').removeClass('display--content');\n\n        this.setState({\n            active_tab: '',\n            active_section: ''\n        });\n    }\n\n    handleConfirm() {\n        this.setState({\n            showConfirmModal: false,\n            enforceFocus: true\n        });\n\n        this.requireConfirm = false;\n\n        if (this.afterConfirm) {\n            this.afterConfirm();\n            this.afterConfirm = null;\n        }\n    }\n\n    handleCancelConfirmation() {\n        this.setState({\n            showConfirmModal: false,\n            enforceFocus: true\n        });\n\n        this.afterConfirm = null;\n    }\n\n    showConfirmModal(afterConfirm) {\n        this.setState({\n            showConfirmModal: true,\n            enforceFocus: false\n        });\n\n        if (afterConfirm) {\n            this.afterConfirm = afterConfirm;\n        }\n    }\n\n    // Called by settings tabs when their close button is pressed\n    closeModal() {\n        if (this.requireConfirm) {\n            this.showConfirmModal(this.closeModal);\n        } else {\n            this.handleHide();\n        }\n    }\n\n    // Called by settings tabs when their back button is pressed\n    collapseModal() {\n        if (this.requireConfirm) {\n            this.showConfirmModal(this.collapseModal);\n        } else {\n            this.handleCollapse();\n        }\n    }\n\n    updateTab(tab, skipConfirm) {\n        if (!skipConfirm && this.requireConfirm) {\n            this.showConfirmModal(() => this.updateTab(tab, true));\n        } else {\n            this.setState({\n                active_tab: tab,\n                active_section: ''\n            });\n        }\n    }\n\n    updateSection(section, skipConfirm) {\n        if (!skipConfirm && this.requireConfirm) {\n            this.showConfirmModal(() => this.updateSection(section, true));\n        } else {\n            this.setState({active_section: section});\n        }\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        if (this.state.currentUser == null) {\n            return (<div/>);\n        }\n        var tabs = [];\n\n        tabs.push({name: 'general', uiName: formatMessage(holders.general), icon: 'icon fa fa-gear'});\n        tabs.push({name: 'security', uiName: formatMessage(holders.security), icon: 'icon fa fa-lock'});\n        tabs.push({name: 'notifications', uiName: formatMessage(holders.notifications), icon: 'icon fa fa-exclamation-circle'});\n        tabs.push({name: 'display', uiName: formatMessage(holders.display), icon: 'icon fa fa-eye'});\n        if (global.mm_config.CloseUnusedDirectMessages === 'true') {\n            tabs.push({name: 'sidebar', uiName: formatMessage(holders.sidebar), icon: 'icon fa fa-columns'});\n        }\n        tabs.push({name: 'advanced', uiName: formatMessage(holders.advanced), icon: 'icon fa fa-list-alt'});\n\n        return (\n            <Modal\n                id='accountSettingsModal'\n                dialogClassName='settings-modal'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleHidden}\n                enforceFocus={this.state.enforceFocus}\n            >\n                <Modal.Header\n                    id='accountSettingsHeader'\n                    closeButton={true}\n                >\n                    <Modal.Title id='accountSettingsTitle'>\n                        <FormattedMessage\n                            id='user.settings.modal.title'\n                            defaultMessage='Account Settings'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    <div className='settings-table'>\n                        <div className='settings-links'>\n                            <SettingsSidebar\n                                tabs={tabs}\n                                activeTab={this.state.active_tab}\n                                updateTab={this.updateTab}\n                            />\n                        </div>\n                        <div className='settings-content minimize-settings'>\n                            <UserSettings\n                                ref='userSettings'\n                                activeTab={this.state.active_tab}\n                                activeSection={this.state.active_section}\n                                updateSection={this.updateSection}\n                                updateTab={this.updateTab}\n                                closeModal={this.closeModal}\n                                collapseModal={this.collapseModal}\n                                setEnforceFocus={(enforceFocus) => this.setState({enforceFocus})}\n                                setRequireConfirm={\n                                    (requireConfirm) => {\n                                        this.requireConfirm = requireConfirm;\n                                    }\n                                }\n                            />\n                        </div>\n                    </div>\n                </Modal.Body>\n                <ConfirmModal\n                    title={formatMessage(holders.confirmTitle)}\n                    message={formatMessage(holders.confirmMsg)}\n                    confirmButtonText={formatMessage(holders.confirmBtns)}\n                    show={this.state.showConfirmModal}\n                    onConfirm={this.handleConfirm}\n                    onCancel={this.handleCancelConfirmation}\n                />\n            </Modal>\n        );\n    }\n}\n\nUserSettingsModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(UserSettingsModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as utils from 'utils/utils.jsx';\n\nimport AdvancedTab from './user_settings_advanced.jsx';\nimport DisplayTab from './user_settings_display.jsx';\nimport GeneralTab from './user_settings_general';\nimport NotificationsTab from './user_settings_notifications.jsx';\nimport SecurityTab from './user_settings_security';\nimport SidebarTab from './user_settings_sidebar.jsx';\n\nexport default class UserSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onListenerChange = this.onListenerChange.bind(this);\n\n        this.state = {user: UserStore.getCurrentUser()};\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onListenerChange);\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onListenerChange);\n    }\n\n    onListenerChange() {\n        var user = UserStore.getCurrentUser();\n        if (!utils.areObjectsEqual(this.state.user, user)) {\n            this.setState({user});\n        }\n    }\n\n    render() {\n        if (this.props.activeTab === 'general') {\n            return (\n                <div>\n                    <GeneralTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'security') {\n            return (\n                <div>\n                    <SecurityTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                        setEnforceFocus={this.props.setEnforceFocus}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'notifications') {\n            return (\n                <div>\n                    <NotificationsTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'display') {\n            return (\n                <div>\n                    <DisplayTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                        setEnforceFocus={this.props.setEnforceFocus}\n                        setRequireConfirm={this.props.setRequireConfirm}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'sidebar') {\n            return (\n                <div>\n                    <SidebarTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'advanced') {\n            return (\n                <div>\n                    <AdvancedTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                    />\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\nUserSettings.propTypes = {\n    activeTab: PropTypes.string,\n    activeSection: PropTypes.string,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired,\n    setEnforceFocus: PropTypes.func.isRequired,\n    setRequireConfirm: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {savePreferences} from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from '../setting_item_max.jsx';\nimport SettingItemMin from '../setting_item_min.jsx';\n\nconst PreReleaseFeatures = Constants.PRE_RELEASE_FEATURES;\n\nexport default class AdvancedSettingsDisplay extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.getStateFromStores = this.getStateFromStores.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.updateSetting = this.updateSetting.bind(this);\n        this.toggleFeature = this.toggleFeature.bind(this);\n\n        this.saveEnabledFeatures = this.saveEnabledFeatures.bind(this);\n        this.renderFormattingSection = this.renderFormattingSection.bind(this);\n        this.renderJoinLeaveSection = this.renderJoinLeaveSection.bind(this);\n\n        this.state = this.getStateFromStores();\n    }\n\n    getStateFromStores() {\n        let preReleaseFeaturesKeys = Object.keys(PreReleaseFeatures);\n        const advancedSettings = PreferenceStore.getCategory(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS);\n        const settings = {\n            send_on_ctrl_enter: PreferenceStore.get(\n                Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                'send_on_ctrl_enter',\n                'false'\n            ),\n            formatting: PreferenceStore.get(\n                Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                'formatting',\n                'true'\n            ),\n            join_leave: PreferenceStore.get(\n                Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                'join_leave',\n                'true'\n            )\n        };\n\n        const webrtcEnabled = global.mm_config.EnableWebrtc === 'true';\n\n        if (!webrtcEnabled) {\n            preReleaseFeaturesKeys = preReleaseFeaturesKeys.filter((f) => f !== 'WEBRTC_PREVIEW');\n        }\n\n        let enabledFeatures = 0;\n        for (const [name, value] of advancedSettings) {\n            for (const key of preReleaseFeaturesKeys) {\n                const feature = PreReleaseFeatures[key];\n\n                if (name === Constants.FeatureTogglePrefix + feature.label) {\n                    settings[name] = value;\n\n                    if (value === 'true') {\n                        enabledFeatures += 1;\n                    }\n                }\n            }\n        }\n\n        const isSaving = false;\n\n        const previewFeaturesEnabled = global.window.mm_config.EnablePreviewFeatures === 'true';\n\n        return {\n            preReleaseFeatures: PreReleaseFeatures,\n            settings,\n            preReleaseFeaturesKeys,\n            enabledFeatures,\n            isSaving,\n            previewFeaturesEnabled\n        };\n    }\n\n    updateSetting(setting, value) {\n        const settings = this.state.settings;\n        settings[setting] = value;\n        this.setState(settings);\n    }\n\n    toggleFeature(feature, checked) {\n        const settings = this.state.settings;\n        settings[Constants.FeatureTogglePrefix + feature] = String(checked);\n\n        let enabledFeatures = 0;\n        Object.keys(this.state.settings).forEach((setting) => {\n            if (setting.lastIndexOf(Constants.FeatureTogglePrefix) === 0 && this.state.settings[setting] === 'true') {\n                enabledFeatures++;\n            }\n        });\n\n        this.setState({settings, enabledFeatures});\n    }\n\n    saveEnabledFeatures() {\n        const features = [];\n        Object.keys(this.state.settings).forEach((setting) => {\n            if (setting.lastIndexOf(Constants.FeatureTogglePrefix) === 0) {\n                features.push(setting);\n            }\n        });\n\n        this.handleSubmit(features);\n    }\n\n    handleSubmit(settings) {\n        const preferences = [];\n        const userId = UserStore.getCurrentId();\n\n        // this should be refactored so we can actually be certain about what type everything is\n        (Array.isArray(settings) ? settings : [settings]).forEach((setting) => {\n            preferences.push({\n                user_id: userId,\n                category: Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                name: setting,\n                value: this.state.settings[setting]\n            });\n        });\n\n        this.setState({isSaving: true});\n\n        savePreferences(\n            preferences,\n            () => {\n                this.updateSection('');\n            }\n        );\n    }\n\n    updateSection(section) {\n        if (!section) {\n            this.setState(this.getStateFromStores());\n        }\n        this.setState({isSaving: false});\n        this.props.updateSection(section);\n    }\n\n    renderOnOffLabel(enabled) {\n        if (enabled === 'false') {\n            return (\n                <FormattedMessage\n                    id='user.settings.advance.off'\n                    defaultMessage='Off'\n                />\n            );\n        }\n\n        return (\n            <FormattedMessage\n                id='user.settings.advance.on'\n                defaultMessage='On'\n            />\n        );\n    }\n\n    renderFormattingSection() {\n        if (this.props.activeSection === 'formatting') {\n            return (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.formattingTitle'\n                            defaultMessage='Enable Post Formatting'\n                        />\n                    }\n                    inputs={[\n                        <div key='formattingSetting'>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='postFormattingOn'\n                                        type='radio'\n                                        name='formatting'\n                                        checked={this.state.settings.formatting !== 'false'}\n                                        onChange={this.updateSetting.bind(this, 'formatting', 'true')}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.advance.on'\n                                        defaultMessage='On'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='postFormattingOff'\n                                        type='radio'\n                                        name='formatting'\n                                        checked={this.state.settings.formatting === 'false'}\n                                        onChange={this.updateSetting.bind(this, 'formatting', 'false')}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.advance.off'\n                                        defaultMessage='Off'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div>\n                                <br/>\n                                <FormattedMessage\n                                    id='user.settings.advance.formattingDesc'\n                                    defaultMessage='If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled. Changing this setting requires the page to be refreshed.'\n                                />\n                            </div>\n                        </div>\n                    ]}\n                    submit={() => this.handleSubmit('formatting')}\n                    saving={this.state.isSaving}\n                    server_error={this.state.serverError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        }\n\n        return (\n            <SettingItemMin\n                title={\n                    <FormattedMessage\n                        id='user.settings.advance.formattingTitle'\n                        defaultMessage='Enable Post Formatting'\n                    />\n                }\n                describe={this.renderOnOffLabel(this.state.settings.formatting)}\n                updateSection={() => this.props.updateSection('formatting')}\n            />\n        );\n    }\n\n    renderJoinLeaveSection() {\n        if (window.mm_config.BuildEnterpriseReady === 'true' && window.mm_license && window.mm_license.IsLicensed === 'true') {\n            if (this.props.activeSection === 'join_leave') {\n                return (\n                    <SettingItemMax\n                        title={\n                            <FormattedMessage\n                                id='user.settings.advance.joinLeaveTitle'\n                                defaultMessage='Enable Join/Leave Messages'\n                            />\n                        }\n                        inputs={[\n                            <div key='joinLeaveSetting'>\n                                <div className='radio'>\n                                    <label>\n                                        <input\n                                            id='joinLeaveOn'\n                                            type='radio'\n                                            name='join_leave'\n                                            checked={this.state.settings.join_leave !== 'false'}\n                                            onChange={this.updateSetting.bind(this, 'join_leave', 'true')}\n                                        />\n                                        <FormattedMessage\n                                            id='user.settings.advance.on'\n                                            defaultMessage='On'\n                                        />\n                                    </label>\n                                    <br/>\n                                </div>\n                                <div className='radio'>\n                                    <label>\n                                        <input\n                                            id='joinLeaveOff'\n                                            type='radio'\n                                            name='join_leave'\n                                            checked={this.state.settings.join_leave === 'false'}\n                                            onChange={this.updateSetting.bind(this, 'join_leave', 'false')}\n                                        />\n                                        <FormattedMessage\n                                            id='user.settings.advance.off'\n                                            defaultMessage='Off'\n                                        />\n                                    </label>\n                                    <br/>\n                                </div>\n                                <div>\n                                    <br/>\n                                    <FormattedMessage\n                                        id='user.settings.advance.joinLeaveDesc'\n                                        defaultMessage='When \"On\", System Messages saying a user has joined or left a channel will be visible. When \"Off\", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.'\n                                    />\n                                </div>\n                            </div>\n                        ]}\n                        submit={() => this.handleSubmit('join_leave')}\n                        saving={this.state.isSaving}\n                        server_error={this.state.serverError}\n                        updateSection={(e) => {\n                            this.updateSection('');\n                            e.preventDefault();\n                        }}\n                    />\n                );\n            }\n\n            return (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.joinLeaveTitle'\n                            defaultMessage='Enable Join/Leave Messages'\n                        />\n                    }\n                    describe={this.renderOnOffLabel(this.state.settings.join_leave)}\n                    updateSection={() => this.props.updateSection('join_leave')}\n                />\n            );\n        }\n\n        return null;\n    }\n\n    renderFeatureLabel(feature) {\n        switch (feature) {\n        case 'MARKDOWN_PREVIEW':\n            return (\n                <FormattedMessage\n                    id='user.settings.advance.markdown_preview'\n                    defaultMessage='Show markdown preview option in message input box'\n                />\n            );\n        case 'WEBRTC_PREVIEW':\n            return (\n                <FormattedMessage\n                    id='user.settings.advance.webrtc_preview'\n                    defaultMessage='Enable the ability to make and receive one-on-one WebRTC calls'\n                />\n            );\n        default:\n            return null;\n        }\n    }\n\n    render() {\n        const serverError = this.state.serverError || null;\n        let ctrlSendSection;\n\n        if (this.props.activeSection === 'advancedCtrlSend') {\n            const ctrlSendActive = [\n                this.state.settings.send_on_ctrl_enter === 'true',\n                this.state.settings.send_on_ctrl_enter === 'false'\n            ];\n\n            const inputs = [\n                <div key='ctrlSendSetting'>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='ctrlSendOn'\n                                type='radio'\n                                name='sendOnCtrlEnter'\n                                checked={ctrlSendActive[0]}\n                                onChange={this.updateSetting.bind(this, 'send_on_ctrl_enter', 'true')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.advance.on'\n                                defaultMessage='On'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='ctrlSendOff'\n                                type='radio'\n                                name='sendOnCtrlEnter'\n                                checked={ctrlSendActive[1]}\n                                onChange={this.updateSetting.bind(this, 'send_on_ctrl_enter', 'false')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.advance.off'\n                                defaultMessage='Off'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div>\n                        <br/>\n                        <FormattedMessage\n                            id='user.settings.advance.sendDesc'\n                            defaultMessage='If enabled ENTER inserts a new line and CTRL+ENTER submits the message.'\n                        />\n                    </div>\n                </div>\n            ];\n            ctrlSendSection = (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.sendTitle'\n                            defaultMessage='Send messages on CTRL+ENTER'\n                        />\n                    }\n                    inputs={inputs}\n                    submit={() => this.handleSubmit('send_on_ctrl_enter')}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        } else {\n            ctrlSendSection = (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.sendTitle'\n                            defaultMessage='Send messages on CTRL+ENTER'\n                        />\n                    }\n                    describe={this.renderOnOffLabel(this.state.settings.send_on_ctrl_enter)}\n                    updateSection={() => this.props.updateSection('advancedCtrlSend')}\n                />\n            );\n        }\n\n        const formattingSection = this.renderFormattingSection();\n        let formattingSectionDivider = null;\n        if (formattingSection) {\n            formattingSectionDivider = <div className='divider-light'/>;\n        }\n\n        const displayJoinLeaveSection = this.renderJoinLeaveSection();\n        let displayJoinLeaveSectionDivider = null;\n        if (displayJoinLeaveSection) {\n            displayJoinLeaveSectionDivider = <div className='divider-light'/>;\n        }\n\n        let previewFeaturesSection;\n        let previewFeaturesSectionDivider;\n        if (this.state.previewFeaturesEnabled && this.state.preReleaseFeaturesKeys.length > 0) {\n            previewFeaturesSectionDivider = (\n                <div className='divider-light'/>\n            );\n\n            if (this.props.activeSection === 'advancedPreviewFeatures') {\n                const inputs = [];\n\n                this.state.preReleaseFeaturesKeys.forEach((key) => {\n                    const feature = this.state.preReleaseFeatures[key];\n                    inputs.push(\n                        <div key={'advancedPreviewFeatures_' + feature.label}>\n                            <div className='checkbox'>\n                                <label>\n                                    <input\n                                        id={'advancedPreviewFeatures' + feature.label}\n                                        type='checkbox'\n                                        checked={this.state.settings[Constants.FeatureTogglePrefix + feature.label] === 'true'}\n                                        onChange={(e) => {\n                                            this.toggleFeature(feature.label, e.target.checked);\n                                        }}\n                                    />\n                                    {this.renderFeatureLabel(key)}\n                                </label>\n                            </div>\n                        </div>\n                    );\n                });\n\n                inputs.push(\n                    <div key='advancedPreviewFeatures_helptext'>\n                        <br/>\n                        <FormattedMessage\n                            id='user.settings.advance.preReleaseDesc'\n                            defaultMessage=\"Check any pre-released features you'd like to preview.  You may also need to refresh the page before the setting will take effect.\"\n                        />\n                    </div>\n                );\n                previewFeaturesSection = (\n                    <SettingItemMax\n                        title={\n                            <FormattedMessage\n                                id='user.settings.advance.preReleaseTitle'\n                                defaultMessage='Preview pre-release features'\n                            />\n                        }\n                        inputs={inputs}\n                        submit={this.saveEnabledFeatures}\n                        saving={this.state.isSaving}\n                        server_error={serverError}\n                        updateSection={(e) => {\n                            this.updateSection('');\n                            e.preventDefault();\n                        }}\n                    />\n                );\n            } else {\n                previewFeaturesSection = (\n                    <SettingItemMin\n                        title={Utils.localizeMessage('user.settings.advance.preReleaseTitle', 'Preview pre-release features')}\n                        describe={\n                            <FormattedMessage\n                                id='user.settings.advance.enabledFeatures'\n                                defaultMessage='{count, number} {count, plural, one {Feature} other {Features}} Enabled'\n                                values={{count: this.state.enabledFeatures}}\n                            />\n                        }\n                        updateSection={() => this.props.updateSection('advancedPreviewFeatures')}\n                    />\n                );\n            }\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.advance.title'\n                            defaultMessage='Advanced Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.advance.title'\n                            defaultMessage='Advanced Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {ctrlSendSection}\n                    {formattingSectionDivider}\n                    {formattingSection}\n                    {displayJoinLeaveSectionDivider}\n                    {displayJoinLeaveSection}\n                    {previewFeaturesSectionDivider}\n                    {previewFeaturesSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nAdvancedSettingsDisplay.propTypes = {\n    user: PropTypes.object,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    activeSection: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_advanced.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {savePreferences} from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport * as I18n from 'i18n/i18n.jsx';\n\nimport SettingItemMax from '../setting_item_max.jsx';\nimport SettingItemMin from '../setting_item_min.jsx';\n\nimport ManageLanguages from './manage_languages.jsx';\nimport ThemeSetting from './user_settings_theme.jsx';\n\nconst Preferences = Constants.Preferences;\n\nfunction getDisplayStateFromStores() {\n    return {\n        militaryTime: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, 'use_military_time', 'false'),\n        channelDisplayMode: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.CHANNEL_DISPLAY_MODE, Preferences.CHANNEL_DISPLAY_MODE_DEFAULT),\n        messageDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT),\n        collapseDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, Preferences.COLLAPSE_DISPLAY_DEFAULT),\n        linkPreviewDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.LINK_PREVIEW_DISPLAY, Preferences.LINK_PREVIEW_DISPLAY_DEFAULT)\n    };\n}\n\nexport default class UserSettingsDisplay extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleClockRadio = this.handleClockRadio.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.updateState = this.updateState.bind(this);\n\n        this.state = {\n            ...getDisplayStateFromStores(),\n            isSaving: false\n        };\n    }\n\n    handleSubmit() {\n        const userId = UserStore.getCurrentId();\n\n        const timePreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: 'use_military_time',\n            value: this.state.militaryTime\n        };\n\n        const channelDisplayModePreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.CHANNEL_DISPLAY_MODE,\n            value: this.state.channelDisplayMode\n        };\n        const messageDisplayPreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.MESSAGE_DISPLAY,\n            value: this.state.messageDisplay\n        };\n        const collapseDisplayPreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.COLLAPSE_DISPLAY,\n            value: this.state.collapseDisplay\n        };\n        const linkPreviewDisplayPreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.LINK_PREVIEW_DISPLAY,\n            value: this.state.linkPreviewDisplay\n        };\n\n        this.setState({isSaving: true});\n\n        savePreferences([timePreference, channelDisplayModePreference, messageDisplayPreference, collapseDisplayPreference, linkPreviewDisplayPreference],\n            () => {\n                this.updateSection('');\n            }\n        );\n    }\n\n    handleClockRadio(militaryTime) {\n        this.setState({militaryTime});\n    }\n\n    handleChannelDisplayModeRadio(channelDisplayMode) {\n        this.setState({channelDisplayMode});\n    }\n\n    handlemessageDisplayRadio(messageDisplay) {\n        this.setState({messageDisplay});\n    }\n\n    handleCollapseRadio(collapseDisplay) {\n        this.setState({collapseDisplay});\n    }\n\n    handleLinkPreviewRadio(linkPreviewDisplay) {\n        this.setState({linkPreviewDisplay});\n    }\n\n    handleOnChange(display) {\n        this.setState({...display});\n    }\n\n    updateSection(section) {\n        this.updateState();\n        this.props.updateSection(section);\n    }\n\n    updateState() {\n        const newState = getDisplayStateFromStores();\n        if (!Utils.areObjectsEqual(newState, this.state)) {\n            this.setState(newState);\n        }\n\n        this.setState({isSaving: false});\n    }\n\n    createSection(props) {\n        const {\n            section,\n            display,\n            value,\n            title,\n            firstOption,\n            secondOption,\n            description\n        } = props;\n\n        const firstMessage = (\n            <FormattedMessage\n                id={firstOption.radionButtonText.id}\n                defaultMessage={firstOption.radionButtonText.message}\n            />\n        );\n\n        let moreColon;\n        let firstMessageMore;\n        if (firstOption.radionButtonText.moreId) {\n            moreColon = ': ';\n            firstMessageMore = (\n                <span className='font-weight--normal'>\n                    <FormattedMessage\n                        id={firstOption.radionButtonText.moreId}\n                        defaultMessage={firstOption.radionButtonText.moreMessage}\n                    />\n                </span>\n            );\n        }\n\n        let secondMessageMore;\n        if (secondOption.radionButtonText.moreId) {\n            secondMessageMore = (\n                <span className='font-weight--normal'>\n                    <FormattedMessage\n                        id={secondOption.radionButtonText.moreId}\n                        defaultMessage={secondOption.radionButtonText.moreMessage}\n                    />\n                </span>\n            );\n        }\n\n        const secondMessage = (\n            <FormattedMessage\n                id={secondOption.radionButtonText.id}\n                defaultMessage={secondOption.radionButtonText.message}\n            />\n        );\n\n        const messageTitle = (\n            <FormattedMessage\n                id={title.id}\n                defaultMessage={title.message}\n            />\n        );\n\n        const messageDesc = (\n            <FormattedMessage\n                id={description.id}\n                defaultMessage={description.message}\n            />\n        );\n\n        if (this.props.activeSection === section) {\n            const format = [false, false];\n            if (value === firstOption.value) {\n                format[0] = true;\n            } else {\n                format[1] = true;\n            }\n\n            const handleUpdateSection = (e) => {\n                this.updateSection('');\n                e.preventDefault();\n            };\n\n            const name = section + 'Format';\n            const key = section + 'UserDisplay';\n\n            const firstDisplay = {};\n            firstDisplay[display] = firstOption.value;\n\n            const secondDisplay = {};\n            secondDisplay[display] = secondOption.value;\n\n            const inputs = [\n                <div key={key}>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id={name + 'A'}\n                                type='radio'\n                                name={name}\n                                checked={format[0]}\n                                onChange={() => this.handleOnChange(firstDisplay)}\n                            />\n                            {firstMessage}\n                            {moreColon}\n                            {firstMessageMore}\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id={name + 'B'}\n                                type='radio'\n                                name={name}\n                                checked={format[1]}\n                                onChange={() => this.handleOnChange(secondDisplay)}\n                            />\n                            {secondMessage}\n                            {moreColon}\n                            {secondMessageMore}\n                        </label>\n                        <br/>\n                    </div>\n                    <div>\n                        <br/>\n                        {messageDesc}\n                    </div>\n                </div>\n            ];\n\n            return (\n                <div>\n                    <SettingItemMax\n                        title={messageTitle}\n                        inputs={inputs}\n                        submit={this.handleSubmit}\n                        saving={this.state.isSaving}\n                        server_error={this.state.serverError}\n                        updateSection={handleUpdateSection}\n                    />\n                    <div className='divider-dark'/>\n                </div>\n            );\n        }\n\n        let describe;\n        if (value === firstOption.value) {\n            describe = firstMessage;\n        } else {\n            describe = secondMessage;\n        }\n\n        const handleUpdateSection = () => {\n            this.props.updateSection(section);\n        };\n\n        return (\n            <div>\n                <SettingItemMin\n                    title={messageTitle}\n                    describe={describe}\n                    updateSection={handleUpdateSection}\n                />\n                <div className='divider-dark'/>\n            </div>\n        );\n    }\n\n    render() {\n        const collapseSection = this.createSection({\n            section: 'collapse',\n            display: 'collapseDisplay',\n            value: this.state.collapseDisplay,\n            defaultDisplay: 'false',\n            title: {\n                id: 'user.settings.display.collapseDisplay',\n                message: 'Default appearance of image link previews'\n            },\n            firstOption: {\n                value: 'false',\n                radionButtonText: {\n                    id: 'user.settings.display.collapseOn',\n                    message: 'On'\n                }\n            },\n            secondOption: {\n                value: 'true',\n                radionButtonText: {\n                    id: 'user.settings.display.collapseOff',\n                    message: 'Off'\n                }\n            },\n            description: {\n                id: 'user.settings.display.collapseDesc',\n                message: 'Set whether previews of image links show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.'\n            }\n        });\n\n        const isEnableLinkPreviews = global.window.mm_config.EnableLinkPreviews === 'true';\n        let linkPreviewSection = null;\n\n        if (isEnableLinkPreviews) {\n            linkPreviewSection = this.createSection({\n                section: 'linkpreview',\n                display: 'linkPreviewDisplay',\n                value: this.state.linkPreviewDisplay,\n                defaultDisplay: 'true',\n                title: {\n                    id: 'user.settings.display.linkPreviewDisplay',\n                    message: 'Website Link Previews'\n                },\n                firstOption: {\n                    value: 'true',\n                    radionButtonText: {\n                        id: 'user.settings.display.linkPreviewOn',\n                        message: 'On'\n                    }\n                },\n                secondOption: {\n                    value: 'false',\n                    radionButtonText: {\n                        id: 'user.settings.display.linkPreviewOff',\n                        message: 'Off'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.linkPreviewDesc',\n                    message: 'When available, the first web link in a message will show a preview of the website content below the message.'\n                }\n            });\n        }\n\n        const clockSection = this.createSection({\n            section: 'clock',\n            display: 'militaryTime',\n            value: this.state.militaryTime,\n            defaultDisplay: 'false',\n            title: {\n                id: 'user.settings.display.clockDisplay',\n                message: 'Clock Display'\n            },\n            firstOption: {\n                value: 'false',\n                radionButtonText: {\n                    id: 'user.settings.display.normalClock',\n                    message: '12-hour clock (example: 4:00 PM)'\n                }\n            },\n            secondOption: {\n                value: 'true',\n                radionButtonText: {\n                    id: 'user.settings.display.militaryClock',\n                    message: '24-hour clock (example: 16:00)'\n                }\n            },\n            description: {\n                id: 'user.settings.display.preferTime',\n                message: 'Select how you prefer time displayed.'\n            }\n        });\n\n        const messageDisplaySection = this.createSection({\n            section: Preferences.MESSAGE_DISPLAY,\n            display: 'messageDisplay',\n            value: this.state.messageDisplay,\n            defaultDisplay: Preferences.MESSAGE_DISPLAY_CLEAN,\n            title: {\n                id: 'user.settings.display.messageDisplayTitle',\n                message: 'Message Display'\n            },\n            firstOption: {\n                value: Preferences.MESSAGE_DISPLAY_CLEAN,\n                radionButtonText: {\n                    id: 'user.settings.display.messageDisplayClean',\n                    message: 'Standard',\n                    moreId: 'user.settings.display.messageDisplayCleanDes',\n                    moreMessage: 'Easy to scan and read.'\n                }\n            },\n            secondOption: {\n                value: Preferences.MESSAGE_DISPLAY_COMPACT,\n                radionButtonText: {\n                    id: 'user.settings.display.messageDisplayCompact',\n                    message: 'Compact',\n                    moreId: 'user.settings.display.messageDisplayCompactDes',\n                    moreMessage: 'Fit as many messages on the screen as we can.'\n                }\n            },\n            description: {\n                id: 'user.settings.display.messageDisplayDescription',\n                message: 'Select how messages in a channel should be displayed.'\n            }\n        });\n\n        const channelDisplayModeSection = this.createSection({\n            section: Preferences.CHANNEL_DISPLAY_MODE,\n            display: 'channelDisplayMode',\n            value: this.state.channelDisplayMode,\n            defaultDisplay: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n            title: {\n                id: 'user.settings.display.channelDisplayTitle',\n                message: 'Channel Display Mode'\n            },\n            firstOption: {\n                value: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n                radionButtonText: {\n                    id: 'user.settings.display.fullScreen',\n                    message: 'Full width'\n                }\n            },\n            secondOption: {\n                value: Preferences.CHANNEL_DISPLAY_MODE_CENTERED,\n                radionButtonText: {\n                    id: 'user.settings.display.fixedWidthCentered',\n                    message: 'Fixed width, centered'\n                }\n            },\n            description: {\n                id: 'user.settings.display.channeldisplaymode',\n                message: 'Select the width of the center channel.'\n            }\n        });\n\n        let languagesSection;\n        let userLocale = this.props.user.locale;\n        if (this.props.activeSection === 'languages') {\n            if (!I18n.isLanguageAvailable(userLocale)) {\n                userLocale = global.window.mm_config.DefaultClientLocale;\n            }\n            languagesSection = (\n                <div>\n                    <ManageLanguages\n                        user={this.props.user}\n                        locale={userLocale}\n                        updateSection={(e) => {\n                            this.updateSection('');\n                            e.preventDefault();\n                        }}\n                    />\n                    <div className='divider-dark'/>\n                </div>\n            );\n        } else {\n            let locale;\n            if (I18n.isLanguageAvailable(userLocale)) {\n                locale = I18n.getLanguageInfo(userLocale).name;\n            } else {\n                locale = I18n.getLanguageInfo(global.window.mm_config.DefaultClientLocale).name;\n            }\n\n            languagesSection = (\n                <div>\n                    <SettingItemMin\n                        title={\n                            <FormattedMessage\n                                id='user.settings.display.language'\n                                defaultMessage='Language'\n                            />\n                        }\n                        width='medium'\n                        describe={locale}\n                        updateSection={() => {\n                            this.updateSection('languages');\n                        }}\n                    />\n                    <div className='divider-dark'/>\n                </div>\n            );\n        }\n\n        if (Object.keys(I18n.getLanguages()).length === 1) {\n            languagesSection = null;\n        }\n\n        let themeSection;\n        if (global.mm_config.EnableThemeSelection !== 'false') {\n            themeSection = (\n                <div>\n                    <ThemeSetting\n                        selected={this.props.activeSection === 'theme'}\n                        updateSection={this.updateSection}\n                        setRequireConfirm={this.props.setRequireConfirm}\n                        setEnforceFocus={this.props.setEnforceFocus}\n                    />\n                    <div className='divider-dark'/>\n                </div>\n            );\n        }\n\n        return (\n            <div id='displaySettings'>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.display.title'\n                            defaultMessage='Display Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3\n                        id='displaySettingsTitle'\n                        className='tab-header'\n                    >\n                        <FormattedMessage\n                            id='user.settings.display.title'\n                            defaultMessage='Display Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {themeSection}\n                    {clockSection}\n                    {linkPreviewSection}\n                    {collapseSection}\n                    {messageDisplaySection}\n                    {channelDisplayModeSection}\n                    {languagesSection}\n                </div>\n            </div>\n        );\n    }\n}\n\nUserSettingsDisplay.propTypes = {\n    user: PropTypes.object,\n    updateSection: PropTypes.func,\n    activeSection: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired,\n    setRequireConfirm: PropTypes.func.isRequired,\n    setEnforceFocus: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_display.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedHTMLMessage, FormattedMessage} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {updateUser} from 'actions/user_actions.jsx';\n\nimport * as I18n from 'i18n/i18n.jsx';\n\nimport SettingItemMax from '../setting_item_max.jsx';\n\nexport default class ManageLanguage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.setLanguage = this.setLanguage.bind(this);\n        this.changeLanguage = this.changeLanguage.bind(this);\n        this.submitUser = this.submitUser.bind(this);\n        this.state = {\n            locale: props.locale,\n            isSaving: false\n        };\n    }\n\n    setLanguage(e) {\n        this.setState({locale: e.target.value});\n    }\n    changeLanguage(e) {\n        e.preventDefault();\n\n        this.submitUser({\n            ...this.props.user,\n            locale: this.state.locale\n        });\n    }\n    submitUser(user) {\n        this.setState({isSaving: true});\n\n        updateUser(\n            user,\n            () => {\n                GlobalActions.newLocalizationSelected(user.locale);\n            },\n            (err) => {\n                let serverError;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                this.setState({serverError, isSaving: false});\n            }\n        );\n    }\n    render() {\n        let serverError;\n        if (this.state.serverError) {\n            serverError = <label className='has-error'>{this.state.serverError}</label>;\n        }\n\n        const options = [];\n        const locales = I18n.getLanguages();\n\n        const languages = Object.keys(locales).map((l) => {\n            return {\n                value: locales[l].value,\n                name: locales[l].name,\n                order: locales[l].order\n            };\n        }).\n        sort((a, b) => a.order - b.order);\n\n        languages.forEach((lang) => {\n            options.push(\n                <option\n                    key={lang.value}\n                    value={lang.value}\n                >\n                    {lang.name}\n                </option>\n            );\n        });\n\n        const input = (\n            <div key='changeLanguage'>\n                <br/>\n                <label className='control-label'>\n                    <FormattedMessage\n                        id='user.settings.languages.change'\n                        defaultMessage='Change interface language'\n                    />\n                </label>\n                <div className='padding-top'>\n                    <select\n                        id='displayLanguage'\n                        ref='language'\n                        className='form-control'\n                        value={this.state.locale}\n                        onChange={this.setLanguage}\n                    >\n                        {options}\n                    </select>\n                    {serverError}\n                </div>\n                <div>\n                    <br/>\n                    <FormattedHTMLMessage\n                        id='user.settings.languages.promote'\n                        defaultMessage='Select which language Mattermost displays in the user interface.<br /><br />Would like to help with translations? Join the <a href=\"http://translate.mattermost.com/\" target=\"_blank\">Mattermost Translation Server</a> to contribute.'\n                    />\n                </div>\n            </div>\n        );\n\n        return (\n            <SettingItemMax\n                title={\n                    <FormattedMessage\n                        id='user.settings.display.language'\n                        defaultMessage='Language'\n                    />\n                }\n                width='medium'\n                submit={this.changeLanguage}\n                saving={this.state.isSaving}\n                inputs={[input]}\n                updateSection={this.props.updateSection}\n            />\n        );\n    }\n}\n\nManageLanguage.propTypes = {\n    user: PropTypes.object.isRequired,\n    locale: PropTypes.string.isRequired,\n    updateSection: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/manage_languages.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as UserActions from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport {ActionTypes, Constants, Preferences} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport AppDispatcher from '../../dispatcher/app_dispatcher.jsx';\nimport SettingItemMax from '../setting_item_max.jsx';\nimport SettingItemMin from '../setting_item_min.jsx';\n\nimport CustomThemeChooser from './custom_theme_chooser.jsx';\nimport PremadeThemeChooser from './premade_theme_chooser.jsx';\n\nexport default class ThemeSetting extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.submitTheme = this.submitTheme.bind(this);\n        this.updateTheme = this.updateTheme.bind(this);\n        this.resetFields = this.resetFields.bind(this);\n        this.handleImportModal = this.handleImportModal.bind(this);\n\n        this.state = {\n            ...this.getStateFromStores(),\n            isSaving: false\n        };\n\n        this.originalTheme = Object.assign({}, this.state.theme);\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onChange);\n\n        if (this.props.selected) {\n            $(ReactDOM.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.props.selected) {\n            $('.color-btn').removeClass('active-border');\n            $(ReactDOM.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props.selected && !nextProps.selected) {\n            this.resetFields();\n        }\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onChange);\n\n        if (this.props.selected) {\n            const state = this.getStateFromStores();\n            Utils.applyTheme(state.theme);\n        }\n    }\n\n    getStateFromStores() {\n        const theme = PreferenceStore.getTheme();\n        if (!theme.codeTheme) {\n            theme.codeTheme = Constants.DEFAULT_CODE_THEME;\n        }\n\n        let showAllTeamsCheckbox = false;\n        let applyToAllTeams = true;\n\n        if (global.window.mm_license.IsLicensed === 'true' && global.window.mm_license.LDAP === 'true') {\n            // show the \"apply to all teams\" checkbox if the user is on more than one team\n            showAllTeamsCheckbox = Object.keys(TeamStore.getAll()).length > 1;\n\n            // check the \"apply to all teams\" checkbox by default if the user has any team-specific themes\n            applyToAllTeams = PreferenceStore.getCategory(Preferences.CATEGORY_THEME).size <= 1;\n        }\n\n        return {\n            teamId: TeamStore.getCurrentId(),\n            theme,\n            type: theme.type || 'premade',\n            showAllTeamsCheckbox,\n            applyToAllTeams\n        };\n    }\n\n    onChange() {\n        const newState = this.getStateFromStores();\n\n        if (!Utils.areObjectsEqual(this.state, newState)) {\n            this.setState(newState);\n        }\n\n        this.props.setEnforceFocus(true);\n    }\n\n    scrollToTop() {\n        $('.ps-container.modal-body').scrollTop(0);\n    }\n\n    submitTheme(e) {\n        e.preventDefault();\n\n        const teamId = this.state.applyToAllTeams ? '' : this.state.teamId;\n\n        this.setState({isSaving: true});\n\n        UserActions.saveTheme(\n            teamId,\n            this.state.theme,\n            () => {\n                this.props.setRequireConfirm(false);\n                this.originalTheme = Object.assign({}, this.state.theme);\n                this.scrollToTop();\n                this.props.updateSection('');\n                this.setState({isSaving: false});\n            }\n        );\n    }\n\n    updateTheme(theme) {\n        let themeChanged = this.state.theme.length === theme.length;\n        if (!themeChanged) {\n            for (const field in theme) {\n                if (theme.hasOwnProperty(field)) {\n                    if (this.state.theme[field] !== theme[field]) {\n                        themeChanged = true;\n                        break;\n                    }\n                }\n            }\n        }\n\n        this.props.setRequireConfirm(themeChanged);\n\n        this.setState({theme});\n        Utils.applyTheme(theme);\n    }\n\n    updateType(type) {\n        this.setState({type});\n    }\n\n    resetFields() {\n        const state = this.getStateFromStores();\n        state.serverError = null;\n        this.setState(state);\n        this.scrollToTop();\n\n        Utils.applyTheme(state.theme);\n\n        this.props.setRequireConfirm(false);\n    }\n\n    handleImportModal() {\n        AppDispatcher.handleViewAction({\n            type: ActionTypes.TOGGLE_IMPORT_THEME_MODAL,\n            value: true,\n            callback: this.updateTheme\n        });\n\n        this.props.setEnforceFocus(false);\n    }\n\n    render() {\n        var serverError;\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        const displayCustom = this.state.type === 'custom';\n        const allowCustomThemes = global.mm_config.AllowCustomThemes !== 'false';\n\n        let custom;\n        let premade;\n        if (displayCustom && allowCustomThemes) {\n            custom = (\n                <div key='customThemeChooser'>\n                    <CustomThemeChooser\n                        theme={this.state.theme}\n                        updateTheme={this.updateTheme}\n                    />\n                </div>\n            );\n        } else {\n            premade = (\n                <div key='premadeThemeChooser'>\n                    <br/>\n                    <PremadeThemeChooser\n                        theme={this.state.theme}\n                        updateTheme={this.updateTheme}\n                    />\n                </div>\n            );\n        }\n\n        let themeUI;\n        if (this.props.selected) {\n            const inputs = [];\n\n            if (allowCustomThemes) {\n                inputs.push(\n                    <div\n                        className='radio'\n                        key='premadeThemeColorLabel'\n                    >\n                        <label>\n                            <input\n                                id='standardThemes'\n                                type='radio'\n                                name='theme'\n                                checked={!displayCustom}\n                                onChange={this.updateType.bind(this, 'premade')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.display.theme.themeColors'\n                                defaultMessage='Theme Colors'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                );\n            }\n\n            inputs.push(premade);\n\n            if (allowCustomThemes) {\n                inputs.push(\n                    <div\n                        className='radio'\n                        key='customThemeColorLabel'\n                    >\n                        <label>\n                            <input\n                                id='customThemes'\n                                type='radio'\n                                name='theme'\n                                checked={displayCustom}\n                                onChange={this.updateType.bind(this, 'custom')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.display.theme.customTheme'\n                                defaultMessage='Custom Theme'\n                            />\n                        </label>\n                    </div>\n                );\n\n                inputs.push(custom);\n\n                inputs.push(\n                    <div key='otherThemes'>\n                        <br/>\n                        <a\n                            id='otherThemes'\n                            href='http://docs.mattermost.com/help/settings/theme-colors.html#custom-theme-examples'\n                            target='_blank'\n                            rel='noopener noreferrer'\n                        >\n                            <FormattedMessage\n                                id='user.settings.display.theme.otherThemes'\n                                defaultMessage='See other themes'\n                            />\n                        </a>\n                    </div>\n                );\n\n                inputs.push(\n                    <div\n                        key='importSlackThemeButton'\n                        className='padding-top'\n                    >\n                        <a\n                            id='slackImportTheme'\n                            className='theme'\n                            onClick={this.handleImportModal}\n                        >\n                            <FormattedMessage\n                                id='user.settings.display.theme.import'\n                                defaultMessage='Import theme colors from Slack'\n                            />\n                        </a>\n                    </div>\n                );\n            }\n\n            let allTeamsCheckbox = null;\n            if (this.state.showAllTeamsCheckbox) {\n                allTeamsCheckbox = (\n                    <div className='checkbox user-settings__submit-checkbox'>\n                        <label>\n                            <input\n                                id='applyThemeToAllTeams'\n                                type='checkbox'\n                                checked={this.state.applyToAllTeams}\n                                onChange={(e) => this.setState({applyToAllTeams: e.target.checked})}\n                            />\n                            <FormattedMessage\n                                id='user.settings.display.theme.applyToAllTeams'\n                                defaultMessage='Apply new theme to all my teams'\n                            />\n                        </label>\n                    </div>\n                );\n            }\n\n            themeUI = (\n                <SettingItemMax\n                    inputs={inputs}\n                    submitExtra={allTeamsCheckbox}\n                    submit={this.submitTheme}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    width='full'\n                    updateSection={(e) => {\n                        this.props.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        } else {\n            themeUI = (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.display.theme.title'\n                            defaultMessage='Theme'\n                        />\n                    }\n                    describe={\n                        <FormattedMessage\n                            id='user.settings.display.theme.describe'\n                            defaultMessage='Open to manage your theme'\n                        />\n                    }\n                    updateSection={() => {\n                        this.props.updateSection('theme');\n                    }}\n                />\n            );\n        }\n\n        return themeUI;\n    }\n}\n\nThemeSetting.propTypes = {\n    selected: PropTypes.bool.isRequired,\n    updateSection: PropTypes.func.isRequired,\n    setRequireConfirm: PropTypes.func.isRequired,\n    setEnforceFocus: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_theme.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Popover} from 'react-bootstrap';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport 'bootstrap-colorpicker';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\n\nimport ColorChooser from './color_chooser.jsx';\n\nconst messages = defineMessages({\n    sidebarBg: {\n        id: 'user.settings.custom_theme.sidebarBg',\n        defaultMessage: 'Sidebar BG'\n    },\n    sidebarText: {\n        id: 'user.settings.custom_theme.sidebarText',\n        defaultMessage: 'Sidebar Text'\n    },\n    sidebarHeaderBg: {\n        id: 'user.settings.custom_theme.sidebarHeaderBg',\n        defaultMessage: 'Sidebar Header BG'\n    },\n    sidebarHeaderTextColor: {\n        id: 'user.settings.custom_theme.sidebarHeaderTextColor',\n        defaultMessage: 'Sidebar Header Text'\n    },\n    sidebarUnreadText: {\n        id: 'user.settings.custom_theme.sidebarUnreadText',\n        defaultMessage: 'Sidebar Unread Text'\n    },\n    sidebarTextHoverBg: {\n        id: 'user.settings.custom_theme.sidebarTextHoverBg',\n        defaultMessage: 'Sidebar Text Hover BG'\n    },\n    sidebarTextActiveBorder: {\n        id: 'user.settings.custom_theme.sidebarTextActiveBorder',\n        defaultMessage: 'Sidebar Text Active Border'\n    },\n    sidebarTextActiveColor: {\n        id: 'user.settings.custom_theme.sidebarTextActiveColor',\n        defaultMessage: 'Sidebar Text Active Color'\n    },\n    onlineIndicator: {\n        id: 'user.settings.custom_theme.onlineIndicator',\n        defaultMessage: 'Online Indicator'\n    },\n    awayIndicator: {\n        id: 'user.settings.custom_theme.awayIndicator',\n        defaultMessage: 'Away Indicator'\n    },\n    dndIndicator: {\n        id: 'user.settings.custom_theme.dndIndicator',\n        defaultMessage: 'Do Not Disturb Indicator'\n    },\n    mentionBg: {\n        id: 'user.settings.custom_theme.mentionBj',\n        defaultMessage: 'Mention Jewel BG'\n    },\n    mentionColor: {\n        id: 'user.settings.custom_theme.mentionColor',\n        defaultMessage: 'Mention Jewel Text'\n    },\n    centerChannelBg: {\n        id: 'user.settings.custom_theme.centerChannelBg',\n        defaultMessage: 'Center Channel BG'\n    },\n    centerChannelColor: {\n        id: 'user.settings.custom_theme.centerChannelColor',\n        defaultMessage: 'Center Channel Text'\n    },\n    newMessageSeparator: {\n        id: 'user.settings.custom_theme.newMessageSeparator',\n        defaultMessage: 'New Message Separator'\n    },\n    linkColor: {\n        id: 'user.settings.custom_theme.linkColor',\n        defaultMessage: 'Link Color'\n    },\n    buttonBg: {\n        id: 'user.settings.custom_theme.buttonBg',\n        defaultMessage: 'Button BG'\n    },\n    buttonColor: {\n        id: 'user.settings.custom_theme.buttonColor',\n        defaultMessage: 'Button Text'\n    },\n    errorTextColor: {\n        id: 'user.settings.custom_theme.errorTextColor',\n        defaultMessage: 'Error Text Color'\n    },\n    mentionHighlightBg: {\n        id: 'user.settings.custom_theme.mentionHighlightBg',\n        defaultMessage: 'Mention Highlight BG'\n    },\n    mentionHighlightLink: {\n        id: 'user.settings.custom_theme.mentionHighlightLink',\n        defaultMessage: 'Mention Highlight Link'\n    },\n    codeTheme: {\n        id: 'user.settings.custom_theme.codeTheme',\n        defaultMessage: 'Code Theme'\n    }\n});\n\nclass CustomThemeChooser extends React.Component {\n    constructor(props) {\n        super(props);\n        this.selectTheme = this.selectTheme.bind(this);\n\n        const copyTheme = Object.assign({}, this.props.theme);\n        delete copyTheme.type;\n        delete copyTheme.image;\n\n        this.state = {\n            copyTheme: JSON.stringify(copyTheme)\n        };\n    }\n\n    componentDidMount() {\n        $('.group--code').on('change', this.onCodeThemeChange);\n    }\n\n    componentWillUnmount() {\n        $('.group--code').off('change', this.onCodeThemeChange);\n    }\n\n    handleColorChange = (settingId, color) => {\n        const {updateTheme, theme} = this.props;\n        if (theme[settingId] !== color) {\n            const newTheme = {\n                ...theme,\n                type: 'custom',\n                [settingId]: color\n            };\n\n            // For backwards compatability\n            if (settingId === 'mentionBg') {\n                newTheme.mentionBj = color;\n            }\n\n            updateTheme(newTheme);\n        }\n    }\n\n    pasteBoxChange = (e) => {\n        let text = '';\n\n        if (window.clipboardData && window.clipboardData.getData) { // IE\n            text = window.clipboardData.getData('Text');\n        } else {\n            text = e.clipboardData.getData('Text');//e.clipboardData.getData('text/plain');\n        }\n\n        if (text.length === 0) {\n            return;\n        }\n\n        let theme;\n        try {\n            theme = JSON.parse(text);\n        } catch (err) {\n            return;\n        }\n\n        this.setState({\n            copyTheme: JSON.stringify(theme)\n        });\n\n        theme.type = 'custom';\n        this.props.updateTheme(theme);\n    }\n\n    onChangeHandle = (e) => {\n        e.stopPropagation();\n    }\n\n    selectTheme() {\n        const textarea = this.refs.textarea;\n        textarea.focus();\n        textarea.setSelectionRange(0, this.state.copyTheme.length);\n    }\n\n    toggleSidebarStyles = (e) => {\n        e.preventDefault();\n\n        $(this.refs.sidebarStylesHeader).toggleClass('open');\n        this.toggleSection(this.refs.sidebarStyles);\n    }\n\n    toggleCenterChannelStyles = (e) => {\n        e.preventDefault();\n\n        $(this.refs.centerChannelStylesHeader).toggleClass('open');\n        this.toggleSection(this.refs.centerChannelStyles);\n    }\n\n    toggleLinkAndButtonStyles = (e) => {\n        e.preventDefault();\n\n        $(this.refs.linkAndButtonStylesHeader).toggleClass('open');\n        this.toggleSection(this.refs.linkAndButtonStyles);\n    }\n\n    toggleSection(node) {\n        if (UserAgent.isIos()) {\n            // iOS doesn't support jQuery animations\n            $(node).toggleClass('open');\n        } else {\n            $(node).slideToggle();\n        }\n    }\n\n    onCodeThemeChange = (e) => {\n        const theme = this.props.theme;\n        theme.codeTheme = e.target.value;\n        this.props.updateTheme(theme);\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        const theme = this.props.theme;\n\n        const sidebarElements = [];\n        const centerChannelElements = [];\n        const linkAndButtonElements = [];\n        Constants.THEME_ELEMENTS.forEach((element, index) => {\n            if (element.id === 'codeTheme') {\n                const codeThemeOptions = [];\n                let codeThemeURL = '';\n\n                element.themes.forEach((codeTheme, codeThemeIndex) => {\n                    if (codeTheme.id === theme[element.id]) {\n                        codeThemeURL = codeTheme.iconURL;\n                    }\n                    codeThemeOptions.push(\n                        <option\n                            key={'code-theme-key' + codeThemeIndex}\n                            value={codeTheme.id}\n                        >\n                            {codeTheme.uiName}\n                        </option>\n                    );\n                });\n\n                var popoverContent = (\n                    <Popover\n                        bsStyle='info'\n                        id='code-popover'\n                        className='code-popover'\n                    >\n                        <img\n                            width='200'\n                            src={codeThemeURL}\n                        />\n                    </Popover>\n                );\n\n                centerChannelElements.push(\n                    <div\n                        className='col-sm-6 form-group'\n                        key={'custom-theme-key' + index}\n                    >\n                        <label className='custom-label'>{formatMessage(messages[element.id])}</label>\n                        <div\n                            className='input-group theme-group group--code dropdown'\n                            id={element.id}\n                        >\n                            <select\n                                className='form-control'\n                                type='text'\n                                defaultValue={theme[element.id]}\n                            >\n                                {codeThemeOptions}\n                            </select>\n                            <OverlayTrigger\n                                trigger={['hover', 'focus']}\n                                placement='top'\n                                overlay={popoverContent}\n                                ref='headerOverlay'\n                            >\n                                <span className='input-group-addon'>\n                                    <img\n                                        src={codeThemeURL}\n                                    />\n                                </span>\n                            </OverlayTrigger>\n                        </div>\n                    </div>\n                );\n            } else if (element.group === 'centerChannelElements') {\n                centerChannelElements.push(\n                    <div\n                        className='col-sm-6 form-group element'\n                        key={'custom-theme-key' + index}\n                    >\n                        <ColorChooser\n                            id={element.id}\n                            label={formatMessage(messages[element.id])}\n                            color={theme[element.id]}\n                            onChange={this.handleColorChange}\n                        />\n                    </div>\n                );\n            } else if (element.group === 'sidebarElements') {\n                // Need to support old typo mentionBj element for mentionBg\n                let color = theme[element.id];\n                if (!color && element.id === 'mentionBg') {\n                    color = theme.mentionBj;\n                }\n\n                sidebarElements.push(\n                    <div\n                        className='col-sm-6 form-group element'\n                        key={'custom-theme-key' + index}\n                    >\n                        <ColorChooser\n                            id={element.id}\n                            label={formatMessage(messages[element.id])}\n                            color={color}\n                            onChange={this.handleColorChange}\n                        />\n                    </div>\n                );\n            } else {\n                linkAndButtonElements.push(\n                    <div\n                        className='col-sm-6 form-group element'\n                        key={'custom-theme-key' + index}\n                    >\n                        <ColorChooser\n                            id={element.id}\n                            label={formatMessage(messages[element.id])}\n                            color={theme[element.id]}\n                            onChange={this.handleColorChange}\n                        />\n                    </div>\n                );\n            }\n        });\n\n        const pasteBox = (\n            <div className='col-sm-12'>\n                <label className='custom-label'>\n                    <FormattedMessage\n                        id='user.settings.custom_theme.copyPaste'\n                        defaultMessage='Copy and paste to share theme colors:'\n                    />\n                </label>\n                <textarea\n                    ref='textarea'\n                    className='form-control'\n                    value={this.state.copyTheme}\n                    onPaste={this.pasteBoxChange}\n                    onChange={this.onChangeHandle}\n                    onClick={this.selectTheme}\n                />\n            </div>\n        );\n\n        return (\n            <div className='appearance-section padding-top'>\n                <div className='theme-elements row'>\n                    <div\n                        ref='sidebarStylesHeader'\n                        className='theme-elements__header'\n                        onClick={this.toggleSidebarStyles}\n                    >\n                        <FormattedMessage\n                            id='user.settings.custom_theme.sidebarTitle'\n                            defaultMessage='Sidebar Styles'\n                        />\n                        <div className='header__icon'>\n                            <i className='fa fa-plus'/>\n                            <i className='fa fa-minus'/>\n                        </div>\n                    </div>\n                    <div\n                        ref='sidebarStyles'\n                        className='theme-elements__body'\n                    >\n                        {sidebarElements}\n                    </div>\n                </div>\n                <div className='theme-elements row'>\n                    <div\n                        ref='centerChannelStylesHeader'\n                        className='theme-elements__header'\n                        onClick={this.toggleCenterChannelStyles}\n                    >\n                        <FormattedMessage\n                            id='user.settings.custom_theme.centerChannelTitle'\n                            defaultMessage='Center Channel Styles'\n                        />\n                        <div className='header__icon'>\n                            <i className='fa fa-plus'/>\n                            <i className='fa fa-minus'/>\n                        </div>\n                    </div>\n                    <div\n                        ref='centerChannelStyles'\n                        className='theme-elements__body'\n                    >\n                        {centerChannelElements}\n                    </div>\n                </div>\n                <div className='theme-elements row form-group'>\n                    <div\n                        ref='linkAndButtonStylesHeader'\n                        className='theme-elements__header'\n                        onClick={this.toggleLinkAndButtonStyles}\n                    >\n                        <FormattedMessage\n                            id='user.settings.custom_theme.linkButtonTitle'\n                            defaultMessage='Link and Button Styles'\n                        />\n                        <div className='header__icon'>\n                            <i className='fa fa-plus'/>\n                            <i className='fa fa-minus'/>\n                        </div>\n                    </div>\n                    <div\n                        ref='linkAndButtonStyles'\n                        className='theme-elements__body'\n                    >\n                        {linkAndButtonElements}\n                    </div>\n                </div>\n                <div className='row'>\n                    {pasteBox}\n                </div>\n            </div>\n        );\n    }\n}\n\nCustomThemeChooser.propTypes = {\n    intl: intlShape.isRequired,\n    theme: PropTypes.object.isRequired,\n    updateTheme: PropTypes.func.isRequired\n};\n\nexport default injectIntl(CustomThemeChooser);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/custom_theme_chooser.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*!\n * Bootstrap Colorpicker v2.5.2\n * https://itsjavi.com/bootstrap-colorpicker/\n *\n * Originally written by (c) 2012 Stefan Petre\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0.txt\n *\n */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function(jq) {\n      return (factory(jq));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else if (jQuery && !jQuery.fn.colorpicker) {\n    factory(jQuery);\n  }\n}(this, function($) {\n  'use strict';\n  /**\n   * Color manipulation helper class\n   *\n   * @param {Object|String} [val]\n   * @param {Object} [predefinedColors]\n   * @param {String|null} [fallbackColor]\n   * @param {String|null} [fallbackFormat]\n   * @param {Boolean} [hexNumberSignPrefix]\n   * @constructor\n   */\n  var Color = function(\n    val, predefinedColors, fallbackColor, fallbackFormat, hexNumberSignPrefix) {\n    this.fallbackValue = fallbackColor ?\n      (\n        fallbackColor && (typeof fallbackColor.h !== 'undefined') ?\n        fallbackColor :\n        this.value = {\n          h: 0,\n          s: 0,\n          b: 0,\n          a: 1\n        }\n      ) :\n      null;\n\n    this.fallbackFormat = fallbackFormat ? fallbackFormat : 'rgba';\n\n    this.hexNumberSignPrefix = hexNumberSignPrefix === true;\n\n    this.value = this.fallbackValue;\n\n    this.origFormat = null; // original string format\n\n    this.predefinedColors = predefinedColors ? predefinedColors : {};\n\n    // We don't want to share aliases across instances so we extend new object\n    this.colors = $.extend({}, Color.webColors, this.predefinedColors);\n\n    if (val) {\n      if (typeof val.h !== 'undefined') {\n        this.value = val;\n      } else {\n        this.setColor(String(val));\n      }\n    }\n\n    if (!this.value) {\n      // Initial value is always black if no arguments are passed or val is empty\n      this.value = {\n        h: 0,\n        s: 0,\n        b: 0,\n        a: 1\n      };\n    }\n  };\n\n  Color.webColors = { // 140 predefined colors from the HTML Colors spec\n    \"aliceblue\": \"f0f8ff\",\n    \"antiquewhite\": \"faebd7\",\n    \"aqua\": \"00ffff\",\n    \"aquamarine\": \"7fffd4\",\n    \"azure\": \"f0ffff\",\n    \"beige\": \"f5f5dc\",\n    \"bisque\": \"ffe4c4\",\n    \"black\": \"000000\",\n    \"blanchedalmond\": \"ffebcd\",\n    \"blue\": \"0000ff\",\n    \"blueviolet\": \"8a2be2\",\n    \"brown\": \"a52a2a\",\n    \"burlywood\": \"deb887\",\n    \"cadetblue\": \"5f9ea0\",\n    \"chartreuse\": \"7fff00\",\n    \"chocolate\": \"d2691e\",\n    \"coral\": \"ff7f50\",\n    \"cornflowerblue\": \"6495ed\",\n    \"cornsilk\": \"fff8dc\",\n    \"crimson\": \"dc143c\",\n    \"cyan\": \"00ffff\",\n    \"darkblue\": \"00008b\",\n    \"darkcyan\": \"008b8b\",\n    \"darkgoldenrod\": \"b8860b\",\n    \"darkgray\": \"a9a9a9\",\n    \"darkgreen\": \"006400\",\n    \"darkkhaki\": \"bdb76b\",\n    \"darkmagenta\": \"8b008b\",\n    \"darkolivegreen\": \"556b2f\",\n    \"darkorange\": \"ff8c00\",\n    \"darkorchid\": \"9932cc\",\n    \"darkred\": \"8b0000\",\n    \"darksalmon\": \"e9967a\",\n    \"darkseagreen\": \"8fbc8f\",\n    \"darkslateblue\": \"483d8b\",\n    \"darkslategray\": \"2f4f4f\",\n    \"darkturquoise\": \"00ced1\",\n    \"darkviolet\": \"9400d3\",\n    \"deeppink\": \"ff1493\",\n    \"deepskyblue\": \"00bfff\",\n    \"dimgray\": \"696969\",\n    \"dodgerblue\": \"1e90ff\",\n    \"firebrick\": \"b22222\",\n    \"floralwhite\": \"fffaf0\",\n    \"forestgreen\": \"228b22\",\n    \"fuchsia\": \"ff00ff\",\n    \"gainsboro\": \"dcdcdc\",\n    \"ghostwhite\": \"f8f8ff\",\n    \"gold\": \"ffd700\",\n    \"goldenrod\": \"daa520\",\n    \"gray\": \"808080\",\n    \"green\": \"008000\",\n    \"greenyellow\": \"adff2f\",\n    \"honeydew\": \"f0fff0\",\n    \"hotpink\": \"ff69b4\",\n    \"indianred\": \"cd5c5c\",\n    \"indigo\": \"4b0082\",\n    \"ivory\": \"fffff0\",\n    \"khaki\": \"f0e68c\",\n    \"lavender\": \"e6e6fa\",\n    \"lavenderblush\": \"fff0f5\",\n    \"lawngreen\": \"7cfc00\",\n    \"lemonchiffon\": \"fffacd\",\n    \"lightblue\": \"add8e6\",\n    \"lightcoral\": \"f08080\",\n    \"lightcyan\": \"e0ffff\",\n    \"lightgoldenrodyellow\": \"fafad2\",\n    \"lightgrey\": \"d3d3d3\",\n    \"lightgreen\": \"90ee90\",\n    \"lightpink\": \"ffb6c1\",\n    \"lightsalmon\": \"ffa07a\",\n    \"lightseagreen\": \"20b2aa\",\n    \"lightskyblue\": \"87cefa\",\n    \"lightslategray\": \"778899\",\n    \"lightsteelblue\": \"b0c4de\",\n    \"lightyellow\": \"ffffe0\",\n    \"lime\": \"00ff00\",\n    \"limegreen\": \"32cd32\",\n    \"linen\": \"faf0e6\",\n    \"magenta\": \"ff00ff\",\n    \"maroon\": \"800000\",\n    \"mediumaquamarine\": \"66cdaa\",\n    \"mediumblue\": \"0000cd\",\n    \"mediumorchid\": \"ba55d3\",\n    \"mediumpurple\": \"9370d8\",\n    \"mediumseagreen\": \"3cb371\",\n    \"mediumslateblue\": \"7b68ee\",\n    \"mediumspringgreen\": \"00fa9a\",\n    \"mediumturquoise\": \"48d1cc\",\n    \"mediumvioletred\": \"c71585\",\n    \"midnightblue\": \"191970\",\n    \"mintcream\": \"f5fffa\",\n    \"mistyrose\": \"ffe4e1\",\n    \"moccasin\": \"ffe4b5\",\n    \"navajowhite\": \"ffdead\",\n    \"navy\": \"000080\",\n    \"oldlace\": \"fdf5e6\",\n    \"olive\": \"808000\",\n    \"olivedrab\": \"6b8e23\",\n    \"orange\": \"ffa500\",\n    \"orangered\": \"ff4500\",\n    \"orchid\": \"da70d6\",\n    \"palegoldenrod\": \"eee8aa\",\n    \"palegreen\": \"98fb98\",\n    \"paleturquoise\": \"afeeee\",\n    \"palevioletred\": \"d87093\",\n    \"papayawhip\": \"ffefd5\",\n    \"peachpuff\": \"ffdab9\",\n    \"peru\": \"cd853f\",\n    \"pink\": \"ffc0cb\",\n    \"plum\": \"dda0dd\",\n    \"powderblue\": \"b0e0e6\",\n    \"purple\": \"800080\",\n    \"red\": \"ff0000\",\n    \"rosybrown\": \"bc8f8f\",\n    \"royalblue\": \"4169e1\",\n    \"saddlebrown\": \"8b4513\",\n    \"salmon\": \"fa8072\",\n    \"sandybrown\": \"f4a460\",\n    \"seagreen\": \"2e8b57\",\n    \"seashell\": \"fff5ee\",\n    \"sienna\": \"a0522d\",\n    \"silver\": \"c0c0c0\",\n    \"skyblue\": \"87ceeb\",\n    \"slateblue\": \"6a5acd\",\n    \"slategray\": \"708090\",\n    \"snow\": \"fffafa\",\n    \"springgreen\": \"00ff7f\",\n    \"steelblue\": \"4682b4\",\n    \"tan\": \"d2b48c\",\n    \"teal\": \"008080\",\n    \"thistle\": \"d8bfd8\",\n    \"tomato\": \"ff6347\",\n    \"turquoise\": \"40e0d0\",\n    \"violet\": \"ee82ee\",\n    \"wheat\": \"f5deb3\",\n    \"white\": \"ffffff\",\n    \"whitesmoke\": \"f5f5f5\",\n    \"yellow\": \"ffff00\",\n    \"yellowgreen\": \"9acd32\",\n    \"transparent\": \"transparent\"\n  };\n\n  Color.prototype = {\n    constructor: Color,\n    colors: {}, // merged web and predefined colors\n    predefinedColors: {},\n    /**\n     * @return {Object}\n     */\n    getValue: function() {\n      return this.value;\n    },\n    /**\n     * @param {Object} val\n     */\n    setValue: function(val) {\n      this.value = val;\n    },\n    _sanitizeNumber: function(val) {\n      if (typeof val === 'number') {\n        return val;\n      }\n      if (isNaN(val) || (val === null) || (val === '') || (val === undefined)) {\n        return 1;\n      }\n      if (val === '') {\n        return 0;\n      }\n      if (typeof val.toLowerCase !== 'undefined') {\n        if (val.match(/^\\./)) {\n          val = \"0\" + val;\n        }\n        return Math.ceil(parseFloat(val) * 100) / 100;\n      }\n      return 1;\n    },\n    isTransparent: function(strVal) {\n      if (!strVal || !(typeof strVal === 'string' || strVal instanceof String)) {\n        return false;\n      }\n      strVal = strVal.toLowerCase().trim();\n      return (strVal === 'transparent') || (strVal.match(/#?00000000/)) || (strVal.match(/(rgba|hsla)\\(0,0,0,0?\\.?0\\)/));\n    },\n    rgbaIsTransparent: function(rgba) {\n      return ((rgba.r === 0) && (rgba.g === 0) && (rgba.b === 0) && (rgba.a === 0));\n    },\n    // parse a string to HSB\n    /**\n     * @protected\n     * @param {String} strVal\n     * @returns {boolean} Returns true if it could be parsed, false otherwise\n     */\n    setColor: function(strVal) {\n      strVal = strVal.toLowerCase().trim();\n      if (strVal) {\n        if (this.isTransparent(strVal)) {\n          this.value = {\n            h: 0,\n            s: 0,\n            b: 0,\n            a: 0\n          };\n          return true;\n        } else {\n          var parsedColor = this.parse(strVal);\n          if (parsedColor) {\n            this.value = this.value = {\n              h: parsedColor.h,\n              s: parsedColor.s,\n              b: parsedColor.b,\n              a: parsedColor.a\n            };\n            if (!this.origFormat) {\n              this.origFormat = parsedColor.format;\n            }\n          } else if (this.fallbackValue) {\n            // if parser fails, defaults to fallbackValue if defined, otherwise the value won't be changed\n            this.value = this.fallbackValue;\n          }\n        }\n      }\n      return false;\n    },\n    setHue: function(h) {\n      this.value.h = 1 - h;\n    },\n    setSaturation: function(s) {\n      this.value.s = s;\n    },\n    setBrightness: function(b) {\n      this.value.b = 1 - b;\n    },\n    setAlpha: function(a) {\n      this.value.a = Math.round((parseInt((1 - a) * 100, 10) / 100) * 100) / 100;\n    },\n    toRGB: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      h *= 360;\n      var R, G, B, X, C;\n      h = (h % 360) / 60;\n      C = b * s;\n      X = C * (1 - Math.abs(h % 2 - 1));\n      R = G = B = b - C;\n\n      h = ~~h;\n      R += [C, X, 0, 0, X, C][h];\n      G += [X, C, C, X, 0, 0][h];\n      B += [0, 0, X, C, C, X][h];\n\n      return {\n        r: Math.round(R * 255),\n        g: Math.round(G * 255),\n        b: Math.round(B * 255),\n        a: a\n      };\n    },\n    toHex: function(ignoreFormat, h, s, b, a) {\n      if (arguments.length <= 1) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var prefix = '#';\n      var rgb = this.toRGB(h, s, b, a);\n\n      if (this.rgbaIsTransparent(rgb)) {\n        return 'transparent';\n      }\n\n      if (!ignoreFormat) {\n        prefix = (this.hexNumberSignPrefix ? '#' : '');\n      }\n\n      var hexStr = prefix + (\n          (1 << 24) +\n          (parseInt(rgb.r) << 16) +\n          (parseInt(rgb.g) << 8) +\n          parseInt(rgb.b))\n        .toString(16)\n        .slice(1);\n\n      return hexStr;\n    },\n    toHSL: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var H = h,\n        L = (2 - s) * b,\n        S = s * b;\n      if (L > 0 && L <= 1) {\n        S /= L;\n      } else {\n        S /= 2 - L;\n      }\n      L /= 2;\n      if (S > 1) {\n        S = 1;\n      }\n      return {\n        h: isNaN(H) ? 0 : H,\n        s: isNaN(S) ? 0 : S,\n        l: isNaN(L) ? 0 : L,\n        a: isNaN(a) ? 0 : a\n      };\n    },\n    toAlias: function(r, g, b, a) {\n      var c, rgb = (arguments.length === 0) ? this.toHex(true) : this.toHex(true, r, g, b, a);\n\n      // support predef. colors in non-hex format too, as defined in the alias itself\n      var original = this.origFormat === 'alias' ? rgb : this.toString(false, this.origFormat);\n\n      for (var alias in this.colors) {\n        c = this.colors[alias].toLowerCase().trim();\n        if ((c === rgb) || (c === original)) {\n          return alias;\n        }\n      }\n      return false;\n    },\n    RGBtoHSB: function(r, g, b, a) {\n      r /= 255;\n      g /= 255;\n      b /= 255;\n\n      var H, S, V, C;\n      V = Math.max(r, g, b);\n      C = V - Math.min(r, g, b);\n      H = (C === 0 ? null :\n        V === r ? (g - b) / C :\n        V === g ? (b - r) / C + 2 :\n        (r - g) / C + 4\n      );\n      H = ((H + 360) % 6) * 60 / 360;\n      S = C === 0 ? 0 : C / V;\n      return {\n        h: this._sanitizeNumber(H),\n        s: S,\n        b: V,\n        a: this._sanitizeNumber(a)\n      };\n    },\n    HueToRGB: function(p, q, h) {\n      if (h < 0) {\n        h += 1;\n      } else if (h > 1) {\n        h -= 1;\n      }\n      if ((h * 6) < 1) {\n        return p + (q - p) * h * 6;\n      } else if ((h * 2) < 1) {\n        return q;\n      } else if ((h * 3) < 2) {\n        return p + (q - p) * ((2 / 3) - h) * 6;\n      } else {\n        return p;\n      }\n    },\n    HSLtoRGB: function(h, s, l, a) {\n      if (s < 0) {\n        s = 0;\n      }\n      var q;\n      if (l <= 0.5) {\n        q = l * (1 + s);\n      } else {\n        q = l + s - (l * s);\n      }\n\n      var p = 2 * l - q;\n\n      var tr = h + (1 / 3);\n      var tg = h;\n      var tb = h - (1 / 3);\n\n      var r = Math.round(this.HueToRGB(p, q, tr) * 255);\n      var g = Math.round(this.HueToRGB(p, q, tg) * 255);\n      var b = Math.round(this.HueToRGB(p, q, tb) * 255);\n      return [r, g, b, this._sanitizeNumber(a)];\n    },\n    /**\n     * @param {String} strVal\n     * @returns {Object} Object containing h,s,b,a,format properties or FALSE if failed to parse\n     */\n    parse: function(strVal) {\n      if (arguments.length === 0) {\n        return false;\n      }\n\n      var that = this,\n        result = false,\n        isAlias = (typeof this.colors[strVal] !== 'undefined'),\n        values, format;\n\n      if (isAlias) {\n        strVal = this.colors[strVal].toLowerCase().trim();\n      }\n\n      $.each(this.stringParsers, function(i, parser) {\n        var match = parser.re.exec(strVal);\n        values = match && parser.parse.apply(that, [match]);\n        if (values) {\n          result = {};\n          format = (isAlias ? 'alias' : (parser.format ? parser.format : that.getValidFallbackFormat()));\n          if (format.match(/hsla?/)) {\n            result = that.RGBtoHSB.apply(that, that.HSLtoRGB.apply(that, values));\n          } else {\n            result = that.RGBtoHSB.apply(that, values);\n          }\n          if (result instanceof Object) {\n            result.format = format;\n          }\n          return false; // stop iterating\n        }\n        return true;\n      });\n      return result;\n    },\n    getValidFallbackFormat: function() {\n      var formats = [\n        'rgba', 'rgb', 'hex', 'hsla', 'hsl'\n      ];\n      if (this.origFormat && (formats.indexOf(this.origFormat) !== -1)) {\n        return this.origFormat;\n      }\n      if (this.fallbackFormat && (formats.indexOf(this.fallbackFormat) !== -1)) {\n        return this.fallbackFormat;\n      }\n\n      return 'rgba'; // By default, return a format that will not lose the alpha info\n    },\n    /**\n     *\n     * @param {string} [format] (default: rgba)\n     * @param {boolean} [translateAlias] Return real color for pre-defined (non-standard) aliases (default: false)\n     * @param {boolean} [forceRawValue] Forces hashtag prefix when getting hex color (default: false)\n     * @returns {String}\n     */\n    toString: function(forceRawValue, format, translateAlias) {\n      format = format || this.origFormat || this.fallbackFormat;\n      translateAlias = translateAlias || false;\n\n      var c = false;\n\n      switch (format) {\n        case 'rgb':\n          {\n            c = this.toRGB();\n            if (this.rgbaIsTransparent(c)) {\n              return 'transparent';\n            }\n            return 'rgb(' + c.r + ',' + c.g + ',' + c.b + ')';\n          }\n          break;\n        case 'rgba':\n          {\n            c = this.toRGB();\n            return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n          }\n          break;\n        case 'hsl':\n          {\n            c = this.toHSL();\n            return 'hsl(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%)';\n          }\n          break;\n        case 'hsla':\n          {\n            c = this.toHSL();\n            return 'hsla(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%,' + c.a + ')';\n          }\n          break;\n        case 'hex':\n          {\n            return this.toHex(forceRawValue);\n          }\n          break;\n        case 'alias':\n          {\n            c = this.toAlias();\n\n            if (c === false) {\n              return this.toString(forceRawValue, this.getValidFallbackFormat());\n            }\n\n            if (translateAlias && !(c in Color.webColors) && (c in this.predefinedColors)) {\n              return this.predefinedColors[c];\n            }\n\n            return c;\n          }\n        default:\n          {\n            return c;\n          }\n          break;\n      }\n    },\n    // a set of RE's that can match strings and generate color tuples.\n    // from John Resig color plugin\n    // https://github.com/jquery/jquery-color/\n    stringParsers: [{\n      re: /rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgb\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsl\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'hsl',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsla\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'hsla',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1], 16),\n          parseInt(execResult[2], 16),\n          parseInt(execResult[3], 16),\n          1\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1] + execResult[1], 16),\n          parseInt(execResult[2] + execResult[2], 16),\n          parseInt(execResult[3] + execResult[3], 16),\n          1\n        ];\n      }\n    }],\n    colorNameToHex: function(name) {\n      if (typeof this.colors[name.toLowerCase()] !== 'undefined') {\n        return this.colors[name.toLowerCase()];\n      }\n      return false;\n    }\n  };\n\n  /*\n   * Default plugin options\n   */\n  var defaults = {\n    horizontal: false, // horizontal mode layout ?\n    inline: false, //forces to show the colorpicker as an inline element\n    color: false, //forces a color\n    format: false, //forces a format\n    input: 'input', // children input selector\n    container: false, // container selector\n    component: '.add-on, .input-group-addon', // children component selector\n    fallbackColor: false, // fallback color value. null = keeps current color.\n    fallbackFormat: 'hex', // fallback color format\n    hexNumberSignPrefix: true, // put a '#' (number sign) before hex strings\n    sliders: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setHue'\n      },\n      alpha: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setAlpha'\n      }\n    },\n    slidersHorz: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setHue',\n        callTop: false\n      },\n      alpha: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setAlpha',\n        callTop: false\n      }\n    },\n    template: '<div class=\"colorpicker dropdown-menu\">' +\n      '<div class=\"colorpicker-saturation\"><i><b></b></i></div>' +\n      '<div class=\"colorpicker-hue\"><i></i></div>' +\n      '<div class=\"colorpicker-alpha\"><i></i></div>' +\n      '<div class=\"colorpicker-color\"><div /></div>' +\n      '<div class=\"colorpicker-selectors\"></div>' +\n      '</div>',\n    align: 'right',\n    customClass: null, // custom class added to the colorpicker element\n    colorSelectors: null // custom color aliases\n  };\n\n  /**\n   * Colorpicker component class\n   *\n   * @param {Object|String} element\n   * @param {Object} options\n   * @constructor\n   */\n  var Colorpicker = function(element, options) {\n    this.element = $(element).addClass('colorpicker-element');\n    this.options = $.extend(true, {}, defaults, this.element.data(), options);\n    this.component = this.options.component;\n    this.component = (this.component !== false) ? this.element.find(this.component) : false;\n    if (this.component && (this.component.length === 0)) {\n      this.component = false;\n    }\n    this.container = (this.options.container === true) ? this.element : this.options.container;\n    this.container = (this.container !== false) ? $(this.container) : false;\n\n    // Is the element an input? Should we search inside for any input?\n    this.input = this.element.is('input') ? this.element : (this.options.input ?\n      this.element.find(this.options.input) : false);\n    if (this.input && (this.input.length === 0)) {\n      this.input = false;\n    }\n    // Set HSB color\n    this.color = this.createColor(this.options.color !== false ? this.options.color : this.getValue());\n\n    this.format = this.options.format !== false ? this.options.format : this.color.origFormat;\n\n    if (this.options.color !== false) {\n      this.updateInput(this.color);\n      this.updateData(this.color);\n    }\n\n    this.disabled = false;\n\n    // Setup picker\n    var $picker = this.picker = $(this.options.template);\n    if (this.options.customClass) {\n      $picker.addClass(this.options.customClass);\n    }\n    if (this.options.inline) {\n      $picker.addClass('colorpicker-inline colorpicker-visible');\n    } else {\n      $picker.addClass('colorpicker-hidden');\n    }\n    if (this.options.horizontal) {\n      $picker.addClass('colorpicker-horizontal');\n    }\n    if (\n      (['rgba', 'hsla', 'alias'].indexOf(this.format) !== -1) ||\n      this.options.format === false ||\n      this.getValue() === 'transparent'\n    ) {\n      $picker.addClass('colorpicker-with-alpha');\n    }\n    if (this.options.align === 'right') {\n      $picker.addClass('colorpicker-right');\n    }\n    if (this.options.inline === true) {\n      $picker.addClass('colorpicker-no-arrow');\n    }\n    if (this.options.colorSelectors) {\n      var colorpicker = this,\n        selectorsContainer = colorpicker.picker.find('.colorpicker-selectors');\n\n      if (selectorsContainer.length > 0) {\n        $.each(this.options.colorSelectors, function(name, color) {\n          var $btn = $('<i />')\n            .addClass('colorpicker-selectors-color')\n            .css('background-color', color)\n            .data('class', name).data('alias', name);\n\n          $btn.on('mousedown.colorpicker touchstart.colorpicker', function(event) {\n            event.preventDefault();\n            colorpicker.setValue(\n              colorpicker.format === 'alias' ? $(this).data('alias') : $(this).css('background-color')\n            );\n          });\n          selectorsContainer.append($btn);\n        });\n        selectorsContainer.show().addClass('colorpicker-visible');\n      }\n    }\n\n    // Prevent closing the colorpicker when clicking on itself\n    $picker.on('mousedown.colorpicker touchstart.colorpicker', $.proxy(function(e) {\n      if (e.target === e.currentTarget) {\n        e.preventDefault();\n      }\n    }, this));\n\n    // Bind click/tap events on the sliders\n    $picker.find('.colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha')\n      .on('mousedown.colorpicker touchstart.colorpicker', $.proxy(this.mousedown, this));\n\n    $picker.appendTo(this.container ? this.container : $('body'));\n\n    // Bind other events\n    if (this.input !== false) {\n      this.input.on({\n        'keyup.colorpicker': $.proxy(this.keyup, this)\n      });\n      this.input.on({\n        'change.colorpicker': $.proxy(this.change, this)\n      });\n      if (this.component === false) {\n        this.element.on({\n          'focus.colorpicker': $.proxy(this.show, this)\n        });\n      }\n      if (this.options.inline === false) {\n        this.element.on({\n          'focusout.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n    }\n\n    if (this.component !== false) {\n      this.component.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    if ((this.input === false) && (this.component === false)) {\n      this.element.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    // for HTML5 input[type='color']\n    if ((this.input !== false) && (this.component !== false) && (this.input.attr('type') === 'color')) {\n\n      this.input.on({\n        'click.colorpicker': $.proxy(this.show, this),\n        'focus.colorpicker': $.proxy(this.show, this)\n      });\n    }\n    this.update();\n\n    $($.proxy(function() {\n      this.element.trigger('create');\n    }, this));\n  };\n\n  Colorpicker.Color = Color;\n\n  Colorpicker.prototype = {\n    constructor: Colorpicker,\n    destroy: function() {\n      this.picker.remove();\n      this.element.removeData('colorpicker', 'color').off('.colorpicker');\n      if (this.input !== false) {\n        this.input.off('.colorpicker');\n      }\n      if (this.component !== false) {\n        this.component.off('.colorpicker');\n      }\n      this.element.removeClass('colorpicker-element');\n      this.element.trigger({\n        type: 'destroy'\n      });\n    },\n    reposition: function() {\n      if (this.options.inline !== false || this.options.container) {\n        return false;\n      }\n      var type = this.container && this.container[0] !== window.document.body ? 'position' : 'offset';\n      var element = this.component || this.element;\n      var offset = element[type]();\n      if (this.options.align === 'right') {\n        offset.left -= this.picker.outerWidth() - element.outerWidth();\n      }\n      this.picker.css({\n        top: offset.top + element.outerHeight(),\n        left: offset.left\n      });\n    },\n    show: function(e) {\n      if (this.isDisabled()) {\n        // Don't show the widget if it's disabled (the input)\n        return;\n      }\n      this.picker.addClass('colorpicker-visible').removeClass('colorpicker-hidden');\n      this.reposition();\n      $(window).on('resize.colorpicker', $.proxy(this.reposition, this));\n      if (e && (!this.hasInput() || this.input.attr('type') === 'color')) {\n        if (e.stopPropagation && e.preventDefault) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      if ((this.component || !this.input) && (this.options.inline === false)) {\n        $(window.document).on({\n          'mousedown.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n      this.element.trigger({\n        type: 'showPicker',\n        color: this.color\n      });\n    },\n    hide: function(e) {\n      if ((typeof e !== 'undefined') && e.target) {\n        // Prevent hide if triggered by an event and an element inside the colorpicker has been clicked/touched\n        if (\n          $(e.currentTarget).parents('.colorpicker').length > 0 ||\n          $(e.target).parents('.colorpicker').length > 0\n        ) {\n          return false;\n        }\n      }\n      this.picker.addClass('colorpicker-hidden').removeClass('colorpicker-visible');\n      $(window).off('resize.colorpicker', this.reposition);\n      $(window.document).off({\n        'mousedown.colorpicker': this.hide\n      });\n      this.update();\n      this.element.trigger({\n        type: 'hidePicker',\n        color: this.color\n      });\n    },\n    updateData: function(val) {\n      val = val || this.color.toString(false, this.format);\n      this.element.data('color', val);\n      return val;\n    },\n    updateInput: function(val) {\n      val = val || this.color.toString(false, this.format);\n      if (this.input !== false) {\n        this.input.prop('value', val);\n        this.input.trigger('change');\n      }\n      return val;\n    },\n    updatePicker: function(val) {\n      if (typeof val !== 'undefined') {\n        this.color = this.createColor(val);\n      }\n      var sl = (this.options.horizontal === false) ? this.options.sliders : this.options.slidersHorz;\n      var icns = this.picker.find('i');\n      if (icns.length === 0) {\n        return;\n      }\n      if (this.options.horizontal === false) {\n        sl = this.options.sliders;\n        icns.eq(1).css('top', sl.hue.maxTop * (1 - this.color.value.h)).end()\n          .eq(2).css('top', sl.alpha.maxTop * (1 - this.color.value.a));\n      } else {\n        sl = this.options.slidersHorz;\n        icns.eq(1).css('left', sl.hue.maxLeft * (1 - this.color.value.h)).end()\n          .eq(2).css('left', sl.alpha.maxLeft * (1 - this.color.value.a));\n      }\n      icns.eq(0).css({\n        'top': sl.saturation.maxTop - this.color.value.b * sl.saturation.maxTop,\n        'left': this.color.value.s * sl.saturation.maxLeft\n      });\n\n      this.picker.find('.colorpicker-saturation')\n        .css('backgroundColor', this.color.toHex(true, this.color.value.h, 1, 1, 1));\n\n      this.picker.find('.colorpicker-alpha')\n        .css('backgroundColor', this.color.toHex(true));\n\n      this.picker.find('.colorpicker-color, .colorpicker-color div')\n        .css('backgroundColor', this.color.toString(true, this.format));\n\n      return val;\n    },\n    updateComponent: function(val) {\n      var color;\n\n      if (typeof val !== 'undefined') {\n        color = this.createColor(val);\n      } else {\n        color = this.color;\n      }\n\n      if (this.component !== false) {\n        var icn = this.component.find('i').eq(0);\n        if (icn.length > 0) {\n          icn.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        } else {\n          this.component.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        }\n      }\n\n      return color.toString(false, this.format);\n    },\n    update: function(force) {\n      var val;\n      if ((this.getValue(false) !== false) || (force === true)) {\n        // Update input/data only if the current value is not empty\n        val = this.updateComponent();\n        this.updateInput(val);\n        this.updateData(val);\n        this.updatePicker(); // only update picker if value is not empty\n      }\n      return val;\n\n    },\n    setValue: function(val) { // set color manually\n      this.color = this.createColor(val);\n      this.update(true);\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: val\n      });\n    },\n    /**\n     * Creates a new color using the instance options\n     * @protected\n     * @param {String} val\n     * @returns {Color}\n     */\n    createColor: function(val) {\n      return new Color(\n        val ? val : null,\n        this.options.colorSelectors,\n        this.options.fallbackColor ? this.options.fallbackColor : this.color,\n        this.options.fallbackFormat,\n        this.options.hexNumberSignPrefix\n      );\n    },\n    getValue: function(defaultValue) {\n      defaultValue = (typeof defaultValue === 'undefined') ? this.options.fallbackColor : defaultValue;\n      var val;\n      if (this.hasInput()) {\n        val = this.input.val();\n      } else {\n        val = this.element.data('color');\n      }\n      if ((val === undefined) || (val === '') || (val === null)) {\n        // if not defined or empty, return default\n        val = defaultValue;\n      }\n      return val;\n    },\n    hasInput: function() {\n      return (this.input !== false);\n    },\n    isDisabled: function() {\n      return this.disabled;\n    },\n    disable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', true);\n      }\n      this.disabled = true;\n      this.element.trigger({\n        type: 'disable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    enable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', false);\n      }\n      this.disabled = false;\n      this.element.trigger({\n        type: 'enable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    currentSlider: null,\n    mousePointer: {\n      left: 0,\n      top: 0\n    },\n    mousedown: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n\n      var target = $(e.target);\n\n      //detect the slider and set the limits and callbacks\n      var zone = target.closest('div');\n      var sl = this.options.horizontal ? this.options.slidersHorz : this.options.sliders;\n      if (!zone.is('.colorpicker')) {\n        if (zone.is('.colorpicker-saturation')) {\n          this.currentSlider = $.extend({}, sl.saturation);\n        } else if (zone.is('.colorpicker-hue')) {\n          this.currentSlider = $.extend({}, sl.hue);\n        } else if (zone.is('.colorpicker-alpha')) {\n          this.currentSlider = $.extend({}, sl.alpha);\n        } else {\n          return false;\n        }\n        var offset = zone.offset();\n        //reference to guide's style\n        this.currentSlider.guide = zone.find('i')[0].style;\n        this.currentSlider.left = e.pageX - offset.left;\n        this.currentSlider.top = e.pageY - offset.top;\n        this.mousePointer = {\n          left: e.pageX,\n          top: e.pageY\n        };\n        //trigger mousemove to move the guide to the current position\n        $(window.document).on({\n          'mousemove.colorpicker': $.proxy(this.mousemove, this),\n          'touchmove.colorpicker': $.proxy(this.mousemove, this),\n          'mouseup.colorpicker': $.proxy(this.mouseup, this),\n          'touchend.colorpicker': $.proxy(this.mouseup, this)\n        }).trigger('mousemove');\n      }\n      return false;\n    },\n    mousemove: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n      var left = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxLeft,\n          this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left)\n        )\n      );\n      var top = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxTop,\n          this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)\n        )\n      );\n      this.currentSlider.guide.left = left + 'px';\n      this.currentSlider.guide.top = top + 'px';\n      if (this.currentSlider.callLeft) {\n        this.color[this.currentSlider.callLeft].call(this.color, left / this.currentSlider.maxLeft);\n      }\n      if (this.currentSlider.callTop) {\n        this.color[this.currentSlider.callTop].call(this.color, top / this.currentSlider.maxTop);\n      }\n      // Change format dynamically\n      // Only occurs if user choose the dynamic format by\n      // setting option format to false\n      if (\n        this.options.format === false &&\n        (this.currentSlider.callTop === 'setAlpha' ||\n          this.currentSlider.callLeft === 'setAlpha')\n      ) {\n\n        // Converting from hex / rgb to rgba\n        if (this.color.value.a !== 1) {\n          this.format = 'rgba';\n          this.color.origFormat = 'rgba';\n        }\n\n        // Converting from rgba to hex\n        else {\n          this.format = 'hex';\n          this.color.origFormat = 'hex';\n        }\n      }\n      this.update(true);\n\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color\n      });\n      return false;\n    },\n    mouseup: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $(window.document).off({\n        'mousemove.colorpicker': this.mousemove,\n        'touchmove.colorpicker': this.mousemove,\n        'mouseup.colorpicker': this.mouseup,\n        'touchend.colorpicker': this.mouseup\n      });\n      return false;\n    },\n    change: function(e) {\n      this.keyup(e);\n    },\n    keyup: function(e) {\n      if ((e.keyCode === 38)) {\n        if (this.color.value.a < 1) {\n          this.color.value.a = Math.round((this.color.value.a + 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else if ((e.keyCode === 40)) {\n        if (this.color.value.a > 0) {\n          this.color.value.a = Math.round((this.color.value.a - 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else {\n        this.color = this.createColor(this.input.val());\n        // Change format dynamically\n        // Only occurs if user choose the dynamic format by\n        // setting option format to false\n        if (this.color.origFormat && this.options.format === false) {\n          this.format = this.color.origFormat;\n        }\n        if (this.getValue(false) !== false) {\n          this.updateData();\n          this.updateComponent();\n          this.updatePicker();\n        }\n      }\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: this.input.val()\n      });\n    }\n  };\n\n  $.colorpicker = Colorpicker;\n\n  $.fn.colorpicker = function(option) {\n    var apiArgs = Array.prototype.slice.call(arguments, 1),\n      isSingleElement = (this.length === 1),\n      returnValue = null;\n\n    var $jq = this.each(function() {\n      var $this = $(this),\n        inst = $this.data('colorpicker'),\n        options = ((typeof option === 'object') ? option : {});\n\n      if (!inst) {\n        inst = new Colorpicker(this, options);\n        $this.data('colorpicker', inst);\n      }\n\n      if (typeof option === 'string') {\n        if ($.isFunction(inst[option])) {\n          returnValue = inst[option].apply(inst, apiArgs);\n        } else { // its a property ?\n          if (apiArgs.length) {\n            // set property\n            inst[option] = apiArgs[0];\n          }\n          returnValue = inst[option];\n        }\n      } else {\n        returnValue = $this;\n      }\n    });\n    return isSingleElement ? returnValue : $jq;\n  };\n\n  $.fn.colorpicker.constructor = Colorpicker;\n\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js\n// module id = 2330\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ColorInput from 'components/color_input';\n\nclass ColorChooser extends React.Component {\n    static propTypes = {\n\n        /*\n         * The id of setting that we will change\n         */\n        id: PropTypes.string.isRequired,\n\n        /*\n         * The label of setting that we will choose\n         */\n        label: PropTypes.string.isRequired,\n\n        /*\n         * Selected color\n         */\n        color: PropTypes.string.isRequired,\n\n        /*\n         * Function called when color changed takes 2 arguments: Id of changing setting and new color\n         */\n        onChange: PropTypes.func\n    }\n\n    handleChange = (newColor) => {\n        const {id, onChange: handleChange} = this.props;\n        if (handleChange) {\n            handleChange(id, newColor);\n        }\n    }\n\n    render() {\n        const {label, color} = this.props;\n        return (\n            <div>\n                <label className='custom-label'>{label}</label>\n                <ColorInput\n                    color={color}\n                    onChange={this.handleChange}\n                />\n            </div>\n        );\n    }\n}\n\nexport default ColorChooser;\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/color_chooser.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport PropTypes from 'prop-types';\nimport {ChromePicker} from 'react-color';\n\nclass ColorInput extends React.Component {\n    static propTypes = {\n\n        /*\n         * Selected color\n         */\n        color: PropTypes.string.isRequired,\n\n        /*\n         * Function called when color changed. Takes hex format of color Ex: #ffeec0\n         */\n        onChange: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            idOpened: false\n        };\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const {isOpened: prevIsOpened} = prevState;\n        const {isOpened} = this.state;\n\n        if (isOpened !== prevIsOpened) {\n            if (isOpened) {\n                document.addEventListener('click', this.checkClick);\n            } else {\n                document.removeEventListener('click', this.checkClick);\n            }\n        }\n    }\n\n    checkClick = (e) => {\n        const colorPickerDOMNode = ReactDom.findDOMNode(this.colorPicker);\n        if (!colorPickerDOMNode.contains(e.target)) {\n            this.setState({isOpened: false});\n        }\n    };\n\n    togglePicker = () => {\n        this.setState({isOpened: !this.state.isOpened});\n    };\n\n    handleChange = (newColorData) => {\n        const {hex} = newColorData;\n        const {onChange: handleChange} = this.props;\n\n        if (handleChange) {\n            handleChange(hex);\n        }\n    };\n\n    render() {\n        const {color} = this.props;\n        const {isOpened} = this.state;\n\n        return (\n            <div className='color-input input-group'>\n                <input\n                    className='form-control'\n                    type='text'\n                    value={color}\n                    readOnly={true}\n                />\n                <span\n                    className='input-group-addon'\n                    onClick={this.togglePicker}\n                >\n                    <i\n                        className='color-icon'\n                        style={{\n                            backgroundColor: color\n                        }}\n                    />\n                </span>\n                {isOpened && (\n                    <div\n                        ref={(item) => {\n                            this.colorPicker = item;\n                        }}\n                        className='color-popover'\n                    >\n                        <ChromePicker\n                            color={color}\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default ColorInput;\n\n\n\n// WEBPACK FOOTER //\n// ./components/color_input.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class PremadeThemeChooser extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    render() {\n        const theme = this.props.theme;\n\n        const premadeThemes = [];\n        const allowedThemes = global.mm_config.AllowedThemes ? global.mm_config.AllowedThemes.split(',') : [];\n        const hasAllowedThemes = allowedThemes.length > 1 || (allowedThemes[0] && allowedThemes[0].trim().length > 0);\n\n        for (const k in Constants.THEMES) {\n            if (Constants.THEMES.hasOwnProperty(k)) {\n                if (hasAllowedThemes && allowedThemes.indexOf(k) < 0) {\n                    continue;\n                }\n\n                const premadeTheme = $.extend(true, {}, Constants.THEMES[k]);\n\n                let activeClass = '';\n                if (premadeTheme.type === theme.type) {\n                    activeClass = 'active';\n                }\n\n                premadeThemes.push(\n                    <div\n                        className='col-xs-6 col-sm-3 premade-themes'\n                        key={'premade-theme-key' + k}\n                    >\n                        <div\n                            className={activeClass}\n                            onClick={() => this.props.updateTheme(premadeTheme)}\n                        >\n                            <label>\n                                <img\n                                    className='img-responsive'\n                                    src={premadeTheme.image}\n                                />\n                                <div className='theme-label'>{Utils.toTitleCase(premadeTheme.type)}</div>\n                            </label>\n                        </div>\n                    </div>\n                );\n            }\n        }\n\n        return (\n            <div className='row appearance-section'>\n                <div className='clearfix'>\n                    {premadeThemes}\n                </div>\n            </div>\n        );\n    }\n}\n\nPremadeThemeChooser.propTypes = {\n    theme: PropTypes.object.isRequired,\n    updateTheme: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/premade_theme_chooser.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getMe} from 'mattermost-redux/actions/users';\n\nimport UserSettingsGeneralTab from './user_settings_general.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getMe\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserSettingsGeneralTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_general/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {defineMessages, FormattedDate, FormattedHTMLMessage, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {updateUser, uploadProfileImage} from 'actions/user_actions.jsx';\nimport ErrorStore from 'stores/error_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\nimport SettingPicture from 'components/setting_picture.jsx';\n\nconst holders = defineMessages({\n    usernameReserved: {\n        id: 'user.settings.general.usernameReserved',\n        defaultMessage: 'This username is reserved, please choose a new one.'\n    },\n    usernameRestrictions: {\n        id: 'user.settings.general.usernameRestrictions',\n        defaultMessage: \"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.\"\n    },\n    validEmail: {\n        id: 'user.settings.general.validEmail',\n        defaultMessage: 'Please enter a valid email address.'\n    },\n    emailMatch: {\n        id: 'user.settings.general.emailMatch',\n        defaultMessage: 'The new emails you entered do not match.'\n    },\n    checkEmail: {\n        id: 'user.settings.general.checkEmail',\n        defaultMessage: 'Check your email at {email} to verify the address.'\n    },\n    validImage: {\n        id: 'user.settings.general.validImage',\n        defaultMessage: 'Only JPG or PNG images may be used for profile pictures'\n    },\n    imageTooLarge: {\n        id: 'user.settings.general.imageTooLarge',\n        defaultMessage: 'Unable to upload profile image. File is too large.'\n    },\n    uploadImage: {\n        id: 'user.settings.general.uploadImage',\n        defaultMessage: \"Click 'Edit' to upload an image.\"\n    },\n    uploadImageMobile: {\n        id: 'user.settings.general.mobile.uploadImage',\n        defaultMessage: 'Click to upload an image.'\n    },\n    fullName: {\n        id: 'user.settings.general.fullName',\n        defaultMessage: 'Full Name'\n    },\n    nickname: {\n        id: 'user.settings.general.nickname',\n        defaultMessage: 'Nickname'\n    },\n    username: {\n        id: 'user.settings.general.username',\n        defaultMessage: 'Username'\n    },\n    profilePicture: {\n        id: 'user.settings.general.profilePicture',\n        defaultMessage: 'Profile Picture'\n    },\n    close: {\n        id: 'user.settings.general.close',\n        defaultMessage: 'Close'\n    },\n    position: {\n        id: 'user.settings.general.position',\n        defaultMessage: 'Position'\n    }\n});\n\nclass UserSettingsGeneralTab extends React.Component {\n    static propTypes = {\n        intl: intlShape.isRequired,\n        user: PropTypes.object.isRequired,\n        updateSection: PropTypes.func.isRequired,\n        updateTab: PropTypes.func.isRequired,\n        activeSection: PropTypes.string.isRequired,\n        closeModal: PropTypes.func.isRequired,\n        collapseModal: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            getMe: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n        this.submitActive = false;\n\n        this.submitUsername = this.submitUsername.bind(this);\n        this.submitNickname = this.submitNickname.bind(this);\n        this.submitName = this.submitName.bind(this);\n        this.submitEmail = this.submitEmail.bind(this);\n        this.submitUser = this.submitUser.bind(this);\n        this.submitPicture = this.submitPicture.bind(this);\n        this.submitPosition = this.submitPosition.bind(this);\n\n        this.updateUsername = this.updateUsername.bind(this);\n        this.updateFirstName = this.updateFirstName.bind(this);\n        this.updateLastName = this.updateLastName.bind(this);\n        this.updateNickname = this.updateNickname.bind(this);\n        this.updateEmail = this.updateEmail.bind(this);\n        this.updateConfirmEmail = this.updateConfirmEmail.bind(this);\n        this.updatePicture = this.updatePicture.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.updatePosition = this.updatePosition.bind(this);\n\n        this.state = this.setupInitialState(props);\n    }\n\n    submitUsername(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const username = this.state.username.trim().toLowerCase();\n\n        const {formatMessage} = this.props.intl;\n        const usernameError = Utils.isValidUsername(username);\n        if (usernameError === 'Cannot use a reserved word as a username.') {\n            this.setState({clientError: formatMessage(holders.usernameReserved), serverError: ''});\n            return;\n        } else if (usernameError) {\n            this.setState({clientError: formatMessage(holders.usernameRestrictions, {min: Constants.MIN_USERNAME_LENGTH, max: Constants.MAX_USERNAME_LENGTH}), serverError: ''});\n            return;\n        }\n\n        if (user.username === username) {\n            this.updateSection('');\n            return;\n        }\n\n        user.username = username;\n\n        trackEvent('settings', 'user_settings_update', {field: 'username'});\n\n        this.submitUser(user, false);\n    }\n\n    submitNickname(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const nickname = this.state.nickname.trim();\n\n        if (user.nickname === nickname) {\n            this.updateSection('');\n            return;\n        }\n\n        user.nickname = nickname;\n\n        trackEvent('settings', 'user_settings_update', {field: 'username'});\n\n        this.submitUser(user, false);\n    }\n\n    submitName(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const firstName = this.state.firstName.trim();\n        const lastName = this.state.lastName.trim();\n\n        if (user.first_name === firstName && user.last_name === lastName) {\n            this.updateSection('');\n            return;\n        }\n\n        user.first_name = firstName;\n        user.last_name = lastName;\n\n        trackEvent('settings', 'user_settings_update', {field: 'fullname'});\n\n        this.submitUser(user, false);\n    }\n\n    submitEmail(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const email = this.state.email.trim().toLowerCase();\n        const confirmEmail = this.state.confirmEmail.trim().toLowerCase();\n\n        const {formatMessage} = this.props.intl;\n\n        if (email === user.email && (confirmEmail === '' || confirmEmail === user.email)) {\n            this.updateSection('');\n            return;\n        }\n\n        if (email === '' || !Utils.isEmail(email)) {\n            this.setState({emailError: formatMessage(holders.validEmail), clientError: '', serverError: ''});\n            return;\n        }\n\n        if (email !== confirmEmail) {\n            this.setState({emailError: formatMessage(holders.emailMatch), clientError: '', serverError: ''});\n            return;\n        }\n\n        user.email = email;\n        trackEvent('settings', 'user_settings_update', {field: 'email'});\n        this.submitUser(user, true);\n    }\n\n    submitUser(user, emailUpdated) {\n        this.setState({sectionIsSaving: true});\n\n        updateUser(\n            user,\n            () => {\n                this.updateSection('');\n                this.props.actions.getMe();\n                const verificationEnabled = global.window.mm_config.SendEmailNotifications === 'true' && global.window.mm_config.RequireEmailVerification === 'true' && emailUpdated;\n\n                if (verificationEnabled) {\n                    ErrorStore.storeLastError({message: this.props.intl.formatMessage(holders.checkEmail, {email: user.email})});\n                    ErrorStore.emitChange();\n                    this.setState({emailChangeInProgress: true});\n                }\n            },\n            (err) => {\n                let serverError;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                this.setState({serverError, emailError: '', clientError: '', sectionIsSaving: false});\n            }\n        );\n    }\n\n    submitPicture(e) {\n        e.preventDefault();\n\n        if (!this.state.pictureFile) {\n            return;\n        }\n\n        if (!this.submitActive) {\n            return;\n        }\n\n        trackEvent('settings', 'user_settings_update', {field: 'picture'});\n\n        const {formatMessage} = this.props.intl;\n        const file = this.state.pictureFile;\n\n        if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\n            this.setState({clientError: formatMessage(holders.validImage), serverError: ''});\n            return;\n        } else if (file.size > this.state.maxFileSize) {\n            this.setState({clientError: formatMessage(holders.imageTooLarge), serverError: ''});\n            return;\n        }\n\n        this.setState({loadingPicture: true});\n\n        uploadProfileImage(\n            file,\n            () => {\n                this.updateSection('');\n                this.submitActive = false;\n            },\n            (err) => {\n                var state = this.setupInitialState(this.props);\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    submitPosition(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const position = this.state.position.trim();\n\n        if (user.position === position) {\n            this.updateSection('');\n            return;\n        }\n\n        user.position = position;\n\n        trackEvent('settings', 'user_settings_update', {field: 'position'});\n\n        this.submitUser(user, false);\n    }\n\n    updateUsername(e) {\n        this.setState({username: e.target.value});\n    }\n\n    updateFirstName(e) {\n        this.setState({firstName: e.target.value});\n    }\n\n    updateLastName(e) {\n        this.setState({lastName: e.target.value});\n    }\n\n    updateNickname(e) {\n        this.setState({nickname: e.target.value});\n    }\n\n    updatePosition(e) {\n        this.setState({position: e.target.value});\n    }\n\n    updateEmail(e) {\n        this.setState({email: e.target.value});\n    }\n\n    updateConfirmEmail(e) {\n        this.setState({confirmEmail: e.target.value});\n    }\n\n    updatePicture(e) {\n        if (e.target.files && e.target.files[0]) {\n            this.setState({pictureFile: e.target.files[0]});\n\n            this.submitActive = true;\n            this.setState({clientError: null});\n        } else {\n            this.setState({pictureFile: null});\n        }\n    }\n\n    updateSection(section) {\n        const emailChangeInProgress = this.state.emailChangeInProgress;\n        this.setState(Object.assign({}, this.setupInitialState(this.props), {emailChangeInProgress, clientError: '', serverError: '', emailError: '', sectionIsSaving: false}));\n        this.submitActive = false;\n        this.props.updateSection(section);\n    }\n\n    setupInitialState(props) {\n        const user = props.user;\n\n        return {\n            username: user.username,\n            firstName: user.first_name,\n            lastName: user.last_name,\n            nickname: user.nickname,\n            position: user.position,\n            originalEmail: user.email,\n            email: '',\n            confirmEmail: '',\n            pictureFile: null,\n            loadingPicture: false,\n            emailChangeInProgress: false,\n            maxFileSize: global.window.mm_config.MaxFileSize,\n            sectionIsSaving: false\n        };\n    }\n\n    createEmailSection() {\n        let emailSection;\n\n        if (this.props.activeSection === 'email') {\n            const emailEnabled = global.window.mm_config.SendEmailNotifications === 'true';\n            const emailVerificationEnabled = global.window.mm_config.RequireEmailVerification === 'true';\n            const inputs = [];\n\n            let helpText = (\n                <FormattedMessage\n                    id='user.settings.general.emailHelp1'\n                    defaultMessage='Email is used for sign-in, notifications, and password reset. Email requires verification if changed.'\n                />\n            );\n\n            if (!emailEnabled) {\n                helpText = (\n                    <div className='setting-list__hint col-sm-12 text-danger'>\n                        <FormattedMessage\n                            id='user.settings.general.emailHelp2'\n                            defaultMessage='Email has been disabled by your System Administrator. No notification emails will be sent until it is enabled.'\n                        />\n                    </div>\n                );\n            } else if (!emailVerificationEnabled) {\n                helpText = (\n                    <FormattedMessage\n                        id='user.settings.general.emailHelp3'\n                        defaultMessage='Email is used for sign-in, notifications, and password reset.'\n                    />\n                );\n            } else if (this.state.emailChangeInProgress) {\n                const newEmail = UserStore.getCurrentUser().email;\n                if (newEmail) {\n                    helpText = (\n                        <FormattedMessage\n                            id='user.settings.general.emailHelp4'\n                            defaultMessage='A verification email was sent to {email}.'\n                            values={{\n                                email: newEmail\n                            }}\n                        />\n                    );\n                }\n            }\n\n            let submit = null;\n\n            if (this.props.user.auth_service === '') {\n                inputs.push(\n                    <div key='currentEmailSetting'>\n                        <div className='form-group'>\n                            <label className='col-sm-5 control-label'>\n                                <FormattedMessage\n                                    id='user.settings.general.currentEmail'\n                                    defaultMessage='Current Email'\n                                />\n                            </label>\n                            <div className='col-sm-7'>\n                                <label className='control-label'>{this.state.originalEmail}</label>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n                inputs.push(\n                    <div key='emailSetting'>\n                        <div className='form-group'>\n                            <label className='col-sm-5 control-label'>\n                                <FormattedMessage\n                                    id='user.settings.general.newEmail'\n                                    defaultMessage='New Email'\n                                />\n                            </label>\n                            <div className='col-sm-7'>\n                                <input\n                                    id='primaryEmail'\n                                    className='form-control'\n                                    type='email'\n                                    onChange={this.updateEmail}\n                                    value={this.state.email}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                );\n\n                inputs.push(\n                    <div key='confirmEmailSetting'>\n                        <div className='form-group'>\n                            <label className='col-sm-5 control-label'>\n                                <FormattedMessage\n                                    id='user.settings.general.confirmEmail'\n                                    defaultMessage='Confirm Email'\n                                />\n                            </label>\n                            <div className='col-sm-7'>\n                                <input\n                                    id='confirmEmail'\n                                    className='form-control'\n                                    type='email'\n                                    onChange={this.updateConfirmEmail}\n                                    value={this.state.confirmEmail}\n                                />\n                            </div>\n                        </div>\n                        {helpText}\n                    </div>\n                );\n\n                submit = this.submitEmail;\n            } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailGitlabCantUpdate'\n                                defaultMessage='Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailGoogleCantUpdate'\n                                defaultMessage='Login occurs through Google Apps. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailOffice365CantUpdate'\n                                defaultMessage='Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='padding-bottom'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailLdapCantUpdate'\n                                defaultMessage='Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='padding-bottom'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailSamlCantUpdate'\n                                defaultMessage='Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            }\n\n            emailSection = (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.general.email'\n                            defaultMessage='Email'\n                        />\n                    }\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={this.state.serverError}\n                    client_error={this.state.emailError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.props.user.auth_service === '') {\n                if (this.state.emailChangeInProgress) {\n                    const newEmail = UserStore.getCurrentUser().email;\n                    if (newEmail) {\n                        describe = (\n                            <FormattedHTMLMessage\n                                id='user.settings.general.newAddress'\n                                defaultMessage='New Address: {email}<br />Check your email to verify the above address.'\n                                values={{\n                                    email: newEmail\n                                }}\n                            />\n                        );\n                    } else {\n                        describe = (\n                            <FormattedMessage\n                                id='user.settings.general.checkEmailNoAddress'\n                                defaultMessage='Check your email to verify your new address'\n                            />\n                        );\n                    }\n                } else {\n                    describe = UserStore.getCurrentUser().email;\n                }\n            } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginGitlab'\n                        defaultMessage='Login done through GitLab ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginGoogle'\n                        defaultMessage='Login done through Google Apps ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginOffice365'\n                        defaultMessage='Login done through Office 365 ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginLdap'\n                        defaultMessage='Login done through AD/LDAP ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginSaml'\n                        defaultMessage='Login done through SAML ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            }\n\n            emailSection = (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.general.email'\n                            defaultMessage='Email'\n                        />\n                    }\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('email');\n                    }}\n                />\n            );\n        }\n\n        return emailSection;\n    }\n\n    render() {\n        const user = this.props.user;\n        const {formatMessage} = this.props.intl;\n\n        let clientError = null;\n        if (this.state.clientError) {\n            clientError = this.state.clientError;\n        }\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        let nameSection;\n        const inputs = [];\n\n        if (this.props.activeSection === 'name') {\n            let extraInfo;\n            let submit = null;\n            if (\n                (this.props.user.auth_service === 'ldap' &&\n                    (global.window.mm_config.LdapFristNameAttributeSet === 'true' || global.window.mm_config.LdapLastNameAttributeSet === 'true')) ||\n                (this.props.user.auth_service === Constants.SAML_SERVICE &&\n                    (global.window.mm_config.SamlFirstNameAttributeSet === 'true' || global.window.mm_config.SamlLastNameAttributeSet === 'true'))\n            ) {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                        />\n                    </span>\n                );\n            } else {\n                inputs.push(\n                    <div\n                        key='firstNameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.general.firstName'\n                                defaultMessage='First Name'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='firstName'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateFirstName}\n                                value={this.state.firstName}\n                            />\n                        </div>\n                    </div>\n                );\n\n                inputs.push(\n                    <div\n                        key='lastNameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.general.lastName'\n                                defaultMessage='Last Name'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='lastName'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateLastName}\n                                value={this.state.lastName}\n                            />\n                        </div>\n                    </div>\n                );\n\n                function notifClick(e) {\n                    e.preventDefault();\n                    this.updateSection('');\n                    this.props.updateTab('notifications');\n                }\n\n                const notifLink = (\n                    <a\n                        href='#'\n                        onClick={notifClick.bind(this)}\n                    >\n                        <FormattedMessage\n                            id='user.settings.general.notificationsLink'\n                            defaultMessage='Notifications'\n                        />\n                    </a>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.notificationsExtra'\n                            defaultMessage='By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.'\n                            values={{\n                                notify: (notifLink)\n                            }}\n                        />\n                    </span>\n                );\n\n                submit = this.submitName;\n            }\n\n            nameSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.fullName)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let describe = '';\n\n            if (user.first_name && user.last_name) {\n                describe = user.first_name + ' ' + user.last_name;\n            } else if (user.first_name) {\n                describe = user.first_name;\n            } else if (user.last_name) {\n                describe = user.last_name;\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.emptyName'\n                        defaultMessage=\"Click 'Edit' to add your full name\"\n                    />\n                );\n                if (Utils.isMobile()) {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.general.mobile.emptyName'\n                            defaultMessage='Click to add your full name'\n                        />\n                    );\n                }\n            }\n\n            nameSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.fullName)}\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('name');\n                    }}\n                />\n            );\n        }\n\n        let nicknameSection;\n        if (this.props.activeSection === 'nickname') {\n            let extraInfo;\n            let submit = null;\n            if ((this.props.user.auth_service === 'ldap' && global.window.mm_config.LdapNicknameAttributeSet === 'true') || (this.props.user.auth_service === Constants.SAML_SERVICE && global.window.mm_config.LdapNicknameAttributeSet === 'true')) {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        />\n                    </span>\n                );\n            } else {\n                let nicknameLabel = (\n                    <FormattedMessage\n                        id='user.settings.general.nickname'\n                        defaultMessage='Nickname'\n                    />\n                );\n                if (Utils.isMobile()) {\n                    nicknameLabel = '';\n                }\n\n                inputs.push(\n                    <div\n                        key='nicknameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>{nicknameLabel}</label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='nickname'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateNickname}\n                                value={this.state.nickname}\n                                maxLength={Constants.MAX_NICKNAME_LENGTH}\n                                autoCapitalize='off'\n                            />\n                        </div>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.nicknameExtra'\n                            defaultMessage='Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.'\n                        />\n                    </span>\n                );\n\n                submit = this.submitNickname;\n            }\n\n            nicknameSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.nickname)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let describe = '';\n            if (user.nickname) {\n                describe = user.nickname;\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.emptyNickname'\n                        defaultMessage=\"Click 'Edit' to add a nickname\"\n                    />\n                );\n                if (Utils.isMobile()) {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.general.mobile.emptyNickname'\n                            defaultMessage='Click to add a nickname'\n                        />\n                    );\n                }\n            }\n\n            nicknameSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.nickname)}\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('nickname');\n                    }}\n                />\n            );\n        }\n\n        let usernameSection;\n        if (this.props.activeSection === 'username') {\n            let extraInfo;\n            let submit = null;\n            if (this.props.user.auth_service === '') {\n                let usernameLabel = (\n                    <FormattedMessage\n                        id='user.settings.general.username'\n                        defaultMessage='Username'\n                    />\n                );\n                if (Utils.isMobile()) {\n                    usernameLabel = '';\n                }\n\n                inputs.push(\n                    <div\n                        key='usernameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>{usernameLabel}</label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='username'\n                                maxLength={Constants.MAX_USERNAME_LENGTH}\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateUsername}\n                                value={this.state.username}\n                                autoCapitalize='off'\n                            />\n                        </div>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.usernameInfo'\n                            defaultMessage='Pick something easy for teammates to recognize and recall.'\n                        />\n                    </span>\n                );\n\n                submit = this.submitUsername;\n            } else {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        />\n                    </span>\n                );\n            }\n\n            usernameSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.username)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            usernameSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.username)}\n                    describe={UserStore.getCurrentUser().username}\n                    updateSection={() => {\n                        this.updateSection('username');\n                    }}\n                />\n            );\n        }\n\n        let positionSection;\n        if (this.props.activeSection === 'position') {\n            let extraInfo;\n            let submit = null;\n            if ((this.props.user.auth_service === 'ldap' || this.props.user.auth_service === Constants.SAML_SERVICE) && global.window.mm_config.PositionAttributeSet === 'true') {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        />\n                    </span>\n                );\n            } else {\n                let positionLabel = (\n                    <FormattedMessage\n                        id='user.settings.general.position'\n                        defaultMessage='Position'\n                    />\n                );\n                if (Utils.isMobile()) {\n                    positionLabel = '';\n                }\n\n                inputs.push(\n                    <div\n                        key='positionSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>{positionLabel}</label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='position'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updatePosition}\n                                value={this.state.position}\n                                maxLength={Constants.MAX_POSITION_LENGTH}\n                                autoCapitalize='off'\n                            />\n                        </div>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.positionExtra'\n                            defaultMessage='Use Position for your role or job title. This will be shown in your profile popover.'\n                        />\n                    </span>\n                );\n\n                submit = this.submitPosition;\n            }\n\n            positionSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.position)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let describe = '';\n            if (user.position) {\n                describe = user.position;\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.emptyPosition'\n                        defaultMessage=\"Click 'Edit' to add your job title / position\"\n                    />\n                );\n                if (Utils.isMobile()) {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.general.mobile.emptyPosition'\n                            defaultMessage='Click to add your job title / position'\n                        />\n                    );\n                }\n            }\n\n            positionSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.position)}\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('position');\n                    }}\n                />\n            );\n        }\n\n        const emailSection = this.createEmailSection();\n\n        let pictureSection;\n        if (this.props.activeSection === 'picture') {\n            pictureSection = (\n                <SettingPicture\n                    title={formatMessage(holders.profilePicture)}\n                    submit={this.submitPicture}\n                    src={Utils.imageURLForUser(user)}\n                    serverError={serverError}\n                    clientError={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    file={this.state.pictureFile}\n                    onFileChange={this.updatePicture}\n                    submitActive={this.submitActive}\n                    loadingPicture={this.state.loadingPicture}\n                />\n            );\n        } else {\n            let minMessage = formatMessage(holders.uploadImage);\n            if (Utils.isMobile()) {\n                minMessage = formatMessage(holders.uploadImageMobile);\n            }\n            if (user.last_picture_update) {\n                minMessage = (\n                    <FormattedMessage\n                        id='user.settings.general.imageUpdated'\n                        defaultMessage='Image last updated {date}'\n                        values={{\n                            date: (\n                                <FormattedDate\n                                    value={new Date(user.last_picture_update)}\n                                    day='2-digit'\n                                    month='short'\n                                    year='numeric'\n                                />\n                            )\n                        }}\n                    />\n                );\n            }\n            pictureSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.profilePicture)}\n                    describe={minMessage}\n                    updateSection={() => {\n                        this.updateSection('picture');\n                    }}\n                />\n            );\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeUserSettings'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label={formatMessage(holders.close)}\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.general.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.general.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {nameSection}\n                    <div className='divider-light'/>\n                    {usernameSection}\n                    <div className='divider-light'/>\n                    {nicknameSection}\n                    <div className='divider-light'/>\n                    {positionSection}\n                    <div className='divider-light'/>\n                    {emailSection}\n                    <div className='divider-light'/>\n                    {pictureSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default injectIntl(UserSettingsGeneralTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_general/user_settings_general.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport exif2css from 'exif2css';\n\nimport Constants from 'utils/constants.jsx';\n\nimport loadingGif from 'images/load.gif';\n\nimport FormError from 'components/form_error.jsx';\n\nexport default class SettingPicture extends Component {\n    static propTypes = {\n        clientError: PropTypes.string,\n        serverError: PropTypes.string,\n        src: PropTypes.string,\n        file: PropTypes.object,\n        loadingPicture: PropTypes.bool,\n        submitActive: PropTypes.bool,\n        submit: PropTypes.func,\n        title: PropTypes.string,\n        onFileChange: PropTypes.func,\n        updateSection: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            image: null\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.file !== this.props.file) {\n            this.setState({image: null});\n\n            this.setPicture(nextProps.file);\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.previewBlob) {\n            URL.revokeObjectURL(this.previewBlob);\n        }\n    }\n\n    setPicture = (file) => {\n        if (file) {\n            this.previewBlob = URL.createObjectURL(file);\n\n            var reader = new FileReader();\n            reader.onload = (e) => {\n                const orientation = this.getExifOrientation(e.target.result);\n                const orientationStyles = this.getOrientationStyles(orientation);\n\n                this.setState({\n                    image: this.previewBlob,\n                    orientationStyles\n                });\n            };\n            reader.readAsArrayBuffer(file);\n        }\n    }\n\n    // based on https://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side/32490603#32490603\n    getExifOrientation(data) {\n        var view = new DataView(data);\n\n        if (view.getUint16(0, false) !== 0xFFD8) {\n            return -2;\n        }\n\n        var length = view.byteLength;\n        var offset = 2;\n\n        while (offset < length) {\n            var marker = view.getUint16(offset, false);\n            offset += 2;\n\n            if (marker === 0xFFE1) {\n                if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                    return -1;\n                }\n\n                var little = view.getUint16(offset += 6, false) === 0x4949;\n                offset += view.getUint32(offset + 4, little);\n                var tags = view.getUint16(offset, little);\n                offset += 2;\n\n                for (var i = 0; i < tags; i++) {\n                    if (view.getUint16(offset + (i * 12), little) === 0x0112) {\n                        return view.getUint16(offset + (i * 12) + 8, little);\n                    }\n                }\n            } else if ((marker & 0xFF00) === 0xFF00) {\n                offset += view.getUint16(offset, false);\n            } else {\n                break;\n            }\n        }\n        return -1;\n    }\n\n    getOrientationStyles(orientation) {\n        const {\n            transform,\n            'transform-origin': transformOrigin\n        } = exif2css(orientation);\n        return {transform, transformOrigin};\n    }\n\n    render() {\n        let img;\n        if (this.props.file) {\n            const imageStyles = {\n                backgroundImage: 'url(' + this.state.image + ')',\n                ...this.state.orientationStyles\n            };\n\n            img = (\n                <div\n                    className='profile-img-preview'\n                    style={imageStyles}\n                />\n            );\n        } else {\n            img = (\n                <img\n                    ref='image'\n                    className='profile-img rounded'\n                    src={this.props.src}\n                />\n            );\n        }\n\n        let confirmButton;\n        let selectButtonSpinner;\n        let fileInputDisabled = false;\n        if (this.props.loadingPicture) {\n            confirmButton = (\n                <img\n                    className='spinner'\n                    src={loadingGif}\n                />\n            );\n            selectButtonSpinner = (\n                <span className='icon fa fa-refresh icon--rotate'/>\n            );\n            fileInputDisabled = true;\n        } else {\n            let confirmButtonClass = 'btn btn-sm';\n            if (this.props.submitActive) {\n                confirmButtonClass += ' btn-primary';\n            } else {\n                confirmButtonClass += ' btn-inactive disabled';\n            }\n\n            confirmButton = (\n                <a\n                    className={confirmButtonClass}\n                    onClick={this.props.submit}\n                >\n                    <FormattedMessage\n                        id='setting_picture.save'\n                        defaultMessage='Save'\n                    />\n                </a>\n            );\n        }\n\n        return (\n            <ul className='section-max form-horizontal'>\n                <li className='col-xs-12 section-title'>{this.props.title}</li>\n                <li className='col-xs-offset-3 col-xs-8'>\n                    <ul className='setting-list'>\n                        <li className='setting-list-item'>\n                            {img}\n                        </li>\n                        <li className='setting-list-item padding-top x2'>\n                            <FormattedMessage\n                                id='setting_picture.help'\n                                defaultMessage='Upload a profile picture in BMP, JPG, JPEG or PNG format, at least {width}px in width and {height}px height.'\n                                values={{\n                                    width: Constants.PROFILE_WIDTH,\n                                    height: Constants.PROFILE_WIDTH\n                                }}\n                            />\n                        </li>\n                        <li className='setting-list-item'>\n                            <hr/>\n                            <FormError\n                                errors={[this.props.clientError, this.props.serverError]}\n                                type={'modal'}\n                            />\n                            <div\n                                className='btn btn-sm btn-primary btn-file sel-btn'\n                                disabled={fileInputDisabled}\n                            >\n                                {selectButtonSpinner}\n                                <FormattedMessage\n                                    id='setting_picture.select'\n                                    defaultMessage='Select'\n                                />\n                                <input\n                                    ref='input'\n                                    accept='.jpg,.png,.bmp'\n                                    type='file'\n                                    onChange={this.props.onFileChange}\n                                    disabled={fileInputDisabled}\n                                />\n                            </div>\n                            {confirmButton}\n                            <a\n                                className='btn btn-sm theme'\n                                href='#'\n                                onClick={this.props.updateSection}\n                            >\n                                <FormattedMessage\n                                    id='setting_picture.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </a>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/setting_picture.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar propMap = {\n    r: 'rotate',\n    ry: 'rotateY',\n    t: 'translateX',\n    ty: 'translateY',\n}\n\nvar transformsMap = {\n    '2': {\n        ry: 180,\n    },\n    '3': {\n        r: 180,\n    },\n    '4': {\n        r: 180,\n        ry: 180,\n    },\n    '5': {\n        r: 270,\n        ry: 180,\n    },\n    '6': {\n        ty: -1,\n        r: 90,\n    },\n    '7': {\n        ty: -1,\n        t: -1,\n        r: 90,\n        ry: 180,\n    },\n    '8': {\n        t: -1,\n        r: 270,\n    },\n}\n\nvar transformOriginMap = {\n    '5': 'top left',\n    '6': 'bottom left',\n    '7': 'bottom right',\n    '8': 'top right',\n}\n\nfunction expandTransforms(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = transforms[prop]\n    }\n    return expanded ? o : null\n}\n\nfunction getValue(prop, value) {\n    if (prop === 'r' || prop === 'ry') {\n        return value + 'deg'\n    }\n    if (prop === 't' || prop === 'ty') {\n        return value * 100 + '%'\n    }\n}\n\nfunction expandTransform(transforms) {\n    var a = []\n    for (var prop in transforms) {\n        var ep = propMap[prop]\n        a.push(ep + '(' + getValue(prop, transforms[prop]) + ')')\n    }\n    return a.length ? a.join(' ') : null\n}\n\n\nfunction expandTransformStrings(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = ep + '(' + getValue(prop, transforms[prop]) + ')'\n    }\n    return expanded ? o : null\n}\n\nfunction exif2css(orientation) {\n    var s = String(orientation)\n    var transforms = transformsMap[s]\n\n    var transform = expandTransform(transforms)\n    var transformOrigin = transformOriginMap[s]\n    var allTransforms = expandTransforms(transforms)\n    var allTransformStrings = expandTransformStrings(transforms)\n\n    var css = {}\n    if (transform) {\n        css.transform = transform\n    }\n    if (transformOrigin) {\n        css['transform-origin'] = transformOrigin\n    }\n    if (allTransforms) {\n        css.transforms = allTransforms\n    }\n    if (allTransformStrings) {\n        css.transformStrings = allTransformStrings\n    }\n    return css\n}\n\nmodule.exports = exif2css\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/exif2css/src/index.js\n// module id = 2337\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {updateUserNotifyProps} from 'actions/user_actions.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants, {NotificationLevels} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\n\nimport DesktopNotificationSettings from './desktop_notification_settings.jsx';\nimport EmailNotificationSetting from './email_notification_setting.jsx';\n\nfunction getNotificationsStateFromStores() {\n    const user = UserStore.getCurrentUser();\n\n    let desktop = NotificationLevels.DEFAULT;\n    let sound = 'true';\n    let desktopDuration = '5';\n    let comments = 'never';\n    let enableEmail = 'true';\n    let pushActivity = NotificationLevels.MENTION;\n    let pushStatus = Constants.UserStatuses.ONLINE;\n\n    if (user.notify_props) {\n        if (user.notify_props.desktop) {\n            desktop = user.notify_props.desktop;\n        }\n        if (user.notify_props.desktop_sound) {\n            sound = user.notify_props.desktop_sound;\n        }\n        if (user.notify_props.desktop_duration) {\n            desktopDuration = user.notify_props.desktop_duration;\n        }\n        if (user.notify_props.comments) {\n            comments = user.notify_props.comments;\n        }\n        if (user.notify_props.email) {\n            enableEmail = user.notify_props.email;\n        }\n        if (user.notify_props.push) {\n            pushActivity = user.notify_props.push;\n        }\n        if (user.notify_props.push_status) {\n            pushStatus = user.notify_props.push_status;\n        }\n    }\n\n    let usernameKey = false;\n    let customKeys = '';\n    let firstNameKey = false;\n    let channelKey = false;\n\n    if (user.notify_props) {\n        if (user.notify_props.mention_keys) {\n            const keys = user.notify_props.mention_keys.split(',');\n\n            if (keys.indexOf(user.username) === -1) {\n                usernameKey = false;\n            } else {\n                usernameKey = true;\n                keys.splice(keys.indexOf(user.username), 1);\n                if (keys.indexOf(`@${user.username}`) !== -1) {\n                    keys.splice(keys.indexOf(`@${user.username}`), 1);\n                }\n            }\n\n            customKeys = keys.join(',');\n        }\n\n        if (user.notify_props.first_name) {\n            firstNameKey = user.notify_props.first_name === 'true';\n        }\n\n        if (user.notify_props.channel) {\n            channelKey = user.notify_props.channel === 'true';\n        }\n    }\n\n    return {\n        desktopActivity: desktop,\n        desktopDuration,\n        enableEmail,\n        pushActivity,\n        pushStatus,\n        desktopSound: sound,\n        usernameKey,\n        customKeys,\n        customKeysChecked: customKeys.length > 0,\n        firstNameKey,\n        channelKey,\n        notifyCommentsLevel: comments,\n        isSaving: false\n    };\n}\n\nexport default class NotificationsTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleCancel = this.handleCancel.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.setStateValue = this.setStateValue.bind(this);\n        this.onListenerChange = this.onListenerChange.bind(this);\n        this.handleEmailRadio = this.handleEmailRadio.bind(this);\n        this.updateUsernameKey = this.updateUsernameKey.bind(this);\n        this.updateFirstNameKey = this.updateFirstNameKey.bind(this);\n        this.updateChannelKey = this.updateChannelKey.bind(this);\n        this.updateCustomMentionKeys = this.updateCustomMentionKeys.bind(this);\n        this.updateState = this.updateState.bind(this);\n        this.onCustomChange = this.onCustomChange.bind(this);\n        this.createPushNotificationSection = this.createPushNotificationSection.bind(this);\n\n        this.state = getNotificationsStateFromStores();\n    }\n\n    handleSubmit({enableEmail = this.state.enableEmail}) {\n        const data = {};\n        data.user_id = this.props.user.id;\n        data.email = enableEmail;\n        data.desktop_sound = this.state.desktopSound;\n        data.desktop = this.state.desktopActivity;\n        data.desktop_duration = this.state.desktopDuration;\n        data.push = this.state.pushActivity;\n        data.push_status = this.state.pushStatus;\n        data.comments = this.state.notifyCommentsLevel;\n\n        const mentionKeys = [];\n        if (this.state.usernameKey) {\n            mentionKeys.push(this.props.user.username);\n        }\n\n        let stringKeys = mentionKeys.join(',');\n        if (this.state.customKeys.length > 0 && this.state.customKeysChecked) {\n            stringKeys += ',' + this.state.customKeys;\n        }\n\n        data.mention_keys = stringKeys;\n        data.first_name = this.state.firstNameKey.toString();\n        data.channel = this.state.channelKey.toString();\n\n        this.setState({isSaving: true});\n\n        updateUserNotifyProps(\n            data,\n            () => {\n                this.props.updateSection('');\n            },\n            (err) => {\n                this.setState({serverError: err.message, isSaving: false});\n            }\n        );\n    }\n\n    handleCancel(e) {\n        e.preventDefault();\n        this.updateState();\n        this.props.updateSection('');\n    }\n\n    setStateValue(key, value) {\n        const data = {};\n        data[key] = value;\n        this.setState(data);\n    }\n\n    updateSection(section) {\n        this.updateState();\n        this.props.updateSection(section);\n    }\n\n    updateState() {\n        const newState = getNotificationsStateFromStores();\n        if (!Utils.areObjectsEqual(newState, this.state)) {\n            this.setState(newState);\n        }\n\n        this.setState({isSaving: false});\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onListenerChange);\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onListenerChange);\n    }\n\n    onListenerChange() {\n        this.updateState();\n    }\n\n    handleNotifyCommentsRadio(notifyCommentsLevel) {\n        this.setState({notifyCommentsLevel});\n        this.refs.wrapper.focus();\n    }\n\n    handlePushRadio(pushActivity) {\n        this.setState({pushActivity});\n        this.refs.wrapper.focus();\n    }\n\n    handlePushStatusRadio(pushStatus) {\n        this.setState({pushStatus});\n        this.refs.wrapper.focus();\n    }\n\n    handleEmailRadio(enableEmail) {\n        this.setState({enableEmail});\n        this.refs.wrapper.focus();\n    }\n\n    updateUsernameKey(val) {\n        this.setState({usernameKey: val});\n    }\n\n    updateFirstNameKey(val) {\n        this.setState({firstNameKey: val});\n    }\n\n    updateChannelKey(val) {\n        this.setState({channelKey: val});\n    }\n\n    updateCustomMentionKeys() {\n        const checked = this.refs.customcheck.checked;\n\n        if (checked) {\n            const text = this.refs.custommentions.value;\n\n            // remove all spaces and split string into individual keys\n            this.setState({customKeys: text.replace(/ /g, ''), customKeysChecked: true});\n        } else {\n            this.setState({customKeys: '', customKeysChecked: false});\n        }\n    }\n\n    onCustomChange() {\n        this.refs.customcheck.checked = true;\n        this.updateCustomMentionKeys();\n    }\n\n    createPushNotificationSection() {\n        if (this.props.activeSection === 'push') {\n            const inputs = [];\n            let extraInfo = null;\n            let submit = null;\n\n            if (global.window.mm_config.SendPushNotifications === 'true') {\n                const pushActivityRadio = [false, false, false];\n                if (this.state.pushActivity === NotificationLevels.ALL) {\n                    pushActivityRadio[0] = true;\n                } else if (this.state.pushActivity === NotificationLevels.NONE) {\n                    pushActivityRadio[2] = true;\n                } else {\n                    pushActivityRadio[1] = true;\n                }\n\n                const pushStatusRadio = [false, false, false];\n                if (this.state.pushStatus === Constants.UserStatuses.ONLINE) {\n                    pushStatusRadio[0] = true;\n                } else if (this.state.pushStatus === Constants.UserStatuses.AWAY) {\n                    pushStatusRadio[1] = true;\n                } else {\n                    pushStatusRadio[2] = true;\n                }\n\n                let pushStatusSettings;\n                if (this.state.pushActivity !== NotificationLevels.NONE) {\n                    pushStatusSettings = (\n                        <div>\n                            <hr/>\n                            <label>\n                                <FormattedMessage\n                                    id='user.settings.notifications.push_notification.status'\n                                    defaultMessage='Trigger push notifications when'\n                                />\n                            </label>\n                            <br/>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='pushNotificationOnline'\n                                        type='radio'\n                                        name='pushNotificationStatus'\n                                        checked={pushStatusRadio[0]}\n                                        onChange={this.handlePushStatusRadio.bind(this, Constants.UserStatuses.ONLINE)}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.push_notification.online'\n                                        defaultMessage='Online, away or offline'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='pushNotificationAway'\n                                        type='radio'\n                                        name='pushNotificationStatus'\n                                        checked={pushStatusRadio[1]}\n                                        onChange={this.handlePushStatusRadio.bind(this, Constants.UserStatuses.AWAY)}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.push_notification.away'\n                                        defaultMessage='Away or offline'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='pushNotificationOffline'\n                                        type='radio'\n                                        name='pushNotificationStatus'\n                                        checked={pushStatusRadio[2]}\n                                        onChange={this.handlePushStatusRadio.bind(this, Constants.UserStatuses.OFFLINE)}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.push_notification.offline'\n                                        defaultMessage='Offline'\n                                    />\n                                </label>\n                            </div>\n                        </div>\n                    );\n\n                    extraInfo = (\n                        <span>\n                            <FormattedMessage\n                                id='user.settings.push_notification.status_info'\n                                defaultMessage='Notification alerts are only pushed to your mobile device when your online status matches the selection above.'\n                            />\n                        </span>\n                    );\n                }\n\n                inputs.push(\n                    <div key='userNotificationLevelOption'>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.push_notification.send'\n                                defaultMessage='Send mobile push notifications'\n                            />\n                        </label>\n                        <br/>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='pushNotificationAllActivity'\n                                    type='radio'\n                                    name='pushNotificationLevel'\n                                    checked={pushActivityRadio[0]}\n                                    onChange={this.handlePushRadio.bind(this, NotificationLevels.ALL)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.push_notification.allActivity'\n                                    defaultMessage='For all activity'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='pushNotificationMentions'\n                                    type='radio'\n                                    name='pushNotificationLevel'\n                                    checked={pushActivityRadio[1]}\n                                    onChange={this.handlePushRadio.bind(this, NotificationLevels.MENTION)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.push_notification.onlyMentions'\n                                    defaultMessage='For mentions and direct messages'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='pushNotificationNever'\n                                    type='radio'\n                                    name='pushNotificationLevel'\n                                    checked={pushActivityRadio[2]}\n                                    onChange={this.handlePushRadio.bind(this, NotificationLevels.NONE)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.never'\n                                    defaultMessage='Never'\n                                />\n                            </label>\n                        </div>\n                        <br/>\n                        <span>\n                            <FormattedMessage\n                                id='user.settings.push_notification.info'\n                                defaultMessage='Notification alerts are pushed to your mobile device when there is activity in Mattermost.'\n                            />\n                        </span>\n                        {pushStatusSettings}\n                    </div>\n                );\n\n                submit = this.handleSubmit;\n            } else {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='padding-top'\n                    >\n                        <FormattedMessage\n                            id='user.settings.push_notification.disabled_long'\n                            defaultMessage='Push notifications for mobile devices have been disabled by your System Administrator.'\n                        />\n                    </div>\n                );\n            }\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications')}\n                    extraInfo={extraInfo}\n                    inputs={inputs}\n                    submit={submit}\n                    server_error={this.state.serverError}\n                    updateSection={this.handleCancel}\n                />\n            );\n        }\n\n        let describe = '';\n        if (this.state.pushActivity === NotificationLevels.ALL) {\n            if (this.state.pushStatus === Constants.UserStatuses.AWAY) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.allActivityAway'\n                        defaultMessage='For all activity when away or offline'\n                    />\n                );\n            } else if (this.state.pushStatus === Constants.UserStatuses.OFFLINE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.allActivityOffline'\n                        defaultMessage='For all activity when offline'\n                    />\n                );\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.allActivityOnline'\n                        defaultMessage='For all activity when online, away or offline'\n                    />\n                );\n            }\n        } else if (this.state.pushActivity === NotificationLevels.NONE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.notifications.never'\n                    defaultMessage='Never'\n                />\n            );\n        } else if (global.window.mm_config.SendPushNotifications === 'false') {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.push_notification.disabled'\n                    defaultMessage='Disabled by System Administrator'\n                />\n            );\n        } else {\n            if (this.state.pushStatus === Constants.UserStatuses.AWAY) { //eslint-disable-line no-lonely-if\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.onlyMentionsAway'\n                        defaultMessage='For mentions and direct messages when away or offline'\n                    />\n                );\n            } else if (this.state.pushStatus === Constants.UserStatuses.OFFLINE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.onlyMentionsOffline'\n                        defaultMessage='For mentions and direct messages when offline'\n                    />\n                );\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.onlyMentionsOnline'\n                        defaultMessage='For mentions and direct messages when online, away or offline'\n                    />\n                );\n            }\n        }\n\n        const handleUpdatePushSection = () => {\n            this.props.updateSection('push');\n        };\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications')}\n                describe={describe}\n                updateSection={handleUpdatePushSection}\n            />\n        );\n    }\n\n    render() {\n        const serverError = this.state.serverError;\n        const user = this.props.user;\n\n        let keysSection;\n        let handleUpdateKeysSection;\n        if (this.props.activeSection === 'keys') {\n            const inputs = [];\n\n            if (user.first_name) {\n                const handleUpdateFirstNameKey = (e) => {\n                    this.updateFirstNameKey(e.target.checked);\n                };\n                inputs.push(\n                    <div key='userNotificationFirstNameOption'>\n                        <div className='checkbox'>\n                            <label>\n                                <input\n                                    id='notificationTriggerFirst'\n                                    type='checkbox'\n                                    checked={this.state.firstNameKey}\n                                    onChange={handleUpdateFirstNameKey}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.sensitiveName'\n                                    defaultMessage='Your case sensitive first name \"{first_name}\"'\n                                    values={{\n                                        first_name: user.first_name\n                                    }}\n                                />\n                            </label>\n                        </div>\n                    </div>\n                );\n            }\n\n            const handleUpdateUsernameKey = (e) => {\n                this.updateUsernameKey(e.target.checked);\n            };\n            inputs.push(\n                <div key='userNotificationUsernameOption'>\n                    <div className='checkbox'>\n                        <label>\n                            <input\n                                id='notificationTriggerUsername'\n                                type='checkbox'\n                                checked={this.state.usernameKey}\n                                onChange={handleUpdateUsernameKey}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.sensitiveUsername'\n                                defaultMessage='Your non-case sensitive username \"{username}\"'\n                                values={{\n                                    username: user.username\n                                }}\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            const handleUpdateChannelKey = (e) => {\n                this.updateChannelKey(e.target.checked);\n            };\n            inputs.push(\n                <div key='userNotificationChannelOption'>\n                    <div className='checkbox'>\n                        <label>\n                            <input\n                                id='notificationTriggerShouts'\n                                type='checkbox'\n                                checked={this.state.channelKey}\n                                onChange={handleUpdateChannelKey}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.channelWide'\n                                defaultMessage='Channel-wide mentions \"@channel\", \"@all\", \"@here\"'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            inputs.push(\n                <div key='userNotificationCustomOption'>\n                    <div className='checkbox'>\n                        <label>\n                            <input\n                                id='notificationTriggerCustom'\n                                ref='customcheck'\n                                type='checkbox'\n                                checked={this.state.customKeysChecked}\n                                onChange={this.updateCustomMentionKeys}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.sensitiveWords'\n                                defaultMessage='Other non-case sensitive words, separated by commas:'\n                            />\n                        </label>\n                    </div>\n                    <input\n                        id='notificationTriggerCustomText'\n                        ref='custommentions'\n                        className='form-control mentions-input'\n                        type='text'\n                        defaultValue={this.state.customKeys}\n                        onChange={this.onCustomChange}\n                    />\n                </div>\n            );\n\n            const extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.mentionsInfo'\n                        defaultMessage='Mentions trigger when someone sends a message that includes your username (@{username}) or any of the options selected above.'\n                        values={{\n                            username: user.username\n                        }}\n                    />\n                </span>\n            );\n\n            keysSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions')}\n                    inputs={inputs}\n                    submit={this.handleSubmit}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    updateSection={this.handleCancel}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let keys = ['@' + user.username];\n            if (this.state.firstNameKey) {\n                keys.push(user.first_name);\n            }\n            if (this.state.usernameKey) {\n                keys.push(user.username);\n            }\n\n            if (this.state.channelKey) {\n                keys.push('@channel');\n                keys.push('@all');\n                keys.push('@here');\n            }\n            if (this.state.customKeys.length > 0) {\n                keys = keys.concat(this.state.customKeys.split(','));\n            }\n\n            let describe = '';\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] !== '') {\n                    describe += '\"' + keys[i] + '\", ';\n                }\n            }\n\n            if (describe.length > 0) {\n                describe = describe.substring(0, describe.length - 2);\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.noWords'\n                        defaultMessage='No words configured'\n                    />\n                );\n            }\n\n            handleUpdateKeysSection = function updateKeysSection() {\n                this.props.updateSection('keys');\n            }.bind(this);\n\n            keysSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions')}\n                    describe={describe}\n                    updateSection={handleUpdateKeysSection}\n                />\n            );\n        }\n\n        let commentsSection;\n        let handleUpdateCommentsSection;\n        if (this.props.activeSection === 'comments') {\n            const commentsActive = [false, false, false];\n            if (this.state.notifyCommentsLevel === 'never') {\n                commentsActive[2] = true;\n            } else if (this.state.notifyCommentsLevel === 'root') {\n                commentsActive[1] = true;\n            } else {\n                commentsActive[0] = true;\n            }\n\n            const inputs = [];\n\n            inputs.push(\n                <div key='userNotificationLevelOption'>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='notificationCommentsAny'\n                                type='radio'\n                                name='commentsNotificationLevel'\n                                checked={commentsActive[0]}\n                                onChange={this.handleNotifyCommentsRadio.bind(this, 'any')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.commentsAny'\n                                defaultMessage='Mention any comments in a thread you participated in (This will include both mentions to your root post and any comments after you commented on a post)'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='notificationCommentsRoot'\n                                type='radio'\n                                name='commentsNotificationLevel'\n                                checked={commentsActive[1]}\n                                onChange={this.handleNotifyCommentsRadio.bind(this, 'root')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.commentsRoot'\n                                defaultMessage='Mention any comments on your post'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='notificationCommentsNever'\n                                type='radio'\n                                name='commentsNotificationLevel'\n                                checked={commentsActive[2]}\n                                onChange={this.handleNotifyCommentsRadio.bind(this, 'never')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.commentsNever'\n                                defaultMessage='No mentions for comments'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            const extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsInfo'\n                        defaultMessage=\"In addition to notifications for when you're mentioned, select if you would like to receive notifications on reply threads.\"\n                    />\n                </span>\n            );\n\n            commentsSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications')}\n                    extraInfo={extraInfo}\n                    inputs={inputs}\n                    submit={this.handleSubmit}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    updateSection={this.handleCancel}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.state.notifyCommentsLevel === 'never') {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsNever'\n                        defaultMessage=\"Do not trigger notifications on messages in reply threads unless I'm mentioned\"\n                    />\n                );\n            } else if (this.state.notifyCommentsLevel === 'root') {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsRoot'\n                        defaultMessage='Trigger notifications on messages in threads that I start'\n                    />\n                );\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsAny'\n                        defaultMessage='Trigger notifications on messages in reply threads that I start or participate in'\n                    />\n                );\n            }\n\n            handleUpdateCommentsSection = function updateCommentsSection() {\n                this.props.updateSection('comments');\n            }.bind(this);\n\n            commentsSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications')}\n                    describe={describe}\n                    updateSection={handleUpdateCommentsSection}\n                />\n            );\n        }\n\n        const pushNotificationSection = this.createPushNotificationSection();\n        const enableEmail = this.state.enableEmail === 'true';\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.notifications.title'\n                            defaultMessage='Notification Settings'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.notifications.header'\n                            defaultMessage='Notifications'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    <DesktopNotificationSettings\n                        activity={this.state.desktopActivity}\n                        sound={this.state.desktopSound}\n                        duration={this.state.desktopDuration}\n                        updateSection={this.updateSection}\n                        setParentState={this.setStateValue}\n                        submit={this.handleSubmit}\n                        saving={this.state.isSaving}\n                        cancel={this.handleCancel}\n                        error={this.state.serverError}\n                        active={this.props.activeSection === 'desktop'}\n                    />\n                    <div className='divider-light'/>\n                    <EmailNotificationSetting\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        enableEmail={enableEmail}\n                        emailInterval={Utils.getEmailInterval(enableEmail)}\n                        onSubmit={this.handleSubmit}\n                        onCancel={this.handleCancel}\n                        saving={this.state.isSaving}\n                        serverError={this.state.serverError}\n                    />\n                    <div className='divider-light'/>\n                    {pushNotificationSection}\n                    <div className='divider-light'/>\n                    {keysSection}\n                    <div className='divider-light'/>\n                    {commentsSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nNotificationsTab.defaultProps = {\n    user: null,\n    activeSection: '',\n    activeTab: ''\n};\nNotificationsTab.propTypes = {\n    user: PropTypes.object,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    activeSection: PropTypes.string,\n    activeTab: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_notifications.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {NotificationLevels} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\n\nexport default class DesktopNotificationSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.buildMaximizedSetting = this.buildMaximizedSetting.bind(this);\n        this.buildMinimizedSetting = this.buildMinimizedSetting.bind(this);\n\n        this.state = {};\n    }\n\n    buildMaximizedSetting() {\n        const inputs = [];\n        let extraInfo = null;\n\n        const activityRadio = [false, false, false];\n        if (this.props.activity === NotificationLevels.MENTION) {\n            activityRadio[1] = true;\n        } else if (this.props.activity === NotificationLevels.NONE) {\n            activityRadio[2] = true;\n        } else {\n            activityRadio[0] = true;\n        }\n\n        let soundSection;\n        let durationSection;\n        if (this.props.activity !== NotificationLevels.NONE) {\n            const soundRadio = [false, false];\n            if (this.props.sound === 'false') {\n                soundRadio[1] = true;\n            } else {\n                soundRadio[0] = true;\n            }\n\n            if (Utils.hasSoundOptions()) {\n                soundSection = (\n                    <div>\n                        <hr/>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.sound'\n                                defaultMessage='Notification sound'\n                            />\n                        </label>\n                        <br/>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='soundOn'\n                                    type='radio'\n                                    name='notificationSounds'\n                                    checked={soundRadio[0]}\n                                    onChange={() => this.props.setParentState('desktopSound', 'true')}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.on'\n                                    defaultMessage='On'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='soundOff'\n                                    type='radio'\n                                    name='notificationSounds'\n                                    checked={soundRadio[1]}\n                                    onChange={() => this.props.setParentState('desktopSound', 'false')}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.off'\n                                    defaultMessage='Off'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <br/>\n                        <span>\n                            <FormattedMessage\n                                id='user.settings.notifications.sounds_info'\n                                defaultMessage='Notification sounds are available on IE11, Safari, Chrome and Mattermost Desktop Apps.'\n                            />\n                        </span>\n                    </div>\n                );\n            } else {\n                soundSection = (\n                    <div>\n                        <hr/>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.sound'\n                                defaultMessage='Notification sound'\n                            />\n                        </label>\n                        <br/>\n                        <FormattedMessage\n                            id='user.settings.notifications.soundConfig'\n                            defaultMessage='Please configure notification sounds in your browser settings'\n                        />\n                    </div>\n                );\n            }\n\n            const durationRadio = [false, false, false, false];\n            if (this.props.duration === '3') {\n                durationRadio[0] = true;\n            } else if (this.props.duration === '10') {\n                durationRadio[2] = true;\n            } else if (this.props.duration === '0') {\n                durationRadio[3] = true;\n            } else {\n                durationRadio[1] = true;\n            }\n\n            durationSection = (\n                <div>\n                    <hr/>\n                    <label>\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.duration'\n                            defaultMessage='Notification duration'\n                        />\n                    </label>\n                    <br/>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDuration3'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[0]}\n                                onChange={() => this.props.setParentState('desktopDuration', '3')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.seconds'\n                                defaultMessage='{seconds} seconds'\n                                values={{\n                                    seconds: '3'\n                                }}\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDuration5'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[1]}\n                                onChange={() => this.props.setParentState('desktopDuration', '5')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.seconds'\n                                defaultMessage='{seconds} seconds'\n                                values={{\n                                    seconds: '5'\n                                }}\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDuration10'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[2]}\n                                onChange={() => this.props.setParentState('desktopDuration', '10')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.seconds'\n                                defaultMessage='{seconds} seconds'\n                                values={{\n                                    seconds: '10'\n                                }}\n                            />\n                        </label>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDurationUnlimited'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[3]}\n                                onChange={() => this.props.setParentState('desktopDuration', '0')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.unlimited'\n                                defaultMessage='Unlimited'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.desktop.durationInfo'\n                        defaultMessage='Sets how long desktop notifications will remain on screen when using Firefox or Chrome. Desktop notifications in Edge, Safari and Mattermost Desktop Apps can only stay on screen for a maximum of 5 seconds.'\n                    />\n                </span>\n            );\n        }\n\n        inputs.push(\n            <div key='userNotificationLevelOption'>\n                <label>\n                    <FormattedMessage\n                        id='user.settings.notifications.desktop'\n                        defaultMessage='Send desktop notifications'\n                    />\n                </label>\n                <br/>\n                <div className='radio'>\n                    <label>\n                        <input\n                            id='desktopNotificationAllActivity'\n                            type='radio'\n                            name='desktopNotificationLevel'\n                            checked={activityRadio[0]}\n                            onChange={() => this.props.setParentState('desktopActivity', NotificationLevels.ALL)}\n                        />\n                        <FormattedMessage\n                            id='user.settings.notifications.allActivity'\n                            defaultMessage='For all activity'\n                        />\n                    </label>\n                    <br/>\n                </div>\n                <div className='radio'>\n                    <label>\n                        <input\n                            id='desktopNotificationMentions'\n                            type='radio'\n                            name='desktopNotificationLevel'\n                            checked={activityRadio[1]}\n                            onChange={() => this.props.setParentState('desktopActivity', NotificationLevels.MENTION)}\n                        />\n                        <FormattedMessage\n                            id='user.settings.notifications.onlyMentions'\n                            defaultMessage='Only for mentions and direct messages'\n                        />\n                    </label>\n                    <br/>\n                </div>\n                <div className='radio'>\n                    <label>\n                        <input\n                            id='desktopNotificationNever'\n                            type='radio'\n                            name='desktopNotificationLevel'\n                            checked={activityRadio[2]}\n                            onChange={() => this.props.setParentState('desktopActivity', NotificationLevels.NONE)}\n                        />\n                        <FormattedMessage\n                            id='user.settings.notifications.never'\n                            defaultMessage='Never'\n                        />\n                    </label>\n                </div>\n                <br/>\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.info'\n                        defaultMessage='Desktop notifications are available on Edge, Firefox, Safari, Chrome and Mattermost Desktop Apps.'\n                    />\n                </span>\n                {soundSection}\n                {durationSection}\n            </div>\n        );\n\n        return (\n            <SettingItemMax\n                title={Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications')}\n                extraInfo={extraInfo}\n                inputs={inputs}\n                submit={this.props.submit}\n                saving={this.props.saving}\n                server_error={this.props.error}\n                updateSection={this.props.cancel}\n            />\n        );\n    }\n\n    buildMinimizedSetting() {\n        let describe = '';\n        if (this.props.activity === NotificationLevels.MENTION) {\n            if (Utils.hasSoundOptions() && this.props.sound !== 'false') {\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundForever'\n                            defaultMessage='For mentions and direct messages, with sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundTimed'\n                            defaultMessage='For mentions and direct messages, with sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                if (this.props.duration === '0') {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsNoSoundForever'\n                            defaultMessage='For mentions and direct messages, without sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsNoSoundTimed'\n                            defaultMessage='For mentions and direct messages, without sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else {\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundHiddenForever'\n                            defaultMessage='For mentions and direct messages, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundHiddenTimed'\n                            defaultMessage='For mentions and direct messages, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            }\n        } else if (this.props.activity === NotificationLevels.NONE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.notifications.off'\n                    defaultMessage='Off'\n                />\n            );\n        } else {\n            if (Utils.hasSoundOptions() && this.props.sound !== 'false') {  //eslint-disable-line no-lonely-if\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundForever'\n                            defaultMessage='For all activity, with sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundTimed'\n                            defaultMessage='For all activity, with sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                if (this.props.duration === '0') {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allNoSoundForever'\n                            defaultMessage='For all activity, without sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allNoSoundTimed'\n                            defaultMessage='For all activity, without sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else {\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundHiddenForever'\n                            defaultMessage='For all activity, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundHiddenTimed'\n                            defaultMessage='For all activity, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            }\n        }\n\n        const handleUpdateDesktopSection = function updateDesktopSection() {\n            this.props.updateSection('desktop');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications')}\n                describe={describe}\n                updateSection={handleUpdateDesktopSection}\n            />\n        );\n    }\n\n    render() {\n        if (this.props.active) {\n            return this.buildMaximizedSetting();\n        }\n\n        return this.buildMinimizedSetting();\n    }\n}\n\nDesktopNotificationSettings.propTypes = {\n    activity: PropTypes.string.isRequired,\n    sound: PropTypes.string.isRequired,\n    duration: PropTypes.string.isRequired,\n    updateSection: PropTypes.func,\n    setParentState: PropTypes.func,\n    submit: PropTypes.func,\n    cancel: PropTypes.func,\n    error: PropTypes.string,\n    active: PropTypes.bool,\n    saving: PropTypes.bool\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/desktop_notification_settings.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {savePreference} from 'actions/user_actions.jsx';\n\nimport {Preferences} from 'utils/constants.jsx';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\n\nexport default class EmailNotificationSetting extends React.Component {\n    static propTypes = {\n        activeSection: PropTypes.string.isRequired,\n        updateSection: PropTypes.func.isRequired,\n        enableEmail: PropTypes.bool.isRequired,\n        emailInterval: PropTypes.number.isRequired,\n        onSubmit: PropTypes.func.isRequired,\n        onCancel: PropTypes.func.isRequired,\n        serverError: PropTypes.string,\n        saving: PropTypes.bool\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            enableEmail: props.enableEmail,\n            emailInterval: props.emailInterval\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.enableEmail !== this.props.enableEmail || nextProps.emailInterval !== this.props.emailInterval) {\n            this.setState({\n                enableEmail: nextProps.enableEmail,\n                emailInterval: nextProps.emailInterval\n            });\n        }\n    }\n\n    handleChange = (enableEmail, emailInterval) => {\n        this.setState({\n            enableEmail,\n            emailInterval\n        });\n    }\n\n    handleSubmit = () => {\n        const {enableEmail, emailInterval} = this.state;\n        if (this.props.enableEmail !== enableEmail || this.props.emailInterval !== emailInterval) {\n            // until the rest of the notification settings are moved to preferences, we have to do this separately\n            savePreference(Preferences.CATEGORY_NOTIFICATIONS, Preferences.EMAIL_INTERVAL, emailInterval.toString());\n\n            this.props.onSubmit({enableEmail});\n        } else {\n            this.props.updateSection('');\n        }\n    }\n\n    handleExpand = () => {\n        this.props.updateSection('email');\n    }\n\n    handleCancel = (e) => {\n        this.setState({\n            enableEmail: this.props.enableEmail,\n            emailInterval: this.props.emailInterval\n        });\n        this.props.onCancel(e);\n    }\n\n    render() {\n        if (global.window.mm_config.SendEmailNotifications !== 'true' && this.props.activeSection === 'email') {\n            const inputs = [];\n\n            inputs.push(\n                <div\n                    key='oauthEmailInfo'\n                    className='padding-top'\n                >\n                    <FormattedMessage\n                        id='user.settings.notifications.email.disabled_long'\n                        defaultMessage='Email notifications have been disabled by your System Administrator.'\n                    />\n                </div>\n            );\n\n            return (\n                <SettingItemMax\n                    title={localizeMessage('user.settings.notifications.emailNotifications', 'Email notifications')}\n                    inputs={inputs}\n                    server_error={this.state.serverError}\n                    updateSection={this.handleCancel}\n                />\n            );\n        }\n\n        if (this.props.activeSection !== 'email') {\n            let description;\n\n            if (global.window.mm_config.SendEmailNotifications !== 'true') {\n                description = (\n                    <FormattedMessage\n                        id='user.settings.notifications.email.disabled'\n                        defaultMessage='Disabled by System Administrator'\n                    />\n                );\n            } else if (this.props.enableEmail) {\n                switch (this.state.emailInterval) {\n                case Preferences.INTERVAL_IMMEDIATE:\n                    description = (\n                        <FormattedMessage\n                            id='user.settings.notifications.email.immediately'\n                            defaultMessage='Immediately'\n                        />\n                    );\n                    break;\n                case Preferences.INTERVAL_HOUR:\n                    description = (\n                        <FormattedMessage\n                            id='user.settings.notifications.email.everyHour'\n                            defaultMessage='Every hour'\n                        />\n                    );\n                    break;\n                default:\n                    description = (\n                        <FormattedMessage\n                            id='user.settings.notifications.email.everyXMinutes'\n                            defaultMessage='Every {count, plural, one {minute} other {{count, number} minutes}}'\n                            values={{count: this.state.emailInterval / 60}}\n                        />\n                    );\n                }\n            } else {\n                description = (\n                    <FormattedMessage\n                        id='user.settings.notifications.email.never'\n                        defaultMessage='Never'\n                    />\n                );\n            }\n\n            return (\n                <SettingItemMin\n                    title={localizeMessage('user.settings.notifications.emailNotifications', 'Email notifications')}\n                    describe={description}\n                    updateSection={this.handleExpand}\n                />\n            );\n        }\n\n        let batchingOptions = null;\n        let batchingInfo = null;\n        if (global.window.mm_config.EnableEmailBatching === 'true') {\n            batchingOptions = (\n                <div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='emailNotificationMinutes'\n                                type='radio'\n                                name='emailNotifications'\n                                checked={this.state.emailInterval === Preferences.INTERVAL_FIFTEEN_MINUTES}\n                                onChange={() => this.handleChange('true', Preferences.INTERVAL_FIFTEEN_MINUTES)}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.email.everyXMinutes'\n                                defaultMessage='Every {count} minutes'\n                                values={{count: Preferences.INTERVAL_FIFTEEN_MINUTES / 60}}\n                            />\n                        </label>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='emailNotificationHour'\n                                type='radio'\n                                name='emailNotifications'\n                                checked={this.state.emailInterval === Preferences.INTERVAL_HOUR}\n                                onChange={() => this.handleChange('true', Preferences.INTERVAL_HOUR)}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.email.everyHour'\n                                defaultMessage='Every hour'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            batchingInfo = (\n                <FormattedMessage\n                    id='user.settings.notifications.emailBatchingInfo'\n                    defaultMessage='Notifications received over the time period selected are combined and sent in a single email.'\n                />\n            );\n        }\n\n        return (\n            <SettingItemMax\n                title={localizeMessage('user.settings.notifications.emailNotifications', 'Email notifications')}\n                inputs={[\n                    <div key='userNotificationEmailOptions'>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.notifications.email.send'\n                                defaultMessage='Send email notifications'\n                            />\n                        </label>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='emailNotificationImmediately'\n                                    type='radio'\n                                    name='emailNotifications'\n                                    checked={this.state.emailInterval === Preferences.INTERVAL_IMMEDIATE}\n                                    onChange={() => this.handleChange('true', Preferences.INTERVAL_IMMEDIATE)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.email.immediately'\n                                    defaultMessage='Immediately'\n                                />\n                            </label>\n                        </div>\n                        {batchingOptions}\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='emailNotificationNever'\n                                    type='radio'\n                                    name='emailNotifications'\n                                    checked={this.state.emailInterval === Preferences.INTERVAL_NEVER}\n                                    onChange={() => this.handleChange('false', Preferences.INTERVAL_NEVER)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.email.never'\n                                    defaultMessage='Never'\n                                />\n                            </label>\n                        </div>\n                        <br/>\n                        <div>\n                            <FormattedMessage\n                                id='user.settings.notifications.emailInfo'\n                                defaultMessage='Email notifications are sent for mentions and direct messages when you are offline or away from {siteName} for more than 5 minutes.'\n                                values={{\n                                    siteName: global.window.mm_config.SiteName\n                                }}\n                            />\n                            {' '}\n                            {batchingInfo}\n                        </div>\n                    </div>\n                ]}\n                submit={this.handleSubmit}\n                saving={this.props.saving}\n                server_error={this.props.serverError}\n                updateSection={this.handleCancel}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/email_notification_setting.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {clearUserAccessTokens, createUserAccessToken, getMe, getUserAccessTokensForUser, revokeUserAccessToken, enableUserAccessToken, disableUserAccessToken} from 'mattermost-redux/actions/users';\nimport * as UserUtils from 'mattermost-redux/utils/user_utils';\n\nimport SecurityTab from './user_settings_security.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const tokensEnabled = state.entities.general.config.EnableUserAccessTokens === 'true';\n    const userHasTokenRole = UserUtils.hasUserAccessTokenRole(ownProps.user.roles) || UserUtils.isSystemAdmin(ownProps.user.roles);\n\n    return {\n        ...ownProps,\n        userAccessTokens: state.entities.users.myUserAccessTokens,\n        canUseAccessTokens: tokensEnabled && userHasTokenRole\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getMe,\n            getUserAccessTokensForUser,\n            createUserAccessToken,\n            revokeUserAccessToken,\n            enableUserAccessToken,\n            disableUserAccessToken,\n            clearUserAccessTokens\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SecurityTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_security/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedDate, FormattedHTMLMessage, FormattedMessage, FormattedTime} from 'react-intl';\nimport {browserHistory, Link} from 'react-router';\n\nimport * as UserUtils from 'mattermost-redux/utils/user_utils';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {deactivateMfa, deauthorizeOAuthApp, getAuthorizedApps, updatePassword} from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport {isMobile} from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport icon50 from 'images/icon50x50.png';\n\nimport AccessHistoryModal from 'components/access_history_modal';\nimport ActivityLogModal from 'components/activity_log_modal';\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\nimport ToggleModalButton from 'components/toggle_modal_button.jsx';\n\nconst TOKEN_CREATING = 'creating';\nconst TOKEN_CREATED = 'created';\nconst TOKEN_NOT_CREATING = 'not_creating';\n\nexport default class SecurityTab extends React.Component {\n    static propTypes = {\n        user: PropTypes.object,\n        activeSection: PropTypes.string,\n        updateSection: PropTypes.func,\n        updateTab: PropTypes.func,\n        closeModal: PropTypes.func.isRequired,\n        collapseModal: PropTypes.func.isRequired,\n        setEnforceFocus: PropTypes.func.isRequired,\n\n        /*\n         * The personal access tokens for the user\n         */\n        userAccessTokens: PropTypes.object,\n\n        /*\n         * Set if access tokens are enabled and this user can use them\n         */\n        canUseAccessTokens: PropTypes.bool,\n\n        actions: PropTypes.shape({\n            getMe: PropTypes.func.isRequired,\n\n            /*\n             * Function to get personal access tokens for a user\n             */\n            getUserAccessTokensForUser: PropTypes.func.isRequired,\n\n            /*\n             * Function to create a personal access token\n             */\n            createUserAccessToken: PropTypes.func.isRequired,\n\n            /*\n             * Function to revoke a personal access token\n             */\n            revokeUserAccessToken: PropTypes.func.isRequired,\n\n            /*\n             * Function to activate a personal access token\n             */\n            enableUserAccessToken: PropTypes.func.isRequired,\n\n            /*\n             * Function to deactivate a personal access token\n             */\n            disableUserAccessToken: PropTypes.func.isRequired,\n\n            /*\n             * Function to clear personal access tokens locally\n             */\n            clearUserAccessTokens: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = this.getDefaultState();\n    }\n\n    getDefaultState() {\n        return {\n            currentPassword: '',\n            newPassword: '',\n            confirmPassword: '',\n            passwordError: '',\n            serverError: '',\n            tokenError: '',\n            showConfirmModal: false,\n            authService: this.props.user.auth_service,\n            savingPassword: false\n        };\n    }\n\n    componentDidMount() {\n        if (global.mm_config.EnableOAuthServiceProvider === 'true') {\n            getAuthorizedApps(\n                (authorizedApps) => {\n                    this.setState({authorizedApps, serverError: null}); //eslint-disable-line react/no-did-mount-set-state\n                },\n                (err) => {\n                    this.setState({serverError: err.message}); //eslint-disable-line react/no-did-mount-set-state\n                }\n            );\n        }\n\n        if (this.props.canUseAccessTokens) {\n            this.props.actions.clearUserAccessTokens();\n            const userId = this.props.user ? this.props.user.id : '';\n            this.props.actions.getUserAccessTokensForUser(userId, 0, 200);\n        }\n    }\n\n    submitPassword = (e) => {\n        e.preventDefault();\n\n        var user = this.props.user;\n        var currentPassword = this.state.currentPassword;\n        var newPassword = this.state.newPassword;\n        var confirmPassword = this.state.confirmPassword;\n\n        if (currentPassword === '') {\n            this.setState({passwordError: Utils.localizeMessage('user.settings.security.currentPasswordError', 'Please enter your current password.'), serverError: ''});\n            return;\n        }\n\n        const passwordErr = Utils.isValidPassword(newPassword, Utils.getPasswordConfig());\n        if (passwordErr !== '') {\n            this.setState({\n                passwordError: passwordErr,\n                serverError: ''\n            });\n            return;\n        }\n\n        if (newPassword !== confirmPassword) {\n            var defaultState = Object.assign(this.getDefaultState(), {passwordError: Utils.localizeMessage('user.settings.security.passwordMatchError', 'The new passwords you entered do not match.'), serverError: ''});\n            this.setState(defaultState);\n            return;\n        }\n\n        this.setState({savingPassword: true});\n\n        updatePassword(\n            user.id,\n            currentPassword,\n            newPassword,\n            () => {\n                this.props.updateSection('');\n                this.props.actions.getMe();\n                this.setState(this.getDefaultState());\n            },\n            (err) => {\n                var state = this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                state.passwordError = '';\n                this.setState(state);\n            }\n        );\n    }\n\n    setupMfa = (e) => {\n        e.preventDefault();\n        browserHistory.push('/mfa/setup');\n    }\n\n    removeMfa = () => {\n        deactivateMfa(\n            () => {\n                if (global.window.mm_license.MFA === 'true' &&\n                        global.window.mm_config.EnableMultifactorAuthentication === 'true' &&\n                        global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                    window.location.href = '/mfa/setup';\n                    return;\n                }\n\n                this.props.updateSection('');\n                this.setState(this.getDefaultState());\n            },\n            (err) => {\n                const state = this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                this.setState(state);\n            }\n        );\n    }\n\n    updateCurrentPassword = (e) => {\n        this.setState({currentPassword: e.target.value});\n    }\n\n    updateNewPassword = (e) => {\n        this.setState({newPassword: e.target.value});\n    }\n\n    updateConfirmPassword = (e) => {\n        this.setState({confirmPassword: e.target.value});\n    }\n\n    deauthorizeApp = (e) => {\n        e.preventDefault();\n        const appId = e.currentTarget.getAttribute('data-app');\n        deauthorizeOAuthApp(\n            appId,\n            () => {\n                const authorizedApps = this.state.authorizedApps.filter((app) => {\n                    return app.id !== appId;\n                });\n\n                this.setState({authorizedApps, serverError: null});\n            },\n            (err) => {\n                this.setState({serverError: err.message});\n            }\n        );\n    }\n\n    createMfaSection = () => {\n        let updateSectionStatus;\n        let submit;\n\n        if (this.props.activeSection === 'mfa') {\n            let content;\n            let extraInfo;\n            if (this.props.user.mfa_active) {\n                let mfaRemoveHelp;\n                let mfaButtonText;\n\n                if (global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                    mfaRemoveHelp = (\n                        <FormattedMessage\n                            id='user.settings.mfa.requiredHelp'\n                            defaultMessage='Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.'\n                        />\n                    );\n\n                    mfaButtonText = (\n                        <FormattedMessage\n                            id='user.settings.mfa.reset'\n                            defaultMessage='Reset MFA on your account'\n                        />\n                    );\n                } else {\n                    mfaRemoveHelp = (\n                        <FormattedMessage\n                            id='user.settings.mfa.removeHelp'\n                            defaultMessage='Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.'\n                        />\n                    );\n\n                    mfaButtonText = (\n                        <FormattedMessage\n                            id='user.settings.mfa.remove'\n                            defaultMessage='Remove MFA from your account'\n                        />\n                    );\n                }\n\n                content = (\n                    <div key='mfaQrCode'>\n                        <a\n                            className='btn btn-primary'\n                            href='#'\n                            onClick={this.removeMfa}\n                        >\n                            {mfaButtonText}\n                        </a>\n                        <br/>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        {mfaRemoveHelp}\n                    </span>\n                );\n            } else {\n                content = (\n                    <div key='mfaQrCode'>\n                        <a\n                            className='btn btn-primary'\n                            href='#'\n                            onClick={this.setupMfa}\n                        >\n                            <FormattedMessage\n                                id='user.settings.mfa.add'\n                                defaultMessage='Add MFA to your account'\n                            />\n                        </a>\n                        <br/>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.mfa.addHelp'\n                            defaultMessage='Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.'\n                        />\n                    </span>\n                );\n            }\n\n            const inputs = [];\n            inputs.push(\n                <div\n                    key='mfaSetting'\n                    className='padding-top'\n                >\n                    {content}\n                </div>\n            );\n\n            updateSectionStatus = function resetSection(e) {\n                this.props.updateSection('');\n                this.setState({serverError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication')}\n                    inputs={inputs}\n                    extraInfo={extraInfo}\n                    submit={submit}\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                    width='medium'\n                />\n            );\n        }\n\n        let describe;\n        if (this.props.user.mfa_active) {\n            describe = Utils.localizeMessage('user.settings.security.active', 'Active');\n        } else {\n            describe = Utils.localizeMessage('user.settings.security.inactive', 'Inactive');\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('mfa');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication')}\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    createPasswordSection = () => {\n        let updateSectionStatus;\n\n        if (this.props.activeSection === 'password') {\n            const inputs = [];\n            let submit;\n\n            if (this.props.user.auth_service === '') {\n                submit = this.submitPassword;\n\n                inputs.push(\n                    <div\n                        key='currentPasswordUpdateForm'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.security.currentPassword'\n                                defaultMessage='Current Password'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='currentPassword'\n                                className='form-control'\n                                type='password'\n                                onChange={this.updateCurrentPassword}\n                                value={this.state.currentPassword}\n                            />\n                        </div>\n                    </div>\n                );\n                inputs.push(\n                    <div\n                        key='newPasswordUpdateForm'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.security.newPassword'\n                                defaultMessage='New Password'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='newPassword'\n                                className='form-control'\n                                type='password'\n                                onChange={this.updateNewPassword}\n                                value={this.state.newPassword}\n                            />\n                        </div>\n                    </div>\n                );\n                inputs.push(\n                    <div\n                        key='retypeNewPasswordUpdateForm'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.security.retypePassword'\n                                defaultMessage='Retype New Password'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='confirmPassword'\n                                className='form-control'\n                                type='password'\n                                onChange={this.updateConfirmPassword}\n                                value={this.state.confirmPassword}\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordGitlabCantUpdate'\n                                defaultMessage='Login occurs through GitLab. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordLdapCantUpdate'\n                                defaultMessage='Login occurs through AD/LDAP. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordSamlCantUpdate'\n                                defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordGoogleCantUpdate'\n                                defaultMessage='Login occurs through Google Apps. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordOffice365CantUpdate'\n                                defaultMessage='Login occurs through Office 365. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            }\n\n            updateSectionStatus = function resetSection(e) {\n                this.props.updateSection('');\n                this.setState({currentPassword: '', newPassword: '', confirmPassword: '', serverError: null, passwordError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            return (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.security.password'\n                            defaultMessage='Password'\n                        />\n                    }\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.savingPassword}\n                    server_error={this.state.serverError}\n                    client_error={this.state.passwordError}\n                    updateSection={updateSectionStatus}\n                />\n            );\n        }\n\n        let describe;\n\n        if (this.props.user.auth_service === '') {\n            const d = new Date(this.props.user.last_password_update);\n            const hours12 = !PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false);\n\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.lastUpdated'\n                    defaultMessage='Last updated {date} at {time}'\n                    values={{\n                        date: (\n                            <FormattedDate\n                                value={d}\n                                day='2-digit'\n                                month='short'\n                                year='numeric'\n                            />\n                        ),\n                        time: (\n                            <FormattedTime\n                                value={d}\n                                hour12={hours12}\n                                hour='2-digit'\n                                minute='2-digit'\n                            />\n                        )\n                    }}\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginGitlab'\n                    defaultMessage='Login done through GitLab'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginLdap'\n                    defaultMessage='Login done through AD/LDAP'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginSaml'\n                    defaultMessage='Login done through SAML'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginGoogle'\n                    defaultMessage='Login done through Google Apps'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginOffice365'\n                    defaultMessage='Login done through Office 365'\n                />\n            );\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('password');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={\n                    <FormattedMessage\n                        id='user.settings.security.password'\n                        defaultMessage='Password'\n                    />\n                }\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    createSignInSection = () => {\n        let updateSectionStatus;\n        const user = this.props.user;\n\n        if (this.props.activeSection === 'signin') {\n            let emailOption;\n            let gitlabOption;\n            let googleOption;\n            let office365Option;\n            let ldapOption;\n            let samlOption;\n\n            if (user.auth_service === '') {\n                if (global.window.mm_config.EnableSignUpWithGitLab === 'true') {\n                    gitlabOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.GITLAB_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchGitlab'\n                                    defaultMessage='Switch to using GitLab SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableSignUpWithGoogle === 'true') {\n                    googleOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.GOOGLE_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchGoogle'\n                                    defaultMessage='Switch to using Google SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableSignUpWithOffice365 === 'true') {\n                    office365Option = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.OFFICE365_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchOffice365'\n                                    defaultMessage='Switch to using Office 365 SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableLdap === 'true') {\n                    ldapOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_ldap?email=' + encodeURIComponent(user.email)}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchLdap'\n                                    defaultMessage='Switch to using AD/LDAP'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableSaml === 'true') {\n                    samlOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.SAML_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchSaml'\n                                    defaultMessage='Switch to using SAML SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n            } else if (global.window.mm_config.EnableSignUpWithEmail === 'true') {\n                let link;\n                if (user.auth_service === Constants.LDAP_SERVICE) {\n                    link = '/claim/ldap_to_email?email=' + encodeURIComponent(user.email);\n                } else {\n                    link = '/claim/oauth_to_email?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service;\n                }\n\n                emailOption = (\n                    <div className='padding-bottom x2'>\n                        <Link\n                            className='btn btn-primary'\n                            to={link}\n                        >\n                            <FormattedMessage\n                                id='user.settings.security.switchEmail'\n                                defaultMessage='Switch to using email and password'\n                            />\n                        </Link>\n                        <br/>\n                    </div>\n                );\n            }\n\n            const inputs = [];\n            inputs.push(\n                <div key='userSignInOption'>\n                    {emailOption}\n                    {gitlabOption}\n                    {googleOption}\n                    {office365Option}\n                    {ldapOption}\n                    {samlOption}\n                </div>\n            );\n\n            updateSectionStatus = function updateSection(e) {\n                this.props.updateSection('');\n                this.setState({serverError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            const extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.security.oneSignin'\n                        defaultMessage='You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.'\n                    />\n                </span>\n            );\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.security.method', 'Sign-in Method')}\n                    extraInfo={extraInfo}\n                    inputs={inputs}\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                />\n            );\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('signin');\n        }.bind(this);\n\n        let describe = (\n            <FormattedMessage\n                id='user.settings.security.emailPwd'\n                defaultMessage='Email and Password'\n            />\n        );\n        if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.gitlab'\n                    defaultMessage='GitLab'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.google'\n                    defaultMessage='Google'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.office365'\n                    defaultMessage='Office 365'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.ldap'\n                    defaultMessage='AD/LDAP'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.saml'\n                    defaultMessage='SAML'\n                />\n            );\n        }\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.security.method', 'Sign-in Method')}\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    createOAuthAppsSection = () => {\n        let updateSectionStatus;\n\n        if (this.props.activeSection === 'apps') {\n            let apps;\n            if (this.state.authorizedApps && this.state.authorizedApps.length > 0) {\n                apps = this.state.authorizedApps.map((app) => {\n                    const homepage = (\n                        <a\n                            href={app.homepage}\n                            target='_blank'\n                            rel='noopener noreferrer'\n                        >\n                            {app.homepage}\n                        </a>\n                    );\n\n                    return (\n                        <div\n                            key={app.id}\n                            className='padding-bottom x2 authorized-app'\n                        >\n                            <div className='col-sm-10'>\n                                <div className='authorized-app__name'>\n                                    {app.name}\n                                    <span className='authorized-app__url'>\n                                        {' -'} {homepage}\n                                    </span>\n                                </div>\n                                <div className='authorized-app__description'>{app.description}</div>\n                                <div className='authorized-app__deauthorize'>\n                                    <a\n                                        href='#'\n                                        data-app={app.id}\n                                        onClick={this.deauthorizeApp}\n                                    >\n                                        <FormattedMessage\n                                            id='user.settings.security.deauthorize'\n                                            defaultMessage='Deauthorize'\n                                        />\n                                    </a>\n                                </div>\n                            </div>\n                            <div className='col-sm-2 pull-right'>\n                                <img\n                                    alt={app.name}\n                                    src={app.icon_url || icon50}\n                                />\n                            </div>\n                            <br/>\n                        </div>\n                    );\n                });\n            } else {\n                apps = (\n                    <div className='padding-bottom x2 authorized-app'>\n                        <div className='setting-list__hint'>\n                            <FormattedMessage\n                                id='user.settings.security.noApps'\n                                defaultMessage='No OAuth 2.0 Applications are authorized.'\n                            />\n                        </div>\n                    </div>\n                );\n            }\n\n            const inputs = [];\n            let wrapperClass;\n            let helpText;\n            if (Array.isArray(apps)) {\n                wrapperClass = 'authorized-apps__wrapper';\n\n                helpText = (\n                    <div className='authorized-apps__help'>\n                        <FormattedMessage\n                            id='user.settings.security.oauthAppsHelp'\n                            defaultMessage='Applications act on your behalf to access your data based on the permissions you grant them.'\n                        />\n                    </div>\n                );\n            }\n\n            inputs.push(\n                <div\n                    className={wrapperClass}\n                    key='authorizedApps'\n                >\n                    {apps}\n                </div>\n            );\n\n            updateSectionStatus = function updateSection(e) {\n                this.props.updateSection('');\n                this.setState({serverError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            const title = (\n                <div>\n                    <FormattedMessage\n                        id='user.settings.security.oauthApps'\n                        defaultMessage='OAuth 2.0 Applications'\n                    />\n                    {helpText}\n                </div>\n            );\n\n            return (\n                <SettingItemMax\n                    title={title}\n                    inputs={inputs}\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                    width='full'\n                    cancelButtonText={\n                        <FormattedMessage\n                            id='user.settings.security.close'\n                            defaultMessage='Close'\n                        />\n                    }\n                />\n            );\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('apps');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.security.oauthApps', 'OAuth 2.0 Applications')}\n                describe={\n                    <FormattedMessage\n                        id='user.settings.security.oauthAppsDescription'\n                        defaultMessage=\"Click 'Edit' to manage your OAuth 2.0 Applications\"\n                    />\n                }\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    startCreatingToken = () => {\n        this.setState({tokenCreationState: TOKEN_CREATING});\n    }\n\n    stopCreatingToken = () => {\n        this.setState({tokenCreationState: TOKEN_NOT_CREATING});\n    }\n\n    handleCreateToken = async () => {\n        this.handleCancelConfirm();\n\n        const description = this.refs.newtokendescription ? this.refs.newtokendescription.value : '';\n\n        if (description === '') {\n            this.setState({tokenError: Utils.localizeMessage('user.settings.tokens.nameRequired', 'Please enter a description.')});\n            return;\n        }\n\n        this.setState({tokenError: ''});\n\n        const userId = this.props.user ? this.props.user.id : '';\n        const {data, error} = await this.props.actions.createUserAccessToken(userId, description);\n\n        if (data) {\n            this.setState({tokenCreationState: TOKEN_CREATED, newToken: data});\n        } else if (error) {\n            this.setState({serverError: error.message});\n        }\n    }\n\n    handleCancelConfirm = () => {\n        this.setState({\n            showConfirmModal: false,\n            confirmTitle: null,\n            confirmMessage: null,\n            confirmButton: null,\n            confirmComplete: null\n        });\n    }\n\n    confirmCreateToken = () => {\n        if (UserUtils.isSystemAdmin(this.props.user.roles)) {\n            this.setState({\n                showConfirmModal: true,\n                confirmTitle: (\n                    <FormattedMessage\n                        id='user.settings.tokens.confirmCreateTitle'\n                        defaultMessage='Create System Admin Personal Access Token'\n                    />\n                ),\n                confirmMessage: (\n                    <div className='alert alert-danger'>\n                        <FormattedHTMLMessage\n                            id='user.settings.tokens.confirmCreateMessage'\n                            defaultMessage='You are generating a personal access token with System Admin permissions. Are you sure want to create this token?'\n                        />\n                    </div>\n                ),\n                confirmButton: (\n                    <FormattedMessage\n                        id='user.settings.tokens.confirmCreateButton'\n                        defaultMessage='Yes, Create'\n                    />\n                ),\n                confirmComplete: () => {\n                    this.handleCreateToken();\n                    trackEvent('settings', 'system_admin_create_user_access_token');\n                }\n            });\n\n            return;\n        }\n\n        this.handleCreateToken();\n    }\n\n    saveTokenKeyPress = (e) => {\n        if (e.which === Constants.KeyCodes.ENTER) {\n            this.confirmCreateToken();\n        }\n    }\n\n    confirmRevokeToken = (tokenId) => {\n        const token = this.props.userAccessTokens[tokenId];\n\n        this.setState({\n            showConfirmModal: true,\n            confirmTitle: (\n                <FormattedMessage\n                    id='user.settings.tokens.confirmDeleteTitle'\n                    defaultMessage='Delete Token?'\n                />\n            ),\n            confirmMessage: (\n                <div className='alert alert-danger'>\n                    <FormattedHTMLMessage\n                        id='user.settings.tokens.confirmDeleteMessage'\n                        defaultMessage='Any integrations using this token will no longer be able to access the Mattermost API. You cannot undo this action. <br /><br />Are you sure want to delete the {description} token?'\n                        values={{\n                            description: token.description\n                        }}\n                    />\n                </div>\n            ),\n            confirmButton: (\n                <FormattedMessage\n                    id='user.settings.tokens.confirmDeleteButton'\n                    defaultMessage='Yes, Delete'\n                />\n            ),\n            confirmComplete: () => {\n                this.revokeToken(tokenId);\n                trackEvent('settings', 'revoke_user_access_token');\n            }\n        });\n    }\n\n    revokeToken = async (tokenId) => {\n        const {error} = await this.props.actions.revokeUserAccessToken(tokenId);\n        if (error) {\n            this.setState({serverError: error.message});\n        }\n        this.handleCancelConfirm();\n    }\n\n    activateToken = async (tokenId) => {\n        const {error} = await this.props.actions.enableUserAccessToken(tokenId);\n        if (error) {\n            this.setState({serverError: error.message});\n        } else {\n            trackEvent('settings', 'activate_user_access_token');\n        }\n    }\n\n    deactivateToken = async (tokenId) => {\n        const {error} = await this.props.actions.disableUserAccessToken(tokenId);\n        if (error) {\n            this.setState({serverError: error.message});\n        } else {\n            trackEvent('settings', 'deactivate_user_access_token');\n        }\n    }\n\n    createTokensSection = () => {\n        let updateSectionStatus;\n        let tokenListClass = '';\n\n        if (this.props.activeSection === 'tokens') {\n            const tokenList = [];\n            Object.values(this.props.userAccessTokens).forEach((token) => {\n                if (this.state.newToken && this.state.newToken.id === token.id) {\n                    return;\n                }\n\n                let activeLink;\n                let activeStatus;\n\n                if (token.is_active) {\n                    activeLink = (\n                        <a\n                            name={token.id + '_deactivate'}\n                            href='#'\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.deactivateToken(token.id);\n                            }}\n                        >\n                            <FormattedMessage\n                                id='user.settings.tokens.deactivate'\n                                defaultMessage='Deactivate'\n                            />\n                        </a>);\n                } else {\n                    activeStatus = (\n                        <span className='has-error setting-box__inline-error'>\n                            <FormattedMessage\n                                id='user.settings.tokens.deactivatedWarning'\n                                defaultMessage='(Inactive)'\n                            />\n                        </span>\n                    );\n                    activeLink = (<a\n                        name={token.id + '_activate'}\n                        href='#'\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.activateToken(token.id);\n                        }}\n                                  >\n                        <FormattedMessage\n                            id='user.settings.tokens.activate'\n                            defaultMessage='Activate'\n                        />\n                    </a>);\n                }\n\n                tokenList.push(\n                    <div\n                        key={token.id}\n                        className='setting-box__item'\n                    >\n                        <div className='whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.tokenDesc'\n                                defaultMessage='Token Description: '\n                            />\n                            {token.description}\n                            {activeStatus}\n                        </div>\n                        <div className='setting-box__token-id whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.tokenId'\n                                defaultMessage='Token ID: '\n                            />\n                            {token.id}\n                        </div>\n                        <div>\n                            {activeLink}\n                            {' - '}\n                            <a\n                                name={token.id + '_delete'}\n                                href='#'\n                                onClick={(e) => {\n                                    e.preventDefault();\n                                    this.confirmRevokeToken(token.id);\n                                }}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.tokens.delete'\n                                    defaultMessage='Delete'\n                                />\n                            </a>\n                        </div>\n                        <hr className='margin-bottom margin-top x2'/>\n                    </div>\n                );\n            });\n\n            let noTokenText;\n            if (tokenList.length === 0) {\n                noTokenText = (\n                    <FormattedMessage\n                        key='notokens'\n                        id='user.settings.tokens.userAccessTokensNone'\n                        defaultMessage='No personal access tokens.'\n                    />\n                );\n            }\n\n            let extraInfo;\n            if (isMobile()) {\n                extraInfo = (\n                    <span>\n                        <FormattedHTMLMessage\n                            id='user.settings.tokens.description_mobile'\n                            defaultMessage='<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similarly to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>. Create new tokens on your desktop.'\n                        />\n                    </span>\n                );\n            } else {\n                extraInfo = (\n                    <span>\n                        <FormattedHTMLMessage\n                            id='user.settings.tokens.description'\n                            defaultMessage='<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similarly to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>.'\n                        />\n                    </span>\n                );\n            }\n\n            let newTokenSection;\n            if (this.state.tokenCreationState === TOKEN_CREATING) {\n                newTokenSection = (\n                    <div className='padding-left x2'>\n                        <div className='row'>\n                            <label className='col-sm-auto control-label padding-right x2'>\n                                <FormattedMessage\n                                    id='user.settings.tokens.name'\n                                    defaultMessage='Token Description: '\n                                />\n                            </label>\n                            <div className='col-sm-5'>\n                                <input\n                                    ref='newtokendescription'\n                                    className='form-control'\n                                    type='text'\n                                    maxLength={64}\n                                    onKeyPress={this.saveTokenKeyPress}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <div className='padding-top x2'>\n                                <FormattedMessage\n                                    id='user.settings.tokens.nameHelp'\n                                    defaultMessage='Enter a description for your token to remember what it does.'\n                                />\n                            </div>\n                            <div>\n                                <label\n                                    id='clientError'\n                                    className='has-error margin-top margin-bottom'\n                                >\n                                    {this.state.tokenError}\n                                </label>\n                            </div>\n                            <button\n                                className='btn btn-primary'\n                                onClick={this.confirmCreateToken}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.tokens.save'\n                                    defaultMessage='Save'\n                                />\n                            </button>\n                            <button\n                                className='btn btn-default'\n                                onClick={this.stopCreatingToken}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.tokens.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                        </div>\n                    </div>\n                );\n            } else if (this.state.tokenCreationState === TOKEN_CREATED) {\n                if (tokenList.length === 0) {\n                    tokenListClass = ' hidden';\n                }\n\n                newTokenSection = (\n                    <div\n                        className='alert alert-warning'\n                    >\n                        <i className='fa fa-warning margin-right'/>\n                        <FormattedMessage\n                            id='user.settings.tokens.copy'\n                            defaultMessage=\"Please copy the access token below. You won't be able to see it again!\"\n                        />\n                        <br/>\n                        <br/>\n                        <div className='whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.name'\n                                defaultMessage='Token Description: '\n                            />\n                            {this.state.newToken.description}\n                        </div>\n                        <div className='whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.id'\n                                defaultMessage='Token ID: '\n                            />\n                            {this.state.newToken.id}\n                        </div>\n                        <strong className='word-break--all'>\n                            <FormattedMessage\n                                id='user.settings.tokens.token'\n                                defaultMessage='Access Token: '\n                            />\n                            {this.state.newToken.token}\n                        </strong>\n                    </div>\n                );\n            } else {\n                newTokenSection = (\n                    <a\n                        className='btn btn-primary'\n                        href='#'\n                        onClick={this.startCreatingToken}\n                    >\n                        <FormattedMessage\n                            id='user.settings.tokens.create'\n                            defaultMessage='Create New Token'\n                        />\n                    </a>\n                );\n            }\n\n            const inputs = [];\n            inputs.push(\n                <div\n                    key='tokensSetting'\n                    className='padding-top'\n                >\n                    <div key='tokenList'>\n                        <div className={'alert alert-transparent' + tokenListClass}>\n                            {tokenList}\n                            {noTokenText}\n                        </div>\n                        {newTokenSection}\n                    </div>\n                </div>\n            );\n\n            updateSectionStatus = function resetSection(e) {\n                this.props.updateSection('');\n                this.setState({newToken: null, tokenCreationState: TOKEN_NOT_CREATING, serverError: null, tokenError: ''});\n                e.preventDefault();\n            }.bind(this);\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens')}\n                    inputs={inputs}\n                    extraInfo={extraInfo}\n                    infoPosition='top'\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                    width='full'\n                    cancelButtonText={\n                        <FormattedMessage\n                            id='user.settings.security.close'\n                            defaultMessage='Close'\n                        />\n                    }\n                />\n            );\n        }\n\n        const describe = Utils.localizeMessage('user.settings.tokens.clickToEdit', \"Click 'Edit' to manage your personal access tokens\");\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('tokens');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens')}\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    render() {\n        const user = this.props.user;\n        const config = window.mm_config;\n\n        const passwordSection = this.createPasswordSection();\n\n        let numMethods = 0;\n        numMethods = config.EnableSignUpWithGitLab === 'true' ? numMethods + 1 : numMethods;\n        numMethods = config.EnableSignUpWithGoogle === 'true' ? numMethods + 1 : numMethods;\n        numMethods = config.EnableLdap === 'true' ? numMethods + 1 : numMethods;\n        numMethods = config.EnableSaml === 'true' ? numMethods + 1 : numMethods;\n\n        // If there are other sign-in methods and either email is enabled or the user's account is email, then allow switching\n        let signInSection;\n        if ((config.EnableSignUpWithEmail === 'true' || user.auth_service === '') &&\n            numMethods > 0 && config.ExperimentalEnableAuthenticationTransfer === 'true') {\n            signInSection = this.createSignInSection();\n        }\n\n        let mfaSection;\n        if (config.EnableMultifactorAuthentication === 'true' &&\n                global.window.mm_license.IsLicensed === 'true' &&\n                (user.auth_service === '' || user.auth_service === Constants.LDAP_SERVICE)) {\n            mfaSection = this.createMfaSection();\n        }\n\n        let oauthSection;\n        if (config.EnableOAuthServiceProvider === 'true') {\n            oauthSection = this.createOAuthAppsSection();\n        }\n\n        let tokensSection;\n        if (this.props.canUseAccessTokens) {\n            tokensSection = this.createTokensSection();\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label={Utils.localizeMessage('user.settings.security.close', 'Close')}\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.security.title'\n                            defaultMessage='Security Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.security.title'\n                            defaultMessage='Security Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {passwordSection}\n                    <div className='divider-light'/>\n                    {mfaSection}\n                    <div className='divider-light'/>\n                    {oauthSection}\n                    <div className='divider-light'/>\n                    {tokensSection}\n                    <div className='divider-light'/>\n                    {signInSection}\n                    <div className='divider-dark'/>\n                    <br/>\n                    <ToggleModalButton\n                        className='security-links color--link'\n                        dialogType={AccessHistoryModal}\n                    >\n                        <i className='fa fa-clock-o'/>\n                        <FormattedMessage\n                            id='user.settings.security.viewHistory'\n                            defaultMessage='View Access History'\n                        />\n                    </ToggleModalButton>\n                    <ToggleModalButton\n                        className='security-links color--link margin-top'\n                        dialogType={ActivityLogModal}\n                    >\n                        <i className='fa fa-clock-o'/>\n                        <FormattedMessage\n                            id='user.settings.security.logoutActiveSessions'\n                            defaultMessage='View and Logout of Active Sessions'\n                        />\n                    </ToggleModalButton>\n                </div>\n                <ConfirmModal\n                    title={this.state.confirmTitle}\n                    message={this.state.confirmMessage}\n                    confirmButtonText={this.state.confirmButton}\n                    show={this.state.showConfirmModal}\n                    onConfirm={this.state.confirmComplete || (() => {})} //eslint-disable-line no-empty-function\n                    onCancel={this.handleCancelConfirm}\n                />\n            </div>\n        );\n    }\n}\n\nSecurityTab.defaultProps = {\n    user: {},\n    activeSection: ''\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_security/user_settings_security.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getUserAudits} from 'mattermost-redux/actions/users';\n\nimport AccessHistoryModal from './access_history_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getUserAudits\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccessHistoryModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/access_history_modal/index.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport AuditTable from 'components/audit_table.jsx';\nimport LoadingScreen from 'components/loading_screen.jsx';\n\nexport default class AccessHistoryModal extends React.Component {\n    static propTypes = {\n        onHide: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            getUserAudits: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.onAuditChange = this.onAuditChange.bind(this);\n        this.onShow = this.onShow.bind(this);\n        this.onHide = this.onHide.bind(this);\n\n        const state = this.getStateFromStoresForAudits();\n        state.moreInfo = [];\n        state.show = true;\n\n        this.state = state;\n    }\n\n    getStateFromStoresForAudits() {\n        return {\n            audits: UserStore.getAudits()\n        };\n    }\n\n    onShow() {\n        this.props.actions.getUserAudits(UserStore.getCurrentId(), 0, 200);\n        if (!Utils.isMobile()) {\n            $('.modal-body').perfectScrollbar();\n        }\n    }\n\n    onHide() {\n        this.setState({show: false});\n    }\n\n    componentDidMount() {\n        UserStore.addAuditsChangeListener(this.onAuditChange);\n        this.onShow();\n    }\n\n    componentWillUnmount() {\n        UserStore.removeAuditsChangeListener(this.onAuditChange);\n    }\n\n    onAuditChange() {\n        const newState = this.getStateFromStoresForAudits();\n        if (!Utils.areObjectsEqual(newState.audits, this.state.audits)) {\n            this.setState(newState);\n        }\n    }\n\n    render() {\n        let content;\n        if (this.state.audits.length === 0) {\n            content = (<LoadingScreen/>);\n        } else {\n            content = (\n                <AuditTable\n                    audits={this.state.audits}\n                    showIp={true}\n                    showSession={true}\n                />\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='modal--scroll'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                bsSize='large'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='access_history.title'\n                            defaultMessage='Access History'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    {content}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/access_history_modal/access_history_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getSessions, revokeSession} from 'mattermost-redux/actions/users';\n\nimport ActivityLogModal from './activity_log_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getSessions,\n            revokeSession\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityLogModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/activity_log_modal/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedDate, FormattedMessage, FormattedTime} from 'react-intl';\n\nimport {General} from 'mattermost-redux/constants';\n\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport LoadingScreen from 'components/loading_screen.jsx';\n\nexport default class ActivityLogModal extends React.Component {\n    static propTypes = {\n        onHide: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            getSessions: PropTypes.func.isRequired,\n            revokeSession: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.submitRevoke = this.submitRevoke.bind(this);\n        this.onListenerChange = this.onListenerChange.bind(this);\n        this.handleMoreInfo = this.handleMoreInfo.bind(this);\n        this.onHide = this.onHide.bind(this);\n        this.onShow = this.onShow.bind(this);\n\n        const state = this.getStateFromStores();\n        state.moreInfo = [];\n        state.show = true;\n\n        this.state = state;\n    }\n\n    getStateFromStores() {\n        return {\n            sessions: UserStore.getSessions(),\n            clientError: null\n        };\n    }\n\n    submitRevoke(altId, e) {\n        e.preventDefault();\n        var modalContent = $(e.target).closest('.modal-content');\n        modalContent.addClass('animation--highlight');\n        setTimeout(() => {\n            modalContent.removeClass('animation--highlight');\n        }, 1500);\n        this.props.actions.revokeSession(UserStore.getCurrentId(), altId).then(() => {\n            this.props.actions.getSessions(UserStore.getCurrentId());\n        });\n    }\n\n    onShow() {\n        this.props.actions.getSessions(UserStore.getCurrentId());\n        if (!Utils.isMobile()) {\n            $('.modal-body').perfectScrollbar();\n        }\n    }\n\n    onHide() {\n        this.setState({show: false});\n    }\n\n    componentDidMount() {\n        UserStore.addSessionsChangeListener(this.onListenerChange);\n        this.onShow();\n    }\n\n    componentWillUnmount() {\n        UserStore.removeSessionsChangeListener(this.onListenerChange);\n    }\n\n    onListenerChange() {\n        const newState = this.getStateFromStores();\n        if (!Utils.areObjectsEqual(newState.sessions, this.state.sessions)) {\n            this.setState(newState);\n        }\n    }\n\n    handleMoreInfo(index) {\n        const newMoreInfo = this.state.moreInfo;\n        newMoreInfo[index] = true;\n        this.setState({moreInfo: newMoreInfo});\n    }\n\n    isMobileSession = (session) => {\n        return session.device_id && (session.device_id.includes('apple') || session.device_id.includes('android'));\n    };\n\n    mobileSessionInfo = (session) => {\n        let deviceTypeId;\n        let deviceTypeMessage;\n        let devicePicture;\n\n        if (session.device_id.includes('apple')) {\n            devicePicture = 'fa fa-apple';\n            deviceTypeId = 'activity_log_modal.iphoneNativeClassicApp';\n            deviceTypeMessage = 'iPhone Native Classic App';\n\n            if (session.device_id.includes(General.PUSH_NOTIFY_APPLE_REACT_NATIVE)) {\n                deviceTypeId = 'activity_log_modal.iphoneNativeApp';\n                deviceTypeMessage = 'iPhone Native App';\n            }\n        } else if (session.device_id.includes('android')) {\n            devicePicture = 'fa fa-android';\n            deviceTypeId = 'activity_log_modal.androidNativeClassicApp';\n            deviceTypeMessage = 'Android Native Classic App';\n\n            if (session.device_id.includes(General.PUSH_NOTIFY_ANDROID_REACT_NATIVE)) {\n                deviceTypeId = 'activity_log_modal.androidNativeApp';\n                deviceTypeMessage = 'Android Native App';\n            }\n        }\n\n        return {\n            devicePicture,\n            devicePlatform: (\n                <FormattedMessage\n                    id={deviceTypeId}\n                    defaultMessage={deviceTypeMessage}\n                />\n            )\n        };\n    };\n\n    render() {\n        const activityList = [];\n\n        for (let i = 0; i < this.state.sessions.length; i++) {\n            const currentSession = this.state.sessions[i];\n            const lastAccessTime = new Date(currentSession.last_activity_at);\n            const firstAccessTime = new Date(currentSession.create_at);\n            let devicePlatform = currentSession.props.platform;\n            let devicePicture = '';\n\n            if (currentSession.props.type === 'UserAccessToken') {\n                continue;\n            }\n\n            if (currentSession.props.platform === 'Windows') {\n                devicePicture = 'fa fa-windows';\n            } else if (this.isMobileSession(currentSession)) {\n                const sessionInfo = this.mobileSessionInfo(currentSession);\n\n                devicePicture = sessionInfo.devicePicture;\n                devicePlatform = sessionInfo.devicePlatform;\n            } else if (currentSession.props.platform === 'Macintosh' ||\n                currentSession.props.platform === 'iPhone') {\n                devicePicture = 'fa fa-apple';\n            } else if (currentSession.props.platform === 'Linux') {\n                if (currentSession.props.os.indexOf('Android') >= 0) {\n                    devicePlatform = (\n                        <FormattedMessage\n                            id='activity_log_modal.android'\n                            defaultMessage='Android'\n                        />\n                    );\n                    devicePicture = 'fa fa-android';\n                } else {\n                    devicePicture = 'fa fa-linux';\n                }\n            } else if (currentSession.props.os.indexOf('Linux') !== -1) {\n                devicePicture = 'fa fa-linux';\n            }\n\n            if (currentSession.props.browser.indexOf('Desktop App') !== -1) {\n                devicePlatform = (\n                    <FormattedMessage\n                        id='activity_log_modal.desktop'\n                        defaultMessage='Native Desktop App'\n                    />\n                );\n            }\n\n            let moreInfo;\n            if (this.state.moreInfo[i]) {\n                moreInfo = (\n                    <div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.firstTime'\n                                defaultMessage='First time active: {date}, {time}'\n                                values={{\n                                    date: (\n                                        <FormattedDate\n                                            value={firstAccessTime}\n                                            day='2-digit'\n                                            month='long'\n                                            year='numeric'\n                                        />\n                                    ),\n                                    time: (\n                                        <FormattedTime\n                                            value={firstAccessTime}\n                                            hour='2-digit'\n                                            minute='2-digit'\n                                        />\n                                    )\n                                }}\n                            />\n                        </div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.os'\n                                defaultMessage='OS: {os}'\n                                values={{\n                                    os: currentSession.props.os\n                                }}\n                            />\n                        </div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.browser'\n                                defaultMessage='Browser: {browser}'\n                                values={{\n                                    browser: currentSession.props.browser\n                                }}\n                            />\n                        </div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.sessionId'\n                                defaultMessage='Session ID: {id}'\n                                values={{\n                                    id: currentSession.id\n                                }}\n                            />\n                        </div>\n                    </div>\n                );\n            } else {\n                moreInfo = (\n                    <a\n                        className='theme'\n                        href='#'\n                        onClick={this.handleMoreInfo.bind(this, i)}\n                    >\n                        <FormattedMessage\n                            id='activity_log.moreInfo'\n                            defaultMessage='More info'\n                        />\n                    </a>\n                );\n            }\n\n            activityList[i] = (\n                <div\n                    key={'activityLogEntryKey' + i}\n                    className='activity-log__table'\n                >\n                    <div className='activity-log__report'>\n                        <div className='report__platform'><i className={devicePicture}/>{devicePlatform}</div>\n                        <div className='report__info'>\n                            <div>\n                                <FormattedMessage\n                                    id='activity_log.lastActivity'\n                                    defaultMessage='Last activity: {date}, {time}'\n                                    values={{\n                                        date: (\n                                            <FormattedDate\n                                                value={lastAccessTime}\n                                                day='2-digit'\n                                                month='long'\n                                                year='numeric'\n                                            />\n                                        ),\n                                        time: (\n                                            <FormattedTime\n                                                value={lastAccessTime}\n                                                hour='2-digit'\n                                                minute='2-digit'\n                                            />\n                                        )\n                                    }}\n                                />\n                            </div>\n                            {moreInfo}\n                        </div>\n                    </div>\n                    <div className='activity-log__action'>\n                        <button\n                            onClick={this.submitRevoke.bind(this, currentSession.id)}\n                            className='btn btn-primary'\n                        >\n                            <FormattedMessage\n                                id='activity_log.logout'\n                                defaultMessage='Logout'\n                            />\n                        </button>\n                    </div>\n                </div>\n            );\n        }\n\n        let content;\n        if (this.state.sessions.loading) {\n            content = <LoadingScreen/>;\n        } else {\n            content = <form role='form'>{activityList}</form>;\n        }\n\n        return (\n            <Modal\n                dialogClassName='modal--scroll'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                bsSize='large'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='activity_log.activeSessions'\n                            defaultMessage='Active Sessions'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    <p className='session-help-text'>\n                        <FormattedMessage\n                            id='activity_log.sessionsDescription'\n                            defaultMessage=\"Sessions are created when you log in to a new browser on a device. Sessions let you use Mattermost without having to log in again for a time period specified by the System Admin. If you want to log out sooner, use the 'Logout' button below to end a session.\"\n                        />\n                    </p>\n                    {content}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/activity_log_modal/activity_log_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {savePreferences} from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nimport SettingItemMax from '../setting_item_max.jsx';\nimport SettingItemMin from '../setting_item_min.jsx';\n\nexport default class SidebarSettingsDisplay extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.getStateFromStores = this.getStateFromStores.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.updateSetting = this.updateSetting.bind(this);\n\n        this.renderAutoCloseDMSection = this.renderAutoCloseDMSection.bind(this);\n\n        this.state = this.getStateFromStores();\n    }\n\n    getStateFromStores() {\n        const settings = {\n            close_unused_direct_messages: PreferenceStore.get(\n                Constants.Preferences.CATEGORY_SIDEBAR_SETTINGS,\n                'close_unused_direct_messages',\n                'after_seven_days'\n            )\n        };\n\n        return {\n            settings,\n            isSaving: false\n        };\n    }\n\n    updateSetting(setting, value) {\n        const settings = this.state.settings;\n        settings[setting] = value;\n        this.setState(settings);\n    }\n\n    handleSubmit(setting) {\n        const preferences = [];\n        const userId = UserStore.getCurrentId();\n\n        preferences.push({\n            user_id: userId,\n            category: Constants.Preferences.CATEGORY_SIDEBAR_SETTINGS,\n            name: setting,\n            value: this.state.settings[setting]\n        });\n\n        this.setState({isSaving: true});\n\n        savePreferences(\n            preferences,\n            () => {\n                this.updateSection('');\n            }\n        );\n    }\n\n    updateSection(section) {\n        if (!section) {\n            this.setState(this.getStateFromStores());\n        }\n        this.setState({isSaving: false});\n        this.props.updateSection(section);\n    }\n\n    renderAutoCloseDMLabel(value) {\n        if (value === 'after_seven_days') {\n            return (\n                <FormattedMessage\n                    id='user.settings.sidebar.after_seven_days'\n                    defaultMessage='After 7 days with no new messages'\n                />\n            );\n        }\n\n        return (\n            <FormattedMessage\n                id='user.settings.sidebar.never'\n                defaultMessage='Never'\n            />\n        );\n    }\n\n    renderAutoCloseDMSection() {\n        if (this.props.activeSection === 'autoCloseDM') {\n            return (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.sidebar.autoCloseDMTitle'\n                            defaultMessage='Automatically Close Direct Messages'\n                        />\n                    }\n                    inputs={[\n                        <div key='autoCloseDMSetting'>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='autoCloseDMAfterSevenDays'\n                                        type='radio'\n                                        name='autoCloseDM'\n                                        checked={this.state.settings.close_unused_direct_messages === 'after_seven_days'}\n                                        onChange={this.updateSetting.bind(this, 'close_unused_direct_messages', 'after_seven_days')}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.sidebar.after_seven_days'\n                                        defaultMessage='After 7 days with no new messages'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='autoCloseDMNever'\n                                        type='radio'\n                                        name='autoCloseDM'\n                                        checked={this.state.settings.close_unused_direct_messages === 'never'}\n                                        onChange={this.updateSetting.bind(this, 'close_unused_direct_messages', 'never')}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.sidebar.never'\n                                        defaultMessage='Never'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div>\n                                <br/>\n                                <FormattedMessage\n                                    id='user.settings.sidebar.autoCloseDMDesc'\n                                    defaultMessage='Direct Message conversations can be reopened with the + button in the sidebar or using the Channel Switcher (CTRL+K).'\n                                />\n                            </div>\n                        </div>\n                    ]}\n                    submit={() => this.handleSubmit('close_unused_direct_messages')}\n                    saving={this.state.isSaving}\n                    server_error={this.state.serverError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        }\n\n        return (\n            <SettingItemMin\n                title={\n                    <FormattedMessage\n                        id='user.settings.sidebar.autoCloseDMTitle'\n                        defaultMessage='Automatically Close Direct Messages'\n                    />\n                }\n                describe={this.renderAutoCloseDMLabel(this.state.settings.close_unused_direct_messages)}\n                updateSection={() => this.props.updateSection('autoCloseDM')}\n            />\n        );\n    }\n\n    render() {\n        const autoCloseDMSection = this.renderAutoCloseDMSection();\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.sidebar.title'\n                            defaultMessage='Sidebar Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.sidebar.title'\n                            defaultMessage='Sidebar Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {autoCloseDMSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nSidebarSettingsDisplay.propTypes = {\n    user: PropTypes.object,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    activeSection: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_sidebar.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as WebrtcActions from 'actions/webrtc_actions.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport WebSocketClient from 'client/web_websocket_client.jsx';\n\nimport {Constants, WebrtcActionTypes} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ring from 'images/ring.mp3';\n\nconst PreReleaseFeatures = Constants.PRE_RELEASE_FEATURES;\n\nexport default class WebrtcNotification extends React.Component {\n    constructor() {\n        super();\n\n        this.mounted = false;\n\n        this.closeNotification = this.closeNotification.bind(this);\n        this.onIncomingCall = this.onIncomingCall.bind(this);\n        this.onCancelCall = this.onCancelCall.bind(this);\n        this.onRhs = this.onRhs.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleAnswer = this.handleAnswer.bind(this);\n        this.handleTimeout = this.handleTimeout.bind(this);\n        this.stopRinging = this.stopRinging.bind(this);\n        this.closeRightHandSide = this.closeRightHandSide.bind(this);\n\n        this.state = {\n            userCalling: null,\n            rhsOpened: false\n        };\n    }\n\n    componentDidMount() {\n        WebrtcStore.addNotifyListener(this.onIncomingCall);\n        WebrtcStore.addChangedListener(this.onCancelCall);\n        WebrtcStore.addRhsChangedListener(this.onRhs);\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        WebrtcStore.removeNotifyListener(this.onIncomingCall);\n        WebrtcStore.removeChangedListener(this.onCancelCall);\n        WebrtcStore.removeRhsChangedListener(this.onRhs);\n        if (this.refs.ring) {\n            this.refs.ring.removeListener('ended', this.handleTimeout);\n        }\n        this.mounted = false;\n    }\n\n    componentDidUpdate() {\n        if (this.state.userCalling) {\n            this.refs.ring.addEventListener('ended', this.handleTimeout);\n        }\n    }\n\n    closeNotification() {\n        this.setState({\n            userCalling: null\n        });\n    }\n\n    stopRinging() {\n        if (this.refs.ring) {\n            this.refs.ring.pause();\n            this.refs.ring.currentTime = 0;\n        }\n        this.setState({userCalling: null});\n    }\n\n    closeRightHandSide(e) {\n        e.preventDefault();\n        GlobalActions.emitCloseRightHandSide();\n        setTimeout(() => {\n            $('.app__body .inner-wrap').addClass('move--left');\n        }, 0);\n    }\n\n    onIncomingCall(incoming) {\n        if (this.mounted) {\n            const userId = incoming.from_user_id;\n            const userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n            const featureEnabled = Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n\n            if (featureEnabled) {\n                if (WebrtcStore.isBusy()) {\n                    WebSocketClient.sendMessage('webrtc', {\n                        action: WebrtcActionTypes.BUSY,\n                        from_user_id: UserStore.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                } else if (userMedia) {\n                    WebrtcStore.setVideoCallWith(userId);\n                    this.setState({\n                        userCalling: UserStore.getProfile(userId)\n                    });\n                } else {\n                    WebSocketClient.sendMessage('webrtc', {\n                        action: WebrtcActionTypes.UNSUPPORTED,\n                        from_user_id: UserStore.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                }\n            } else {\n                WebSocketClient.sendMessage('webrtc', {\n                    action: WebrtcActionTypes.DISABLED,\n                    from_user_id: UserStore.getCurrentId(),\n                    to_user_id: userId\n                });\n                this.stopRinging();\n            }\n        }\n    }\n\n    onCancelCall(message) {\n        if (message) {\n            if (message.action !== WebrtcActionTypes.CANCEL) {\n                return;\n            }\n            if (this.state.userCalling) {\n                if (message.from_user_uid === UserStore.getCurrentId() && message.calling_user_id === this.state.userCalling.id) {\n                    // Allow cancel message from ourselves when the calling user_id matches our current state.\n                } else if (message.from_user_id !== this.state.userCalling.id) {\n                    // Ignore cancel messages from user_ids which are not in our current state.\n                    return;\n                }\n            }\n        }\n\n        WebrtcStore.setVideoCallWith(null);\n        this.closeNotification();\n    }\n\n    onRhs(rhsOpened) {\n        this.setState({rhsOpened});\n    }\n\n    handleTimeout() {\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.NO_ANSWER,\n            from_user_id: UserStore.getCurrentId(),\n            to_user_id: this.state.userCalling.id\n        });\n\n        this.onCancelCall();\n    }\n\n    handleAnswer(e) {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const caller = this.state.userCalling;\n        if (caller) {\n            const callerId = caller.id;\n            const currentUserId = UserStore.getCurrentId();\n            const message = {\n                action: WebrtcActionTypes.ANSWER,\n                from_user_id: currentUserId,\n                to_user_id: callerId\n            };\n\n            GlobalActions.emitCloseRightHandSide();\n            WebrtcActions.initWebrtc(callerId, false);\n            WebSocketClient.sendMessage('webrtc', message);\n\n            // delay till next tick (this will give time to listen for events\n            setTimeout(() => {\n                //we switch from and to user to handle the event locally\n                message.from_user_id = callerId;\n                message.to_user_id = currentUserId;\n                WebrtcActions.handle(message);\n\n                // Notify current users sessions.\n                WebSocketClient.sendMessage('webrtc', {\n                    action: WebrtcActionTypes.CANCEL,\n                    from_user_id: currentUserId,\n                    to_user_id: currentUserId,\n                    calling_user_id: callerId\n                });\n            }, 0);\n\n            this.closeNotification();\n        }\n    }\n\n    handleClose(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        if (this.state.userCalling) {\n            // Notify current users sessions.\n            WebSocketClient.sendMessage('webrtc', {\n                action: WebrtcActionTypes.CANCEL,\n                from_user_id: UserStore.getCurrentId(),\n                to_user_id: UserStore.getCurrentId(),\n                calling_user_id: this.state.userCalling.id\n            });\n\n            WebSocketClient.sendMessage('webrtc', {\n                action: WebrtcActionTypes.DECLINE,\n                from_user_id: UserStore.getCurrentId(),\n                to_user_id: this.state.userCalling.id\n            });\n        }\n\n        this.onCancelCall();\n    }\n\n    render() {\n        const user = this.state.userCalling;\n        if (user) {\n            const username = Utils.displayUsername(user.id);\n            const profileImgSrc = Utils.imageURLForUser(user);\n            const profileImg = (\n                <img\n                    className='user-popover__image'\n                    src={profileImgSrc}\n                    height='128'\n                    width='128'\n                    key='user-popover-image'\n                />\n            );\n            const answerBtn = (\n                <svg\n                    className='webrtc-icons__pickup'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={this.handleAnswer}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.notification.answer'\n                                defaultMessage='Answer'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='translate(-10,-10)'\n                        fill='#fff'\n                        d='M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    />\n                </svg>\n            );\n\n            const rejectBtn = (\n                <svg\n                    className='webrtc-icons__cancel'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={this.handleClose}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.notification.decline'\n                                defaultMessage='Decline'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='scale(0.7), translate(11,10)'\n                        d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                        fill='white'\n                    />\n                </svg>\n            );\n\n            const msg = (\n                <div>\n                    <FormattedMessage\n                        id='webrtc.notification.incoming_call'\n                        defaultMessage='{username} is calling you.'\n                        values={{\n                            username\n                        }}\n                    />\n                    <div\n                        className='webrtc-buttons webrtc-icons active'\n                        style={{marginTop: '5px'}}\n                    >\n                        {answerBtn}\n                        {rejectBtn}\n                    </div>\n                </div>\n            );\n\n            return (\n                <div className='webrtc-notification'>\n                    <audio\n                        ref='ring'\n                        src={ring}\n                        autoPlay={true}\n                    />\n                    <div>\n                        {profileImg}\n                    </div>\n                    {msg}\n                </div>\n            );\n        } else if (this.state.rhsOpened && WebrtcStore.isBusy()) {\n            return (\n                <div\n                    className='webrtc__notification--rhs'\n                    onClick={this.closeRightHandSide}\n                >\n                    <i className='fa fa-phone'/>\n                    <FormattedMessage\n                        id='webrtc.notification.returnToCall'\n                        defaultMessage='Return to ongoing call with {username}'\n                        values={{\n                            username: Utils.displayUsername(WebrtcStore.getVideoCallWith())\n                        }}\n                    />\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_notification.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\n\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport WebrtcController from '../webrtc_controller.jsx';\n\nexport default class SidebarRight extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.plScrolledToBottom = true;\n\n        this.onShrink = this.onShrink.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n        this.onInitializeVideoCall = this.onInitializeVideoCall.bind(this);\n\n        this.doStrangeThings = this.doStrangeThings.bind(this);\n\n        this.state = {\n            expanded: false,\n            currentUser: UserStore.getCurrentUser(),\n            videoCallVisible: false,\n            isCaller: false,\n            videoCallWithUserId: null\n        };\n    }\n\n    componentDidMount() {\n        WebrtcStore.addInitListener(this.onInitializeVideoCall);\n        this.doStrangeThings();\n    }\n\n    componentWillUnmount() {\n        WebrtcStore.removeInitListener(this.onInitializeVideoCall);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return !Utils.areObjectsEqual(nextState, this.state);\n    }\n\n    doStrangeThings() {\n        // We should have a better way to do this stuff\n        // Hence the function name.\n        $('.app__body .inner-wrap').removeClass('move--right');\n        $('.app__body .inner-wrap').addClass('webrtc--show move--left');\n        $('.app__body .sidebar--left').removeClass('move--right');\n        $('.multi-teams .team-sidebar').removeClass('move--right');\n        $('.app__body .webrtc').addClass('webrtc--show');\n\n        //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n        if (!this.state.videoCallVisible) {\n            $('.app__body .inner-wrap').removeClass('webrtc--show move--left move--right');\n            $('.app__body .webrtc').removeClass('webrtc--show');\n            return (\n                <div/>\n            );\n        }\n        return null;\n    }\n\n    componentDidUpdate() {\n        this.doStrangeThings();\n    }\n\n    onShrink() {\n        this.setState({expanded: false});\n    }\n\n    toggleSize(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        this.setState((prevState) => {\n            return {expanded: !prevState.expanded};\n        });\n    }\n\n    onInitializeVideoCall(userId, isCaller) {\n        let expanded = this.state.expanded;\n        if (userId === null) {\n            expanded = false;\n        }\n        this.setState({\n            videoCallVisible: (userId !== null),\n            isCaller,\n            videoCallWithUserId: userId,\n            expanded\n        });\n\n        if (userId !== null) {\n            this.forceUpdate();\n        }\n    }\n\n    render() {\n        let content = null;\n        let expandedClass = '';\n\n        if (this.state.expanded) {\n            expandedClass = 'sidebar--right--expanded';\n        }\n\n        if (this.state.videoCallVisible) {\n            content = (\n                <WebrtcController\n                    currentUser={this.state.currentUser}\n                    userId={this.state.videoCallWithUserId}\n                    isCaller={this.state.isCaller}\n                    expanded={this.state.expanded}\n                    toggleSize={this.toggleSize}\n                />\n            );\n        }\n\n        return (\n            <div\n                className={'sidebar--right webrtc ' + expandedClass}\n                id='sidebar-webrtc'\n            >\n                <div\n                    onClick={this.onShrink}\n                    className='sidebar--right__bg'\n                />\n                <div className='sidebar-right-container'>\n                    {content}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_sidebar.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport Janus from 'janus';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport * as WebrtcActions from 'actions/webrtc_actions.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport WebSocketClient from 'client/web_websocket_client.jsx';\n\nimport {Constants, UserStatuses, WebrtcActionTypes} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ring from 'images/ring.mp3';\n\nimport ConnectingScreen from 'components/loading_screen.jsx';\n\nimport SearchBox from '../search_bar';\n\nimport WebrtcHeader from './components/webrtc_header.jsx';\n\nconst VIDEO_WIDTH = 640;\nconst VIDEO_HEIGHT = 360;\nconst MIN_ASPECT = 1.777;\nconst MAX_ASPECT = 1.778;\nconst ALREADY_REGISTERED_ERROR = 477;\nconst USERNAME_TAKEN = 476;\n\nexport default class WebrtcController extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.mounted = false;\n        this.localMedia = null;\n        this.session = null;\n        this.videocall = null;\n\n        this.handleResize = this.handleResize.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.close = this.close.bind(this);\n        this.clearError = this.clearError.bind(this);\n\n        this.getLocalMedia = this.getLocalMedia.bind(this);\n        this.stopMediaStream = this.stopMediaStream.bind(this);\n        this.previewVideo = this.previewVideo.bind(this);\n        this.stopRinging = this.stopRinging.bind(this);\n\n        this.handleMakeOffer = this.handleMakeOffer.bind(this);\n        this.handleCancelOffer = this.handleCancelOffer.bind(this);\n        this.handleWebrtcEvent = this.handleWebrtcEvent.bind(this);\n        this.handleVideoCallEvent = this.handleVideoCallEvent.bind(this);\n        this.handleRemoteStream = this.handleRemoteStream.bind(this);\n\n        this.onStatusChange = this.onStatusChange.bind(this);\n        this.onCallDeclined = this.onCallDeclined.bind(this);\n        this.onUnsupported = this.onUnsupported.bind(this);\n        this.onNoAnswer = this.onNoAnswer.bind(this);\n        this.onBusy = this.onBusy.bind(this);\n        this.onDisabled = this.onDisabled.bind(this);\n        this.onFailed = this.onFailed.bind(this);\n        this.onCancelled = this.onCancelled.bind(this);\n        this.onConnectCall = this.onConnectCall.bind(this);\n\n        this.onSessionCreated = this.onSessionCreated.bind(this);\n        this.onSessionError = this.onSessionError.bind(this);\n\n        this.doCall = this.doCall.bind(this);\n        this.doAnswer = this.doAnswer.bind(this);\n        this.doHangup = this.doHangup.bind(this);\n        this.doCleanup = this.doCleanup.bind(this);\n\n        this.renderButtons = this.renderButtons.bind(this);\n        this.onToggleVideo = this.onToggleVideo.bind(this);\n        this.onToggleAudio = this.onToggleAudio.bind(this);\n        this.onToggleRemoteMute = this.onToggleRemoteMute.bind(this);\n        this.toggleIcons = this.toggleIcons.bind(this);\n\n        const currentUser = UserStore.getCurrentUser();\n        const remoteUser = UserStore.getProfile(props.userId);\n        const remoteUserImage = Utils.imageURLForUser(remoteUser);\n\n        this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            channelId: ChannelStore.getCurrentId(),\n            currentUser,\n            currentUserImage: Utils.imageURLForUser(currentUser),\n            remoteUserImage,\n            localMediaLoaded: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            errorType: '',\n            ended: null\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.handleResize);\n        WebrtcStore.addChangedListener(this.handleWebrtcEvent);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n\n        this.mounted = true;\n        this.previewVideo();\n\n        if (this.props.isCaller) {\n            this.handleMakeOffer();\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleResize);\n        WebrtcStore.removeChangedListener(this.handleWebrtcEvent);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        this.mounted = false;\n        this.close();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if ((nextProps.currentUser !== this.props.currentUser) ||\n            (nextProps.userId !== this.props.userId) ||\n            (nextProps.isCaller !== this.props.isCaller)) {\n            const remoteUser = UserStore.getProfile(nextProps.userId);\n            const remoteUserImage = Utils.imageURLForUser(remoteUser);\n            this.setState({\n                error: null,\n                remoteUserImage\n            });\n        }\n\n        if (nextProps.isCaller && nextProps.expanded === this.props.expanded) {\n            this.startCall = true;\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.props.isCaller && this.startCall) {\n            this.startCall = false;\n            this.handleMakeOffer();\n        }\n    }\n\n    handleResize() {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    clearError() {\n        setTimeout(() => {\n            this.setState({error: null, ended: null, errorType: ''});\n        }, Constants.WEBRTC_CLEAR_ERROR_DELAY);\n    }\n\n    getLocalMedia(constraints, element, callback) {\n        const media = constraints || {audio: true, video: true};\n        navigator.mediaDevices.getUserMedia(media).\n        then((stream) => {\n            if (element) {\n                element.srcObject = stream;\n            }\n\n            if (callback && typeof callback === 'function') {\n                callback(null, stream);\n            }\n        }).\n        catch((error) => {\n            callback(error);\n        });\n    }\n\n    stopMediaStream(stream) {\n        const tracks = stream.getTracks();\n        tracks.forEach((track) => {\n            track.stop();\n        });\n    }\n\n    previewVideo() {\n        if (this.mounted) {\n            if (this.localMedia) {\n                this.setState({\n                    localMediaLoaded: true,\n                    error: null\n                });\n                this.localMedia.enabled = true;\n            } else {\n                this.getLocalMedia(\n                    {\n                        audio: true,\n                        video: {\n                            minAspectRatio: MIN_ASPECT,\n                            maxAspectRatio: MAX_ASPECT,\n                            width: VIDEO_WIDTH,\n                            height: VIDEO_HEIGHT\n                        }\n                    },\n                    this.refs['local-video'],\n                    (error, stream) => {\n                        if (error) {\n                            this.setState({\n                                error: (\n                                    <FormattedMessage\n                                        id='webrtc.mediaError'\n                                        defaultMessage='Unable to access Camera and Microphone'\n                                    />\n                                )\n                            });\n                            return;\n                        }\n                        this.localMedia = stream;\n                        this.setState({\n                            localMediaLoaded: true\n                        });\n                    });\n            }\n        }\n    }\n\n    stopRinging() {\n        if (this.refs.ring) {\n            this.refs.ring.pause();\n            this.refs.ring.currentTime = 0;\n        }\n    }\n\n    handleMakeOffer() {\n        if (UserStore.getStatus(this.props.userId) === UserStatuses.OFFLINE) {\n            this.onStatusChange();\n        } else {\n            const connectingMsg = (\n                <FormattedMessage\n                    id='calling_screen'\n                    defaultMessage='Calling'\n                />\n            );\n\n            this.setState({\n                isCalling: true,\n                isAnswering: false,\n                callInProgress: false,\n                error: null,\n                ended: null,\n                connectingMsg\n            });\n\n            WebrtcStore.setVideoCallWith(this.props.userId);\n\n            const user = this.state.currentUser;\n            WebSocketClient.sendMessage('webrtc', {\n                action: WebrtcActionTypes.NOTIFY,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n        }\n    }\n\n    handleCancelOffer() {\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            ended: null\n        });\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.CANCEL,\n            from_user_id: user.id,\n            to_user_id: this.props.userId\n        });\n\n        this.doCleanup();\n    }\n\n    handleWebrtcEvent(message) {\n        switch (message.action) {\n        case WebrtcActionTypes.DECLINE:\n            this.onCallDeclined();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.UNSUPPORTED:\n            this.onUnsupported();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.BUSY:\n            this.onBusy();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.NO_ANSWER:\n            this.onNoAnswer();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.FAILED:\n            this.onFailed();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.ANSWER:\n            this.onConnectCall();\n            break;\n        case WebrtcActionTypes.CANCEL:\n            this.onCancelled();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.MUTED:\n            this.onToggleRemoteMute(message);\n            break;\n        case WebrtcActionTypes.IN_PROGRESS:\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.inProgress'\n                        defaultMessage='You have a call in progress. Please hang up first.'\n                    />\n                ),\n                errorType: ' warning'\n            });\n            this.clearError();\n            break;\n        case WebrtcActionTypes.DISABLED:\n            this.onDisabled();\n            this.clearError();\n            break;\n        }\n    }\n\n    handleVideoCallEvent(msg, jsep) {\n        const result = msg.result;\n\n        if (result) {\n            const event = result.event;\n            switch (event) {\n            case 'registered':\n                if (this.state.isCalling) {\n                    this.doCall();\n                }\n                break;\n            case 'incomingcall':\n                this.doAnswer(jsep);\n                break;\n            case 'accepted':\n                this.stopRinging();\n\n                if (jsep) {\n                    this.videocall.handleRemoteJsep({jsep});\n                }\n                break;\n            case 'hangup':\n                this.doHangup(false);\n                break;\n            }\n        } else {\n            const errorCode = msg.error_code;\n            if (errorCode !== ALREADY_REGISTERED_ERROR && errorCode !== USERNAME_TAKEN) {\n                this.doHangup(true);\n            } else if (this.state.isCalling) {\n                this.doCall();\n            }\n        }\n    }\n\n    handleRemoteStream(stream) {\n        // attaching stream to where they belong\n        this.refs['main-video'].srcObject = stream;\n\n        let isRemotePaused = false;\n        let isRemoteMuted = false;\n        const videoTracks = stream.getVideoTracks();\n        const audioTracks = stream.getAudioTracks();\n        if (!videoTracks || videoTracks.length === 0 || videoTracks[0].muted || !videoTracks[0].enabled) {\n            isRemotePaused = true;\n        }\n\n        if (!audioTracks || audioTracks.length === 0 || audioTracks[0].muted || !audioTracks[0].enabled) {\n            isRemoteMuted = true;\n        }\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: true,\n            isMuted: false,\n            isPaused: false,\n            error: null,\n            ended: null,\n            isRemotePaused,\n            isRemoteMuted\n        });\n\n        const icons = this.refs.icons;\n        if (icons) {\n            icons.classList.remove('hidden');\n            icons.classList.add('active');\n        }\n    }\n\n    handleClose(e) {\n        e.preventDefault();\n        if (this.state.callInProgress) {\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.inProgress'\n                        defaultMessage='You have a call in progress. Please hang up first.'\n                    />\n                ),\n                errorType: ' warning'\n            });\n        } else if (this.state.isCalling) {\n            this.handleCancelOffer();\n            this.close();\n        } else {\n            this.close();\n        }\n    }\n\n    close() {\n        this.doCleanup();\n\n        if (this.session) {\n            this.session.destroy();\n            this.session = null;\n        }\n\n        if (this.localMedia) {\n            this.stopMediaStream(this.localMedia);\n            this.localMedia = null;\n        }\n\n        WebrtcActions.initWebrtc(null, false);\n    }\n\n    onStatusChange() {\n        const status = UserStore.getStatus(this.props.userId);\n\n        if (status === UserStatuses.OFFLINE) {\n            const error = (\n                <FormattedMessage\n                    id='webrtc.offline'\n                    defaultMessage='{username} is offline'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n\n            if (this.state.isCalling || this.state.isAnswering) {\n                this.setState({\n                    isCalling: false,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error\n                });\n            } else {\n                this.setState({\n                    error\n                });\n            }\n        } else if (status !== UserStatuses.OFFLINE && this.state.error) {\n            this.setState({\n                error: null,\n                ended: null\n            });\n        }\n    }\n\n    onCallDeclined() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.declined'\n                    defaultMessage='Your call has been declined by {username}'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onUnsupported() {\n        if (this.mounted) {\n            this.stopRinging();\n\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.unsupported'\n                        defaultMessage='Call to {username} not successful. Their client does not support video calls.'\n                        values={{\n                            username: Utils.displayUsername(this.props.userId)\n                        }}\n                    />\n                ),\n                callInProgress: false,\n                isCalling: false,\n                isAnswering: false\n            });\n        }\n\n        this.doCleanup();\n    }\n\n    onNoAnswer() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.noAnswer'\n                    defaultMessage='{username} is not answering the call'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onBusy() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.busy'\n                    defaultMessage='{username} is busy'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onDisabled() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.disabled'\n                    defaultMessage='{username} has WebRTC disabled, and cannot receive calls. To enable the feature, they must go to Account Settings > Advanced > Preview pre-release features and turn on WebRTC.'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onFailed() {\n        trackEvent('api', 'api_users_webrtc_failed');\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            error: (\n                <FormattedMessage\n                    id='webrtc.failed'\n                    defaultMessage='There was a problem connecting the video call'\n                />\n            )\n        });\n\n        this.stopRinging();\n\n        this.doCleanup();\n    }\n\n    onCancelled() {\n        if (this.mounted && this.state.isAnswering) {\n            this.stopRinging();\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: (\n                    <FormattedMessage\n                        id='webrtc.cancelled'\n                        defaultMessage='{username} cancelled the call'\n                        values={{\n                            username: Utils.displayUsername(this.props.userId)\n                        }}\n                    />\n                )\n            });\n        }\n\n        this.doCleanup();\n    }\n\n    onConnectCall() {\n        WebrtcActions.webrtcToken(\n            (info) => {\n                const connectingMsg = (\n                    <FormattedMessage\n                        id='connecting_screen'\n                        defaultMessage='Connecting'\n                    />\n                );\n\n                this.setState({isAnswering: !this.state.isCalling, connectingMsg});\n                if (this.session) {\n                    this.onSessionCreated();\n                } else {\n                    const iceServers = [];\n\n                    if (info.stun_uri) {\n                        iceServers.push({\n                            urls: info.stun_uri.split(' ')\n                        });\n                    }\n\n                    if (info.turn_uri) {\n                        iceServers.push({\n                            urls: info.turn_uri.split(' '),\n                            username: info.turn_username,\n                            credential: info.turn_password\n                        });\n                    }\n\n                    Janus.init({debug: global.mm_config.EnableDeveloper === 'true'});\n                    this.session = new Janus({\n                        server: info.gateway_url,\n                        iceServers,\n                        token: info.token,\n                        success: this.onSessionCreated,\n                        error: this.onSessionError\n                    });\n                }\n            },\n            () => {\n                this.onSessionError();\n            });\n    }\n\n    onSessionCreated() {\n        if (this.videocall) {\n            this.doCall();\n        } else {\n            this.session.attach({\n                plugin: 'janus.plugin.videocall',\n                success: (plugin) => {\n                    this.videocall = plugin;\n                    this.videocall.send({message: {request: 'register', username: this.state.currentUser.id}});\n                },\n                error: this.onSessionError,\n                onmessage: this.handleVideoCallEvent,\n                onremotestream: this.handleRemoteStream\n            });\n        }\n    }\n\n    onSessionError() {\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.FAILED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId\n        });\n\n        this.onFailed();\n    }\n\n    doCall() {\n        // delay call so receiver has time to register\n        setTimeout(() => {\n            this.videocall.createOffer({\n                stream: this.localMedia,\n                success: (jsep) => {\n                    const body = {request: 'call', username: this.props.userId};\n                    this.videocall.send({message: body, jsep});\n                },\n                error: () => {\n                    this.doHangup(true);\n                }\n            });\n        }, Constants.WEBRTC_TIME_DELAY);\n    }\n\n    doAnswer(jsep) {\n        trackEvent('api', 'api_users_webrtc_start');\n        this.videocall.createAnswer({\n            jsep,\n            stream: this.localMedia,\n            success: (jsepSuccess) => {\n                const body = {request: 'accept'};\n                this.videocall.send({message: body, jsep: jsepSuccess});\n            },\n            error: () => {\n                this.doHangup(true);\n            }\n        });\n    }\n\n    doHangup(error, manual) {\n        trackEvent('api', 'api_users_webrtc_end');\n        if (this.videocall && this.state.callInProgress) {\n            this.videocall.send({message: {request: 'hangup'}});\n            this.videocall.hangup();\n            this.toggleIcons();\n\n            if (this.localMedia) {\n                this.localMedia.getVideoTracks()[0].enabled = true;\n                this.localMedia.getAudioTracks()[0].enabled = true;\n            }\n        }\n\n        if (error) {\n            this.onSessionError();\n            return this.doCleanup();\n        }\n\n        WebrtcStore.setVideoCallWith(null);\n        WebrtcStore.emitRhsChanged(false);\n\n        if (manual) {\n            return this.close();\n        }\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            error: null,\n            ended: (\n                <FormattedMessage\n                    id='webrtc.callEnded'\n                    defaultMessage='Call with {username} ended.'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            )\n        });\n        this.clearError();\n        return this.doCleanup();\n    }\n\n    doCleanup() {\n        WebrtcStore.setVideoCallWith(null);\n\n        if (this.videocall) {\n            this.videocall.detach();\n            this.videocall = null;\n        }\n    }\n\n    onToggleVideo() {\n        const shouldPause = !this.state.isPaused;\n        if (shouldPause) {\n            this.videocall.unmuteVideo();\n        } else {\n            this.videocall.muteVideo();\n        }\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.MUTED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId,\n            type: 'video',\n            mute: shouldPause\n        });\n\n        this.setState({\n            isPaused: shouldPause,\n            error: null,\n            ended: null\n        });\n    }\n\n    onToggleAudio() {\n        const shouldMute = !this.state.isMuted;\n        if (shouldMute) {\n            this.videocall.unmuteAudio();\n        } else {\n            this.videocall.muteAudio();\n        }\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.MUTED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId,\n            type: 'audio',\n            mute: shouldMute\n        });\n\n        this.setState({\n            isMuted: shouldMute,\n            error: null,\n            ended: null\n        });\n    }\n\n    onToggleRemoteMute(message) {\n        if (message.type === 'video') {\n            this.setState({\n                isRemotePaused: message.mute\n            });\n        } else {\n            this.setState({isRemoteMuted: message.mute, error: null, ended: null});\n        }\n    }\n\n    toggleIcons() {\n        const icons = this.refs.icons;\n        if (icons) {\n            icons.classList.toggle('hidden');\n            icons.classList.toggle('active');\n        }\n    }\n\n    renderButtons() {\n        let buttons;\n        if (this.state.isCalling) {\n            buttons = (\n                <svg\n                    id='cancel'\n                    className='webrtc-icons__cancel'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={() => this.handleCancelOffer()}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.cancel'\n                                defaultMessage='Cancel Call'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='scale(0.8), translate(6,10)'\n                        d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                        fill='white'\n                    />\n                </svg>\n            );\n        } else if (!this.state.callInProgress && this.state.localMediaLoaded) {\n            buttons = (\n                <svg\n                    id='call'\n                    className='webrtc-icons__call'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={() => this.handleMakeOffer()}\n                    disabled={UserStore.getStatus(this.props.userId) === 'offline'}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.call'\n                                defaultMessage='Call'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='translate(-10,-10)'\n                        fill='#fff'\n                        d='M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    />\n                </svg>\n            );\n        } else if (this.state.callInProgress) {\n            const onClass = 'on';\n            const offClass = 'off';\n            let audioOnClass = offClass;\n            let audioOffClass = onClass;\n            let videoOnClass = offClass;\n            let videoOffClass = onClass;\n\n            let audioTitle = (\n                <FormattedMessage\n                    id='webrtc.mute_audio'\n                    defaultMessage='Mute'\n                />\n            );\n\n            let videoTitle = (\n                <FormattedMessage\n                    id='webrtc.pause_video'\n                    defaultMessage='Turn off Video'\n                />\n            );\n\n            if (this.state.isMuted) {\n                audioOnClass = onClass;\n                audioOffClass = offClass;\n                audioTitle = (\n                    <FormattedMessage\n                        id='webrtc.unmute_audio'\n                        defaultMessage='Unmute'\n                    />\n                );\n            }\n\n            if (this.state.isPaused) {\n                videoOnClass = onClass;\n                videoOffClass = offClass;\n                videoTitle = (\n                    <FormattedMessage\n                        id='webrtc.unpause_video'\n                        defaultMessage='Turn on Video'\n                    />\n                );\n            }\n\n            buttons = (\n                <div\n                    ref='icons'\n                    className='webrtc-icons hidden'\n                >\n\n                    <svg\n                        id='mute-audio'\n                        className='webrtc-icons__call'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.onToggleAudio()}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>{audioTitle}</title>\n                        </circle>\n                        <path\n                            className={audioOnClass}\n                            transform='scale(0.6), translate(17,18)'\n                            d='M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z'\n                            fill='white'\n                        />\n                        <path\n                            className={audioOffClass}\n                            transform='scale(0.6), translate(17,18)'\n                            d='M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z'\n                            fill='white'\n                        />\n                    </svg>\n\n                    <svg\n                        id='mute-video'\n                        className='webrtc-icons__call'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.onToggleVideo()}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>{videoTitle}</title>\n                        </circle>\n                        <path\n                            className={videoOnClass}\n                            transform='scale(0.6), translate(17,16)'\n                            d='M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z'\n                            fill='white'\n                        />\n                        <path\n                            className={videoOffClass}\n                            transform='scale(0.6), translate(17,16)'\n                            d='M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z'\n                            fill='white'\n                        />\n                    </svg>\n\n                    <svg\n                        id='hangup'\n                        className='webrtc-icons__cancel'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.doHangup(false, true)}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>\n                                <FormattedMessage\n                                    id='webrtc.hangup'\n                                    defaultMessage='Hang up'\n                                />\n                            </title>\n                        </circle>\n                        <path\n                            transform='scale(0.7), translate(11,10)'\n                            d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                            fill='white'\n                        />\n                    </svg>\n\n                </div>\n            );\n        }\n\n        return buttons;\n    }\n\n    render() {\n        const currentId = UserStore.getCurrentId();\n        const remoteImage = (<img src={this.state.remoteUserImage}/>);\n        let localImage;\n        let localVideoHidden = '';\n        let remoteVideoHidden = 'hidden';\n        let error;\n        let remoteMute;\n        let localImageHidden = 'webrtc__local-image hidden';\n        let remoteImageHidden = 'webrtc__remote-image';\n\n        if (this.state.error) {\n            error = (\n                <div className='webrtc__error'>\n                    <div className='form-group has-error'>\n                        <label className={'control-label' + this.state.errorType}>{this.state.error}</label>\n                    </div>\n                </div>\n            );\n        } else if (this.state.ended) {\n            error = (\n                <div className='webrtc__error'>\n                    <div className='form-group'>\n                        <label className='control-label'>{this.state.ended}</label>\n                    </div>\n                </div>\n            );\n        }\n\n        if (this.state.isRemoteMuted) {\n            remoteMute = (\n                <div className='webrtc__remote-mute'>\n                    <svg\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='60'\n                        height='60'\n                        viewBox='-10 -10 68 68'\n                    >\n                        <path\n                            className='off'\n                            transform='scale(0.6), translate(17,18)'\n                            d='M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z'\n                            fill='white'\n                        />\n                        <path\n                            className='on'\n                            transform='scale(0.6), translate(17,18)'\n                            d='M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z'\n                            fill='white'\n                        />\n                    </svg>\n                </div>\n            );\n        }\n\n        let searchForm;\n        if (currentId != null) {\n            searchForm = <SearchBox/>;\n        }\n\n        const buttons = this.renderButtons();\n        const calling = this.state.isCalling;\n        let connecting;\n        let audio;\n        if (calling || this.state.isAnswering) {\n            if (calling) {\n                audio = (\n                    <audio\n                        ref='ring'\n                        src={ring}\n                        autoPlay={true}\n                    />\n                );\n            }\n\n            connecting = (\n                <div className='connecting'>\n                    <ConnectingScreen\n                        position='absolute'\n                        message={this.state.connectingMsg}\n                    />\n                    {audio}\n                </div>\n            );\n        }\n\n        if (this.state.callInProgress) {\n            if (this.state.isPaused) {\n                localVideoHidden = 'hidden';\n                localImageHidden = 'webrtc__local-image';\n                localImage = (<img src={this.state.currentUserImage}/>);\n            }\n\n            if (this.state.isRemotePaused) {\n                remoteVideoHidden = 'hidden';\n                remoteImageHidden = 'webrtc__remote-image';\n            } else {\n                remoteVideoHidden = '';\n                remoteImageHidden = 'webrtc__remote-image hidden';\n            }\n        }\n\n        return (\n            <div className='post-right__container'>\n                <div className='search-bar__container channel-header alt'>{searchForm}</div>\n                <div className='sidebar-right__body'>\n                    <WebrtcHeader\n                        username={Utils.displayUsername(this.props.userId)}\n                        onClose={this.handleClose}\n                        toggleSize={this.props.toggleSize}\n                    />\n                    <div className='post-right__scroll'>\n                        <div id='videos'>\n                            {remoteMute}\n                            <div\n                                id='main-video'\n                                className={remoteVideoHidden}\n                                autoPlay={true}\n                            >\n                                <video\n                                    ref='main-video'\n                                    autoPlay={true}\n                                />\n                            </div>\n                            <div\n                                id='local-video'\n                                className={localVideoHidden}\n                            >\n                                <video\n                                    ref='local-video'\n                                    autoPlay={true}\n                                    muted={true}\n                                />\n                            </div>\n                            <div className={remoteImageHidden}>\n                                {remoteImage}\n                            </div>\n                            <div className={localImageHidden}>\n                                {localImage}\n                            </div>\n                        </div>\n                        {error}\n                        {connecting}\n                        <div className='webrtc-buttons'>\n                            {buttons}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nWebrtcController.propTypes = {\n    currentUser: PropTypes.object,\n    userId: PropTypes.string.isRequired,\n    isCaller: PropTypes.bool.isRequired,\n    expanded: PropTypes.bool.isRequired,\n    toggleSize: PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/webrtc_controller.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n The MIT License (MIT)\n\n Copyright (c) 2016 Meetecho\n\n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the \"Software\"),\n to deal in the Software without restriction, including without limitation\n the rights to use, copy, modify, merge, publish, distribute, sublicense,\n and/or sell copies of the Software, and to permit persons to whom the\n Software is furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included\n in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable */\n\nvar adapter = require('webrtc-adapter');\n\n// List of sessions\nJanus.sessions = {};\n\n// Screensharing Chrome Extension ID\nJanus.extensionId = \"hapfgfdkleiggjjpfpenajgdnfckjpaj\";\nJanus.isExtensionEnabled = function() {\n    if(window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        if(window.navigator.userAgent.match('Linux'))\n            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n        if(chromever >= 26 && chromever <= maxver) {\n            // Older versions of Chrome don't support this extension-based approach, so lie\n            return true;\n        }\n        return Janus.checkJanusExtension();\n    } else {\n        // Firefox of others, no need for the extension (but this doesn't mean it will work)\n        return true;\n    }\n};\n\nJanus.useDefaultDependencies = function (deps) {\n    var f = (deps && deps.fetch) || fetch;\n    var p = (deps && deps.Promise) || Promise;\n    var socketCls = (deps && deps.WebSocket) || WebSocket;\n    return {\n        newWebSocket: function(server, proto) { return new socketCls(server, proto); },\n        isArray: function(arr) { return Array.isArray(arr); },\n        checkJanusExtension: function() { return document.querySelector('#janus-extension-installed') !== null; },\n        webRTCAdapter: (deps && deps.adapter) || adapter,\n        httpAPICall: function(url, options) {\n            var fetchOptions = {method: options.verb, cache: 'no-cache'};\n            if(options.withCredentials !== undefined) {\n                fetchOptions.credentials = options.withCredentials === true ? 'include' : (options.withCredentials ? options.withCredentials : 'omit');\n            }\n            if(options.body !== undefined) {\n                fetchOptions.body = JSON.stringify(options.body);\n            }\n\n            var fetching = f(url, fetchOptions).catch(function(error) {\n                return p.reject({message: 'Probably a network error, is the gateway down?', error: error});\n            });\n\n            /*\n             * fetch() does not natively support timeouts.\n             * Work around this by starting a timeout manually, and racing it agains the fetch() to see which thing resolves first.\n             */\n\n            if(options.timeout !== undefined) {\n                var timeout = new p(function(resolve, reject) {\n                    var timerId = setTimeout(function() {\n                        clearTimeout(timerId);\n                        return reject({message: 'Request timed out', timeout: options.timeout});\n                    }, options.timeout);\n                });\n                fetching = p.race([fetching,timeout]);\n            }\n\n            fetching.then(function(response) {\n                if(response.ok) {\n                    if(typeof(options.success) === typeof(Janus.noop)) {\n                        return response.json().then(function(parsed) {\n                            options.success(parsed);\n                        }).catch(function(error) {\n                            return p.reject({message: 'Failed to parse response body', error: error, response: response});\n                        });\n                    }\n                }\n                else {\n                    return p.reject({message: 'API call failed', response: response});\n                }\n            }).catch(function(error) {\n                if(typeof(options.error) === typeof(Janus.noop)) {\n                    options.error(error.message || '<< internal error >>', error);\n                }\n            });\n\n            return fetching;\n        }\n    }\n};\n\nJanus.useOldDependencies = function (deps) {\n    var jq = (deps && deps.jQuery) || jQuery;\n    var socketCls = (deps && deps.WebSocket) || WebSocket;\n    return {\n        newWebSocket: function(server, proto) { return new socketCls(server, proto); },\n        isArray: function(arr) { return jq.isArray(arr); },\n        checkJanusExtension: function() { return jq('#janus-extension-installed').length > 0; },\n        webRTCAdapter: (deps && deps.adapter) || adapter,\n        httpAPICall: function(url, options) {\n            var payload = options.body !== undefined ? {\n                contentType: 'application/json',\n                data: JSON.stringify(options.body)\n            } : {};\n            var credentials = options.withCredentials !== undefined ? {xhrFields: {withCredentials: options.withCredentials}} : {};\n\n            return jq.ajax(jq.extend(payload, credentials, {\n                url: url,\n                type: options.verb,\n                cache: false,\n                dataType: 'json',\n                async: options.async,\n                timeout: options.timeout,\n                success: function(result) {\n                    if(typeof(options.success) === typeof(Janus.noop)) {\n                        options.success(result);\n                    }\n                },\n                error: function(xhr, status, err) {\n                    if(typeof(options.error) === typeof(Janus.noop)) {\n                        options.error(status, err);\n                    }\n                }\n            }));\n        },\n    };\n};\n\nJanus.noop = function() {};\n\n// Initialization\nJanus.init = function(options) {\n    options = options || {};\n    options.callback = (typeof options.callback == \"function\") ? options.callback : Janus.noop;\n    if(Janus.initDone === true) {\n        // Already initialized\n        options.callback();\n    } else {\n        if(typeof console == \"undefined\" || typeof console.log == \"undefined\")\n            console = { log: function() {} };\n        // Console logging (all debugging disabled by default)\n        Janus.trace = Janus.noop;\n        Janus.debug = Janus.noop;\n        Janus.vdebug = Janus.noop;\n        Janus.log = Janus.noop;\n        Janus.warn = Janus.noop;\n        Janus.error = Janus.noop;\n        if(options.debug === true || options.debug === \"all\") {\n            // Enable all debugging levels\n            Janus.trace = console.trace.bind(console);\n            Janus.debug = console.debug.bind(console);\n            Janus.vdebug = console.debug.bind(console);\n            Janus.log = console.log.bind(console);\n            Janus.warn = console.warn.bind(console);\n            Janus.error = console.error.bind(console);\n        } else if(Array.isArray(options.debug)) {\n            for(var i in options.debug) {\n                var d = options.debug[i];\n                switch(d) {\n                case \"trace\":\n                    Janus.trace = console.trace.bind(console);\n                    break;\n                case \"debug\":\n                    Janus.debug = console.debug.bind(console);\n                    break;\n                case \"vdebug\":\n                    Janus.vdebug = console.debug.bind(console);\n                    break;\n                case \"log\":\n                    Janus.log = console.log.bind(console);\n                    break;\n                case \"warn\":\n                    Janus.warn = console.warn.bind(console);\n                    break;\n                case \"error\":\n                    Janus.error = console.error.bind(console);\n                    break;\n                default:\n                    console.error(\"Unknown debugging option '\" + d + \"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')\");\n                    break;\n                }\n            }\n        }\n        Janus.log(\"Initializing library\");\n\n        var usedDependencies = options.dependencies || Janus.useDefaultDependencies();\n        Janus.isArray = usedDependencies.isArray;\n        Janus.webRTCAdapter = usedDependencies.webRTCAdapter;\n        Janus.httpAPICall = usedDependencies.httpAPICall;\n        Janus.checkJanusExtension = usedDependencies.checkJanusExtension;\n        Janus.newWebSocket = usedDependencies.newWebSocket;\n\n        // Helper method to enumerate devices\n        Janus.listDevices = function(callback, config) {\n            callback = (typeof callback == \"function\") ? callback : Janus.noop;\n            if (config == null) config = { audio: true, video: true };\n            if(navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia(config)\n                .then(function(stream) {\n                    navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                        Janus.debug(devices);\n                        callback(devices);\n                        // Get rid of the now useless stream\n                        try {\n                            var tracks = stream.getTracks();\n                            for(var i in tracks) {\n                                var mst = tracks[i];\n                                if(mst !== null && mst !== undefined)\n                                    mst.stop();\n                            }\n                        } catch(e) {}\n                    });\n                })\n                .catch(function(err) {\n                    Janus.error(err);\n                    callback([]);\n                });\n            } else {\n                Janus.warn(\"navigator.mediaDevices unavailable\");\n                callback([]);\n            }\n        }\n        // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n        Janus.attachMediaStream = function(element, stream) {\n            if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n                var chromever = Janus.webRTCAdapter.browserDetails.version;\n                if(chromever >= 43) {\n                    element.srcObject = stream;\n                } else if(typeof element.src !== 'undefined') {\n                    element.src = URL.createObjectURL(stream);\n                } else {\n                    Janus.error(\"Error attaching stream to element\");\n                }\n            } else {\n                element.srcObject = stream;\n            }\n        };\n        Janus.reattachMediaStream = function(to, from) {\n            if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n                var chromever = Janus.webRTCAdapter.browserDetails.version;\n                if(chromever >= 43) {\n                    to.srcObject = from.srcObject;\n                } else if(typeof to.src !== 'undefined') {\n                    to.src = from.src;\n                } else {\n                    Janus.error(\"Error reattaching stream to element\");\n                }\n            } else {\n                to.srcObject = from.srcObject;\n            }\n        };\n        // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n        var oldOBF = window.onbeforeunload;\n        window.onbeforeunload = function() {\n            Janus.log(\"Closing window\");\n            for(var s in Janus.sessions) {\n                if(Janus.sessions[s] !== null && Janus.sessions[s] !== undefined &&\n                    Janus.sessions[s].destroyOnUnload) {\n                    Janus.log(\"Destroying session \" + s);\n                    Janus.sessions[s].destroy({asyncRequest: false});\n                }\n            }\n            if(oldOBF && typeof oldOBF == \"function\")\n                oldOBF();\n        }\n        Janus.initDone = true;\n        options.callback();\n    }\n};\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n    return window.RTCPeerConnection !== undefined && window.RTCPeerConnection !== null &&\n        navigator.getUserMedia !== undefined && navigator.getUserMedia !== null;\n};\n\n// Helper method to create random identifiers (e.g., transaction)\nJanus.randomString = function(len) {\n    var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var randomString = '';\n    for (var i = 0; i < len; i++) {\n        var randomPoz = Math.floor(Math.random() * charSet.length);\n        randomString += charSet.substring(randomPoz,randomPoz+1);\n    }\n    return randomString;\n}\n\n\nfunction Janus(gatewayCallbacks) {\n    if(Janus.initDone === undefined) {\n        gatewayCallbacks.error(\"Library not initialized\");\n        return {};\n    }\n    if(!Janus.isWebrtcSupported()) {\n        gatewayCallbacks.error(\"WebRTC not supported by this browser\");\n        return {};\n    }\n    Janus.log(\"Library initialized: \" + Janus.initDone);\n    gatewayCallbacks = gatewayCallbacks || {};\n    gatewayCallbacks.success = (typeof gatewayCallbacks.success == \"function\") ? gatewayCallbacks.success : Janus.noop;\n    gatewayCallbacks.error = (typeof gatewayCallbacks.error == \"function\") ? gatewayCallbacks.error : Janus.noop;\n    gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == \"function\") ? gatewayCallbacks.destroyed : Janus.noop;\n    if(gatewayCallbacks.server === null || gatewayCallbacks.server === undefined) {\n        gatewayCallbacks.error(\"Invalid gateway url\");\n        return {};\n    }\n    var websockets = false;\n    var ws = null;\n    var wsHandlers = {};\n    var wsKeepaliveTimeoutId = null;\n\n    var servers = null, serversIndex = 0;\n    var server = gatewayCallbacks.server;\n    if(Janus.isArray(server)) {\n        Janus.log(\"Multiple servers provided (\" + server.length + \"), will use the first that works\");\n        server = null;\n        servers = gatewayCallbacks.server;\n        Janus.debug(servers);\n    } else {\n        if(server.indexOf(\"ws\") === 0) {\n            websockets = true;\n            Janus.log(\"Using WebSockets to contact Janus: \" + server);\n        } else {\n            websockets = false;\n            Janus.log(\"Using REST API to contact Janus: \" + server);\n        }\n    }\n    var iceServers = gatewayCallbacks.iceServers;\n    if(iceServers === undefined || iceServers === null)\n        iceServers = [{urls: \"stun:stun.l.google.com:19302\"}];\n    var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy;\n    var bundlePolicy = gatewayCallbacks.bundlePolicy;\n    // Whether IPv6 candidates should be gathered\n    var ipv6Support = gatewayCallbacks.ipv6;\n    if(ipv6Support === undefined || ipv6Support === null)\n        ipv6Support = false;\n    // Whether we should enable the withCredentials flag for XHR requests\n    var withCredentials = false;\n    if(gatewayCallbacks.withCredentials !== undefined && gatewayCallbacks.withCredentials !== null)\n        withCredentials = gatewayCallbacks.withCredentials === true;\n    // Optional max events\n    var maxev = null;\n    if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n        maxev = gatewayCallbacks.max_poll_events;\n    if(maxev < 1)\n        maxev = 1;\n    // Token to use (only if the token based authentication mechanism is enabled)\n    var token = null;\n    if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n        token = gatewayCallbacks.token;\n    // API secret to use (only if the shared API secret is enabled)\n    var apisecret = null;\n    if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n        apisecret = gatewayCallbacks.apisecret;\n    // Whether we should destroy this session when onbeforeunload is called\n    this.destroyOnUnload = true;\n    if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n        this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true);\n\n    var connected = false;\n    var sessionId = null;\n    var pluginHandles = {};\n    var that = this;\n    var retries = 0;\n    var transactions = {};\n    createSession(gatewayCallbacks);\n\n    // Public methods\n    this.getServer = function() { return server; };\n    this.isConnected = function() { return connected; };\n    this.getSessionId = function() { return sessionId; };\n    this.destroy = function(callbacks) { destroySession(callbacks); };\n    this.attach = function(callbacks) { createHandle(callbacks); };\n\n    function eventHandler() {\n        if(sessionId == null)\n            return;\n        Janus.debug('Long poll...');\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var longpoll = server + \"/\" + sessionId + \"?rid=\" + new Date().getTime();\n        if(maxev !== undefined && maxev !== null)\n            longpoll = longpoll + \"&maxev=\" + maxev;\n        if(token !== null && token !== undefined)\n            longpoll = longpoll + \"&token=\" + token;\n        if(apisecret !== null && apisecret !== undefined)\n            longpoll = longpoll + \"&apisecret=\" + apisecret;\n        Janus.httpAPICall(longpoll, {\n            verb: 'GET',\n            withCredentials: withCredentials,\n            success: handleEvent,\n            timeout: 60000,\t// FIXME\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\n                retries++;\n                if(retries > 3) {\n                    // Did we just lose the gateway? :-(\n                    connected = false;\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                    return;\n                }\n                eventHandler();\n            }\n        });\n    }\n\n    // Private event handler: this will trigger plugin callbacks, if set\n    function handleEvent(json, skipTimeout) {\n        retries = 0;\n        if(!websockets && sessionId !== undefined && sessionId !== null && skipTimeout !== true)\n            setTimeout(eventHandler, 200);\n        if(!websockets && Janus.isArray(json)) {\n            // We got an array: it means we passed a maxev > 1, iterate on all objects\n            for(var i=0; i<json.length; i++) {\n                handleEvent(json[i], true);\n            }\n            return;\n        }\n        if(json[\"janus\"] === \"keepalive\") {\n            // Nothing happened\n            Janus.vdebug(\"Got a keepalive on session \" + sessionId);\n            return;\n        } else if(json[\"janus\"] === \"ack\") {\n            // Just an ack, we can probably ignore\n            Janus.debug(\"Got an ack on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"success\") {\n            // Success!\n            Janus.debug(\"Got a success on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"webrtcup\") {\n            // The PeerConnection with the gateway is up! Notify this\n            Janus.debug(\"Got a webrtcup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(true);\n            return;\n        } else if(json[\"janus\"] === \"hangup\") {\n            // A plugin asked the core to hangup a PeerConnection on one of our handles\n            Janus.debug(\"Got a hangup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(false, json[\"reason\"]);\n            pluginHandle.hangup();\n        } else if(json[\"janus\"] === \"detached\") {\n            // A plugin asked the core to detach one of our handles\n            Janus.debug(\"Got a detached event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                // Don't warn here because destroyHandle causes this situation.\n                return;\n            }\n            pluginHandle.detached = true;\n            pluginHandle.ondetached();\n            pluginHandle.detach();\n        } else if(json[\"janus\"] === \"media\") {\n            // Media started/stopped flowing\n            Janus.debug(\"Got a media event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.mediaState(json[\"type\"], json[\"receiving\"]);\n        } else if(json[\"janus\"] === \"slowlink\") {\n            Janus.debug(\"Got a slowlink event on session \" + sessionId);\n            Janus.debug(json);\n            // Trouble uplink or downlink\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.debug(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.slowLink(json[\"uplink\"], json[\"nacks\"]);\n        } else if(json[\"janus\"] === \"error\") {\n            // Oops, something wrong happened\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"event\") {\n            Janus.debug(\"Got a plugin event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var plugindata = json[\"plugindata\"];\n            if(plugindata === undefined || plugindata === null) {\n                Janus.warn(\"Missing plugindata...\");\n                return;\n            }\n            Janus.debug(\"  -- Event is coming from \" + sender + \" (\" + plugindata[\"plugin\"] + \")\");\n            var data = plugindata[\"data\"];\n            Janus.debug(data);\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            var jsep = json[\"jsep\"];\n            if(jsep !== undefined && jsep !== null) {\n                Janus.debug(\"Handling SDP as well...\");\n                Janus.debug(jsep);\n            }\n            var callback = pluginHandle.onmessage;\n            if(callback !== null && callback !== undefined) {\n                Janus.debug(\"Notifying application...\");\n                // Send to callback specified when attaching plugin handle\n                callback(data, jsep);\n            } else {\n                // Send to generic callback (?)\n                Janus.debug(\"No provided notification callback\");\n            }\n        } else {\n            Janus.warn(\"Unkown message/event  '\" + json[\"janus\"] + \"' on session \" + sessionId);\n            Janus.debug(json);\n        }\n    }\n\n    // Private helper to send keep-alive messages on WebSockets\n    function keepAlive() {\n        if(server === null || !websockets || !connected)\n            return;\n        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n        var request = { \"janus\": \"keepalive\", \"session_id\": sessionId, \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        ws.send(JSON.stringify(request));\n    }\n\n    // Private method to create a session\n    function createSession(callbacks) {\n        var transaction = Janus.randomString(12);\n        var request = { \"janus\": \"create\", \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(server === null && Janus.isArray(servers)) {\n            // We still need to find a working server from the list we were given\n            server = servers[serversIndex];\n            if(server.indexOf(\"ws\") === 0) {\n                websockets = true;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying WebSockets to contact Janus (\" + server + \")\");\n            } else {\n                websockets = false;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying REST API to contact Janus (\" + server + \")\");\n            }\n        }\n        if(websockets) {\n            ws = Janus.newWebSocket(server, 'janus-protocol');\n            wsHandlers = {\n                'error': function() {\n                    Janus.error(\"Error connecting to the Janus WebSockets server... \" + server);\n                    if (Janus.isArray(servers)) {\n                        serversIndex++;\n                        if (serversIndex == servers.length) {\n                            // We tried all the servers the user gave us and they all failed\n                            callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                            return;\n                        }\n                        // Let's try the next server\n                        server = null;\n                        setTimeout(function() {\n                            createSession(callbacks);\n                        }, 200);\n                        return;\n                    }\n                    callbacks.error(\"Error connecting to the Janus WebSockets server: Is the gateway down?\");\n                },\n\n                'open': function() {\n                    // We need to be notified about the success\n                    transactions[transaction] = function(json) {\n                        Janus.debug(json);\n                        if (json[\"janus\"] !== \"success\") {\n                            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                            callbacks.error(json[\"error\"].reason);\n                            return;\n                        }\n                        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n                        connected = true;\n                        sessionId = json.data[\"id\"];\n                        Janus.log(\"Created session: \" + sessionId);\n                        Janus.sessions[sessionId] = that;\n                        callbacks.success();\n                    };\n                    ws.send(JSON.stringify(request));\n                },\n\n                'message': function(event) {\n                    handleEvent(JSON.parse(event.data));\n                },\n\n                'close': function() {\n                    if (server === null || !connected) {\n                        return;\n                    }\n                    connected = false;\n                    // FIXME What if this is called when the page is closed?\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                }\n            };\n\n            for(var eventName in wsHandlers) {\n                ws.addEventListener(eventName, wsHandlers[eventName]);\n            }\n\n            return;\n        }\n        Janus.httpAPICall(server, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(json[\"error\"].reason);\n                    return;\n                }\n                connected = true;\n                sessionId = json.data[\"id\"];\n                Janus.log(\"Created session: \" + sessionId);\n                Janus.sessions[sessionId] = that;\n                eventHandler();\n                callbacks.success();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                if(Janus.isArray(servers)) {\n                    serversIndex++;\n                    if(serversIndex == servers.length) {\n                        // We tried all the servers the user gave us and they all failed\n                        callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                        return;\n                    }\n                    // Let's try the next server\n                    server = null;\n                    setTimeout(function() { createSession(callbacks); }, 200);\n                    return;\n                }\n                if(errorThrown === \"\")\n                    callbacks.error(textStatus + \": Is the gateway down?\");\n                else\n                    callbacks.error(textStatus + \": \" + errorThrown);\n            }\n        });\n    }\n\n    // Private method to destroy a session\n    function destroySession(callbacks) {\n        callbacks = callbacks || {};\n        // FIXME This method triggers a success even when we fail\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying session \" + sessionId + \" (async=\" + asyncRequest + \")\");\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.success();\n            return;\n        }\n        if(sessionId === undefined || sessionId === null) {\n            Janus.warn(\"No session to destroy\");\n            callbacks.success();\n            gatewayCallbacks.destroyed();\n            return;\n        }\n        delete Janus.sessions[sessionId];\n        // No need to destroy all handles first, Janus will do that itself\n        var request = { \"janus\": \"destroy\", \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n\n            var unbindWebSocket = function() {\n                for(var eventName in wsHandlers) {\n                    ws.removeEventListener(eventName, wsHandlers[eventName]);\n                }\n                ws.removeEventListener('message', onUnbindMessage);\n                ws.removeEventListener('error', onUnbindError);\n                if(wsKeepaliveTimeoutId) {\n                    clearTimeout(wsKeepaliveTimeoutId);\n                }\n            };\n\n            var onUnbindMessage = function(event){\n                var data = JSON.parse(event.data);\n                if(data.session_id == request.session_id && data.transaction == request.transaction) {\n                    unbindWebSocket();\n                    callbacks.success();\n                    gatewayCallbacks.destroyed();\n                }\n            };\n            var onUnbindError = function(event) {\n                unbindWebSocket();\n                callbacks.error(\"Failed to destroy the gateway: Is the gateway down?\");\n                gatewayCallbacks.destroyed();\n            };\n\n            ws.addEventListener('message', onUnbindMessage);\n            ws.addEventListener('error', onUnbindError);\n\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId, {\n            verb: 'POST',\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.log(\"Destroyed session:\");\n                Janus.debug(json);\n                sessionId = null;\n                connected = false;\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // Reset everything anyway\n                sessionId = null;\n                connected = false;\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            }\n        });\n    }\n\n    // Private method to create a plugin handle\n    function createHandle(callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        callbacks.consentDialog = (typeof callbacks.consentDialog == \"function\") ? callbacks.consentDialog : Janus.noop;\n        callbacks.iceState = (typeof callbacks.iceState == \"function\") ? callbacks.iceState : Janus.noop;\n        callbacks.mediaState = (typeof callbacks.mediaState == \"function\") ? callbacks.mediaState : Janus.noop;\n        callbacks.webrtcState = (typeof callbacks.webrtcState == \"function\") ? callbacks.webrtcState : Janus.noop;\n        callbacks.slowLink = (typeof callbacks.slowLink == \"function\") ? callbacks.slowLink : Janus.noop;\n        callbacks.onmessage = (typeof callbacks.onmessage == \"function\") ? callbacks.onmessage : Janus.noop;\n        callbacks.onlocalstream = (typeof callbacks.onlocalstream == \"function\") ? callbacks.onlocalstream : Janus.noop;\n        callbacks.onremotestream = (typeof callbacks.onremotestream == \"function\") ? callbacks.onremotestream : Janus.noop;\n        callbacks.ondata = (typeof callbacks.ondata == \"function\") ? callbacks.ondata : Janus.noop;\n        callbacks.ondataopen = (typeof callbacks.ondataopen == \"function\") ? callbacks.ondataopen : Janus.noop;\n        callbacks.oncleanup = (typeof callbacks.oncleanup == \"function\") ? callbacks.oncleanup : Janus.noop;\n        callbacks.ondetached = (typeof callbacks.ondetached == \"function\") ? callbacks.ondetached : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var plugin = callbacks.plugin;\n        if(plugin === undefined || plugin === null) {\n            Janus.error(\"Invalid plugin\");\n            callbacks.error(\"Invalid plugin\");\n            return;\n        }\n        var opaqueId = callbacks.opaqueId;\n        var transaction = Janus.randomString(12);\n        var request = { \"janus\": \"attach\", \"plugin\": plugin, \"opaque_id\": opaqueId, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        // If we know the browser supports BUNDLE and/or rtcp-mux, let's advertise those right away\n        if(Janus.webRTCAdapter.browserDetails.browser == \"chrome\" || Janus.webRTCAdapter.browserDetails.browser == \"firefox\" ||\n            Janus.webRTCAdapter.browserDetails.browser == \"safari\") {\n            request[\"force-bundle\"] = true;\n            request[\"force-rtcp-mux\"] = true;\n        }\n        if(websockets) {\n            transactions[transaction] = function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        detached : false,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        iceState : callbacks.iceState,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            };\n            request[\"session_id\"] = sessionId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        detached : false,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        iceState : callbacks.iceState,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            }\n        });\n    }\n\n    // Private method to send a message\n    function sendMessage(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var message = callbacks.message;\n        var jsep = callbacks.jsep;\n        var transaction = Janus.randomString(12);\n        var request = { \"janus\": \"message\", \"body\": message, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(jsep !== null && jsep !== undefined)\n            request.jsep = jsep;\n        Janus.debug(\"Sending message to plugin (handle=\" + handleId + \"):\");\n        Janus.debug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            transactions[transaction] = function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            };\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                callbacks.error(textStatus + \": \" + errorThrown);\n            }\n        });\n    }\n\n    // Private method to send a trickle candidate\n    function sendTrickleCandidate(handleId, candidate) {\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"trickle\", \"candidate\": candidate, \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        Janus.vdebug(\"Sending trickle candidate (handle=\" + handleId + \"):\");\n        Janus.vdebug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.vdebug(\"Candidate sent!\");\n                Janus.vdebug(json);\n                if(json[\"janus\"] !== \"ack\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    return;\n                }\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            }\n        });\n    }\n\n    // Private method to send a data channel message\n    function sendData(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var text = callbacks.text;\n        if(text === null || text === undefined) {\n            Janus.warn(\"Invalid text\");\n            callbacks.error(\"Invalid text\");\n            return;\n        }\n        Janus.log(\"Sending string on data channel: \" + text);\n        config.dataChannel.send(text);\n        callbacks.success();\n    }\n\n    // Private method to send a DTMF tone\n    function sendDtmf(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.dtmfSender === null || config.dtmfSender === undefined) {\n            // Create the DTMF sender, if possible\n            if(config.myStream !== undefined && config.myStream !== null) {\n                var tracks = config.myStream.getAudioTracks();\n                if(tracks !== null && tracks !== undefined && tracks.length > 0) {\n                    var local_audio_track = tracks[0];\n                    config.dtmfSender = config.pc.createDTMFSender(local_audio_track);\n                    Janus.log(\"Created DTMF Sender\");\n                    config.dtmfSender.ontonechange = function(tone) { Janus.debug(\"Sent DTMF tone: \" + tone.tone); };\n                }\n            }\n            if(config.dtmfSender === null || config.dtmfSender === undefined) {\n                Janus.warn(\"Invalid DTMF configuration\");\n                callbacks.error(\"Invalid DTMF configuration\");\n                return;\n            }\n        }\n        var dtmf = callbacks.dtmf;\n        if(dtmf === null || dtmf === undefined) {\n            Janus.warn(\"Invalid DTMF parameters\");\n            callbacks.error(\"Invalid DTMF parameters\");\n            return;\n        }\n        var tones = dtmf.tones;\n        if(tones === null || tones === undefined) {\n            Janus.warn(\"Invalid DTMF string\");\n            callbacks.error(\"Invalid DTMF string\");\n            return;\n        }\n        var duration = dtmf.duration;\n        if(duration === null || duration === undefined)\n            duration = 500;\t// We choose 500ms as the default duration for a tone\n        var gap = dtmf.gap;\n        if(gap === null || gap === undefined)\n            gap = 50;\t// We choose 50ms as the default gap between tones\n        Janus.debug(\"Sending DTMF string \" + tones + \" (duration \" + duration + \"ms, gap \" + gap + \"ms)\");\n        config.dtmfSender.insertDTMF(tones, duration, gap);\n    }\n\n    // Private method to destroy a plugin handle\n    function destroyHandle(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        Janus.warn(callbacks);\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying handle \" + handleId + \" (async=\" + asyncRequest + \")\");\n        cleanupWebrtc(handleId);\n        if (pluginHandles[handleId].detached) {\n            // Plugin was already detached by Janus, calling detach again will return a handle not found error, so just exit here\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"detach\", \"transaction\": Janus.randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n            verb: 'POST',\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            withCredentials: withCredentials,\n            body: request,\n            success: function(json) {\n                Janus.log(\"Destroyed handle:\");\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            error: function(textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // We cleanup anyway\n                delete pluginHandles[handleId];\n                callbacks.success();\n            }\n        });\n    }\n\n    // WebRTC stuff\n    function streamsDone(handleId, jsep, media, callbacks, stream) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.debug(\"streamsDone:\", stream);\n        config.myStream = stream;\n        var pc_config = {\"iceServers\": iceServers, \"iceTransportPolicy\": iceTransportPolicy, \"bundlePolicy\": bundlePolicy};\n        //~ var pc_constraints = {'mandatory': {'MozDontOfferDataChannel':true}};\n        var pc_constraints = {\n            \"optional\": [{\"DtlsSrtpKeyAgreement\": true}]\n        };\n        if(ipv6Support === true) {\n            // FIXME This is only supported in Chrome right now\n            // For support in Firefox track this: https://bugzilla.mozilla.org/show_bug.cgi?id=797262\n            pc_constraints.optional.push({\"googIPv6\":true});\n        }\n        // Any custom constraint to add?\n        if(callbacks.rtcConstraints && typeof callbacks.rtcConstraints === 'object') {\n            Janus.debug(\"Adding custom PeerConnection constraints:\", callbacks.rtcConstraints);\n            for(var i in callbacks.rtcConstraints) {\n                pc_constraints.optional.push(callbacks.rtcConstraints[i]);\n            }\n        }\n        if(Janus.webRTCAdapter.browserDetails.browser === \"edge\") {\n            // This is Edge, enable BUNDLE explicitly\n            pc_config.bundlePolicy = \"max-bundle\";\n        }\n        Janus.log(\"Creating PeerConnection\");\n        Janus.debug(pc_constraints);\n        config.pc = new RTCPeerConnection(pc_config, pc_constraints);\n        Janus.debug(config.pc);\n        if(config.pc.getStats) {\t// FIXME\n            config.volume.value = 0;\n            config.bitrate.value = \"0 kbits/sec\";\n        }\n        Janus.log(\"Preparing local SDP and gathering candidates (trickle=\" + config.trickle + \")\");\n        config.pc.oniceconnectionstatechange = function(e) {\n            if(config.pc)\n                pluginHandle.iceState(config.pc.iceConnectionState);\n        };\n        config.pc.onicecandidate = function(event) {\n            if (event.candidate == null ||\n                (Janus.webRTCAdapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n                Janus.log(\"End of candidates.\");\n                config.iceDone = true;\n                if(config.trickle === true) {\n                    // Notify end of candidates\n                    sendTrickleCandidate(handleId, {\"completed\": true});\n                } else {\n                    // No trickle, time to send the complete SDP (including all candidates)\n                    sendSDP(handleId, callbacks);\n                }\n            } else {\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var candidate = {\n                    \"candidate\": event.candidate.candidate,\n                    \"sdpMid\": event.candidate.sdpMid,\n                    \"sdpMLineIndex\": event.candidate.sdpMLineIndex\n                };\n                if(config.trickle === true) {\n                    // Send candidate\n                    sendTrickleCandidate(handleId, candidate);\n                }\n            }\n        };\n        if(stream !== null && stream !== undefined) {\n            Janus.log('Adding local stream');\n            stream.getTracks().forEach(function(track) { config.pc.addTrack(track, stream); });\n            pluginHandle.onlocalstream(stream);\n        }\n        config.pc.ontrack = function(event) {\n            Janus.log(\"Handling Remote Track\");\n            Janus.debug(event);\n            if(!event.streams)\n                return;\n            config.remoteStream = event.streams[0];\n            pluginHandle.onremotestream(config.remoteStream);\n        };\n        // Any data channel to create?\n        if(isDataEnabled(media)) {\n            Janus.log(\"Creating data channel\");\n            var onDataChannelMessage = function(event) {\n                Janus.log('Received message on data channel: ' + event.data);\n                pluginHandle.ondata(event.data);\t// FIXME\n            }\n            var onDataChannelStateChange = function() {\n                var dcState = config.dataChannel !== null ? config.dataChannel.readyState : \"null\";\n                Janus.log('State change on data channel: ' + dcState);\n                if(dcState === 'open') {\n                    pluginHandle.ondataopen();\t// FIXME\n                }\n            }\n            var onDataChannelError = function(error) {\n                Janus.error('Got error on data channel:', error);\n                // TODO\n            }\n            // Until we implement the proxying of open requests within the Janus core, we open a channel ourselves whatever the case\n            config.dataChannel = config.pc.createDataChannel(\"JanusDataChannel\", {ordered:false});\t// FIXME Add options (ordered, maxRetransmits, etc.)\n            config.dataChannel.onmessage = onDataChannelMessage;\n            config.dataChannel.onopen = onDataChannelStateChange;\n            config.dataChannel.onclose = onDataChannelStateChange;\n            config.dataChannel.onerror = onDataChannelError;\n        }\n        // Create offer/answer now\n        if(jsep === null || jsep === undefined) {\n            createOffer(handleId, media, callbacks);\n        } else {\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    createAnswer(handleId, media, callbacks);\n                }, callbacks.error);\n        }\n    }\n\n    function prepareWebrtc(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var media = callbacks.media;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Are we updating a session?\n        if(config.pc !== undefined && config.pc !== null) {\n            Janus.log(\"Updating existing media session\");\n            // Create offer/answer now\n            if(jsep === null || jsep === undefined) {\n                createOffer(handleId, media, callbacks);\n            } else {\n                config.pc.setRemoteDescription(\n                    new RTCSessionDescription(jsep),\n                    function() {\n                        Janus.log(\"Remote description accepted!\");\n                        createAnswer(handleId, media, callbacks);\n                    }, callbacks.error);\n            }\n            return;\n        }\n        config.trickle = isTrickleEnabled(callbacks.trickle);\n        // Was a MediaStream object passed, or do we need to take care of that?\n        if(callbacks.stream !== null && callbacks.stream !== undefined) {\n            var stream = callbacks.stream;\n            Janus.log(\"MediaStream provided by the application\");\n            Janus.debug(stream);\n            // Skip the getUserMedia part\n            config.streamExternal = true;\n            streamsDone(handleId, jsep, media, callbacks, stream);\n            return;\n        }\n        if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n            var constraints = { mandatory: {}, optional: []};\n            pluginHandle.consentDialog(true);\n            var audioSupport = isAudioSendEnabled(media);\n            if(audioSupport === true && media != undefined && media != null) {\n                if(typeof media.audio === 'object') {\n                    audioSupport = media.audio;\n                }\n            }\n            var videoSupport = isVideoSendEnabled(media);\n            if(videoSupport === true && media != undefined && media != null) {\n                var simulcast = callbacks.simulcast === true ? true : false;\n                if(simulcast && !jsep && (media.video === undefined || media.video === false))\n                    media.video = \"hires\";\n                if(media.video && media.video != 'screen' && media.video != 'window') {\n                    var width = 0;\n                    var height = 0, maxHeight = 0;\n                    if(media.video === 'lowres') {\n                        // Small resolution, 4:3\n                        height = 240;\n                        maxHeight = 240;\n                        width = 320;\n                    } else if(media.video === 'lowres-16:9') {\n                        // Small resolution, 16:9\n                        height = 180;\n                        maxHeight = 180;\n                        width = 320;\n                    } else if(media.video === 'hires' || media.video === 'hires-16:9' ) {\n                        // High resolution is only 16:9\n                        height = 720;\n                        maxHeight = 720;\n                        width = 1280;\n                        if(navigator.mozGetUserMedia) {\n                            var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                            if(firefoxVer < 38) {\n                                // Unless this is and old Firefox, which doesn't support it\n                                Janus.warn(media.video + \" unsupported, falling back to stdres (old Firefox)\");\n                                height = 480;\n                                maxHeight = 480;\n                                width  = 640;\n                            }\n                        }\n                    } else if(media.video === 'stdres') {\n                        // Normal resolution, 4:3\n                        height = 480;\n                        maxHeight = 480;\n                        width  = 640;\n                    } else if(media.video === 'stdres-16:9') {\n                        // Normal resolution, 16:9\n                        height = 360;\n                        maxHeight = 360;\n                        width = 640;\n                    } else {\n                        Janus.log(\"Default video setting is stdres 4:3\");\n                        height = 480;\n                        maxHeight = 480;\n                        width = 640;\n                    }\n                    Janus.log(\"Adding media constraint:\", media.video);\n                    if(navigator.mozGetUserMedia) {\n                        var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(firefoxVer < 38) {\n                            videoSupport = {\n                                'require': ['height', 'width'],\n                                'height': {'max': maxHeight, 'min': height},\n                                'width':  {'max': width,  'min': width}\n                            };\n                        } else {\n                            // http://stackoverflow.com/questions/28282385/webrtc-firefox-constraints/28911694#28911694\n                            // https://github.com/meetecho/janus-gateway/pull/246\n                            videoSupport = {\n                                'height': {'ideal': height},\n                                'width':  {'ideal': width}\n                            };\n                        }\n                    } else {\n                        videoSupport = {\n                            'mandatory': {\n                                'maxHeight': maxHeight,\n                                'minHeight': height,\n                                'maxWidth':  width,\n                                'minWidth':  width\n                            },\n                            'optional': []\n                        };\n                    }\n                    if(typeof media.video === 'object') {\n                        videoSupport = media.video;\n                    }\n                    Janus.debug(videoSupport);\n                } else if(media.video === 'screen' || media.video === 'window') {\n                    if(!media.screenshareFrameRate) {\n                        media.screenshareFrameRate = 3;\n                    }\n                    // Not a webcam, but screen capture\n                    if(window.location.protocol !== 'https:') {\n                        // Screen sharing mandates HTTPS\n                        Janus.warn(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        pluginHandle.consentDialog(false);\n                        callbacks.error(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        return;\n                    }\n                    // We're going to try and use the extension for Chrome 34+, the old approach\n                    // for older versions of Chrome, or the experimental support in Firefox 33+\n                    var cache = {};\n                    function callbackUserMedia (error, stream) {\n                        pluginHandle.consentDialog(false);\n                        if(error) {\n                            callbacks.error({code: error.code, name: error.name, message: error.message});\n                        } else {\n                            streamsDone(handleId, jsep, media, callbacks, stream);\n                        }\n                    };\n                    function getScreenMedia(constraints, gsmCallback, useAudio) {\n                        Janus.log(\"Adding media constraint (screen capture)\");\n                        Janus.debug(constraints);\n                        navigator.mediaDevices.getUserMedia(constraints)\n                        .then(function(stream) {\n                            if(useAudio){\n                                navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n                                .then(function (audioStream) {\n                                    stream.addTrack(audioStream.getAudioTracks()[0]);\n                                    gsmCallback(null, stream);\n                                })\n                            } else {\n                                gsmCallback(null, stream);\n                            }\n                        })\n                        .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error); });\n                    };\n                    if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n                        var chromever = Janus.webRTCAdapter.browserDetails.version;\n                        var maxver = 33;\n                        if(window.navigator.userAgent.match('Linux'))\n                            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n                        if(chromever >= 26 && chromever <= maxver) {\n                            // Chrome 26->33 requires some awkward chrome://flags manipulation\n                            constraints = {\n                                video: {\n                                    mandatory: {\n                                        googLeakyBucket: true,\n                                        maxWidth: window.screen.width,\n                                        maxHeight: window.screen.height,\n                                        minFrameRate: media.screenshareFrameRate,\n                                        maxFrameRate: media.screenshareFrameRate,\n                                        chromeMediaSource: 'screen'\n                                    }\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, callbackUserMedia);\n                        } else {\n                            // Chrome 34+ requires an extension\n                            var pending = window.setTimeout(\n                                function () {\n                                    error = new Error('NavigatorUserMediaError');\n                                    error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)';\n                                    pluginHandle.consentDialog(false);\n                                    return callbacks.error(error);\n                                }, 1000);\n                            cache[pending] = [callbackUserMedia, null];\n                            window.postMessage({ type: 'janusGetScreen', id: pending }, '*');\n                        }\n                    } else if (window.navigator.userAgent.match('Firefox')) {\n                        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(ffver >= 33) {\n                            // Firefox 33+ has experimental support for screen sharing\n                            constraints = {\n                                video: {\n                                    mozMediaSource: media.video,\n                                    mediaSource: media.video\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, function (err, stream) {\n                                callbackUserMedia(err, stream);\n                                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                                if (!err) {\n                                    var lastTime = stream.currentTime;\n                                    var polly = window.setInterval(function () {\n                                        if(!stream)\n                                            window.clearInterval(polly);\n                                        if(stream.currentTime == lastTime) {\n                                            window.clearInterval(polly);\n                                            if(stream.onended) {\n                                                stream.onended();\n                                            }\n                                        }\n                                        lastTime = stream.currentTime;\n                                    }, 500);\n                                }\n                            });\n                        } else {\n                            var error = new Error('NavigatorUserMediaError');\n                            error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)';\n                            pluginHandle.consentDialog(false);\n                            callbacks.error(error);\n                            return;\n                        }\n                    }\n\n                    // Wait for events from the Chrome Extension\n                    window.addEventListener('message', function (event) {\n                        if(event.origin != window.location.origin)\n                            return;\n                        if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n                            var data = cache[event.data.id];\n                            var callback = data[0];\n                            delete cache[event.data.id];\n\n                            if (event.data.sourceId === '') {\n                                // user canceled\n                                var error = new Error('NavigatorUserMediaError');\n                                error.name = 'You cancelled the request for permission, giving up...';\n                                pluginHandle.consentDialog(false);\n                                callbacks.error(error);\n                            } else {\n                                constraints = {\n                                    audio: false,\n                                    video: {\n                                        mandatory: {\n                                            chromeMediaSource: 'desktop',\n                                            maxWidth: window.screen.width,\n                                            maxHeight: window.screen.height,\n                                            minFrameRate: media.screenshareFrameRate,\n                                            maxFrameRate: media.screenshareFrameRate,\n                                        },\n                                        optional: [\n                                            {googLeakyBucket: true},\n                                            {googTemporalLayeredScreencast: true}\n                                        ]\n                                    }\n                                };\n                                constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n                                getScreenMedia(constraints, callback, isAudioSendEnabled(media));\n                            }\n                        } else if (event.data.type == 'janusGetScreenPending') {\n                            window.clearTimeout(event.data.id);\n                        }\n                    });\n                    return;\n                }\n            }\n            // If we got here, we're not screensharing\n            if(media === null || media === undefined || media.video !== 'screen') {\n                // Check whether all media sources are actually available or not\n                navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                    var audioExist = devices.some(function(device) {\n                            return device.kind === 'audioinput';\n                        }),\n                        videoExist = devices.some(function(device) {\n                            return device.kind === 'videoinput';\n                        });\n\n                    // Check whether a missing device is really a problem\n                    var audioSend = isAudioSendEnabled(media);\n                    var videoSend = isVideoSendEnabled(media);\n                    var needAudioDevice = isAudioSendRequired(media);\n                    var needVideoDevice = isVideoSendRequired(media);\n                    if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n                        // We need to send either audio or video\n                        var haveAudioDevice = audioSend ? audioExist : false;\n                        var haveVideoDevice = videoSend ? videoExist : false;\n                        if(!haveAudioDevice && !haveVideoDevice) {\n                            // FIXME Should we really give up, or just assume recvonly for both?\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('No capture device found');\n                            return false;\n                        } else if(!haveAudioDevice && needAudioDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Audio capture is required, but no capture device found');\n                            return false;\n                        } else if(!haveVideoDevice && needVideoDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Video capture is required, but no capture device found');\n                            return false;\n                        }\n                    }\n\n                    navigator.mediaDevices.getUserMedia({\n                        audio: audioExist ? audioSupport : false,\n                        video: videoExist ? videoSupport : false\n                    })\n                    .then(function(stream) { pluginHandle.consentDialog(false); streamsDone(handleId, jsep, media, callbacks, stream); })\n                    .catch(function(error) { pluginHandle.consentDialog(false); callbacks.error({code: error.code, name: error.name, message: error.message}); });\n                })\n                .catch(function(error) {\n                    pluginHandle.consentDialog(false);\n                    callbacks.error('enumerateDevices error', error);\n                });\n            }\n        } else {\n            // No need to do a getUserMedia, create offer/answer right away\n            streamsDone(handleId, jsep, media, callbacks);\n        }\n    }\n\n    function prepareWebrtcPeer(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(jsep !== undefined && jsep !== null) {\n            if(config.pc === null) {\n                Janus.warn(\"Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep\");\n                callbacks.error(\"No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep\");\n                return;\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    callbacks.success();\n                }, callbacks.error);\n        } else {\n            callbacks.error(\"Invalid JSEP\");\n        }\n    }\n\n    function createOffer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var simulcast = callbacks.simulcast === true ? true : false;\n        if(!simulcast) {\n            Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \")\");\n        } else {\n            Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \", simulcast=\" + simulcast + \")\");\n        }\n        // https://code.google.com/p/webrtc/issues/detail?id=3508\n        var mediaConstraints = null;\n        if(Janus.webRTCAdapter.browserDetails.browser == \"firefox\" || Janus.webRTCAdapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        // Check if this is Firefox and we've been asked to do simulcasting\n        var sendVideo = isVideoSendEnabled(media);\n        if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === \"firefox\") {\n            // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n            Janus.log(\"Enabling Simulcasting for Firefox (RID)\");\n            var sender = config.pc.getSenders()[1];\n            Janus.log(sender);\n            var parameters = sender.getParameters();\n            Janus.log(parameters);\n            sender.setParameters({encodings: [\n                { rid: \"high\", active: true, priority: \"high\", maxBitrate: 1000000 },\n                { rid: \"medium\", active: true, priority: \"medium\", maxBitrate: 300000 },\n                { rid: \"low\", active: true, priority: \"low\", maxBitrate: 100000 }\n            ]});\n        }\n        config.pc.createOffer(\n            function(offer) {\n                Janus.debug(offer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    if(sendVideo && simulcast) {\n                        // This SDP munging only works with Chrome\n                        if(Janus.webRTCAdapter.browserDetails.browser === \"chrome\") {\n                            Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n                            offer.sdp = mungeSdpForSimulcasting(offer.sdp);\n                        } else if(Janus.webRTCAdapter.browserDetails.browser !== \"firefox\") {\n                            Janus.warn(\"simulcast=true, but this is not Chrome nor Firefox, ignoring\");\n                        }\n                    }\n                    config.mySdp = offer.sdp;\n                    config.pc.setLocalDescription(offer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\n                    Janus.log(\"Offer already sent, not sending it again\");\n                    return;\n                }\n                Janus.log(\"Offer ready\");\n                Janus.debug(callbacks);\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": offer.type,\n                    \"sdp\": offer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function createAnswer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var simulcast = callbacks.simulcast === true ? true : false;\n        if(!simulcast) {\n            Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \")\");\n        } else {\n            Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \", simulcast=\" + simulcast + \")\");\n        }\n        var mediaConstraints = null;\n        if(Janus.webRTCAdapter.browserDetails.browser == \"firefox\" || Janus.webRTCAdapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        // Check if this is Firefox and we've been asked to do simulcasting\n        var sendVideo = isVideoSendEnabled(media);\n        if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === \"firefox\") {\n            // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n            Janus.log(\"Enabling Simulcasting for Firefox (RID)\");\n            var sender = config.pc.getSenders()[1];\n            Janus.log(sender);\n            var parameters = sender.getParameters();\n            Janus.log(parameters);\n            sender.setParameters({encodings: [\n                { rid: \"high\", active: true, priority: \"high\", maxBitrate: 1000000 },\n                { rid: \"medium\", active: true, priority: \"medium\", maxBitrate: 300000 },\n                { rid: \"low\", active: true, priority: \"low\", maxBitrate: 100000 }\n            ]});\n        }\n        config.pc.createAnswer(\n            function(answer) {\n                Janus.debug(answer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    if(sendVideo && simulcast) {\n                        // This SDP munging only works with Chrome\n                        if(Janus.webRTCAdapter.browserDetails.browser === \"chrome\") {\n                            // FIXME Apparently trying to simulcast when answering breaks video in Chrome...\n                            //~ Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n                            //~ answer.sdp = mungeSdpForSimulcasting(answer.sdp);\n                            Janus.warn(\"simulcast=true, but this is an answer, and video breaks in Chrome if we enable it\");\n                        } else if(Janus.webRTCAdapter.browserDetails.browser !== \"firefox\") {\n                            Janus.warn(\"simulcast=true, but this is not Chrome nor Firefox, ignoring\");\n                        }\n                    }\n                    config.mySdp = answer.sdp;\n                    config.pc.setLocalDescription(answer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\t// FIXME badly\n                    Janus.log(\"Answer already sent, not sending it again\");\n                    return;\n                }\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": answer.type,\n                    \"sdp\": answer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function sendSDP(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle, not sending anything\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Sending offer/answer SDP...\");\n        if(config.mySdp === null || config.mySdp === undefined) {\n            Janus.warn(\"Local SDP instance is invalid, not sending anything...\");\n            return;\n        }\n        config.mySdp = {\n            \"type\": config.pc.localDescription.type,\n            \"sdp\": config.pc.localDescription.sdp\n        };\n        if(config.sdpSent) {\n            Janus.log(\"Offer/Answer SDP already sent, not sending it again\");\n            return;\n        }\n        if(config.trickle === false)\n            config.mySdp[\"trickle\"] = false;\n        Janus.debug(callbacks);\n        config.sdpSent = true;\n        callbacks.success(config.mySdp);\n    }\n\n    function getVolume(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return 0;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Start getting the volume, if getStats is supported\n        if(config.pc.getStats && Janus.webRTCAdapter.browserDetails.browser == \"chrome\") {\t// FIXME\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return 0;\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.volume.timer === null || config.volume.timer === undefined) {\n                Janus.log(\"Starting volume monitor\");\n                config.volume.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('audioOutputLevel')) {\n                                config.volume.value = res.stat('audioOutputLevel');\n                            }\n                        }\n                    });\n                }, 200);\n                return 0;\t// We don't have a volume to return yet\n            }\n            return config.volume.value;\n        } else {\n            Janus.log(\"Getting the remote volume unsupported by browser\");\n            return 0;\n        }\n    }\n\n    function isMuted(handleId, video) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return true;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return true;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return true;\n        }\n        if(video) {\n            // Check video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return true;\n            }\n            return !config.myStream.getVideoTracks()[0].enabled;\n        } else {\n            // Check audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return true;\n            }\n            return !config.myStream.getAudioTracks()[0].enabled;\n        }\n    }\n\n    function mute(handleId, video, mute) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return false;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return false;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return false;\n        }\n        if(video) {\n            // Mute/unmute video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return false;\n            }\n            config.myStream.getVideoTracks()[0].enabled = mute ? false : true;\n            return true;\n        } else {\n            // Mute/unmute audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return false;\n            }\n            config.myStream.getAudioTracks()[0].enabled = mute ? false : true;\n            return true;\n        }\n    }\n\n    function getBitrate(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return \"Invalid handle\";\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined)\n            return \"Invalid PeerConnection\";\n        // Start getting the bitrate, if getStats is supported\n        if(config.pc.getStats) {\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (via getStats)\");\n                config.bitrate.timer = setInterval(function() {\n                    config.pc.getStats()\n                    .then(function(stats) {\n                        stats.forEach(function (res) {\n                            if(!res)\n                                return;\n                            var inStats = false;\n                            // Check if these are statistics on incoming media\n                            if((res.mediaType === \"video\" || res.id.toLowerCase().indexOf(\"video\") > -1) &&\n                                res.type === \"inbound-rtp\" && res.id.indexOf(\"rtcp\") < 0) {\n                                // New stats\n                                inStats = true;\n                            } else if(res.type == 'ssrc' && res.bytesReceived &&\n                                (res.googCodecName === \"VP8\" || res.googCodecName === \"\")) {\n                                // Older Chromer versions\n                                inStats = true;\n                            }\n                            // Parse stats now\n                            if(inStats) {\n                                config.bitrate.bsnow = res.bytesReceived;\n                                config.bitrate.tsnow = res.timestamp;\n                                if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                                    // Skip this round\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                } else {\n                                    // Calculate bitrate\n                                    var timePassed = config.bitrate.tsnow - config.bitrate.tsbefore;\n                                    if(Janus.webRTCAdapter.browserDetails.browser == \"safari\")\n                                        timePassed = timePassed/1000;\t// Apparently the timestamp is in microseconds, in Safari\n                                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / timePassed);\n                                    config.bitrate.value = bitRate + ' kbits/sec';\n                                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                }\n                            }\n                        });\n                    });\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else {\n            Janus.warn(\"Getting the video bitrate unsupported by browser\");\n            return \"Feature unsupported by browser\";\n        }\n    }\n\n    function webrtcError(error) {\n        Janus.error(\"WebRTC error:\", error);\n    }\n\n    function cleanupWebrtc(handleId, hangupRequest) {\n        Janus.log(\"Cleaning WebRTC stuff\");\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined) {\n            // Nothing to clean\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config !== null && config !== undefined) {\n            if(hangupRequest === true) {\n                // Send a hangup request (we don't really care about the response)\n                var request = { \"janus\": \"hangup\", \"transaction\": Janus.randomString(12) };\n                if(token !== null && token !== undefined)\n                    request[\"token\"] = token;\n                if(apisecret !== null && apisecret !== undefined)\n                    request[\"apisecret\"] = apisecret;\n                Janus.debug(\"Sending hangup request (handle=\" + handleId + \"):\");\n                Janus.debug(request);\n                if(websockets) {\n                    request[\"session_id\"] = sessionId;\n                    request[\"handle_id\"] = handleId;\n                    ws.send(JSON.stringify(request));\n                } else {\n                    Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n                        verb: 'POST',\n                        withCredentials: withCredentials,\n                        data: request\n                    });\n                }\n            }\n            // Cleanup stack\n            config.remoteStream = null;\n            if(config.volume.timer)\n                clearInterval(config.volume.timer);\n            config.volume.value = null;\n            if(config.bitrate.timer)\n                clearInterval(config.bitrate.timer);\n            config.bitrate.timer = null;\n            config.bitrate.bsnow = null;\n            config.bitrate.bsbefore = null;\n            config.bitrate.tsnow = null;\n            config.bitrate.tsbefore = null;\n            config.bitrate.value = null;\n            try {\n                // Try a MediaStreamTrack.stop() for each track\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream tracks\");\n                    var tracks = config.myStream.getTracks();\n                    for(var i in tracks) {\n                        var mst = tracks[i];\n                        Janus.log(mst);\n                        if(mst !== null && mst !== undefined)\n                            mst.stop();\n                    }\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            config.streamExternal = false;\n            config.myStream = null;\n            // Close PeerConnection\n            try {\n                config.pc.close();\n            } catch(e) {\n                // Do nothing\n            }\n            config.pc = null;\n            config.mySdp = null;\n            config.iceDone = false;\n            config.sdpSent = false;\n            config.dataChannel = null;\n            config.dtmfSender = null;\n        }\n        pluginHandle.oncleanup();\n    }\n\n    // Helper method to munge an SDP to enable simulcasting (Chrome only)\n    function mungeSdpForSimulcasting(sdp) {\n        // Let's munge the SDP to add the attributes for enabling simulcasting\n        // (based on https://gist.github.com/ggarber/a19b4c33510028b9c657)\n        var lines = sdp.split(\"\\r\\n\");\n        var video = false;\n        var ssrc = [ -1 ], ssrc_fid = -1;\n        var cname = null, msid = null, mslabel = null, label = null;\n        var insertAt = -1;\n        for(var i=0; i<lines.length; i++) {\n            var mline = lines[i].match(/m=(\\w+) */);\n            if(mline) {\n                var medium = mline[1];\n                if(medium === \"video\") {\n                    // New video m-line: make sure it's the first one\n                    if(ssrc[0] < 0) {\n                        video = true;\n                    } else {\n                        // We're done, let's add the new attributes here\n                        insertAt = i;\n                        break;\n                    }\n                } else {\n                    // New non-video m-line: do we have what we were looking for?\n                    if(ssrc[0] > -1) {\n                        // We're done, let's add the new attributes here\n                        insertAt = i;\n                        break;\n                    }\n                }\n                continue;\n            }\n            if(!video)\n                continue;\n            var fid = lines[i].match(/a=ssrc-group:FID (\\d+) (\\d+)/);\n            if(fid) {\n                ssrc[0] = fid[1];\n                ssrc_fid = fid[2];\n                lines.splice(i, 1); i--;\n                continue;\n            }\n            if(ssrc[0]) {\n                var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n                if(match) {\n                    cname = match[1];\n                }\n                match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n                if(match) {\n                    msid = match[1];\n                }\n                match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n                if(match) {\n                    mslabel = match[1];\n                }\n                match = lines[i].match('a=ssrc:' + ssrc + ' label:(.+)')\n                if(match) {\n                    label = match[1];\n                }\n                if(lines[i].indexOf('a=ssrc:' + ssrc_fid) === 0) {\n                    lines.splice(i, 1); i--;\n                    continue;\n                }\n                if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n                    lines.splice(i, 1); i--;\n                    continue;\n                }\n            }\n            if(lines[i].length == 0) {\n                lines.splice(i, 1); i--;\n                continue;\n            }\n        }\n        if(ssrc[0] < 0) {\n            // Couldn't find a FID attribute, let's just take the first video SSRC we find\n            insertAt = -1;\n            video = false;\n            for(var i=0; i<lines.length; i++) {\n                var mline = lines[i].match(/m=(\\w+) */);\n                if(mline) {\n                    var medium = mline[1];\n                    if(medium === \"video\") {\n                        // New video m-line: make sure it's the first one\n                        if(ssrc[0] < 0) {\n                            video = true;\n                        } else {\n                            // We're done, let's add the new attributes here\n                            insertAt = i;\n                            break;\n                        }\n                    } else {\n                        // New non-video m-line: do we have what we were looking for?\n                        if(ssrc[0] > -1) {\n                            // We're done, let's add the new attributes here\n                            insertAt = i;\n                            break;\n                        }\n                    }\n                    continue;\n                }\n                if(!video)\n                    continue;\n                if(ssrc[0] < 0) {\n                    var value = lines[i].match(/a=ssrc:(\\d+)/);\n                    if(value) {\n                        ssrc[0] = value[1];\n                        lines.splice(i, 1); i--;\n                        continue;\n                    }\n                } else {\n                    var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n                    if(match) {\n                        cname = match[1];\n                    }\n                    match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n                    if(match) {\n                        msid = match[1];\n                    }\n                    match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n                    if(match) {\n                        mslabel = match[1];\n                    }\n                    match = lines[i].match('a=ssrc:' + ssrc + ' label:(.+)')\n                    if(match) {\n                        label = match[1];\n                    }\n                    if(lines[i].indexOf('a=ssrc:' + ssrc_fid) === 0) {\n                        lines.splice(i, 1); i--;\n                        continue;\n                    }\n                    if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n                        lines.splice(i, 1); i--;\n                        continue;\n                    }\n                }\n                if(lines[i].length == 0) {\n                    lines.splice(i, 1); i--;\n                    continue;\n                }\n            }\n        }\n        if(ssrc[0] < 0) {\n            // Still nothing, let's just return the SDP we were asked to munge\n            Janus.warn(\"Couldn't find the video SSRC, simulcasting NOT enabled\");\n            return sdp;\n        }\n        if(insertAt < 0) {\n            // Append at the end\n            insertAt = lines.length;\n        }\n        // Generate a couple of SSRCs\n        ssrc[1] = Math.floor(Math.random()*0xFFFFFFFF);\n        ssrc[2] = Math.floor(Math.random()*0xFFFFFFFF);\n        // Add attributes to the SDP\n        for(var i=0; i<ssrc.length; i++) {\n            if(cname) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' cname:' + cname);\n                insertAt++;\n            }\n            if(msid) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' msid:' + msid);\n                insertAt++;\n            }\n            if(mslabel) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' mslabel:' + msid);\n                insertAt++;\n            }\n            if(label) {\n                lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' label:' + msid);\n                insertAt++;\n            }\n        }\n        lines.splice(insertAt, 0, 'a=ssrc-group:SIM ' + ssrc[0] + ' ' + ssrc[1] + ' ' + ssrc[2]);\n        sdp = lines.join(\"\\r\\n\");\n        if(!sdp.endsWith(\"\\r\\n\"))\n            sdp += \"\\r\\n\";\n        return sdp;\n    }\n\n    // Helper methods to parse a media object\n    function isAudioSendEnabled(media) {\n        Janus.debug(\"isAudioSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioSend === undefined || media.audioSend === null)\n            return true;\t// Default\n        return (media.audioSend === true);\n    }\n\n    function isAudioSendRequired(media) {\n        Janus.debug(\"isAudioSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.audio === false || media.audioSend === false)\n            return false;\t// If we're not asking to capture audio, it's not required\n        if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n            return false;\t// Default\n        return (media.failIfNoAudio === true);\n    }\n\n    function isAudioRecvEnabled(media) {\n        Janus.debug(\"isAudioRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioRecv === undefined || media.audioRecv === null)\n            return true;\t// Default\n        return (media.audioRecv === true);\n    }\n\n    function isVideoSendEnabled(media) {\n        Janus.debug(\"isVideoSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoSend === undefined || media.videoSend === null)\n            return true;\t// Default\n        return (media.videoSend === true);\n    }\n\n    function isVideoSendRequired(media) {\n        Janus.debug(\"isVideoSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.video === false || media.videoSend === false)\n            return false;\t// If we're not asking to capture video, it's not required\n        if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n            return false;\t// Default\n        return (media.failIfNoVideo === true);\n    }\n\n    function isVideoRecvEnabled(media) {\n        Janus.debug(\"isVideoRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoRecv === undefined || media.videoRecv === null)\n            return true;\t// Default\n        return (media.videoRecv === true);\n    }\n\n    function isDataEnabled(media) {\n        Janus.debug(\"isDataEnabled:\", media);\n        if(Janus.webRTCAdapter.browserDetails.browser == \"edge\") {\n            Janus.warn(\"Edge doesn't support data channels yet\");\n            return false;\n        }\n        if(media === undefined || media === null)\n            return false;\t// Default\n        return (media.data === true);\n    }\n\n    function isTrickleEnabled(trickle) {\n        Janus.debug(\"isTrickleEnabled:\", trickle);\n        if(trickle === undefined || trickle === null)\n            return true;\t// Default is true\n        return (trickle === true);\n    }\n};\n\nmodule.exports = Janus;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./non_npm_dependencies/janus/index.js\n// module id = 2351\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/adapter_core.js\n// module id = 2352\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/adapter_factory.js\n// module id = 2353\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nvar chromeShim = {\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 64) {\n      return;\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var self = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      self._reverseStreams = self._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return self._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimAddTrackRemoveTrack: chromeShim.shimAddTrackRemoveTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js\n// module id = 2354\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js\n// module id = 2355\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/edge/edge_shim.js\n// module id = 2356\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all field are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  var RTCPeerConnection = function(config) {\n    var self = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          self[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.onicecandidate = null;\n    this.onaddstream = null;\n    this.ontrack = null;\n    this.onremovestream = null;\n    this.onsignalingstatechange = null;\n    this.oniceconnectionstatechange = null;\n    this.onicegatheringstatechange = null;\n    this.onnegotiationneeded = null;\n    this.ondatachannel = null;\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      var e = new Error('rtcpMuxPolicy \\'negotiate\\' is not supported');\n      e.name = 'NotSupportedError';\n      throw(e);\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers = new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        });\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onicegatheringstatechange === 'function') {\n      this.onicegatheringstatechange(event);\n    }\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (whih is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    this.transceivers.push(transceiver);\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var self = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        self.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        self.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var idx = this.localStreams.indexOf(stream);\n    if (idx > -1) {\n      this.localStreams.splice(idx, 1);\n      this._maybeFireNegotiationNeeded();\n    }\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var self = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].candidates = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (self.transceivers[sdpMLineIndex].candidates !== null) {\n        self.transceivers[sdpMLineIndex].candidates.push(event.candidate);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var self = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var candidates = this.transceivers[sdpMLineIndex].candidates;\n    this.transceivers[sdpMLineIndex].candidates = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (self.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // dpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        event.candidate.candidate = SDPUtils.writeCandidate(cand);\n      }\n\n      // update local description.\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      self.localDescription.sdp = sections.join('');\n      var complete = self.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (self.iceGatheringState !== 'gathering') {\n        self.iceGatheringState = 'gathering';\n        self._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        self.dispatchEvent(event);\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(event);\n        }\n      }\n      if (complete) {\n        self.dispatchEvent(new Event('icecandidate'));\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(new Event('icecandidate'));\n        }\n        self.iceGatheringState = 'complete';\n        self._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      candidates.forEach(function(candidate) {\n        var e = new Event('RTCIceGatherEvent');\n        e.candidate = candidate;\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var self = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      self._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      self._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      self._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      params.encodings = transceiver.recvEncodingParameters;\n      params.rtcp = {\n        cname: transceiver.rtcpParameters.cname,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set local ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        self.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        self._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = self.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n\n        if (!rejected && !transceiver.isDatachannel) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!self.usingBundle || sdpMLineIndex === 0) {\n            self._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          self._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    this.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-local-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n\n    // If a success callback was provided, emit ICE candidates after it\n    // has been executed. Otherwise, emit callback after the Promise is\n    // resolved.\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    return new Promise(function(resolve) {\n      if (cb) {\n        cb.apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set remote ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var streams = {};\n    this.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    this.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      this.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      this.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (kind === 'application' && protocol === 'DTLS/SCTP') {\n        self.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          isDatachannel: true\n        };\n        return;\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          self.transceivers[sdpMLineIndex]) {\n        self._disposeIceAndDtlsTransports(sdpMLineIndex);\n        self.transceivers[sdpMLineIndex].iceGatherer =\n            self.transceivers[0].iceGatherer;\n        self.transceivers[sdpMLineIndex].iceTransport =\n            self.transceivers[0].iceTransport;\n        self.transceivers[sdpMLineIndex].dtlsTransport =\n            self.transceivers[0].dtlsTransport;\n        if (self.transceivers[sdpMLineIndex].rtpSender) {\n          self.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n        if (self.transceivers[sdpMLineIndex].rtpReceiver) {\n          self.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex] ||\n            self._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            stream.addTrack(track);\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        self._transceive(self.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        self.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        self.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        self.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        self._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            streams[remoteMsid.stream].addTrack(track);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            streams.default.addTrack(track);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (this._dtlsRole === undefined) {\n      this._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    this.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-remote-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (self.remoteStreams.indexOf(stream) === -1) {\n          self.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            self.dispatchEvent(event);\n            if (typeof self.onaddstream === 'function') {\n              self.onaddstream(event);\n            }\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          var trackEvent = new Event('track');\n          trackEvent.track = track;\n          trackEvent.receiver = receiver;\n          trackEvent.transceiver = {receiver: receiver};\n          trackEvent.streams = [stream];\n          window.setTimeout(function() {\n            self.dispatchEvent(trackEvent);\n            if (typeof self.ontrack === 'function') {\n              self.ontrack(trackEvent);\n            }\n          });\n        });\n      }\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(self && self.transceivers)) {\n        return;\n      }\n      self.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return new Promise(function(resolve) {\n      if (args.length > 1 && typeof args[1] === 'function') {\n        args[1].apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onsignalingstatechange === 'function') {\n      this.onsignalingstatechange(event);\n    }\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var self = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (self.needNegotiation === false) {\n        return;\n      }\n      self.needNegotiation = false;\n      var event = new Event('negotiationneeded');\n      self.dispatchEvent(event);\n      if (typeof self.onnegotiationneeded === 'function') {\n        self.onnegotiationneeded(event);\n      }\n    }, 0);\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0 || states.checking > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0 || states.completed > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this.dispatchEvent(event);\n      if (typeof this.oniceconnectionstatechange === 'function') {\n        this.oniceconnectionstatechange(event);\n      }\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var self = this;\n    var args = arguments;\n\n    var offerOptions;\n    if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n      offerOptions = arguments[0];\n    } else if (arguments.length === 3) {\n      offerOptions = arguments[2];\n    }\n\n    var numAudioTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        this._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        this._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n            self.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (this._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, self._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && self.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !self.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var self = this;\n    var args = arguments;\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    if (this.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.splitSections(\n        this.remoteDescription.sdp).length - 1;\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.isDatachannel) {\n        sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n            'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, self._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var err;\n    var sections;\n    if (!candidate || candidate.candidate === '') {\n      for (var j = 0; j < this.transceivers.length; j++) {\n        if (this.transceivers[j].isDatachannel) {\n          continue;\n        }\n        this.transceivers[j].iceTransport.addRemoteCandidate({});\n        sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n        sections[j + 1] += 'a=end-of-candidates\\r\\n';\n        this.remoteDescription.sdp = sections.join('');\n        if (this.usingBundle) {\n          break;\n        }\n      }\n    } else if (!(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) {\n      throw new TypeError('sdpMLineIndex or sdpMid required');\n    } else if (!this.remoteDescription) {\n      err = new Error('Can not add ICE candidate without ' +\n          'a remote description');\n      err.name = 'InvalidStateError';\n    } else {\n      var sdpMLineIndex = candidate.sdpMLineIndex;\n      if (candidate.sdpMid) {\n        for (var i = 0; i < this.transceivers.length; i++) {\n          if (this.transceivers[i].mid === candidate.sdpMid) {\n            sdpMLineIndex = i;\n            break;\n          }\n        }\n      }\n      var transceiver = this.transceivers[sdpMLineIndex];\n      if (transceiver) {\n        if (transceiver.isDatachannel) {\n          return Promise.resolve();\n        }\n        var cand = Object.keys(candidate.candidate).length > 0 ?\n            SDPUtils.parseCandidate(candidate.candidate) : {};\n        // Ignore Chrome's invalid candidates since Edge does not like them.\n        if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n          return Promise.resolve();\n        }\n        // Ignore RTCP candidates, we assume RTCP-MUX.\n        if (cand.component && cand.component !== 1) {\n          return Promise.resolve();\n        }\n        // when using bundle, avoid adding candidates to the wrong\n        // ice transport. And avoid adding candidates added in the SDP.\n        if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n            transceiver.iceTransport !== this.transceivers[0].iceTransport)) {\n          if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n            err = new Error('Can not add ICE candidate');\n            err.name = 'OperationError';\n          }\n        }\n\n        if (!err) {\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[sdpMLineIndex + 1] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      } else {\n        err = new Error('Can not add ICE candidate');\n        err.name = 'OperationError';\n      }\n    }\n    var args = arguments;\n    return new Promise(function(resolve, reject) {\n      if (err) {\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [err]);\n        }\n        reject(err);\n      } else {\n        if (args.length > 1 && typeof args[1] === 'function') {\n          args[1].apply(null);\n        }\n        resolve();\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        if (cb) {\n          cb.apply(null, results);\n        }\n        resolve(results);\n      });\n    });\n  };\n  return RTCPeerConnection;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js\n// module id = 2357\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/edge/getusermedia.js\n// module id = 2358\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nvar firefoxShim = {\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if ('removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimRemoveStream: firefoxShim.shimRemoveStream,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js\n// module id = 2359\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js\n// module id = 2360\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var self = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(self, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var self = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            self.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            var stream = e.streams[0];\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = e.streams[0];\n            this.dispatchEvent(event);\n          }.bind(this));\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            audioTransceiver.setDirection('sendonly');\n          } else if (audioTransceiver.direction === 'recvonly') {\n            audioTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimCallbacksAPI: safariShim.shimCallbacksAPI,\n  shimLocalStreamsAPI: safariShim.shimLocalStreamsAPI,\n  shimRemoteStreamsAPI: safariShim.shimRemoteStreamsAPI,\n  shimGetUserMedia: safariShim.shimGetUserMedia,\n  shimRTCIceServerUrls: safariShim.shimRTCIceServerUrls,\n  shimTrackEventTransceiver: safariShim.shimTrackEventTransceiver,\n  shimCreateOfferLegacy: safariShim.shimCreateOfferLegacy\n  // TODO\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/safari/safari_shim.js\n// module id = 2361\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/common_shim.js\n// module id = 2362\n// module chunks = 7","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants.jsx';\n\nexport default function WebrtcHeader(props) {\n    const title = (\n        <FormattedMessage\n            id='webrtc.header'\n            defaultMessage='Call with {username}'\n            values={{\n                username: props.username\n            }}\n        />\n    );\n\n    const closeSidebarTooltip = (\n        <Tooltip id='closeSidebarTooltip'>\n            <FormattedMessage\n                id='rhs_header.closeTooltip'\n                defaultMessage='Close Sidebar'\n            />\n        </Tooltip>\n    );\n\n    const expandSidebarTooltip = (\n        <Tooltip id='expandSidebarTooltip'>\n            <FormattedMessage\n                id='rhs_header.expandTooltip'\n                defaultMessage='Expand Sidebar'\n            />\n        </Tooltip>\n    );\n\n    const shrinkSidebarTooltip = (\n        <Tooltip id='shrinkSidebarTooltip'>\n            <FormattedMessage\n                id='rhs_header.expandTooltip'\n                defaultMessage='Shrink Sidebar'\n            />\n        </Tooltip>\n    );\n\n    return (\n        <div className='sidebar--right__header'>\n            <span className='sidebar--right__title'>{title}</span>\n            <div className='pull-right'>\n                <button\n                    type='button'\n                    className='sidebar--right__expand'\n                    aria-label='Expand'\n                    onClick={props.toggleSize}\n                >\n                    <OverlayTrigger\n                        trigger={['hover', 'focus']}\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={expandSidebarTooltip}\n                    >\n                        <i className='fa fa-expand'/>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        trigger={['hover', 'focus']}\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={shrinkSidebarTooltip}\n                    >\n                        <i className='fa fa-compress'/>\n                    </OverlayTrigger>\n                </button>\n                <button\n                    type='button'\n                    className='sidebar--right__close'\n                    aria-label='Close'\n                    title='Close'\n                    onClick={props.onClose}\n                >\n                    <OverlayTrigger\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={closeSidebarTooltip}\n                    >\n                        <i className='fa fa-sign-out'/>\n                    </OverlayTrigger>\n                </button>\n            </div>\n        </div>\n    );\n}\n\nWebrtcHeader.propTypes = {\n    username: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n    toggleSize: PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_header.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {closeModal} from 'actions/views/modals';\n\nimport ModalController from './modal_controller.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        modals: state.views.modals\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeModal\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalController);\n\n\n\n// WEBPACK FOOTER //\n// ./components/modal_controller/index.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class ModalController extends React.Component {\n    static propTypes = {\n        modals: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            closeModal: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    render() {\n        const {modals, ...props} = this.props;\n        const {modalState} = modals;\n\n        if (!modals) {\n            return <div/>;\n        }\n\n        const modalOutput = [];\n\n        for (const modalId in modalState) {\n            if (modalState.hasOwnProperty(modalId)) {\n                const modal = modalState[modalId];\n                if (modal.open) {\n                    const modalComponent = React.createElement(modal.dialogType, Object.assign({}, modal.dialogProps, {\n                        onHide: props.actions.closeModal.bind(this, modalId),\n                        key: `${modalId}_modal`\n                    }));\n\n                    modalOutput.push(modalComponent);\n                }\n            }\n        }\n\n        return (\n            <div>\n                {modalOutput}\n            </div>\n        );\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/modal_controller/modal_controller.jsx"],"sourceRoot":""}