webpackJsonp([13],{2002:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){return(0,i.default)({},t,{oauthApps:(0,p.getOAuthApps)(e),isSystemAdmin:(0,f.isCurrentUserSystemAdmin)(e),regenOAuthAppSecretRequest:e.requests.integrations.updateOAuthApp})}function r(e){return{actions:(0,u.bindActionCreators)({getOAuthApps:c.getOAuthApps,regenOAuthAppSecret:c.regenOAuthAppSecret,deleteOAuthApp:c.deleteOAuthApp},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(19),i=l(s),d=a(26),u=a(21),o=a(652),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),p=a(1952),f=a(46),m=a(2248),h=l(m);t.default=(0,d.connect)(n,r)(h.default)},2248:function(e,t,a){"use strict";(function(e){function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),r=l(n),s=a(216),i=l(s),d=a(5),u=l(d),o=a(3),c=l(o),p=a(4),f=l(p),m=a(6),h=l(m),_=a(7),g=l(_),A=a(8),v=l(A),S=a(1),M=l(S),E=a(17),O=a(16),y=a(1955),b=l(y),N=a(2249),k=l(N),R=function(t){function a(e){(0,c.default)(this,a);var t=(0,h.default)(this,(a.__proto__||(0,u.default)(a)).call(this,e));return t.deleteOAuthApp=function(e){e&&e.id&&t.props.actions.deleteOAuthApp(e.id)},t.state={loading:!0},t}return(0,g.default)(a,t),(0,f.default)(a,[{key:"componentDidMount",value:function(){var e=this;"true"===window.mm_config.EnableOAuthServiceProvider&&this.props.actions.getOAuthApps().then(function(){return e.setState({loading:!1})})}},{key:"oauthAppCompare",value:function(e,t){var a=e.name;a||(a=(0,O.localizeMessage)("installed_integrations.unnamed_oauth_app","Unnamed OAuth 2.0 Application"));var l=t.name;return l||(l=(0,O.localizeMessage)("installed_integrations.unnamed_oauth_app","Unnamed OAuth 2.0 Application")),a.localeCompare(l)}},{key:"render",value:function(){var t=this,a=(0,i.default)(this.props.oauthApps).sort(this.oauthAppCompare).map(function(e){return M.default.createElement(k.default,{key:e.id,team:t.props.team,oauthApp:e,regenOAuthAppSecretRequest:t.props.regenOAuthAppSecretRequest,onRegenerateSecret:t.props.actions.regenOAuthAppSecret,onDelete:t.deleteOAuthApp})}),l=e.mm_config,n="true"===l.EnableOAuthServiceProvider&&(this.props.isSystemAdmin||"true"!==l.EnableOnlyAdminIntegrations),s=void 0;return n&&(s={addLink:"/"+this.props.team.name+"/integrations/oauth2-apps/add",addText:(0,O.localizeMessage)("installed_oauth_apps.add","Add OAuth 2.0 Application")}),M.default.createElement(b.default,(0,r.default)({header:M.default.createElement(E.FormattedMessage,{id:"installed_oauth_apps.header",defaultMessage:"OAuth 2.0 Applications"}),helpText:M.default.createElement(E.FormattedMessage,{id:"installed_oauth_apps.help",defaultMessage:"Create {oauthApplications} to securely integrate bots and third-party apps with Mattermost. Visit the {appDirectory} to find available self-hosted apps.",values:{oauthApplications:M.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.mattermost.com/developer/oauth-2-0-applications.html"},M.default.createElement(E.FormattedMessage,{id:"installed_oauth_apps.help.oauthApplications",defaultMessage:"OAuth 2.0 applications"})),appDirectory:M.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://about.mattermost.com/default-app-directory/"},M.default.createElement(E.FormattedMessage,{id:"installed_oauth_apps.help.appDirectory",defaultMessage:"App Directory"}))}}),emptyText:M.default.createElement(E.FormattedMessage,{id:"installed_oauth_apps.empty",defaultMessage:"No OAuth 2.0 Applications found"}),searchPlaceholder:(0,O.localizeMessage)("installed_oauth_apps.search","Search OAuth 2.0 Applications"),loading:this.state.loading},s),a)}}]),a}(M.default.PureComponent);R.propTypes={team:v.default.object,oauthApps:v.default.object,isSystemAdmin:v.default.bool,regenOAuthAppSecretRequest:v.default.object.isRequired,actions:v.default.shape({getOAuthApps:v.default.func.isRequired,regenOAuthAppSecret:v.default.func.isRequired,deleteOAuthApp:v.default.func.isRequired}).isRequired},t.default=R}).call(t,a(23))},2249:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r=l(n),s=a(3),i=l(s),d=a(4),u=l(d),o=a(6),c=l(o),p=a(7),f=l(p),m=a(8),h=l(m),_=a(1),g=l(_),A=a(17),v=a(34),S=a(16),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(S),E=a(217),O=l(E),y=a(1956),b=l(y),N="***************",k=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleShowClientSecret=function(e){e&&e.preventDefault&&e.preventDefault(),a.setState({clientSecret:a.props.oauthApp.client_secret})},a.handleHideClientSecret=function(e){e.preventDefault(),a.setState({clientSecret:N})},a.handleRegenerate=function(e){e.preventDefault(),a.props.onRegenerateSecret(a.props.oauthApp.id).then(function(){var e=a.props.regenOAuthAppSecretRequest.error;e?a.setState({error:e.message}):(a.setState({error:null}),a.handleShowClientSecret())})},a.handleDelete=function(){a.props.onDelete(a.props.oauthApp)},a.matchesFilter=function(e,t){return!t||-1!==e.name.toLowerCase().indexOf(t)},a.state={clientSecret:N},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.oauthApp,t=void 0;if(this.state.error&&(t=g.default.createElement(O.default,{error:this.state.error})),!this.matchesFilter(e,this.props.filter))return null;var a=void 0;a=e.name?e.name:g.default.createElement(A.FormattedMessage,{id:"installed_integrations.unnamed_oauth_app",defaultMessage:"Unnamed OAuth 2.0 Application"});var l=void 0;e.description&&(l=g.default.createElement("div",{className:"item-details__row"},g.default.createElement("span",{className:"item-details__description"},e.description)));var n=g.default.createElement("div",{className:"item-details__row"},g.default.createElement("span",{className:"item-details__url"},g.default.createElement(A.FormattedMessage,{id:"installed_integrations.callback_urls",defaultMessage:"Callback URLs: {urls}",values:{urls:e.callback_urls.join(", ")}}))),r=void 0;r=e.is_trusted?M.localizeMessage("installed_oauth_apps.trusted.yes","Yes"):M.localizeMessage("installed_oauth_apps.trusted.no","No");var s=void 0;s=this.state.clientSecret===N?g.default.createElement("button",{id:"showSecretButton",className:"style--none color--link",onClick:this.handleShowClientSecret},g.default.createElement(A.FormattedMessage,{id:"installed_integrations.showSecret",defaultMessage:"Show Secret"})):g.default.createElement("button",{id:"hideSecretButton",className:"style--none color--link",onClick:this.handleHideClientSecret},g.default.createElement(A.FormattedMessage,{id:"installed_integrations.hideSecret",defaultMessage:"Hide Secret"}));var i=g.default.createElement("button",{id:"regenerateSecretButton",className:"style--none color--link",onClick:this.handleRegenerate},g.default.createElement(A.FormattedMessage,{id:"installed_integrations.regenSecret",defaultMessage:"Regenerate Secret"})),d=void 0;return e.icon_url&&(d=g.default.createElement("div",{className:"integration__icon integration-list__icon"},g.default.createElement("img",{src:e.icon_url}))),g.default.createElement("div",{className:"backstage-list__item"},d,g.default.createElement("div",{className:"item-details"},g.default.createElement("div",{className:"item-details__row"},g.default.createElement("span",{className:"item-details__name"},a)),t,l,g.default.createElement("div",{className:"item-details__row"},g.default.createElement("span",{className:"item-details__url"},g.default.createElement(A.FormattedHTMLMessage,{id:"installed_oauth_apps.is_trusted",defaultMessage:"Is Trusted: <strong>{isTrusted}</strong>",values:{isTrusted:r}}))),g.default.createElement("div",{className:"item-details__row"},g.default.createElement("span",{className:"item-details__token"},g.default.createElement(A.FormattedHTMLMessage,{id:"installed_integrations.client_id",defaultMessage:"Client ID: <strong>{clientId}</strong>",values:{clientId:e.id}}))),g.default.createElement("div",{className:"item-details__row"},g.default.createElement("span",{className:"item-details__token"},g.default.createElement(A.FormattedHTMLMessage,{id:"installed_integrations.client_secret",defaultMessage:"Client Secret: <strong>{clientSecret}</strong>",values:{clientSecret:this.state.clientSecret}}))),n,g.default.createElement("div",{className:"item-details__row"},g.default.createElement("span",{className:"item-details__creation"},g.default.createElement(A.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:M.displayUsername(e.creator_id),createAt:e.create_at}})))),g.default.createElement("div",{className:"item-actions"},s," - ",i," - ",g.default.createElement(v.Link,{to:"/"+this.props.team.name+"/integrations/oauth2-apps/edit?id="+e.id},g.default.createElement(A.FormattedMessage,{id:"installed_integrations.edit",defaultMessage:"Edit"}))," - ",g.default.createElement(b.default,{messageId:"installed_oauth_apps.delete.confirm",onDelete:this.handleDelete})))}}]),t}(g.default.PureComponent);k.propTypes={team:h.default.object,oauthApp:h.default.object.isRequired,regenOAuthAppSecretRequest:h.default.object.isRequired,onRegenerateSecret:h.default.func.isRequired,onDelete:h.default.func.isRequired,filter:h.default.string},t.default=k}});
//# sourceMappingURL=13.d75cdaddac0937756320.js.map