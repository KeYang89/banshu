webpackJsonp([5],{708:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),d=l(r),u=a(3),s=l(u),i=a(4),o=l(i),c=a(6),f=l(c),p=a(7),h=l(p),m=a(0),S=l(m),v=a(8),_=l(v),g=a(1),y=l(g),E=a(17),I=a(31),b=l(I),C=a(113),w=l(C),k=a(27),T=l(k),V=a(9),F=l(V),M=a(73),N=n(M),O=a(16),P=n(O),R=a(1968),j=l(R),L=a(1964),D=l(L),U=a(1963),q=l(U),A=a(1969),W=l(A),x=a(710),H=l(x),J=F.default.TutorialSteps,Y=F.default.Preferences,z=function(e){function t(e){(0,s.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return a.getChannelView=function(){return a.refs.channelView},a.getStateFromStores=a.getStateFromStores.bind(a),a.isStateValid=a.isStateValid.bind(a),a.updateState=a.updateState.bind(a),a.state=a.getStateFromStores(e),a}return(0,h.default)(t,e),(0,o.default)(t,[{key:"getStateFromStores",value:function(){return{channelId:b.default.getCurrentId(),tutorialStep:w.default.getInt(Y.TUTORIAL_STEP,T.default.getCurrentId(),999)}}},{key:"isStateValid",value:function(){return""!==this.state.channelId}},{key:"updateState",value:function(){this.setState(this.getStateFromStores(this.props))}},{key:"componentDidMount",value:function(){b.default.addChangeListener(this.updateState),(0,S.default)("body").addClass("app__body"),(N.isInternetExplorer()||N.isEdge())&&(0,S.default)("body").addClass("browser--ie")}},{key:"componentWillUnmount",value:function(){b.default.removeChangeListener(this.updateState),(0,S.default)("body").removeClass("app__body")}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.getStateFromStores(e))}},{key:"shouldComponentUpdate",value:function(e,t){return!P.areObjectsEqual(e.params,this.props.params)||t.channelId!==this.state.channelId}},{key:"render",value:function(){if(this.state.tutorialStep<=J.INTRO_SCREENS)return y.default.createElement(H.default,{isRoot:!1});var e=y.default.createElement("div",{className:"post-create__container",id:"post-create"},y.default.createElement(D.default,{getChannelView:this.getChannelView})),t=b.default.get(this.state.channelId);if(t&&t.type===F.default.DM_CHANNEL){var a=P.getDirectTeammate(t.id);a&&a.delete_at&&(e=y.default.createElement("div",{className:"post-create-message"},y.default.createElement(E.FormattedMessage,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a deactivated user."})))}return y.default.createElement("div",{ref:"channelView",id:"app-content",className:"app__content"},y.default.createElement(q.default,{overlayType:"center"}),y.default.createElement(j.default,{channelId:this.state.channelId}),y.default.createElement(W.default,{channelId:this.state.channelId}),e)}}]),t}(y.default.Component);t.default=z,z.defaultProps={},z.propTypes={params:_.default.object.isRequired}}});
//# sourceMappingURL=5.4b9cdddbec06640938c5.js.map