webpackJsonp([14],{1992:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=(0,g.getCurrentTeamId)(e),n=(0,h.getIncomingHooks)(e),o=(0,d.default)(n).map(function(e){return n[e]}).filter(function(e){return e.team_id===a});return(0,r.default)({},t,{incomingWebhooks:o,channels:(0,p.getAllChannels)(e),users:(0,_.getUsers)(e),teamId:a})}function i(e){return{actions:(0,c.bindActionCreators)({getIncomingHooks:f.getIncomingHooks,removeIncomingHook:f.removeIncomingHook},e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(19),r=n(l),s=a(51),d=n(s),u=a(26),c=a(21),m=a(652),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(m),p=a(91),h=a(1952),g=a(81),_=a(46),b=a(2233),k=n(b);t.default=(0,u.connect)(o,i)(k.default)},2233:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),i=n(o),l=a(3),r=n(l),s=a(4),d=n(s),u=a(6),c=n(u),m=a(7),f=n(m),p=a(8),h=n(p),g=a(1),_=n(g),b=a(17),k=a(9),v=n(k),w=a(16),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),M=a(1955),E=n(M),I=a(2234),W=n(I),C=function(e){function t(e){(0,r.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.deleteIncomingWebhook=function(e){a.props.actions.removeIncomingHook(e.id)},a.deleteIncomingWebhook=a.deleteIncomingWebhook.bind(a),a.incomingWebhookCompare=a.incomingWebhookCompare.bind(a),a.state={loading:!0},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;"true"===window.mm_config.EnableIncomingWebhooks&&this.props.actions.getIncomingHooks(this.props.teamId,v.default.Integrations.START_PAGE_NUM,v.default.Integrations.PAGE_SIZE).then(function(){return e.setState({loading:!1})})}},{key:"incomingWebhookCompare",value:function(e,t){var a=e.display_name;if(!a){var n=this.props.channels[e.channel_id];a=n?n.display_name:y.localizeMessage("installed_incoming_webhooks.unknown_channel","A Private Webhook")}var o=t.display_name;return a.localeCompare(o)}},{key:"render",value:function(){var e=this,t=this.props.incomingWebhooks.sort(this.incomingWebhookCompare).map(function(t){var a=e.props.isAdmin||e.props.user.id===t.user_id,n=e.props.channels[t.channel_id];return _.default.createElement(W.default,{key:t.id,incomingWebhook:t,onDelete:e.deleteIncomingWebhook,creator:e.props.users[t.user_id]||{},canChange:a,team:e.props.team,channel:n})});return _.default.createElement(E.default,{header:_.default.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.header",defaultMessage:"Installed Incoming Webhooks"}),addText:_.default.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.add",defaultMessage:"Add Incoming Webhook"}),addLink:"/"+this.props.team.name+"/integrations/incoming_webhooks/add",emptyText:_.default.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.empty",defaultMessage:"No incoming webhooks found"}),helpText:_.default.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.help",defaultMessage:"Use incoming webhooks to connect external tools to Mattermost. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.",values:{buildYourOwn:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://docs.mattermost.com/developer/webhooks-incoming.html"},_.default.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.help.buildYourOwn",defaultMessage:"Build your own"})),appDirectory:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://about.mattermost.com/default-app-directory/"},_.default.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.help.appDirectory",defaultMessage:"App Directory"}))}}),searchPlaceholder:y.localizeMessage("installed_incoming_webhooks.search","Search Incoming Webhooks"),loading:this.state.loading},t)}}]),t}(_.default.PureComponent);C.propTypes={team:h.default.object,user:h.default.object,isAdmin:h.default.bool,incomingWebhooks:h.default.array,channels:h.default.object,users:h.default.object,teamId:h.default.string,actions:h.default.shape({removeIncomingHook:h.default.func,getIncomingHooks:h.default.func})},t.default=C},2234:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),i=n(o),l=a(3),r=n(l),s=a(4),d=n(s),u=a(6),c=n(u),m=a(7),f=n(m),p=a(8),h=n(p),g=a(1),_=n(g),b=a(17),k=a(34),v=a(70),w=a(1956),y=n(w),M=function(e){function t(e){(0,r.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleDelete=a.handleDelete.bind(a),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"handleDelete",value:function(){this.props.onDelete(this.props.incomingWebhook)}},{key:"render",value:function(){var e=this.props.incomingWebhook,a=this.props.channel,n=this.props.filter?this.props.filter.toLowerCase():"";if(!t.matchesFilter(e,a,n))return null;var o=void 0;o=e.display_name?e.display_name:a?a.display_name:_.default.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.unknown_channel",defaultMessage:"A Private Webhook"});var i=null;e.description&&(i=_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__description"},e.description)));var l=null;return this.props.canChange&&(l=_.default.createElement("div",{className:"item-actions"},_.default.createElement(k.Link,{to:"/"+this.props.team.name+"/integrations/incoming_webhooks/edit?id="+e.id},_.default.createElement(b.FormattedMessage,{id:"installed_integrations.edit",defaultMessage:"Edit"}))," - ",_.default.createElement(y.default,{messageId:"installed_incoming_webhooks.delete.confirm",onDelete:this.handleDelete}))),_.default.createElement("div",{className:"backstage-list__item"},_.default.createElement("div",{className:"item-details"},_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__name"},o)),i,_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__url"},_.default.createElement(b.FormattedMessage,{id:"installed_integrations.url",defaultMessage:"URL: {url}",values:{url:(0,v.getSiteURL)()+"/hooks/"+e.id}}))),_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__creation"},_.default.createElement(b.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:this.props.creator.username,createAt:e.create_at}})))),l)}}],[{key:"matchesFilter",value:function(e,t,a){return!a||(-1!==e.display_name.toLowerCase().indexOf(a)||-1!==e.description.toLowerCase().indexOf(a)||!(!e.channel_id||!t||-1===t.name.toLowerCase().indexOf(a)))}}]),t}(_.default.PureComponent);M.propTypes={incomingWebhook:h.default.object.isRequired,onDelete:h.default.func.isRequired,filter:h.default.string,creator:h.default.object.isRequired,canChange:h.default.bool.isRequired,team:h.default.object.isRequired,channel:h.default.object},t.default=M}});
//# sourceMappingURL=14.1028dd0b80690a9a337b.js.map