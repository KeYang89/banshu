{"version":3,"sources":["webpack:///19.65355a6490c0bb8b19b7.js","webpack:///./components/integrations/components/edit_oauth_app/index.js","webpack:///./components/integrations/components/edit_oauth_app/edit_oauth_app.jsx"],"names":["webpackJsonp","2004","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","oauthAppId","location","query","id","_extends3","isSystemAdmin","_users","isCurrentUserSystemAdmin","oauthApp","entities","integrations","oauthApps","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","getOAuthApp","editOAuthApp","Object","defineProperty","value","_extends2","_reactRedux","_integrations","_edit_oauth_app","_edit_oauth_app2","connect","2251","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRouter","_reactIntl","_loading_screen","_loading_screen2","_confirm_modal","_confirm_modal2","_abstract_oauth_app","_abstract_oauth_app2","HEADER","defaultMessage","FOOTER","EditOAuthApp","_React$PureComponent","props","_this2","this","_this","__proto__","call","_ref","mark","_callee","app","callbackUrlsSame","wrap","_context","prev","next","newApp","token","callback_urls","length","every","v","i","handleConfirmModal","submitOAuthApp","stop","_x","apply","arguments","setState","showConfirmModal","confirmModalDismissed","_callee2","_ref3","data","error","_context2","serverError","sent","browserHistory","push","team","name","abrupt","message","renderExtra","confirmButton","createElement","FormattedMessage","confirmTitle","confirmMessage","title","confirmButtonText","show","onConfirm","onCancel","key","window","mm_config","EnableOAuthServiceProvider","header","footer","action","initialApp","PureComponent","propTypes","object","isRequired","bool","string","shape","func"],"mappings":"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","file":"19.65355a6490c0bb8b19b7.js","sourcesContent":["webpackJsonp([19],{\n\n/***/ 2004:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _integrations = __webpack_require__(652);\n\nvar _users = __webpack_require__(46);\n\nvar _edit_oauth_app = __webpack_require__(2251);\n\nvar _edit_oauth_app2 = _interopRequireDefault(_edit_oauth_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    var oauthAppId = ownProps.location.query.id;\n\n    return (0, _extends3.default)({}, ownProps, {\n        isSystemAdmin: (0, _users.isCurrentUserSystemAdmin)(state),\n        oauthAppId: oauthAppId,\n        oauthApp: state.entities.integrations.oauthApps[oauthAppId]\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getOAuthApp: _integrations.getOAuthApp,\n            editOAuthApp: _integrations.editOAuthApp\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_edit_oauth_app2.default);\n\n/***/ }),\n\n/***/ 2251:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(58);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _loading_screen = __webpack_require__(214);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _confirm_modal = __webpack_require__(283);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _abstract_oauth_app = __webpack_require__(1962);\n\nvar _abstract_oauth_app2 = _interopRequireDefault(_abstract_oauth_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HEADER = { id: 'integrations.edit', defaultMessage: 'Edit' }; // Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar FOOTER = { id: 'update_incoming_webhook.update', defaultMessage: 'Update' };\n\nvar EditOAuthApp = function (_React$PureComponent) {\n    (0, _inherits3.default)(EditOAuthApp, _React$PureComponent);\n\n    function EditOAuthApp(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, EditOAuthApp);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EditOAuthApp.__proto__ || (0, _getPrototypeOf2.default)(EditOAuthApp)).call(this, props));\n\n        _this.editOAuthApp = function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(app) {\n                var callbackUrlsSame;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _this.newApp = app;\n\n                                if (_this.props.oauthApp.id) {\n                                    app.id = _this.props.oauthApp.id;\n                                }\n\n                                if (_this.props.oauthApp.token) {\n                                    app.token = _this.props.oauthApp.token;\n                                }\n\n                                callbackUrlsSame = _this.props.oauthApp.callback_urls.length === app.callback_urls.length && _this.props.oauthApp.callback_urls.every(function (v, i) {\n                                    return v === app.callback_urls[i];\n                                });\n\n                                if (!(callbackUrlsSame === false)) {\n                                    _context.next = 8;\n                                    break;\n                                }\n\n                                _this.handleConfirmModal();\n                                _context.next = 10;\n                                break;\n\n                            case 8:\n                                _context.next = 10;\n                                return _this.submitOAuthApp();\n\n                            case 10:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            }));\n\n            return function (_x) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n\n        _this.handleConfirmModal = function () {\n            _this.setState({ showConfirmModal: true });\n        };\n\n        _this.confirmModalDismissed = function () {\n            _this.setState({ showConfirmModal: false });\n        };\n\n        _this.submitOAuthApp = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n            var _ref3, data, error;\n\n            return _regenerator2.default.wrap(function _callee2$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            _this.setState({ serverError: '' });\n\n                            _context2.next = 3;\n                            return _this.props.actions.editOAuthApp(_this.newApp);\n\n                        case 3:\n                            _ref3 = _context2.sent;\n                            data = _ref3.data;\n                            error = _ref3.error;\n\n                            if (!data) {\n                                _context2.next = 9;\n                                break;\n                            }\n\n                            _reactRouter.browserHistory.push('/' + _this.props.team.name + '/integrations/oauth2-apps');\n                            return _context2.abrupt('return');\n\n                        case 9:\n\n                            _this.setState({ showConfirmModal: false });\n\n                            if (error) {\n                                _this.setState({ serverError: error.message });\n                            }\n\n                        case 11:\n                        case 'end':\n                            return _context2.stop();\n                    }\n                }\n            }, _callee2, _this2);\n        }));\n\n        _this.renderExtra = function () {\n            var confirmButton = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_command.update',\n                defaultMessage: 'Update'\n            });\n\n            var confirmTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_oauth_app.confirm',\n                defaultMessage: 'Edit OAuth 2.0 application'\n            });\n\n            var confirmMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_oauth_app.question',\n                defaultMessage: 'Your changes may break the existing OAuth 2.0 application. Are you sure you would like to update it?'\n            });\n\n            return _react2.default.createElement(_confirm_modal2.default, {\n                title: confirmTitle,\n                message: confirmMessage,\n                confirmButtonText: confirmButton,\n                show: _this.state.showConfirmModal,\n                onConfirm: _this.submitOAuthApp,\n                onCancel: _this.confirmModalDismissed\n            });\n        };\n\n        _this.state = {\n            showConfirmModal: false,\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EditOAuthApp, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (window.mm_config.EnableOAuthServiceProvider === 'true') {\n                this.props.actions.getOAuthApp(this.props.oauthAppId);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.oauthApp) {\n                return _react2.default.createElement(_loading_screen2.default, null);\n            }\n\n            return _react2.default.createElement(_abstract_oauth_app2.default, {\n                team: this.props.team,\n                isSystemAdmin: this.props.isSystemAdmin,\n                header: HEADER,\n                footer: FOOTER,\n                renderExtra: this.renderExtra(),\n                action: this.editOAuthApp,\n                serverError: this.state.serverError,\n                initialApp: this.props.oauthApp\n            });\n        }\n    }]);\n    return EditOAuthApp;\n}(_react2.default.PureComponent);\n\nEditOAuthApp.propTypes = {\n\n    /**\n    * The current team\n    */\n    team: _propTypes2.default.object.isRequired,\n\n    /**\n    * Set if the current user is a system admin\n    */\n    isSystemAdmin: _propTypes2.default.bool,\n\n    /**\n    * The id of the OAuthApp to edit\n    */\n    oauthAppId: _propTypes2.default.string.isRequired,\n\n    /**\n    * The OAuthApp data\n    */\n    oauthApp: _propTypes2.default.object,\n\n    actions: _propTypes2.default.shape({\n\n        /**\n        * The function to call to get OAuthApp\n        */\n        getOAuthApp: _propTypes2.default.func.isRequired,\n\n        /**\n        * The function to call to edit OAuthApp\n        */\n        editOAuthApp: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = EditOAuthApp;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 19.65355a6490c0bb8b19b7.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getOAuthApp, editOAuthApp} from 'mattermost-redux/actions/integrations';\nimport {isCurrentUserSystemAdmin} from 'mattermost-redux/selectors/entities/users';\n\nimport EditOAuthApp from './edit_oauth_app.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const oauthAppId = ownProps.location.query.id;\n\n    return {\n        ...ownProps,\n        isSystemAdmin: isCurrentUserSystemAdmin(state),\n        oauthAppId,\n        oauthApp: state.entities.integrations.oauthApps[oauthAppId]\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getOAuthApp,\n            editOAuthApp\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditOAuthApp);\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/edit_oauth_app/index.js","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {browserHistory} from 'react-router';\nimport {FormattedMessage} from 'react-intl';\n\nimport LoadingScreen from 'components/loading_screen.jsx';\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport AbstractOAuthApp from '../abstract_oauth_app.jsx';\n\nconst HEADER = {id: 'integrations.edit', defaultMessage: 'Edit'};\nconst FOOTER = {id: 'update_incoming_webhook.update', defaultMessage: 'Update'};\n\nexport default class EditOAuthApp extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * The current team\n        */\n        team: PropTypes.object.isRequired,\n\n        /**\n        * Set if the current user is a system admin\n        */\n        isSystemAdmin: PropTypes.bool,\n\n        /**\n        * The id of the OAuthApp to edit\n        */\n        oauthAppId: PropTypes.string.isRequired,\n\n        /**\n        * The OAuthApp data\n        */\n        oauthApp: PropTypes.object,\n\n        actions: PropTypes.shape({\n\n            /**\n            * The function to call to get OAuthApp\n            */\n            getOAuthApp: PropTypes.func.isRequired,\n\n            /**\n            * The function to call to edit OAuthApp\n            */\n            editOAuthApp: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showConfirmModal: false,\n            serverError: ''\n        };\n    }\n\n    componentDidMount() {\n        if (window.mm_config.EnableOAuthServiceProvider === 'true') {\n            this.props.actions.getOAuthApp(this.props.oauthAppId);\n        }\n    }\n\n    editOAuthApp = async (app) => {\n        this.newApp = app;\n\n        if (this.props.oauthApp.id) {\n            app.id = this.props.oauthApp.id;\n        }\n\n        if (this.props.oauthApp.token) {\n            app.token = this.props.oauthApp.token;\n        }\n\n        const callbackUrlsSame = (this.props.oauthApp.callback_urls.length === app.callback_urls.length) &&\n            this.props.oauthApp.callback_urls.every((v, i) => v === app.callback_urls[i]);\n\n        if (callbackUrlsSame === false) {\n            this.handleConfirmModal();\n        } else {\n            await this.submitOAuthApp();\n        }\n    }\n\n    handleConfirmModal = () => {\n        this.setState({showConfirmModal: true});\n    }\n\n    confirmModalDismissed = () => {\n        this.setState({showConfirmModal: false});\n    }\n\n    submitOAuthApp = async () => {\n        this.setState({serverError: ''});\n\n        const {data, error} = await this.props.actions.editOAuthApp(this.newApp);\n\n        if (data) {\n            browserHistory.push(`/${this.props.team.name}/integrations/oauth2-apps`);\n            return;\n        }\n\n        this.setState({showConfirmModal: false});\n\n        if (error) {\n            this.setState({serverError: error.message});\n        }\n    }\n\n    renderExtra = () => {\n        const confirmButton = (\n            <FormattedMessage\n                id='update_command.update'\n                defaultMessage='Update'\n            />\n        );\n\n        const confirmTitle = (\n            <FormattedMessage\n                id='update_oauth_app.confirm'\n                defaultMessage='Edit OAuth 2.0 application'\n            />\n        );\n\n        const confirmMessage = (\n            <FormattedMessage\n                id='update_oauth_app.question'\n                defaultMessage='Your changes may break the existing OAuth 2.0 application. Are you sure you would like to update it?'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                title={confirmTitle}\n                message={confirmMessage}\n                confirmButtonText={confirmButton}\n                show={this.state.showConfirmModal}\n                onConfirm={this.submitOAuthApp}\n                onCancel={this.confirmModalDismissed}\n            />\n        );\n    }\n\n    render() {\n        if (!this.props.oauthApp) {\n            return <LoadingScreen/>;\n        }\n\n        return (\n            <AbstractOAuthApp\n                team={this.props.team}\n                isSystemAdmin={this.props.isSystemAdmin}\n                header={HEADER}\n                footer={FOOTER}\n                renderExtra={this.renderExtra()}\n                action={this.editOAuthApp}\n                serverError={this.state.serverError}\n                initialApp={this.props.oauthApp}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/edit_oauth_app/edit_oauth_app.jsx"],"sourceRoot":""}