{"version":3,"sources":["webpack:///0.25c5f9d36667d9d1a0b8.js","webpack:///./images/favicon/redfavicon-16x16.png","webpack:///./components/more_channels/index.js","webpack:///./components/more_channels/more_channels.jsx","webpack:///./components/searchable_channel_list.jsx","webpack:///./components/more_direct_channels/index.js","webpack:///./components/more_direct_channels/more_direct_channels.jsx","webpack:///./components/new_channel_flow.jsx","webpack:///./components/new_channel_modal/index.js","webpack:///./components/new_channel_modal/new_channel_modal.jsx","webpack:///./components/change_url_modal.jsx","webpack:///./components/sidebar_header.jsx","webpack:///./components/status_dropdown/index.jsx","webpack:///./components/status_dropdown/status_dropdown.jsx","webpack:///./components/bootstrap_span.jsx","webpack:///./components/sidebar_header_dropdown.jsx","webpack:///./components/sidebar_header_dropdown_button.jsx","webpack:///./components/unread_channel_indicator.jsx","webpack:///./components/sidebar.jsx"],"names":["webpackJsonp","2368","module","exports","__webpack_require__","p","2369","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","_extends3","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","getChannels","Object","defineProperty","value","_extends2","_reactRedux","_channels","_more_channels","_more_channels2","connect","2370","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_reactAddonsPureRenderMixin","_reactAddonsPureRenderMixin2","_reactBootstrap","_reactIntl","_reactRouter","_channel_actions","_channel_store","_channel_store2","_team_store","_team_store2","_user_store","_user_store2","_channel_utils","_constants","_constants2","_searchable_channel_list","_searchable_channel_list2","MoreChannels","_React$Component","props","this","_this","__proto__","call","onChange","bind","handleJoin","handleHide","handleExit","nextPage","search","shouldComponentUpdate","searchTimeoutId","show","channels","serverError","key","addChangeListener","getCurrentId","CHANNELS_CHUNK_SIZE","removeChangeListener","setState","onModalDismissed","force","getMoreChannelsList","page","channel","done","_this2","joinChannel","browserHistory","push","getCurrentTeamRelativeUrl","name","err","message","term","_this3","clearTimeout","setTimeout","searchMoreChannels","createElement","className","createNewChannelButton","id","type","onClick","handleNewChannel","FormattedMessage","defaultMessage","createChannelHelpText","isTeamAdmin","isTeamAdminForCurrentTeam","isSystemAdmin","isSystemAdminForCurrentUser","showCreateOption","OPEN_CHANNEL","Modal","dialogClassName","onHide","onExited","Header","closeButton","Title","Body","channelsPerPage","isSearch","noResultsText","Component","propTypes","func","shape","isRequired","2371","_jquery","_jquery2","_reactDom","_reactDom2","_user_agent","UserAgent","newObj","prototype","hasOwnProperty","_utils","_load","_load2","_loading_screen","_loading_screen2","SearchableChannelList","createChannelRow","previousPage","doSearch","nextTimeoutId","joiningChannel","nextDisabled","isMobile","refs","filter","focus","prevProps","prevState","channelList","scrollTop","nextProps","joinButton","src","disabled","display_name","purpose","e","preventDefault","findDOMNode","channelListScroll","listContent","nextButton","previousButton","length","pageStart","pageEnd","channelsToDisplay","slice","map","ref","placeholder","localizeMessage","onInput","defaultProps","arrayOf","object","number","bool","2372","currentUserId","_users2","getCurrentUserId","getProfiles","getProfilesInTeam","_users","_more_direct_channels","_more_direct_channels2","2373","global","_getIterator2","_getIterator3","_assign","_assign2","_client","_user_actions","_redux_store","_redux_store2","_multiselect","_multiselect2","_profile_picture","_profile_picture2","MAX_SELECTABLE_VALUES","MAX_USERS_IN_GM","MoreDirectChannels","resetPaging","multiselect","handleSubmit","handleDelete","handlePageChange","addValue","listType","window","mm_config","RestrictDirectMessage","values","startingUsers","i","user","label","username","users","loadingChannel","addInTeamChangeListener","addStatusesChangeListener","USERS_PER_PAGE","removeInTeamChangeListener","removeStatusesChangeListener","exitToChannel","arguments","undefined","userIds","v","success","error","openDirectChannelToUser","openGroupChannelToUsers","indexOf","searchProfiles","getState","searchProfilesInCurrentTeam","getProfileList","getProfileListInTeam","prevPage","teamId","searchUsers","SEARCH_TIMEOUT_MILLISECONDS","option","isSelected","onAdd","currentUser","getCurrentUser","displayName","displayEntireNameForUser","modalName","displayname","delete_at","rowSelected","status","getStatus","Client4","getProfilePictureUrl","last_picture_update","width","height","email","_this4","note","buttonSubmitText","numRemainingText","num","active","inactive","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","return","concat","options","optionRenderer","renderOption","valueRenderer","renderValue","perPage","handleInput","handleAdd","noteText","maxValues","submitImmediatelyOn","saving","string","2374","_url","Utils","_new_channel_modal","_new_channel_modal2","_change_url_modal","_change_url_modal2","SHOW_NEW_CHANNEL","NewChannelFlow","doSubmit","onModalExited","typeSwitched","urlChangeRequested","urlChangeSubmitted","urlChangeDismissed","channelDataChanged","channelType","flowState","channelDisplayName","channelName","channelPurpose","channelHeader","nameModified","team_id","header","createChannel","data","doOnModalExited","newURL","cleanUpUrlable","trim","channelData","showChannelModal","showGroupModal","showChangeURLModal","changeURLTitle","changeURLSubmitButtonText","onSubmitChannel","onTypeSwitched","onChangeURLPressed","onDataChanged","title","submitButtonText","currentURL","onModalSubmit","2375","ctrlSend","_preferences","getBool","Preferences","CATEGORY_ADVANCED_SETTINGS","_teams","isCurrentUserCurrentTeamAdmin","isCurrentUserSystemAdmin","2376","_interopRequireWildcard","ChannelUtils","NewChannelModal","_React$PureComponent","handleChange","onEnterKeyDown","displayNameError","document","addEventListener","removeEventListener","isInternetExplorer","isEdge","addClass","keyCode","KeyCodes","ENTER","ctrlKey","shiftKey","altKey","MIN_CHANNELNAME_LENGTH","newData","channel_header","channel_purpose","displayNameClass","createPublicChannelLink","createPrivateChannelLink","PRIVATE_CHANNEL","channelSwitchText","inputPrefixId","prettyTeamURL","getShortenedURL","bsSize","role","maxLength","MAX_CHANNELNAME_LENGTH","autoFocus","tabIndex","rows","Footer","PureComponent","node","2377","URL","ChangeUrlModal","onURLChanged","doCancel","urlError","userEdit","urlinput","select","url","target","replace","toLowerCase","charAt","getURLError","urlClass","fullUrl","getCurrentTeamUrl","shortURL","urlTooltip","Tooltip","OverlayTrigger","trigger","delayShow","OVERLAY_TIME_DELAY","placement","overlay","2378","_preference_store","_preference_store2","_index","_index2","_tutorial_tip","_sidebar_header_dropdown","_sidebar_header_dropdown2","SidebarHeader","handleResize","getPreferences","showTutorialTip","getInt","TUTORIAL_STEP","TutorialSteps","MENU_POPOVER","getStateFromStores","preferences","onPreferenceChange","toggleDropdown","dropdown","renderStatusDropdown","statusDropdown","tutorialTip","createMenuTip","teamNameWithToolTip","teamDescription","teamDisplayName","Constants","teamType","teamName","2379","userId","lastPicUpdate","profilePicture","getStatusForUserId","setStatus","_status_dropdown","_status_dropdown2","2380","_bootstrap_span","_bootstrap_span2","_status_icon","_status_icon2","StatusDropdown","_ref","_temp","_ret","_len","args","Array","_key","apply","showDropdown","onToggle","closeDropdown","user_id","setOnline","event","UserStatuses","ONLINE","setOffline","OFFLINE","setAway","AWAY","setDnd","DND","renderStatusOnlineAction","renderStatusAction","renderStatusAwayAction","renderStatusOfflineAction","renderStatusDndAction","renderProfilePicture","extraText","href","Dropdown","open","style","bsRole","Menu","2381","_objectWithoutProperties2","_objectWithoutProperties3","BootstrapSpan","_props","children","bsClass","element","2382","_global_actions","GlobalActions","_webrtc_store","_webrtc_store2","_about_build_modal","_about_build_modal2","_add_users_to_team","_add_users_to_team2","_team_members_modal","_team_members_modal2","_sidebar_header_dropdown_button","_sidebar_header_dropdown_button2","SidebarHeaderDropdown","handleAboutModal","aboutModalDismissed","showAccountSettingsModal","showAddUsersToTeamModal","hideAddUsersToTeamModal","showInviteMemberModal","showGetTeamInviteLinkModal","showTeamMembersModal","hideTeamMembersModal","toggleShortcutsModal","onTeamChange","renderCustomEmojiLink","handleClick","teamMembers","getMyTeamMembers","teamListings","getTeamListings","showAboutModal","isBusy","emitChanged","action","WebrtcActionTypes","IN_PROGRESS","val","off","EnableCustomEmoji","canCreateCustomEmoji","Link","to","config","teamLink","inviteLink","addMemberToTeam","manageLink","sysAdminLink","isAdmin","teamSettings","integrationsLink","OPEN_TEAM","EnableUserCreation","mm_license","IsLicensed","RestrictTeamInvite","PERMISSIONS_SYSTEM_ADMIN","PERMISSIONS_TEAM_ADMIN","membersName","data-toggle","data-target","EnableIncomingWebhooks","EnableOutgoingWebhooks","EnableCommands","EnableOAuthServiceProvider","EnableOnlyAdminIntegrations","teams","moreTeams","EnableTeamCreation","isAlreadyMember","reduce","result","item","showLeaveTeamModal","helpLink","HelpLink","rel","reportLink","ReportAProblemLink","nativeAppLink","AppDownloadLink","isMobileApp","useSafeUrl","teamMembersModal","onLoad","addUsersToTeamModal","keyboardShortcuts","accountSettings","about","logout","emitUserLoggedOutEvent","customEmoji","inviteDivider","teamDivider","backstageDivider","sysAdminDivider","helpDivider","logoutDivider","pullRight","2383","SidebarHeaderDropdownButton","mainMenuToolTip","dangerouslySetInnerHTML","__html","MENU_ICON","oneOf","2384","UnreadChannelIndicator","unreadIcon","UNREAD_ICON_SVG","displayValue","extraClass","display","content","292","_stringify","_stringify2","_map","_map2","ChannelActions","_diagnostics_actions","_app_dispatcher","_app_dispatcher2","_modal_store","_modal_store2","_favicon16x","_favicon16x2","_redfavicon16x","_redfavicon16x2","_new_channel_flow","_new_channel_flow2","_sidebar_header","_sidebar_header2","_tutorial_tip2","_unread_channel_indicator","_unread_channel_indicator2","Sidebar","_initialiseProps","badgesActive","firstUnreadChannel","lastUnreadChannel","isLeaving","isSwitchingChannel","closedDirectChannel","newChannelModalType","showDirectChannelsModal","showMoreChannelsModal","loadingDMChannel","inChannelChange","addInChannelChangeListener","onInChannelChange","addModalListener","ActionTypes","TOGGLE_DM_MODAL","onModalChange","updateTitle","updateUnreadIndicators","navigateChannelShortcut","navigateUnreadChannelShortcut","nextState","areObjectsEqual","currentTeam","activeId","channelIdIsDisplayedForState","perfectScrollbar","container","removeClass","removeInChannelChangeListener","removeModalListener","link","rowClass","icon","badge","isDesktopApp","trackChannelSelectedEvent","switchChannelIcon","SWITCH_CHANNEL_ICON_SVG","lastBadgesActive","visibleFavoriteChannels","favoriteChannels","isChannelVisible","favoriteItems","index","arr","DM_CHANNEL","GM_CHANNEL","createChannelElement","handleLeaveDirectChannel","EnableXToLeaveChannelsFromLHS","DEFAULT_CHANNEL","handleLeavePublicChannel","handleLeavePrivateChannel","publicChannelItems","publicChannels","privateChannelItems","privateChannels","directMessageItems","directAndGroupChannels","head","getElementsByTagName","oldLink","getElementById","removeChild","appendChild","directMessageMore","handleOpenMoreDirectChannelsModal","createChannelTootlip","createGroupTootlip","createDirectMessageTooltip","above","below","createPublicChannelIcon","showNewChannelModal","createPrivateChannelIcon","createDirectMessageIcon","moreDirectChannelsModal","hideMoreDirectChannelsModal","moreChannelsModal","hideMoreChannelsModal","quickSwitchTextShortcutId","quickSwitchTextShortcutDefault","isMac","quickSwitchTextShortcut","hideNewChannelModal","description","showTopUnread","scrollToFirstUnreadChannel","showBottomUnread","scrollToLastUnreadChannel","onScroll","openQuickSwitcher","getTotalUnreadCount","unreads","getCountsStateFromStores","unreadCounts","msgs","messageCount","mentions","mentionCount","members","getMyMembers","currentChannelId","tutorialStep","displayableChannels","getChannelsByCategory","JSON","parse","getUnreadCounts","CHANNEL_POPOVER","getCurrent","townSquare","getByName","offTopic","OFFTOPIC_CHANNEL","showMoreDirectChannelsModal","getProfileListInChannel","channelId","clear","currentSiteName","SiteName","currentChannelName","teammate","getDirectTeammate","unread","mentionTitle","unreadTitle","firstUnreadElement","position","top","stop","animate","lastUnreadElement","elementBottom","updateScrollbarOnChannelChange","curChannel","getBoundingClientRect","CHANNEL_SCROLL_ADJUSTMENT","UP","DOWN","cmdOrCtrlPressed","K","allChannels","getDisplayedChannels","curChannelId","curIndex","nextIndex","nextChannel","mod","goToChannel","count","increment","getUnreadCount","getDisplayedChannelsForState","leaveChannel","trackEvent","showLeavePrivateChannelModal","get","set","category","teammate_id","CATEGORY_DIRECT_CHANNEL_SHOW","CATEGORY_GROUP_CHANNEL_SHOW","savePreferences","then","openLeftSidebar","querySelector","classList","add","handleViewAction","TOGGLE_QUICK_SWITCH_MODAL","createTutorialTip","screens","townSquareDisplayName","DEFAULT_CHANNEL_UI_NAME","offTopicDisplayName","OFFTOPIC_CHANNEL_UI_NAME","FormattedHTMLMessage","townsquare","offtopic","overlayClass","diagnosticsTag","handleClose","channelMember","unreadCount","msgCount","linkClass","mention_count","globeIcon","GLOBE_ICON_SVG","lockIcon","LOCK_ICON_SVG","ARCHIVE_ICON_SVG","removeTooltip","stopPropagation","fake","encodeURIComponent","channelLink","createChannelButtonOrLink"],"mappings":"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","file":"0.25c5f9d36667d9d1a0b8.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 2368:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"files/b0d0ad99214c4723703614b6c6723e33.png\";\n\n/***/ }),\n\n/***/ 2369:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _channels = __webpack_require__(54);\n\nvar _more_channels = __webpack_require__(2370);\n\nvar _more_channels2 = _interopRequireDefault(_more_channels);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getChannels: _channels.getChannels\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_more_channels2.default);\n\n/***/ }),\n\n/***/ 2370:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(690);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_utils = __webpack_require__(101);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _searchable_channel_list = __webpack_require__(2371);\n\nvar _searchable_channel_list2 = _interopRequireDefault(_searchable_channel_list);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CHANNELS_CHUNK_SIZE = 50; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CHANNELS_PER_PAGE = 50;\nvar SEARCH_TIMEOUT_MILLISECONDS = 100;\n\nvar MoreChannels = function (_React$Component) {\n    (0, _inherits3.default)(MoreChannels, _React$Component);\n\n    function MoreChannels(props) {\n        (0, _classCallCheck3.default)(this, MoreChannels);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (MoreChannels.__proto__ || (0, _getPrototypeOf2.default)(MoreChannels)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.handleJoin = _this.handleJoin.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleExit = _this.handleExit.bind(_this);\n        _this.nextPage = _this.nextPage.bind(_this);\n        _this.search = _this.search.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.searchTimeoutId = 0;\n\n        _this.state = {\n            show: true,\n            search: false,\n            channels: null,\n            serverError: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(MoreChannels, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.onChange);\n            this.props.actions.getChannels(_team_store2.default.getCurrentId(), 0, CHANNELS_CHUNK_SIZE * 2);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'handleExit',\n        value: function handleExit() {\n            if (this.props.onModalDismissed) {\n                this.props.onModalDismissed();\n            }\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange(force) {\n            if (this.state.search && !force) {\n                return;\n            }\n\n            this.setState({\n                channels: _channel_store2.default.getMoreChannelsList(),\n                serverError: null\n            });\n        }\n    }, {\n        key: 'nextPage',\n        value: function nextPage(page) {\n            this.props.actions.getChannels(_team_store2.default.getCurrentId(), page + 1, CHANNELS_PER_PAGE);\n        }\n    }, {\n        key: 'handleJoin',\n        value: function handleJoin(channel, done) {\n            var _this2 = this;\n\n            (0, _channel_actions.joinChannel)(channel, function () {\n                _reactRouter.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + channel.name);\n                if (done) {\n                    done();\n                }\n\n                _this2.handleHide();\n            }, function (err) {\n                _this2.setState({ serverError: err.message });\n                if (done) {\n                    done();\n                }\n            });\n        }\n    }, {\n        key: 'search',\n        value: function search(term) {\n            var _this3 = this;\n\n            clearTimeout(this.searchTimeoutId);\n\n            if (term === '') {\n                this.onChange(true);\n                this.setState({ search: false });\n                this.searchTimeoutId = '';\n                return;\n            }\n\n            var searchTimeoutId = setTimeout(function () {\n                (0, _channel_actions.searchMoreChannels)(term, function (channels) {\n                    if (searchTimeoutId !== _this3.searchTimeoutId) {\n                        return;\n                    }\n                    _this3.setState({ search: true, channels: channels });\n                });\n            }, SEARCH_TIMEOUT_MILLISECONDS);\n\n            this.searchTimeoutId = searchTimeoutId;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = void 0;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.serverError\n                    )\n                );\n            }\n\n            var createNewChannelButton = _react2.default.createElement(\n                'button',\n                {\n                    id: 'createNewChannel',\n                    type: 'button',\n                    className: 'btn btn-primary channel-create-btn',\n                    onClick: this.props.handleNewChannel\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'more_channels.create',\n                    defaultMessage: 'Create New Channel'\n                })\n            );\n\n            var createChannelHelpText = _react2.default.createElement(\n                'p',\n                { className: 'secondary-message' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'more_channels.createClick',\n                    defaultMessage: 'Click \\'Create New Channel\\' to make a new one'\n                })\n            );\n\n            var isTeamAdmin = _team_store2.default.isTeamAdminForCurrentTeam();\n            var isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n            if (!(0, _channel_utils.showCreateOption)(_constants2.default.OPEN_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n                createNewChannelButton = null;\n                createChannelHelpText = null;\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'more-modal more-modal--action',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleExit\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.title',\n                            defaultMessage: 'More Channels'\n                        })\n                    ),\n                    createNewChannelButton\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(_searchable_channel_list2.default, {\n                        channels: this.state.channels,\n                        channelsPerPage: CHANNELS_PER_PAGE,\n                        nextPage: this.nextPage,\n                        isSearch: this.state.search,\n                        search: this.search,\n                        handleJoin: this.handleJoin,\n                        noResultsText: createChannelHelpText\n                    }),\n                    serverError\n                )\n            );\n        }\n    }]);\n    return MoreChannels;\n}(_react2.default.Component);\n\nMoreChannels.propTypes = {\n    onModalDismissed: _propTypes2.default.func,\n    handleNewChannel: _propTypes2.default.func,\n    actions: _propTypes2.default.shape({\n        getChannels: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = MoreChannels;\n\n/***/ }),\n\n/***/ 2371:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar _load = __webpack_require__(166);\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _loading_screen = __webpack_require__(214);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NEXT_BUTTON_TIMEOUT_MILLISECONDS = 500; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SearchableChannelList = function (_React$Component) {\n    (0, _inherits3.default)(SearchableChannelList, _React$Component);\n\n    function SearchableChannelList(props) {\n        (0, _classCallCheck3.default)(this, SearchableChannelList);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchableChannelList.__proto__ || (0, _getPrototypeOf2.default)(SearchableChannelList)).call(this, props));\n\n        _this.createChannelRow = _this.createChannelRow.bind(_this);\n        _this.nextPage = _this.nextPage.bind(_this);\n        _this.previousPage = _this.previousPage.bind(_this);\n        _this.doSearch = _this.doSearch.bind(_this);\n\n        _this.nextTimeoutId = 0;\n\n        _this.state = {\n            joiningChannel: '',\n            page: 0,\n            nextDisabled: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchableChannelList, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // only focus the search box on desktop so that we don't cause the keyboard to open on mobile\n            if (!UserAgent.isMobile()) {\n                this.refs.filter.focus();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (prevState.page !== this.state.page) {\n                (0, _jquery2.default)(this.refs.channelList).scrollTop(0);\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.isSearch && !this.props.isSearch) {\n                this.setState({ page: 0 });\n            }\n        }\n    }, {\n        key: 'handleJoin',\n        value: function handleJoin(channel) {\n            var _this2 = this;\n\n            this.setState({ joiningChannel: channel.id });\n            this.props.handleJoin(channel, function () {\n                _this2.setState({ joiningChannel: '' });\n            });\n        }\n    }, {\n        key: 'createChannelRow',\n        value: function createChannelRow(channel) {\n            var joinButton = void 0;\n            if (this.state.joiningChannel === channel.id) {\n                joinButton = _react2.default.createElement('img', {\n                    className: 'join-channel-loading-gif',\n                    src: _load2.default\n                });\n            } else {\n                joinButton = _react2.default.createElement(\n                    'button',\n                    {\n                        onClick: this.handleJoin.bind(this, channel),\n                        className: 'btn btn-primary',\n                        disabled: this.state.joiningChannel !== '' && this.state.joiningChannel !== channel.id\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'more_channels.join',\n                        defaultMessage: 'Join'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'more-modal__row',\n                    key: channel.id\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'more-modal__details' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'more-modal__name' },\n                        channel.display_name\n                    ),\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'more-modal__description' },\n                        channel.purpose\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'more-modal__actions' },\n                    joinButton\n                )\n            );\n        }\n    }, {\n        key: 'nextPage',\n        value: function nextPage(e) {\n            var _this3 = this;\n\n            e.preventDefault();\n            this.setState({ page: this.state.page + 1, nextDisabled: true });\n            this.nextTimeoutId = setTimeout(function () {\n                return _this3.setState({ nextDisabled: false });\n            }, NEXT_BUTTON_TIMEOUT_MILLISECONDS);\n            this.props.nextPage(this.state.page + 1);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n        }\n    }, {\n        key: 'previousPage',\n        value: function previousPage(e) {\n            e.preventDefault();\n            this.setState({ page: this.state.page - 1 });\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n        }\n    }, {\n        key: 'doSearch',\n        value: function doSearch() {\n            var term = this.refs.filter.value;\n            this.props.search(term);\n            if (term === '') {\n                this.setState({ page: 0 });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var channels = this.props.channels;\n            var listContent = void 0;\n            var nextButton = void 0;\n            var previousButton = void 0;\n\n            if (channels == null) {\n                listContent = _react2.default.createElement(_loading_screen2.default, null);\n            } else if (channels.length === 0) {\n                listContent = _react2.default.createElement(\n                    'div',\n                    { className: 'no-channel-message' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'primary-message' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.noMore',\n                            defaultMessage: 'No more channels to join'\n                        })\n                    ),\n                    this.props.noResultsText\n                );\n            } else {\n                var pageStart = this.state.page * this.props.channelsPerPage;\n                var pageEnd = pageStart + this.props.channelsPerPage;\n                var channelsToDisplay = this.props.channels.slice(pageStart, pageEnd);\n                listContent = channelsToDisplay.map(this.createChannelRow);\n\n                if (channelsToDisplay.length >= this.props.channelsPerPage && pageEnd < this.props.channels.length) {\n                    nextButton = _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'btn btn-default filter-control filter-control__next',\n                            onClick: this.nextPage,\n                            disabled: this.state.nextDisabled\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.next',\n                            defaultMessage: 'Next'\n                        })\n                    );\n                }\n\n                if (this.state.page > 0) {\n                    previousButton = _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'btn btn-default filter-control filter-control__prev',\n                            onClick: this.previousPage\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.prev',\n                            defaultMessage: 'Previous'\n                        })\n                    );\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'filtered-user-list' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'filter-row' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-12' },\n                        _react2.default.createElement('input', {\n                            id: 'searchChannelsTextbox',\n                            ref: 'filter',\n                            className: 'form-control filter-textbox',\n                            placeholder: (0, _utils.localizeMessage)('filtered_channels_list.search', 'Search channels'),\n                            onInput: this.doSearch\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'channelList',\n                        className: 'more-modal__list'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { ref: 'channelListScroll' },\n                        listContent\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'filter-controls' },\n                    previousButton,\n                    nextButton\n                )\n            );\n        }\n    }]);\n    return SearchableChannelList;\n}(_react2.default.Component);\n\nexports.default = SearchableChannelList;\n\n\nSearchableChannelList.defaultProps = {\n    channels: [],\n    isSearch: false\n};\n\nSearchableChannelList.propTypes = {\n    channels: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    channelsPerPage: _propTypes2.default.number,\n    nextPage: _propTypes2.default.func.isRequired,\n    isSearch: _propTypes2.default.bool,\n    search: _propTypes2.default.func.isRequired,\n    handleJoin: _propTypes2.default.func.isRequired,\n    noResultsText: _propTypes2.default.object\n};\n\n/***/ }),\n\n/***/ 2372:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _users = __webpack_require__(61);\n\nvar _users2 = __webpack_require__(46);\n\nvar _more_direct_channels = __webpack_require__(2373);\n\nvar _more_direct_channels2 = _interopRequireDefault(_more_direct_channels);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        currentUserId: (0, _users2.getCurrentUserId)(state)\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getProfiles: _users.getProfiles,\n            getProfilesInTeam: _users.getProfilesInTeam\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_more_direct_channels2.default);\n\n/***/ }),\n\n/***/ 2373:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(45);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _client = __webpack_require__(28);\n\nvar _users = __webpack_require__(46);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar _user_actions = __webpack_require__(66);\n\nvar _redux_store = __webpack_require__(32);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar _multiselect = __webpack_require__(401);\n\nvar _multiselect2 = _interopRequireDefault(_multiselect);\n\nvar _profile_picture = __webpack_require__(165);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar USERS_PER_PAGE = 50;\nvar MAX_SELECTABLE_VALUES = _constants2.default.MAX_USERS_IN_GM - 1;\n\nvar MoreDirectChannels = function (_React$Component) {\n    (0, _inherits3.default)(MoreDirectChannels, _React$Component);\n\n    function MoreDirectChannels(props) {\n        (0, _classCallCheck3.default)(this, MoreDirectChannels);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (MoreDirectChannels.__proto__ || (0, _getPrototypeOf2.default)(MoreDirectChannels)).call(this, props));\n\n        _this.resetPaging = function () {\n            if (_this.refs.multiselect) {\n                _this.refs.multiselect.resetPaging();\n            }\n        };\n\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleExit = _this.handleExit.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleDelete = _this.handleDelete.bind(_this);\n        _this.handlePageChange = _this.handlePageChange.bind(_this);\n        _this.onChange = _this.onChange.bind(_this);\n        _this.search = _this.search.bind(_this);\n        _this.addValue = _this.addValue.bind(_this);\n\n        _this.searchTimeoutId = 0;\n        _this.term = '';\n        _this.listType = global.window.mm_config.RestrictDirectMessage;\n\n        var values = [];\n\n        if (props.startingUsers) {\n            for (var i = 0; i < props.startingUsers.length; i++) {\n                var user = (0, _assign2.default)({}, props.startingUsers[i]);\n                user.value = user.id;\n                user.label = '@' + user.username;\n                values.push(user);\n            }\n        }\n\n        _this.state = {\n            users: null,\n            values: values,\n            show: true,\n            search: false,\n            loadingChannel: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(MoreDirectChannels, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onChange);\n            _user_store2.default.addInTeamChangeListener(this.onChange);\n            _user_store2.default.addStatusesChangeListener(this.onChange);\n            if (this.listType === 'any') {\n                this.props.actions.getProfiles(0, USERS_PER_PAGE * 2, false);\n            } else {\n                this.props.actions.getProfilesInTeam(_team_store2.default.getCurrentId(), 0, USERS_PER_PAGE * 2);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onChange);\n            _user_store2.default.removeInTeamChangeListener(this.onChange);\n            _user_store2.default.removeStatusesChangeListener(this.onChange);\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'handleExit',\n        value: function handleExit() {\n            if (this.exitToChannel) {\n                _reactRouter.browserHistory.push(this.exitToChannel);\n            }\n\n            if (this.props.onModalDismissed) {\n                this.props.onModalDismissed();\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var _this2 = this;\n\n            var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.values;\n\n            if (this.state.loadingChannel) {\n                return;\n            }\n\n            var userIds = values.map(function (v) {\n                return v.id;\n            });\n            if (userIds.length === 0) {\n                return;\n            }\n\n            this.setState({ loadingChannel: true });\n\n            var success = function success(channel) {\n                // Due to how react-overlays Modal handles focus, we delay pushing\n                // the new channel information until the modal is fully exited.\n                // The channel information will be pushed in `handleExit`\n                _this2.exitToChannel = _team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + channel.name;\n                _this2.setState({ loadingChannel: false });\n                _this2.handleHide();\n            };\n\n            var error = function error() {\n                _this2.setState({ loadingChannel: false });\n            };\n\n            if (userIds.length === 1) {\n                (0, _channel_actions.openDirectChannelToUser)(userIds[0], success, error);\n            } else {\n                (0, _channel_actions.openGroupChannelToUsers)(userIds, success, error);\n            }\n        }\n    }, {\n        key: 'addValue',\n        value: function addValue(value) {\n            var values = (0, _assign2.default)([], this.state.values);\n\n            if (values.indexOf(value) === -1) {\n                values.push(value);\n            }\n\n            this.setState({ values: values });\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            var users = void 0;\n\n            if (this.term) {\n                if (this.listType === 'any') {\n                    users = (0, _assign2.default)([], (0, _users.searchProfiles)(_redux_store2.default.getState(), this.term, false));\n                } else {\n                    users = (0, _assign2.default)([], (0, _users.searchProfilesInCurrentTeam)(_redux_store2.default.getState(), this.term, false));\n                }\n            } else if (this.listType === 'any') {\n                users = (0, _assign2.default)([], _user_store2.default.getProfileList(false, true));\n            } else {\n                users = (0, _assign2.default)([], _user_store2.default.getProfileListInTeam(_team_store2.default.getCurrentId(), false, false));\n            }\n\n            for (var i = 0; i < users.length; i++) {\n                var user = (0, _assign2.default)({}, users[i]);\n                user.value = user.id;\n                user.label = '@' + user.username;\n                users[i] = user;\n            }\n\n            this.setState({\n                users: users\n            });\n        }\n    }, {\n        key: 'handlePageChange',\n        value: function handlePageChange(page, prevPage) {\n            if (page > prevPage) {\n                if (this.listType === 'any') {\n                    this.props.actions.getProfiles(page + 1, USERS_PER_PAGE);\n                } else {\n                    this.props.actions.getProfilesInTeam(page + 1, USERS_PER_PAGE);\n                }\n            }\n        }\n    }, {\n        key: 'search',\n        value: function search(term) {\n            var _this3 = this;\n\n            clearTimeout(this.searchTimeoutId);\n            this.term = term;\n\n            if (term === '') {\n                this.resetPaging();\n                this.onChange();\n                return;\n            }\n\n            var teamId = void 0;\n            if (this.listType === 'any') {\n                teamId = '';\n            } else {\n                teamId = _team_store2.default.getCurrentId();\n            }\n\n            this.searchTimeoutId = setTimeout(function () {\n                (0, _user_actions.searchUsers)(term, teamId, {}, _this3.resetPaging);\n            }, _constants2.default.SEARCH_TIMEOUT_MILLISECONDS);\n        }\n    }, {\n        key: 'handleDelete',\n        value: function handleDelete(values) {\n            this.setState({ values: values });\n        }\n    }, {\n        key: 'renderOption',\n        value: function renderOption(option, isSelected, onAdd) {\n            var currentUser = _user_store2.default.getCurrentUser();\n            var displayName = (0, _utils.displayEntireNameForUser)(option);\n\n            var modalName = displayName;\n            if (option.id === currentUser.id) {\n                modalName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'more_direct_channels.directchannel.you',\n                    defaultMessage: '{displayname} (you)',\n                    values: {\n                        displayname: displayName\n                    }\n                });\n            } else if (option.delete_at) {\n                modalName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'more_direct_channels.directchannel.deactivated',\n                    defaultMessage: '{displayname} - Deactivated',\n                    values: {\n                        displayname: displayName\n                    }\n                });\n            }\n\n            var rowSelected = '';\n            if (isSelected) {\n                rowSelected = 'more-modal__row--selected';\n            }\n\n            var status = option.delete_at ? null : _user_store2.default.getStatus(option.id);\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    key: option.id,\n                    ref: isSelected ? 'selected' : option.id,\n                    className: 'more-modal__row clickable ' + rowSelected,\n                    onClick: function onClick() {\n                        return onAdd(option);\n                    }\n                },\n                _react2.default.createElement(_profile_picture2.default, {\n                    src: _client.Client4.getProfilePictureUrl(option.id, option.last_picture_update),\n                    status: status,\n                    width: '32',\n                    height: '32'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'more-modal__details'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'more-modal__name' },\n                        modalName\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'more-modal__description' },\n                        option.email\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'more-modal__actions' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'more-modal__actions--round' },\n                        _react2.default.createElement('i', { className: 'fa fa-plus' })\n                    )\n                )\n            );\n        }\n    }, {\n        key: 'renderValue',\n        value: function renderValue(user) {\n            return user.username;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var note = void 0;\n            if (this.props.startingUsers) {\n                if (this.state.values && this.state.values.length >= MAX_SELECTABLE_VALUES) {\n                    note = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'more_direct_channels.new_convo_note.full',\n                        defaultMessage: 'You\\u2019ve reached the maximum number of people for this conversation. Consider creating a private channel instead.'\n                    });\n                } else {\n                    note = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'more_direct_channels.new_convo_note',\n                        defaultMessage: 'This will start a new conversation. If you\\u2019re adding a lot of people, consider creating a private channel instead.'\n                    });\n                }\n            }\n\n            var buttonSubmitText = (0, _utils.localizeMessage)('multiselect.go', 'Go');\n\n            var numRemainingText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'multiselect.numPeopleRemaining',\n                defaultMessage: 'Use \\u2191\\u2193 to browse, \\u21B5 to select. You can add {num, number} more {num, plural, one {person} other {people}}. ',\n                values: {\n                    num: MAX_SELECTABLE_VALUES - this.state.values.length\n                }\n            });\n\n            var users = this.state.users || [];\n\n            if (this.state.values.length) {\n                users = users.filter(function (user) {\n                    return user.delete_at === 0 && user.id !== _this4.props.currentUserId;\n                });\n            } else {\n                var active = [];\n                var inactive = [];\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(users), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var user = _step.value;\n\n                        (user.delete_at ? inactive : active).push(user);\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                users = active.concat(inactive);\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'more-modal more-direct-channels',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleExit\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_direct_channels.title',\n                            defaultMessage: 'Direct Messages'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(_multiselect2.default, {\n                        key: 'moreDirectChannelsList',\n                        ref: 'multiselect',\n                        options: users,\n                        optionRenderer: this.renderOption,\n                        values: this.state.values,\n                        valueRenderer: this.renderValue,\n                        perPage: USERS_PER_PAGE,\n                        handlePageChange: this.handlePageChange,\n                        handleInput: this.search,\n                        handleDelete: this.handleDelete,\n                        handleAdd: this.addValue,\n                        handleSubmit: this.handleSubmit,\n                        noteText: note,\n                        maxValues: MAX_SELECTABLE_VALUES,\n                        numRemainingText: numRemainingText,\n                        buttonSubmitText: buttonSubmitText,\n                        submitImmediatelyOn: function submitImmediatelyOn(value) {\n                            return value.id === _this4.props.currentUserId || value.delete_at;\n                        },\n                        saving: this.state.loadingChannel\n                    })\n                )\n            );\n        }\n    }]);\n    return MoreDirectChannels;\n}(_react2.default.Component);\n\nMoreDirectChannels.propTypes = {\n    currentUserId: _propTypes2.default.string.isRequired,\n    startingUsers: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    onModalDismissed: _propTypes2.default.func,\n    actions: _propTypes2.default.shape({\n        getProfiles: _propTypes2.default.func.isRequired,\n        getProfilesInTeam: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = MoreDirectChannels;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2374:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _url = __webpack_require__(70);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _new_channel_modal = __webpack_require__(2375);\n\nvar _new_channel_modal2 = _interopRequireDefault(_new_channel_modal);\n\nvar _change_url_modal = __webpack_require__(2377);\n\nvar _change_url_modal2 = _interopRequireDefault(_change_url_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SHOW_NEW_CHANNEL = 1;\nvar SHOW_EDIT_URL = 2;\nvar SHOW_EDIT_URL_THEN_COMPLETE = 3;\n\nvar NewChannelFlow = function (_React$Component) {\n    (0, _inherits3.default)(NewChannelFlow, _React$Component);\n\n    function NewChannelFlow(props) {\n        (0, _classCallCheck3.default)(this, NewChannelFlow);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NewChannelFlow.__proto__ || (0, _getPrototypeOf2.default)(NewChannelFlow)).call(this, props));\n\n        _this.doSubmit = _this.doSubmit.bind(_this);\n        _this.onModalExited = _this.onModalExited.bind(_this);\n        _this.typeSwitched = _this.typeSwitched.bind(_this);\n        _this.urlChangeRequested = _this.urlChangeRequested.bind(_this);\n        _this.urlChangeSubmitted = _this.urlChangeSubmitted.bind(_this);\n        _this.urlChangeDismissed = _this.urlChangeDismissed.bind(_this);\n        _this.channelDataChanged = _this.channelDataChanged.bind(_this);\n\n        _this.state = {\n            serverError: '',\n            channelType: props.channelType || 'O',\n            flowState: SHOW_NEW_CHANNEL,\n            channelDisplayName: '',\n            channelName: '',\n            channelPurpose: '',\n            channelHeader: '',\n            nameModified: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(NewChannelFlow, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            // If we are being shown, grab channel type from props and clear\n            if (nextProps.show === true && this.props.show === false) {\n                this.setState({\n                    serverError: '',\n                    channelType: nextProps.channelType,\n                    flowState: SHOW_NEW_CHANNEL,\n                    channelDisplayName: '',\n                    channelName: '',\n                    channelPurpose: '',\n                    channelHeader: '',\n                    nameModified: false\n                });\n            }\n        }\n    }, {\n        key: 'doSubmit',\n        value: function doSubmit() {\n            var _this2 = this;\n\n            if (!this.state.channelDisplayName) {\n                this.setState({ serverError: Utils.localizeMessage('channel_flow.invalidName', 'Invalid Channel Name') });\n                return;\n            }\n\n            if (this.state.channelName < 2) {\n                this.setState({ flowState: SHOW_EDIT_URL_THEN_COMPLETE });\n                return;\n            }\n\n            var channel = {\n                team_id: _team_store2.default.getCurrentId(),\n                name: this.state.channelName,\n                display_name: this.state.channelDisplayName,\n                purpose: this.state.channelPurpose,\n                header: this.state.channelHeader,\n                type: this.state.channelType\n            };\n\n            (0, _channel_actions.createChannel)(channel, function (data) {\n                _this2.doOnModalExited = function () {\n                    _reactRouter.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + data.name);\n                };\n\n                _this2.props.onModalDismissed();\n            }, function (err) {\n                if (err.id === 'model.channel.is_valid.2_or_more.app_error') {\n                    _this2.setState({\n                        flowState: SHOW_EDIT_URL_THEN_COMPLETE,\n                        serverError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.handleTooShort',\n                            defaultMessage: 'Channel URL must be 2 or more lowercase alphanumeric characters'\n                        })\n                    });\n                    return;\n                }\n                if (err.id === 'store.sql_channel.update.exists.app_error') {\n                    _this2.setState({ serverError: Utils.localizeMessage('channel_flow.alreadyExist', 'A channel with that URL already exists') });\n                    return;\n                }\n                _this2.setState({ serverError: err.message });\n            });\n        }\n    }, {\n        key: 'onModalExited',\n        value: function onModalExited() {\n            if (this.doOnModalExited) {\n                this.doOnModalExited();\n            }\n        }\n    }, {\n        key: 'typeSwitched',\n        value: function typeSwitched(e) {\n            e.preventDefault();\n            if (this.state.channelType === 'P') {\n                this.setState({ channelType: 'O' });\n            } else {\n                this.setState({ channelType: 'P' });\n            }\n        }\n    }, {\n        key: 'urlChangeRequested',\n        value: function urlChangeRequested(e) {\n            if (e) {\n                e.preventDefault();\n            }\n            this.setState({ flowState: SHOW_EDIT_URL });\n        }\n    }, {\n        key: 'urlChangeSubmitted',\n        value: function urlChangeSubmitted(newURL) {\n            if (this.state.flowState === SHOW_EDIT_URL_THEN_COMPLETE) {\n                this.setState({ channelName: newURL, nameModified: true }, this.doSubmit);\n            } else {\n                this.setState({ flowState: SHOW_NEW_CHANNEL, serverError: null, channelName: newURL, nameModified: true });\n            }\n        }\n    }, {\n        key: 'urlChangeDismissed',\n        value: function urlChangeDismissed() {\n            this.setState({ flowState: SHOW_NEW_CHANNEL });\n        }\n    }, {\n        key: 'channelDataChanged',\n        value: function channelDataChanged(data) {\n            this.setState({\n                channelDisplayName: data.displayName,\n                channelPurpose: data.purpose,\n                channelHeader: data.header\n            });\n            if (!this.state.nameModified) {\n                this.setState({ channelName: (0, _url.cleanUpUrlable)(data.displayName.trim()) });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var channelData = {\n                name: this.state.channelName,\n                displayName: this.state.channelDisplayName,\n                purpose: this.state.channelPurpose\n            };\n\n            var showChannelModal = false;\n            var showGroupModal = false;\n            var showChangeURLModal = false;\n\n            var changeURLTitle = '';\n            var changeURLSubmitButtonText = '';\n\n            // Only listen to flow state if we are being shown\n            if (this.props.show) {\n                switch (this.state.flowState) {\n                    case SHOW_NEW_CHANNEL:\n                        if (this.state.channelType === 'O') {\n                            showChannelModal = true;\n                        } else {\n                            showGroupModal = true;\n                        }\n                        break;\n                    case SHOW_EDIT_URL:\n                        showChangeURLModal = true;\n                        changeURLTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.changeUrlTitle',\n                            defaultMessage: 'Change Channel URL'\n                        });\n                        changeURLSubmitButtonText = changeURLTitle;\n                        break;\n                    case SHOW_EDIT_URL_THEN_COMPLETE:\n                        showChangeURLModal = true;\n                        changeURLTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.set_url_title',\n                            defaultMessage: 'Set Channel URL'\n                        });\n                        changeURLSubmitButtonText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.create',\n                            defaultMessage: 'Create Channel'\n                        });\n                        break;\n                }\n            }\n            return _react2.default.createElement(\n                'span',\n                null,\n                _react2.default.createElement(_new_channel_modal2.default, {\n                    show: showChannelModal,\n                    channelType: 'O',\n                    channelData: channelData,\n                    serverError: this.state.serverError,\n                    onSubmitChannel: this.doSubmit,\n                    onModalDismissed: this.props.onModalDismissed,\n                    onModalExited: this.onModalExited,\n                    onTypeSwitched: this.typeSwitched,\n                    onChangeURLPressed: this.urlChangeRequested,\n                    onDataChanged: this.channelDataChanged\n                }),\n                _react2.default.createElement(_new_channel_modal2.default, {\n                    show: showGroupModal,\n                    channelType: 'P',\n                    channelData: channelData,\n                    serverError: this.state.serverError,\n                    onSubmitChannel: this.doSubmit,\n                    onModalExited: this.onModalExited,\n                    onModalDismissed: this.props.onModalDismissed,\n                    onTypeSwitched: this.typeSwitched,\n                    onChangeURLPressed: this.urlChangeRequested,\n                    onDataChanged: this.channelDataChanged\n                }),\n                _react2.default.createElement(_change_url_modal2.default, {\n                    show: showChangeURLModal,\n                    title: changeURLTitle,\n                    submitButtonText: changeURLSubmitButtonText,\n                    currentURL: this.state.channelName,\n                    serverError: this.state.serverError,\n                    onModalSubmit: this.urlChangeSubmitted,\n                    onModalDismissed: this.urlChangeDismissed,\n                    onModalExited: this.onModalExited\n                })\n            );\n        }\n    }]);\n    return NewChannelFlow;\n}(_react2.default.Component);\n\nexports.default = NewChannelFlow;\n\n\nNewChannelFlow.defaultProps = {\n    show: false,\n    channelType: 'O'\n};\n\nNewChannelFlow.propTypes = {\n    show: _propTypes2.default.bool.isRequired,\n    channelType: _propTypes2.default.string.isRequired,\n    onModalDismissed: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2375:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _constants = __webpack_require__(25);\n\nvar _preferences = __webpack_require__(62);\n\nvar _teams = __webpack_require__(81);\n\nvar _users = __webpack_require__(46);\n\nvar _new_channel_modal = __webpack_require__(2376);\n\nvar _new_channel_modal2 = _interopRequireDefault(_new_channel_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        ctrlSend: (0, _preferences.getBool)(state, _constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        isTeamAdmin: (0, _teams.isCurrentUserCurrentTeamAdmin)(state),\n        isSystemAdmin: (0, _users.isCurrentUserSystemAdmin)(state)\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_new_channel_modal2.default);\n\n/***/ }),\n\n/***/ 2376:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _channel_utils = __webpack_require__(101);\n\nvar ChannelUtils = _interopRequireWildcard(_channel_utils);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _url = __webpack_require__(70);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NewChannelModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(NewChannelModal, _React$PureComponent);\n\n    function NewChannelModal(props) {\n        (0, _classCallCheck3.default)(this, NewChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NewChannelModal.__proto__ || (0, _getPrototypeOf2.default)(NewChannelModal)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n        _this.onEnterKeyDown = _this.onEnterKeyDown.bind(_this);\n\n        _this.state = {\n            displayNameError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(NewChannelModal, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.show === true && this.props.show === false) {\n                this.setState({\n                    displayNameError: ''\n                });\n\n                document.addEventListener('keydown', this.onEnterKeyDown);\n            } else if (nextProps.show === false && this.props.show === true) {\n                document.removeEventListener('keydown', this.onEnterKeyDown);\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // ???\n            if (UserAgent.isInternetExplorer() || UserAgent.isEdge()) {\n                (0, _jquery2.default)('body').addClass('browser--ie');\n            }\n        }\n    }, {\n        key: 'onEnterKeyDown',\n        value: function onEnterKeyDown(e) {\n            if (this.props.ctrlSend && e.keyCode === _constants2.default.KeyCodes.ENTER && e.ctrlKey) {\n                this.handleSubmit(e);\n            } else if (!this.props.ctrlSend && e.keyCode === _constants2.default.KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                this.handleSubmit(e);\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n\n            var displayName = _reactDom2.default.findDOMNode(this.refs.display_name).value.trim();\n            if (displayName.length < _constants2.default.MIN_CHANNELNAME_LENGTH) {\n                this.setState({ displayNameError: true });\n                return;\n            }\n\n            this.props.onSubmitChannel();\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange() {\n            var newData = {\n                displayName: this.refs.display_name.value,\n                header: this.refs.channel_header.value,\n                purpose: this.refs.channel_purpose.value\n            };\n            this.props.onDataChanged(newData);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var displayNameError = null;\n            var serverError = null;\n            var displayNameClass = 'form-group';\n\n            if (this.state.displayNameError) {\n                displayNameError = _react2.default.createElement(\n                    'p',\n                    { className: 'input__help error' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'channel_modal.displayNameError',\n                        defaultMessage: 'Channel name must be 2 or more characters'\n                    }),\n                    this.state.displayNameError\n                );\n                displayNameClass += ' has-error';\n            }\n\n            if (this.props.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-12' },\n                        _react2.default.createElement(\n                            'p',\n                            { className: 'input__help error' },\n                            this.props.serverError\n                        )\n                    )\n                );\n            }\n\n            var createPublicChannelLink = _react2.default.createElement(\n                'button',\n                {\n                    className: 'style--none color--link',\n                    onClick: this.props.onTypeSwitched\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'channel_modal.publicChannel1',\n                    defaultMessage: 'Create a public channel'\n                })\n            );\n\n            var createPrivateChannelLink = _react2.default.createElement(\n                'button',\n                {\n                    className: 'style--none color--link',\n                    onClick: this.props.onTypeSwitched\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'channel_modal.privateGroup2',\n                    defaultMessage: 'Create a private channel'\n                })\n            );\n\n            if (!ChannelUtils.showCreateOption(_constants2.default.OPEN_CHANNEL, this.props.isTeamAdmin, this.props.isSystemAdmin)) {\n                createPublicChannelLink = null;\n            }\n\n            if (!ChannelUtils.showCreateOption(_constants2.default.PRIVATE_CHANNEL, this.props.isTeamAdmin, this.props.isSystemAdmin)) {\n                createPrivateChannelLink = null;\n            }\n\n            var channelSwitchText = '';\n            var inputPrefixId = '';\n            switch (this.props.channelType) {\n                case 'P':\n                    channelSwitchText = _react2.default.createElement(\n                        'div',\n                        { className: 'modal-intro' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_modal.privateGroup1',\n                            defaultMessage: 'Create a new private channel with restricted membership. '\n                        }),\n                        createPublicChannelLink\n                    );\n                    inputPrefixId = 'newPrivateChannel';\n                    break;\n                case 'O':\n                    channelSwitchText = _react2.default.createElement(\n                        'div',\n                        { className: 'modal-intro' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_modal.publicChannel2',\n                            defaultMessage: 'Create a new public channel anyone can join. '\n                        }),\n                        createPrivateChannelLink\n                    );\n                    inputPrefixId = 'newPublicChannel';\n                    break;\n            }\n\n            var prettyTeamURL = (0, _url.getShortenedURL)();\n\n            return _react2.default.createElement(\n                'span',\n                null,\n                _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        dialogClassName: 'new-channel__modal',\n                        show: this.props.show,\n                        bsSize: 'large',\n                        onHide: this.props.onModalDismissed,\n                        onExited: this.props.onModalExited\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: true },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_modal.modalTitle',\n                                defaultMessage: 'New Channel'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        {\n                            role: 'form',\n                            className: 'form-horizontal'\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            null,\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                channelSwitchText\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: displayNameClass },\n                                _react2.default.createElement(\n                                    'label',\n                                    { className: 'col-sm-3 form__label control-label' },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_modal.name',\n                                        defaultMessage: 'Name'\n                                    })\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-9' },\n                                    _react2.default.createElement('input', {\n                                        id: inputPrefixId + 'Name',\n                                        onChange: this.handleChange,\n                                        type: 'text',\n                                        ref: 'display_name',\n                                        className: 'form-control',\n                                        placeholder: Utils.localizeMessage('channel_modal.nameEx', 'E.g.: \"Bugs\", \"Marketing\", \"客户支持\"'),\n                                        maxLength: _constants2.default.MAX_CHANNELNAME_LENGTH,\n                                        value: this.props.channelData.displayName,\n                                        autoFocus: true,\n                                        tabIndex: '1'\n                                    }),\n                                    displayNameError,\n                                    _react2.default.createElement(\n                                        'p',\n                                        { className: 'input__help dark' },\n                                        'URL: ' + prettyTeamURL + this.props.channelData.name + ' (',\n                                        _react2.default.createElement(\n                                            'button',\n                                            {\n                                                className: 'color--link style--none',\n                                                onClick: function onClick(e) {\n                                                    e.preventDefault();\n                                                    _this2.props.onChangeURLPressed();\n                                                }\n                                            },\n                                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                                id: 'channel_modal.edit',\n                                                defaultMessage: 'Edit'\n                                            })\n                                        ),\n                                        ')'\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'form-group' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-3' },\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label control-label' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.purpose',\n                                            defaultMessage: 'Purpose'\n                                        })\n                                    ),\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label light' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.optional',\n                                            defaultMessage: '(optional)'\n                                        })\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-9' },\n                                    _react2.default.createElement('textarea', {\n                                        id: inputPrefixId + 'Purpose',\n                                        className: 'form-control no-resize',\n                                        ref: 'channel_purpose',\n                                        rows: '4',\n                                        placeholder: Utils.localizeMessage('channel_modal.purposeEx', 'E.g.: \"A channel to file bugs and improvements\"'),\n                                        maxLength: '250',\n                                        value: this.props.channelData.purpose,\n                                        onChange: this.handleChange,\n                                        tabIndex: '2'\n                                    }),\n                                    _react2.default.createElement(\n                                        'p',\n                                        { className: 'input__help' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.descriptionHelp',\n                                            defaultMessage: 'Describe how this channel should be used.'\n                                        })\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'form-group less' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-3' },\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label control-label' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.header',\n                                            defaultMessage: 'Header'\n                                        })\n                                    ),\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label light' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.optional',\n                                            defaultMessage: '(optional)'\n                                        })\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-9' },\n                                    _react2.default.createElement('textarea', {\n                                        id: inputPrefixId + 'Header',\n                                        className: 'form-control no-resize',\n                                        ref: 'channel_header',\n                                        rows: '4',\n                                        placeholder: Utils.localizeMessage('channel_modal.headerEx', 'E.g.: \"[Link Title](http://example.com)\"'),\n                                        maxLength: '1024',\n                                        value: this.props.channelData.header,\n                                        onChange: this.handleChange,\n                                        tabIndex: '2'\n                                    }),\n                                    _react2.default.createElement(\n                                        'p',\n                                        { className: 'input__help' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.headerHelp',\n                                            defaultMessage: 'Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).'\n                                        })\n                                    ),\n                                    serverError\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: this.props.onModalDismissed\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_modal.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    onClick: this.handleSubmit,\n                                    type: 'submit',\n                                    className: 'btn btn-primary',\n                                    tabIndex: '3'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_modal.createNew',\n                                    defaultMessage: 'Create New Channel'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return NewChannelModal;\n}(_react2.default.PureComponent); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nNewChannelModal.propTypes = {\n\n    /**\n     * Set whether to show the modal or not\n     */\n    show: _propTypes2.default.bool.isRequired,\n\n    /**\n     * The type of channel to create, 'O' or 'P'\n     */\n    channelType: _propTypes2.default.string.isRequired,\n\n    /**\n     * The data needed to create the channel\n     */\n    channelData: _propTypes2.default.object.isRequired,\n\n    /**\n     * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n     */\n    ctrlSend: _propTypes2.default.bool,\n\n    /**\n     * Set to show options available to team admins\n     */\n    isTeamAdmin: _propTypes2.default.bool,\n\n    /**\n     * Set to show options available to system admins\n     */\n    isSystemAdmin: _propTypes2.default.bool,\n\n    /**\n     * Server error from failed channel creation\n     */\n    serverError: _propTypes2.default.node,\n\n    /**\n     * Function used to submit the channel\n     */\n    onSubmitChannel: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when modal is dimissed\n     */\n    onModalDismissed: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when modal has exited\n     */\n    onModalExited: _propTypes2.default.func,\n\n    /**\n     * Function to call to switch channel type\n     */\n    onTypeSwitched: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when edit URL button is pressed\n     */\n    onChangeURLPressed: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when channel data is modified\n     */\n    onDataChanged: _propTypes2.default.func.isRequired\n};\nexports.default = NewChannelModal;\n\n/***/ }),\n\n/***/ 2377:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _url = __webpack_require__(70);\n\nvar URL = _interopRequireWildcard(_url);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ChangeUrlModal = function (_React$Component) {\n    (0, _inherits3.default)(ChangeUrlModal, _React$Component);\n\n    function ChangeUrlModal(props) {\n        (0, _classCallCheck3.default)(this, ChangeUrlModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ChangeUrlModal.__proto__ || (0, _getPrototypeOf2.default)(ChangeUrlModal)).call(this, props));\n\n        _this.onURLChanged = _this.onURLChanged.bind(_this);\n        _this.doSubmit = _this.doSubmit.bind(_this);\n        _this.doCancel = _this.doCancel.bind(_this);\n\n        _this.state = {\n            currentURL: props.currentURL,\n            urlError: '',\n            userEdit: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ChangeUrlModal, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            // This check prevents the url being deleted when we re-render\n            // because of user status check\n            if (!this.state.userEdit) {\n                this.setState({\n                    currentURL: nextProps.currentURL\n                });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (this.props.show === true && prevProps.show === false) {\n                _reactDom2.default.findDOMNode(this.refs.urlinput).select();\n            }\n        }\n    }, {\n        key: 'onURLChanged',\n        value: function onURLChanged(e) {\n            var url = e.target.value.trim();\n            this.setState({ currentURL: url.replace(/[^A-Za-z0-9-_]/g, '').toLowerCase(), userEdit: true });\n        }\n    }, {\n        key: 'getURLError',\n        value: function getURLError(url) {\n            var error = []; //eslint-disable-line prefer-const\n            if (url.length < 2) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error1' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.longer',\n                        defaultMessage: 'URL must be two or more characters.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            if (url.charAt(0) === '-' || url.charAt(0) === '_') {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error2' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.startWithLetter',\n                        defaultMessage: 'URL must start with a letter or number.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            if (url.length > 1 && (url.charAt(url.length - 1) === '-' || url.charAt(url.length - 1) === '_')) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error3' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.endWithLetter',\n                        defaultMessage: 'URL must end with a letter or number.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            if (url.indexOf('__') > -1) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error4' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.noUnderscore',\n                        defaultMessage: 'URL can not contain two underscores in a row.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n\n            // In case of error we don't detect\n            if (error.length === 0) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'errorlast' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.invalidUrl',\n                        defaultMessage: 'Invalid URL'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            return error;\n        }\n    }, {\n        key: 'doSubmit',\n        value: function doSubmit(e) {\n            e.preventDefault();\n\n            var url = _reactDom2.default.findDOMNode(this.refs.urlinput).value;\n            var cleanedURL = URL.cleanUpUrlable(url);\n            if (cleanedURL !== url || url.length < 2 || url.indexOf('__') > -1) {\n                this.setState({ urlError: this.getURLError(url) });\n                return;\n            }\n            this.setState({ urlError: '', userEdit: false });\n            this.props.onModalSubmit(url);\n        }\n    }, {\n        key: 'doCancel',\n        value: function doCancel() {\n            this.setState({ urlError: '', userEdit: false });\n            this.props.onModalDismissed();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var urlClass = 'input-group input-group--limit';\n            var error = null;\n\n            if (this.state.urlError) {\n                urlClass += ' has-error';\n            }\n\n            if (this.props.serverError || this.state.urlError) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'has-error' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'input__help error' },\n                        this.state.urlError || this.props.serverError\n                    )\n                );\n            }\n\n            var fullUrl = _team_store2.default.getCurrentTeamUrl() + '/channels';\n            var shortURL = URL.getShortenedURL(fullUrl);\n            var urlTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'urlTooltip' },\n                fullUrl\n            );\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.props.show,\n                    onHide: this.doCancel,\n                    onExited: this.props.onModalExited\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        this.props.title\n                    )\n                ),\n                _react2.default.createElement(\n                    'form',\n                    {\n                        role: 'form',\n                        className: 'form-horizontal'\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Body,\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-intro' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_flow.changeUrlDescription',\n                                defaultMessage: 'Some characters are now allowed in URLs and may be removed.'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-3 form__label control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'change_url.urlLabel',\n                                    defaultMessage: 'Channel URL'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-9' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: urlClass },\n                                    _react2.default.createElement(\n                                        _reactBootstrap.OverlayTrigger,\n                                        {\n                                            trigger: ['hover', 'focus'],\n                                            delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                            placement: 'top',\n                                            overlay: urlTooltip\n                                        },\n                                        _react2.default.createElement(\n                                            'span',\n                                            { className: 'input-group-addon' },\n                                            shortURL\n                                        )\n                                    ),\n                                    _react2.default.createElement('input', {\n                                        type: 'text',\n                                        ref: 'urlinput',\n                                        className: 'form-control',\n                                        maxLength: _constants2.default.MAX_CHANNELNAME_LENGTH,\n                                        onChange: this.onURLChanged,\n                                        value: this.state.currentURL,\n                                        autoFocus: true,\n                                        tabIndex: '1'\n                                    })\n                                ),\n                                error\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Footer,\n                        null,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.doCancel\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'change_url.close',\n                                defaultMessage: 'Close'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                onClick: this.doSubmit,\n                                type: 'submit',\n                                className: 'btn btn-primary',\n                                tabIndex: '2'\n                            },\n                            this.props.submitButtonText\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return ChangeUrlModal;\n}(_react2.default.Component);\n\nexports.default = ChangeUrlModal;\n\n\nChangeUrlModal.defaultProps = {\n    show: false,\n    title: 'Change URL',\n    submitButtonText: 'Save',\n    currentURL: '',\n    serverError: null\n};\n\nChangeUrlModal.propTypes = {\n    show: _propTypes2.default.bool.isRequired,\n    title: _propTypes2.default.node,\n    submitButtonText: _propTypes2.default.node,\n    currentURL: _propTypes2.default.string,\n    serverError: _propTypes2.default.node,\n    onModalSubmit: _propTypes2.default.func.isRequired,\n    onModalExited: _propTypes2.default.func,\n    onModalDismissed: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2378:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _index = __webpack_require__(2379);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tutorial_tip = __webpack_require__(660);\n\nvar _sidebar_header_dropdown = __webpack_require__(2382);\n\nvar _sidebar_header_dropdown2 = _interopRequireDefault(_sidebar_header_dropdown);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarHeader = function (_React$Component) {\n    (0, _inherits3.default)(SidebarHeader, _React$Component);\n\n    function SidebarHeader(props) {\n        (0, _classCallCheck3.default)(this, SidebarHeader);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarHeader.__proto__ || (0, _getPrototypeOf2.default)(SidebarHeader)).call(this, props));\n\n        _this.handleResize = function () {\n            var isMobile = Utils.isMobile();\n            _this.setState({ isMobile: isMobile });\n        };\n\n        _this.getPreferences = function () {\n            if (!_this.props.currentUser) {\n                return {};\n            }\n            var tutorialStep = _preference_store2.default.getInt(_constants.Preferences.TUTORIAL_STEP, _this.props.currentUser.id, 999);\n            var showTutorialTip = tutorialStep === _constants.TutorialSteps.MENU_POPOVER && !Utils.isMobile();\n\n            return { showTutorialTip: showTutorialTip };\n        };\n\n        _this.getStateFromStores = function () {\n            var preferences = _this.getPreferences();\n            var isMobile = Utils.isMobile();\n            return (0, _extends3.default)({}, preferences, { isMobile: isMobile });\n        };\n\n        _this.onPreferenceChange = function () {\n            _this.setState(_this.getPreferences());\n        };\n\n        _this.toggleDropdown = function (e) {\n            e.preventDefault();\n\n            _this.refs.dropdown.toggleDropdown();\n        };\n\n        _this.renderStatusDropdown = function () {\n            if (_this.state.isMobile) {\n                return null;\n            }\n            return _react2.default.createElement(_index2.default, null);\n        };\n\n        _this.state = _this.getStateFromStores();\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarHeader, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            window.addEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            window.removeEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var statusDropdown = this.renderStatusDropdown();\n\n            var tutorialTip = null;\n            if (this.state.showTutorialTip) {\n                tutorialTip = (0, _tutorial_tip.createMenuTip)(this.toggleDropdown);\n            }\n\n            var teamNameWithToolTip = null;\n            if (this.props.teamDescription === '') {\n                teamNameWithToolTip = _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'headerTeamName',\n                        className: 'team__name'\n                    },\n                    this.props.teamDisplayName\n                );\n            } else {\n                teamNameWithToolTip = _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus'],\n                        delayShow: _constants.Constants.OVERLAY_TIME_DELAY,\n                        placement: 'bottom',\n                        overlay: _react2.default.createElement(\n                            _reactBootstrap.Tooltip,\n                            { id: 'team-name__tooltip' },\n                            this.props.teamDescription\n                        ),\n                        ref: 'descriptionOverlay'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: 'headerTeamName',\n                            className: 'team__name'\n                        },\n                        this.props.teamDisplayName\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'teamHeader',\n                    className: 'team__header theme'\n                },\n                tutorialTip,\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'headerInfo',\n                        className: 'header__info'\n                    },\n                    teamNameWithToolTip,\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: 'headerUsername',\n                            className: 'user__name'\n                        },\n                        '@' + this.props.currentUser.username\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { id: 'sidebarDropdownMenuContainer' },\n                    _react2.default.createElement(_sidebar_header_dropdown2.default, {\n                        ref: 'dropdown',\n                        teamType: this.props.teamType,\n                        teamDisplayName: this.props.teamDisplayName,\n                        teamName: this.props.teamName,\n                        currentUser: this.props.currentUser\n                    })\n                ),\n                statusDropdown\n            );\n        }\n    }]);\n    return SidebarHeader;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = SidebarHeader;\n\n\nSidebarHeader.defaultProps = {\n    teamDisplayName: '',\n    teamDescription: '',\n    teamType: ''\n};\nSidebarHeader.propTypes = {\n    teamDisplayName: _propTypes2.default.string,\n    teamDescription: _propTypes2.default.string,\n    teamName: _propTypes2.default.string,\n    teamType: _propTypes2.default.string,\n    currentUser: _propTypes2.default.object\n};\n\n/***/ }),\n\n/***/ 2379:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(26);\n\nvar _redux = __webpack_require__(21);\n\nvar _users = __webpack_require__(61);\n\nvar _client = __webpack_require__(28);\n\nvar _users2 = __webpack_require__(46);\n\nvar _status_dropdown = __webpack_require__(2380);\n\nvar _status_dropdown2 = _interopRequireDefault(_status_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state) {\n    var currentUser = (0, _users2.getCurrentUser)(state);\n    var userId = currentUser.id;\n    var lastPicUpdate = currentUser.last_picture_update;\n    var profilePicture = _client.Client4.getProfilePictureUrl(userId, lastPicUpdate);\n    var status = (0, _users2.getStatusForUserId)(state, currentUser.id);\n    return {\n        userId: userId,\n        profilePicture: profilePicture,\n        status: status\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            setStatus: _users.setStatus\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_status_dropdown2.default);\n\n/***/ }),\n\n/***/ 2380:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar _bootstrap_span = __webpack_require__(2381);\n\nvar _bootstrap_span2 = _interopRequireDefault(_bootstrap_span);\n\nvar _status_icon = __webpack_require__(390);\n\nvar _status_icon2 = _interopRequireDefault(_status_icon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar StatusDropdown = function (_React$Component) {\n    (0, _inherits3.default)(StatusDropdown, _React$Component);\n\n    function StatusDropdown() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, StatusDropdown);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = StatusDropdown.__proto__ || (0, _getPrototypeOf2.default)(StatusDropdown)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            showDropdown: false\n        }, _this.onToggle = function (showDropdown) {\n            _this.setState({ showDropdown: showDropdown });\n        }, _this.closeDropdown = function () {\n            _this.setState({ showDropdown: false });\n        }, _this.setStatus = function (status) {\n            _this.props.actions.setStatus({\n                user_id: _this.props.userId,\n                status: status\n            });\n            _this.closeDropdown();\n        }, _this.setOnline = function (event) {\n            event.preventDefault();\n            _this.setStatus(_constants.UserStatuses.ONLINE);\n        }, _this.setOffline = function (event) {\n            event.preventDefault();\n            _this.setStatus(_constants.UserStatuses.OFFLINE);\n        }, _this.setAway = function (event) {\n            event.preventDefault();\n            _this.setStatus(_constants.UserStatuses.AWAY);\n        }, _this.setDnd = function (event) {\n            event.preventDefault();\n            _this.setStatus(_constants.UserStatuses.DND);\n        }, _this.renderStatusOnlineAction = function () {\n            return _this.renderStatusAction(_constants.UserStatuses.ONLINE, _this.setOnline);\n        }, _this.renderStatusAwayAction = function () {\n            return _this.renderStatusAction(_constants.UserStatuses.AWAY, _this.setAway);\n        }, _this.renderStatusOfflineAction = function () {\n            return _this.renderStatusAction(_constants.UserStatuses.OFFLINE, _this.setOffline);\n        }, _this.renderStatusDndAction = function () {\n            return _this.renderStatusAction(_constants.UserStatuses.DND, _this.setDnd, (0, _utils.localizeMessage)('status_dropdown.set_dnd.extra', 'Disables Desktop and Push Notifications'));\n        }, _this.renderProfilePicture = function () {\n            if (!_this.props.profilePicture) {\n                return null;\n            }\n            return _react2.default.createElement('img', {\n                className: 'user__picture',\n                src: _this.props.profilePicture\n            });\n        }, _this.renderStatusAction = function (status, onClick, extraText) {\n            return _react2.default.createElement(\n                'li',\n                { key: status },\n                _react2.default.createElement(\n                    'a',\n                    {\n                        id: 'status' + status,\n                        href: '#',\n                        onClick: onClick\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'status_dropdown.set_' + status,\n                        defaultMessage: status\n                    }),\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'status-dropdown-extra' },\n                        extraText\n                    )\n                )\n            );\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(StatusDropdown, [{\n        key: 'render',\n        value: function render() {\n            var profilePicture = this.renderProfilePicture();\n            var actions = [this.renderStatusOnlineAction(), this.renderStatusAwayAction(), this.renderStatusDndAction(), this.renderStatusOfflineAction()];\n            return _react2.default.createElement(\n                _reactBootstrap.Dropdown,\n                {\n                    id: 'status-dropdown',\n                    open: this.state.showDropdown,\n                    onToggle: this.onToggle,\n                    style: this.props.style\n                },\n                _react2.default.createElement(\n                    _bootstrap_span2.default,\n                    {\n                        bsRole: 'toggle'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'status-wrapper status-selector' },\n                        profilePicture,\n                        _react2.default.createElement(_status_icon2.default, { status: this.props.status }),\n                        _react2.default.createElement(\n                            'span',\n                            { className: 'status status-edit edit' },\n                            _react2.default.createElement('i', { className: 'fa fa-caret-down' })\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Dropdown.Menu,\n                    { id: 'editStatusMenu' },\n                    actions\n                )\n            );\n        }\n    }]);\n    return StatusDropdown;\n}(_react2.default.Component);\n\nStatusDropdown.propTypes = {\n    style: _propTypes2.default.object,\n    status: _propTypes2.default.string,\n    userId: _propTypes2.default.string.isRequired,\n    profilePicture: _propTypes2.default.string,\n    actions: _propTypes2.default.shape({\n        setStatus: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = StatusDropdown;\n\n/***/ }),\n\n/***/ 2381:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _objectWithoutProperties2 = __webpack_require__(102);\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar BootstrapSpan = function (_React$PureComponent) {\n    (0, _inherits3.default)(BootstrapSpan, _React$PureComponent);\n\n    function BootstrapSpan() {\n        (0, _classCallCheck3.default)(this, BootstrapSpan);\n        return (0, _possibleConstructorReturn3.default)(this, (BootstrapSpan.__proto__ || (0, _getPrototypeOf2.default)(BootstrapSpan)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(BootstrapSpan, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = (0, _objectWithoutProperties3.default)(_props, ['children']);\n\n            delete props.bsRole;\n            delete props.bsClass;\n\n            return _react2.default.createElement(\n                'span',\n                props,\n                children\n            );\n        }\n    }]);\n    return BootstrapSpan;\n}(_react2.default.PureComponent);\n\nBootstrapSpan.propTypes = {\n    children: _propTypes2.default.element\n};\nexports.default = BootstrapSpan;\n\n/***/ }),\n\n/***/ 2382:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(388);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _url = __webpack_require__(70);\n\nvar _user_agent = __webpack_require__(73);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _about_build_modal = __webpack_require__(1958);\n\nvar _about_build_modal2 = _interopRequireDefault(_about_build_modal);\n\nvar _add_users_to_team = __webpack_require__(1965);\n\nvar _add_users_to_team2 = _interopRequireDefault(_add_users_to_team);\n\nvar _team_members_modal = __webpack_require__(670);\n\nvar _team_members_modal2 = _interopRequireDefault(_team_members_modal);\n\nvar _sidebar_header_dropdown_button = __webpack_require__(2383);\n\nvar _sidebar_header_dropdown_button2 = _interopRequireDefault(_sidebar_header_dropdown_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarHeaderDropdown = function (_React$Component) {\n    (0, _inherits3.default)(SidebarHeaderDropdown, _React$Component);\n\n    function SidebarHeaderDropdown(props) {\n        (0, _classCallCheck3.default)(this, SidebarHeaderDropdown);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarHeaderDropdown.__proto__ || (0, _getPrototypeOf2.default)(SidebarHeaderDropdown)).call(this, props));\n\n        _this.toggleDropdown = _this.toggleDropdown.bind(_this);\n\n        _this.handleAboutModal = _this.handleAboutModal.bind(_this);\n        _this.aboutModalDismissed = _this.aboutModalDismissed.bind(_this);\n        _this.showAccountSettingsModal = _this.showAccountSettingsModal.bind(_this);\n        _this.showAddUsersToTeamModal = _this.showAddUsersToTeamModal.bind(_this);\n        _this.hideAddUsersToTeamModal = _this.hideAddUsersToTeamModal.bind(_this);\n        _this.showInviteMemberModal = _this.showInviteMemberModal.bind(_this);\n        _this.showGetTeamInviteLinkModal = _this.showGetTeamInviteLinkModal.bind(_this);\n        _this.showTeamMembersModal = _this.showTeamMembersModal.bind(_this);\n        _this.hideTeamMembersModal = _this.hideTeamMembersModal.bind(_this);\n        _this.toggleShortcutsModal = _this.toggleShortcutsModal.bind(_this);\n\n        _this.onTeamChange = _this.onTeamChange.bind(_this);\n\n        _this.renderCustomEmojiLink = _this.renderCustomEmojiLink.bind(_this);\n\n        _this.handleClick = _this.handleClick.bind(_this);\n\n        _this.state = {\n            teamMembers: _team_store2.default.getMyTeamMembers(),\n            teamListings: _team_store2.default.getTeamListings(),\n            showAboutModal: false,\n            showDropdown: false,\n            showTeamMembersModal: false,\n            showAddUsersToTeamModal: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarHeaderDropdown, [{\n        key: 'handleClick',\n        value: function handleClick(e) {\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n            }\n        }\n    }, {\n        key: 'toggleDropdown',\n        value: function toggleDropdown(val) {\n            if (typeof val === 'boolean') {\n                this.setState({ showDropdown: val });\n                return;\n            }\n\n            if (val && val.preventDefault) {\n                val.preventDefault();\n            }\n\n            this.setState({ showDropdown: !this.state.showDropdown });\n        }\n    }, {\n        key: 'handleAboutModal',\n        value: function handleAboutModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showAboutModal: true,\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'aboutModalDismissed',\n        value: function aboutModalDismissed() {\n            this.setState({ showAboutModal: false });\n        }\n    }, {\n        key: 'showAccountSettingsModal',\n        value: function showAccountSettingsModal(e) {\n            e.preventDefault();\n\n            this.setState({ showDropdown: false });\n\n            GlobalActions.showAccountSettingsModal();\n        }\n    }, {\n        key: 'toggleShortcutsModal',\n        value: function toggleShortcutsModal(e) {\n            e.preventDefault();\n            this.setState({ showDropdown: false });\n\n            GlobalActions.toggleShortcutsModal();\n        }\n    }, {\n        key: 'showAddUsersToTeamModal',\n        value: function showAddUsersToTeamModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showAddUsersToTeamModal: true,\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'hideAddUsersToTeamModal',\n        value: function hideAddUsersToTeamModal() {\n            this.setState({\n                showAddUsersToTeamModal: false\n            });\n        }\n    }, {\n        key: 'showInviteMemberModal',\n        value: function showInviteMemberModal(e) {\n            e.preventDefault();\n\n            this.setState({ showDropdown: false });\n\n            GlobalActions.showInviteMemberModal();\n        }\n    }, {\n        key: 'showGetTeamInviteLinkModal',\n        value: function showGetTeamInviteLinkModal(e) {\n            e.preventDefault();\n\n            this.setState({ showDropdown: false });\n\n            GlobalActions.showGetTeamInviteLinkModal();\n        }\n    }, {\n        key: 'showTeamMembersModal',\n        value: function showTeamMembersModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showTeamMembersModal: true\n            });\n        }\n    }, {\n        key: 'hideTeamMembersModal',\n        value: function hideTeamMembersModal() {\n            this.setState({\n                showTeamMembersModal: false\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onTeamChange);\n        }\n    }, {\n        key: 'onTeamChange',\n        value: function onTeamChange() {\n            this.setState({\n                teamMembers: _team_store2.default.getMyTeamMembers(),\n                teamListings: _team_store2.default.getTeamListings(),\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.dropdown)).off('hide.bs.dropdown');\n            _team_store2.default.removeChangeListener(this.onTeamChange);\n        }\n    }, {\n        key: 'renderCustomEmojiLink',\n        value: function renderCustomEmojiLink() {\n            if (window.mm_config.EnableCustomEmoji !== 'true' || !Utils.canCreateCustomEmoji(this.props.currentUser)) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    _reactRouter.Link,\n                    {\n                        id: 'customEmoji',\n                        onClick: this.handleClick,\n                        to: '/' + this.props.teamName + '/emoji'\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.emoji',\n                        defaultMessage: 'Custom Emoji'\n                    })\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var config = global.mm_config;\n            var currentUser = this.props.currentUser;\n            var teamLink = '';\n            var inviteLink = '';\n            var addMemberToTeam = '';\n            var manageLink = '';\n            var sysAdminLink = '';\n            var isAdmin = false;\n            var isSystemAdmin = false;\n            var teamSettings = null;\n            var integrationsLink = null;\n\n            if (!currentUser) {\n                return null;\n            }\n\n            if (currentUser != null) {\n                isAdmin = _team_store2.default.isTeamAdminForCurrentTeam() || _user_store2.default.isSystemAdminForCurrentUser();\n                isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n                inviteLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'style--none',\n                            id: 'sendEmailInvite',\n                            onClick: this.showInviteMemberModal\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.inviteMember',\n                            defaultMessage: 'Send Email Invite'\n                        })\n                    )\n                );\n\n                addMemberToTeam = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'style--none',\n                            id: 'addUsersToTeam',\n                            onClick: this.showAddUsersToTeamModal\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.addMemberToTeam',\n                            defaultMessage: 'Add Members to Team'\n                        })\n                    )\n                );\n\n                if (this.props.teamType === _constants.Constants.OPEN_TEAM && config.EnableUserCreation === 'true') {\n                    teamLink = _react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                className: 'style--none',\n                                id: 'getTeamInviteLink',\n                                onClick: this.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar_dropdown.teamLink',\n                                defaultMessage: 'Get Team Invite Link'\n                            })\n                        )\n                    );\n                }\n\n                if (global.window.mm_license.IsLicensed === 'true') {\n                    if (config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addMemberToTeam = null;\n                    } else if (config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addMemberToTeam = null;\n                    }\n                }\n            }\n\n            var membersName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'navbar_dropdown.manageMembers',\n                defaultMessage: 'Manage Members'\n            });\n\n            if (isAdmin) {\n                teamSettings = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'style--none',\n                            id: 'teamSettings',\n                            'data-toggle': 'modal',\n                            'data-target': '#team_settings',\n                            onClick: this.toggleDropdown\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.teamSettings',\n                            defaultMessage: 'Team Settings'\n                        })\n                    )\n                );\n            } else {\n                membersName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'navbar_dropdown.viewMembers',\n                    defaultMessage: 'View Members'\n                });\n            }\n\n            manageLink = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'manageMembers',\n                        className: 'style--none',\n                        onClick: this.showTeamMembersModal\n                    },\n                    membersName\n                )\n            );\n\n            var integrationsEnabled = config.EnableIncomingWebhooks === 'true' || config.EnableOutgoingWebhooks === 'true' || config.EnableCommands === 'true' || config.EnableOAuthServiceProvider === 'true' && (isSystemAdmin || config.EnableOnlyAdminIntegrations !== 'true');\n            if (integrationsEnabled && (isAdmin || config.EnableOnlyAdminIntegrations !== 'true')) {\n                integrationsLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            id: 'Integrations',\n                            to: '/' + this.props.teamName + '/integrations',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.integrations',\n                            defaultMessage: 'Integrations'\n                        })\n                    )\n                );\n            }\n\n            if (isSystemAdmin) {\n                sysAdminLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            id: 'systemConsole',\n                            to: '/admin_console',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.console',\n                            defaultMessage: 'System Console'\n                        })\n                    )\n                );\n            }\n\n            var teams = [];\n            var moreTeams = false;\n\n            if (config.EnableTeamCreation === 'true' || _user_store2.default.isSystemAdminForCurrentUser()) {\n                teams.push(_react2.default.createElement(\n                    'li',\n                    { key: 'newTeam_li' },\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            id: 'createTeam',\n                            key: 'newTeam_a',\n                            to: '/create_team',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.create',\n                            defaultMessage: 'Create a New Team'\n                        })\n                    )\n                ));\n            }\n\n            var isAlreadyMember = this.state.teamMembers.reduce(function (result, item) {\n                result[item.team_id] = true;\n                return result;\n            }, {});\n\n            for (var id in this.state.teamListings) {\n                if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                    moreTeams = true;\n                    break;\n                }\n            }\n\n            if (moreTeams) {\n                teams.push(_react2.default.createElement(\n                    'li',\n                    { key: 'joinTeam_li' },\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            id: 'joinAnotherTeam',\n                            onClick: this.handleClick,\n                            to: '/select_team'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.join',\n                            defaultMessage: 'Join Another Team'\n                        })\n                    )\n                ));\n            }\n\n            teams.push(_react2.default.createElement(\n                'li',\n                { key: 'leaveTeam_li' },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'leaveTeam',\n                        onClick: GlobalActions.showLeaveTeamModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.leave',\n                        defaultMessage: 'Leave Team'\n                    })\n                )\n            ));\n\n            var helpLink = null;\n            if (config.HelpLink) {\n                helpLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            id: 'helpLink',\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: config.HelpLink\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.help',\n                            defaultMessage: 'Help'\n                        })\n                    )\n                );\n            }\n\n            var reportLink = null;\n            if (config.ReportAProblemLink) {\n                reportLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            id: 'reportLink',\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: config.ReportAProblemLink\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.report',\n                            defaultMessage: 'Report a Problem'\n                        })\n                    )\n                );\n            }\n\n            var nativeAppLink = null;\n            if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n                nativeAppLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        {\n                            id: 'nativeAppLink',\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: (0, _url.useSafeUrl)(global.window.mm_config.AppDownloadLink)\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.nativeApps',\n                            defaultMessage: 'Download Apps'\n                        })\n                    )\n                );\n            }\n\n            var teamMembersModal = void 0;\n            if (this.state.showTeamMembersModal) {\n                teamMembersModal = _react2.default.createElement(_team_members_modal2.default, {\n                    onLoad: this.toggleDropdown,\n                    onHide: this.hideTeamMembersModal,\n                    isAdmin: isAdmin\n                });\n            }\n\n            var addUsersToTeamModal = void 0;\n            if (this.state.showAddUsersToTeamModal) {\n                addUsersToTeamModal = _react2.default.createElement(_add_users_to_team2.default, {\n                    onModalDismissed: this.hideAddUsersToTeamModal\n                });\n            }\n\n            var keyboardShortcuts = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'keyboardShortcuts',\n                        onClick: this.toggleShortcutsModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.keyboardShortcuts',\n                        defaultMessage: 'Keyboard Shortcuts'\n                    })\n                )\n            );\n\n            var accountSettings = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'accountSettings',\n                        onClick: this.showAccountSettingsModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.accountSettings',\n                        defaultMessage: 'Account Settings'\n                    })\n                )\n            );\n\n            var about = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'about',\n                        className: 'style--none',\n                        onClick: this.handleAboutModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.about',\n                        defaultMessage: 'About Mattermost'\n                    })\n                )\n            );\n\n            var logout = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'logout',\n                        onClick: function onClick() {\n                            return GlobalActions.emitUserLoggedOutEvent();\n                        }\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.logout',\n                        defaultMessage: 'Logout'\n                    })\n                )\n            );\n\n            var customEmoji = this.renderCustomEmojiLink();\n\n            // Dividers.\n            var inviteDivider = null;\n            if (inviteLink || teamLink || addMemberToTeam) {\n                inviteDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var teamDivider = null;\n            if (teamSettings || manageLink || teams) {\n                teamDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var backstageDivider = null;\n            if (integrationsLink || customEmoji) {\n                backstageDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var sysAdminDivider = null;\n            if (sysAdminLink) {\n                sysAdminDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var helpDivider = null;\n            if (helpLink || reportLink || nativeAppLink || about) {\n                helpDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var logoutDivider = null;\n            if (logout) {\n                logoutDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Dropdown,\n                {\n                    id: 'sidebar-header-dropdown',\n                    open: this.state.showDropdown,\n                    onToggle: this.toggleDropdown,\n                    className: 'sidebar-header-dropdown',\n                    pullRight: true\n                },\n                _react2.default.createElement(_sidebar_header_dropdown_button2.default, {\n                    bsRole: 'toggle',\n                    onClick: this.toggleDropdown\n                }),\n                _react2.default.createElement(\n                    _reactBootstrap.Dropdown.Menu,\n                    { id: 'sidebarDropdownMenu' },\n                    accountSettings,\n                    inviteDivider,\n                    inviteLink,\n                    teamLink,\n                    addMemberToTeam,\n                    teamDivider,\n                    teamSettings,\n                    manageLink,\n                    teams,\n                    backstageDivider,\n                    integrationsLink,\n                    customEmoji,\n                    sysAdminDivider,\n                    sysAdminLink,\n                    helpDivider,\n                    helpLink,\n                    keyboardShortcuts,\n                    reportLink,\n                    nativeAppLink,\n                    about,\n                    logoutDivider,\n                    logout,\n                    teamMembersModal,\n                    _react2.default.createElement(_about_build_modal2.default, {\n                        show: this.state.showAboutModal,\n                        onModalDismissed: this.aboutModalDismissed\n                    }),\n                    addUsersToTeamModal\n                )\n            );\n        }\n    }]);\n    return SidebarHeaderDropdown;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSidebarHeaderDropdown.propTypes = {\n    teamType: _propTypes2.default.string,\n    teamDisplayName: _propTypes2.default.string,\n    teamName: _propTypes2.default.string,\n    currentUser: _propTypes2.default.object\n};\nSidebarHeaderDropdown.defaultProps = {\n    teamType: ''\n};\nexports.default = SidebarHeaderDropdown;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 2383:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarHeaderDropdownButton = function (_React$PureComponent) {\n    (0, _inherits3.default)(SidebarHeaderDropdownButton, _React$PureComponent);\n\n    function SidebarHeaderDropdownButton() {\n        (0, _classCallCheck3.default)(this, SidebarHeaderDropdownButton);\n        return (0, _possibleConstructorReturn3.default)(this, (SidebarHeaderDropdownButton.__proto__ || (0, _getPrototypeOf2.default)(SidebarHeaderDropdownButton)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SidebarHeaderDropdownButton, [{\n        key: 'render',\n        value: function render() {\n            var mainMenuToolTip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'main-menu__tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.mainMenu',\n                    defaultMessage: 'Main menu'\n                })\n            );\n\n            return _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: ['hover', 'focus'],\n                    delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                    placement: 'right',\n                    overlay: mainMenuToolTip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'sidebarHeaderDropdownButton',\n                        className: 'sidebar-header-dropdown__toggle cursor--pointer style--none',\n                        onClick: this.props.onClick\n                    },\n                    _react2.default.createElement('span', {\n                        className: 'sidebar-header-dropdown__icon',\n                        dangerouslySetInnerHTML: { __html: _constants2.default.MENU_ICON }\n                    })\n                )\n            );\n        }\n    }]);\n    return SidebarHeaderDropdownButton;\n}(_react2.default.PureComponent); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSidebarHeaderDropdownButton.propTypes = {\n    bsRole: _propTypes2.default.oneOf(['toggle']).isRequired, // eslint-disable-line react/no-unused-prop-types\n    onClick: _propTypes2.default.func.isRequired\n};\nexports.default = SidebarHeaderDropdownButton;\n\n/***/ }),\n\n/***/ 2384:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(8);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UnreadChannelIndicator = function (_React$PureComponent) {\n    (0, _inherits3.default)(UnreadChannelIndicator, _React$PureComponent);\n\n    function UnreadChannelIndicator() {\n        (0, _classCallCheck3.default)(this, UnreadChannelIndicator);\n        return (0, _possibleConstructorReturn3.default)(this, (UnreadChannelIndicator.__proto__ || (0, _getPrototypeOf2.default)(UnreadChannelIndicator)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(UnreadChannelIndicator, [{\n        key: 'render',\n        value: function render() {\n            var unreadIcon = _constants2.default.UNREAD_ICON_SVG;\n\n            var displayValue = 'none';\n            if (this.props.show) {\n                displayValue = 'block';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'unreadIndicator' + this.props.name,\n                    className: 'nav-pills__unread-indicator ' + this.props.extraClass,\n                    style: { display: displayValue },\n                    onClick: this.props.onClick\n                },\n                this.props.content,\n                _react2.default.createElement('span', {\n                    className: 'icon icon__unread',\n                    dangerouslySetInnerHTML: { __html: unreadIcon }\n                })\n            );\n        }\n    }]);\n    return UnreadChannelIndicator;\n}(_react2.default.PureComponent); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nUnreadChannelIndicator.propTypes = {\n\n    /**\n     * Function to call when the indicator is clicked\n     */\n    onClick: _propTypes2.default.func.isRequired,\n\n    /**\n     * Set whether to show the indicator or not\n     */\n    show: _propTypes2.default.bool,\n\n    /**\n     * The additional CSS class for the indicator\n     */\n    extraClass: _propTypes2.default.string,\n\n    /**\n     * The content of the indicator\n     */\n    content: _propTypes2.default.node,\n\n    /**\n     * The name of the indicator\n     */\n    name: _propTypes2.default.string\n};\nUnreadChannelIndicator.defaultProps = {\n    show: false,\n    extraClass: '',\n    content: ''\n};\nexports.default = UnreadChannelIndicator;\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _stringify = __webpack_require__(164);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _map = __webpack_require__(144);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _getPrototypeOf = __webpack_require__(5);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(35);\n\nvar _reactDom = __webpack_require__(41);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _reactRouter = __webpack_require__(34);\n\nvar _preferences = __webpack_require__(194);\n\nvar _channels = __webpack_require__(91);\n\nvar _channel_actions = __webpack_require__(82);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _diagnostics_actions = __webpack_require__(215);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _app_dispatcher = __webpack_require__(39);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _channel_store = __webpack_require__(31);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _modal_store = __webpack_require__(1948);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _preference_store = __webpack_require__(113);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _redux_store = __webpack_require__(32);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _team_store = __webpack_require__(36);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(27);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_utils = __webpack_require__(101);\n\nvar ChannelUtils = _interopRequireWildcard(_channel_utils);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _user_agent = __webpack_require__(73);\n\nvar _favicon16x = __webpack_require__(707);\n\nvar _favicon16x2 = _interopRequireDefault(_favicon16x);\n\nvar _redfavicon16x = __webpack_require__(2368);\n\nvar _redfavicon16x2 = _interopRequireDefault(_redfavicon16x);\n\nvar _load = __webpack_require__(166);\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _more_channels = __webpack_require__(2369);\n\nvar _more_channels2 = _interopRequireDefault(_more_channels);\n\nvar _more_direct_channels = __webpack_require__(2372);\n\nvar _more_direct_channels2 = _interopRequireDefault(_more_direct_channels);\n\nvar _new_channel_flow = __webpack_require__(2374);\n\nvar _new_channel_flow2 = _interopRequireDefault(_new_channel_flow);\n\nvar _sidebar_header = __webpack_require__(2378);\n\nvar _sidebar_header2 = _interopRequireDefault(_sidebar_header);\n\nvar _status_icon = __webpack_require__(390);\n\nvar _status_icon2 = _interopRequireDefault(_status_icon);\n\nvar _tutorial_tip = __webpack_require__(660);\n\nvar _tutorial_tip2 = _interopRequireDefault(_tutorial_tip);\n\nvar _unread_channel_indicator = __webpack_require__(2384);\n\nvar _unread_channel_indicator2 = _interopRequireDefault(_unread_channel_indicator);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Preferences = _constants.Constants.Preferences;\nvar TutorialSteps = _constants.Constants.TutorialSteps;\n\nvar dispatch = _redux_store2.default.dispatch;\nvar getState = _redux_store2.default.getState;\n\nvar Sidebar = function (_React$Component) {\n    (0, _inherits3.default)(Sidebar, _React$Component);\n\n    function Sidebar(props) {\n        (0, _classCallCheck3.default)(this, Sidebar);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Sidebar.__proto__ || (0, _getPrototypeOf2.default)(Sidebar)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        _this.badgesActive = false;\n        _this.firstUnreadChannel = null;\n        _this.lastUnreadChannel = null;\n\n        _this.isLeaving = new _map2.default();\n        _this.isSwitchingChannel = false;\n        _this.closedDirectChannel = false;\n\n        var state = _this.getStateFromStores();\n        state.newChannelModalType = '';\n        state.showDirectChannelsModal = false;\n        state.showMoreChannelsModal = false;\n        state.loadingDMChannel = -1;\n        state.inChannelChange = false;\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(Sidebar, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.onChange);\n            _user_store2.default.addChangeListener(this.onChange);\n            _user_store2.default.addInTeamChangeListener(this.onChange);\n            _user_store2.default.addInChannelChangeListener(this.onInChannelChange);\n            _user_store2.default.addStatusesChangeListener(this.onChange);\n            _team_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_DM_MODAL, this.onModalChange);\n\n            this.updateTitle();\n            this.updateUnreadIndicators();\n\n            document.addEventListener('keydown', this.navigateChannelShortcut);\n            document.addEventListener('keydown', this.navigateUnreadChannelShortcut);\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState, this.state)) {\n                return true;\n            }\n            return false;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            // if the active channel disappeared (which can happen when dm channels autoclose), go to town square\n            if (this.state.currentTeam === prevState.currentTeam && this.state.activeId === prevState.activeId && !this.channelIdIsDisplayedForState(this.state, this.state.activeId) && this.channelIdIsDisplayedForState(prevState, this.state.activeId)) {\n                this.closedDirectChannel = true;\n                _reactRouter.browserHistory.push('/' + this.state.currentTeam.name + '/channels/town-square');\n                return;\n            }\n\n            this.updateTitle();\n            this.updateUnreadIndicators();\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.sidebar--left .nav-pills__container').perfectScrollbar();\n            }\n\n            // reset the scrollbar upon switching teams\n            if (this.state.currentTeam !== prevState.currentTeam) {\n                this.refs.container.scrollTop = 0;\n                (0, _jquery2.default)('.nav-pills__container').perfectScrollbar('update');\n            }\n\n            // close the LHS on mobile when you change channels\n            if (this.state.activeId !== prevState.activeId) {\n                if (this.closedDirectChannel) {\n                    this.closedDirectChannel = false;\n                } else {\n                    (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right');\n                    (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n                    (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n                }\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.onChange);\n            _user_store2.default.removeChangeListener(this.onChange);\n            _user_store2.default.removeInTeamChangeListener(this.onChange);\n            _user_store2.default.removeInChannelChangeListener(this.onChange);\n            _user_store2.default.removeStatusesChangeListener(this.onChange);\n            _team_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n            _modal_store2.default.removeModalListener(_constants.ActionTypes.TOGGLE_DM_MODAL, this.onModalChange);\n            document.removeEventListener('keydown', this.navigateChannelShortcut);\n            document.removeEventListener('keydown', this.navigateUnreadChannelShortcut);\n        }\n    }, {\n        key: 'createChannelButtonOrLink',\n        value: function createChannelButtonOrLink(link, rowClass, icon, displayName, badge, closeButton) {\n            var _this2 = this;\n\n            var element = void 0;\n            if ((0, _user_agent.isDesktopApp)()) {\n                element = _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'btn btn-link ' + rowClass,\n                        onClick: function onClick() {\n                            return _this2.handleClick(link);\n                        }\n                    },\n                    icon,\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sidebar-item__name' },\n                        displayName\n                    ),\n                    badge,\n                    closeButton\n                );\n            } else {\n                element = _react2.default.createElement(\n                    _reactRouter.Link,\n                    {\n                        to: link,\n                        className: rowClass,\n                        onClick: this.trackChannelSelectedEvent\n                    },\n                    icon,\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sidebar-item__name' },\n                        displayName\n                    ),\n                    badge,\n                    closeButton\n                );\n            }\n\n            return element;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var switchChannelIcon = _constants.Constants.SWITCH_CHANNEL_ICON_SVG;\n\n            // Check if we have all info needed to render\n            if (this.state.currentTeam == null || this.state.currentUser == null) {\n                return _react2.default.createElement('div', null);\n            }\n\n            this.lastBadgesActive = this.badgesActive;\n            this.badgesActive = false;\n\n            // keep track of the first and last unread channels so we can use them to set the unread indicators\n            this.firstUnreadChannel = null;\n            this.lastUnreadChannel = null;\n\n            // create elements for all 4 types of channels\n            var visibleFavoriteChannels = this.state.favoriteChannels.filter(ChannelUtils.isChannelVisible);\n\n            var favoriteItems = visibleFavoriteChannels.map(function (channel, index, arr) {\n                if (channel.type === _constants.Constants.DM_CHANNEL || channel.type === _constants.Constants.GM_CHANNEL) {\n                    return _this3.createChannelElement(channel, index, arr, _this3.handleLeaveDirectChannel);\n                } else if (global.window.mm_config.EnableXToLeaveChannelsFromLHS === 'true') {\n                    if (channel.type === _constants.Constants.OPEN_CHANNEL && channel.name !== _constants.Constants.DEFAULT_CHANNEL) {\n                        return _this3.createChannelElement(channel, index, arr, _this3.handleLeavePublicChannel);\n                    } else if (channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n                        return _this3.createChannelElement(channel, index, arr, _this3.handleLeavePrivateChannel);\n                    }\n                }\n\n                return _this3.createChannelElement(channel);\n            });\n\n            var publicChannelItems = this.state.publicChannels.map(function (channel, index, arr) {\n                if (global.window.mm_config.EnableXToLeaveChannelsFromLHS !== 'true' || channel.name === _constants.Constants.DEFAULT_CHANNEL) {\n                    return _this3.createChannelElement(channel);\n                }\n                return _this3.createChannelElement(channel, index, arr, _this3.handleLeavePublicChannel);\n            });\n\n            var privateChannelItems = this.state.privateChannels.map(function (channel, index, arr) {\n                if (global.window.mm_config.EnableXToLeaveChannelsFromLHS !== 'true') {\n                    return _this3.createChannelElement(channel);\n                }\n                return _this3.createChannelElement(channel, index, arr, _this3.handleLeavePrivateChannel);\n            });\n\n            var directMessageItems = this.state.directAndGroupChannels.map(function (channel, index, arr) {\n                return _this3.createChannelElement(channel, index, arr, _this3.handleLeaveDirectChannel);\n            });\n\n            // update the favicon to show if there are any notifications\n            if (this.lastBadgesActive !== this.badgesActive) {\n                var link = document.createElement('link');\n                link.type = 'image/x-icon';\n                link.rel = 'shortcut icon';\n                link.id = 'favicon';\n                if (this.badgesActive) {\n                    link.href = _redfavicon16x2.default;\n                } else {\n                    link.href = _favicon16x2.default;\n                }\n                var head = document.getElementsByTagName('head')[0];\n                var oldLink = document.getElementById('favicon');\n                if (oldLink) {\n                    head.removeChild(oldLink);\n                }\n                head.appendChild(link);\n            }\n\n            var directMessageMore = _react2.default.createElement(\n                'li',\n                { key: 'more' },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'moreDirectMessage',\n                        className: 'nav-more cursor--pointer style--none btn--block',\n                        onClick: this.handleOpenMoreDirectChannelsModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'sidebar.moreElips',\n                        defaultMessage: 'More...'\n                    })\n                )\n            );\n\n            var showChannelModal = false;\n            if (this.state.newChannelModalType !== '') {\n                showChannelModal = true;\n            }\n\n            var createChannelTootlip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'new-channel-tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.createChannel',\n                    defaultMessage: 'Create new public channel'\n                })\n            );\n            var createGroupTootlip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'new-group-tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.createGroup',\n                    defaultMessage: 'Create new private channel'\n                })\n            );\n\n            var createDirectMessageTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                {\n                    id: 'new-group-tooltip',\n                    className: 'hidden-xs'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.createDirectMessage',\n                    defaultMessage: 'Create new direct message'\n                })\n            );\n\n            var above = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'sidebar.unreads',\n                defaultMessage: 'More unreads'\n            });\n\n            var below = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'sidebar.unreads',\n                defaultMessage: 'More unreads'\n            });\n\n            var isTeamAdmin = _team_store2.default.isTeamAdminForCurrentTeam();\n            var isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n            var createPublicChannelIcon = _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: ['hover', 'focus'],\n                    delayShow: 500,\n                    placement: 'top',\n                    overlay: createChannelTootlip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'createPublicChannel',\n                        className: 'add-channel-btn cursor--pointer style--none',\n                        onClick: this.showNewChannelModal.bind(this, _constants.Constants.OPEN_CHANNEL)\n                    },\n                    '+'\n                )\n            );\n\n            var createPrivateChannelIcon = _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: ['hover', 'focus'],\n                    delayShow: 500,\n                    placement: 'top',\n                    overlay: createGroupTootlip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'createPrivateChannel',\n                        className: 'add-channel-btn cursor--pointer style--none',\n                        onClick: this.showNewChannelModal.bind(this, _constants.Constants.PRIVATE_CHANNEL)\n                    },\n                    '+'\n                )\n            );\n\n            if (!ChannelUtils.showCreateOption(_constants.Constants.OPEN_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n                createPublicChannelIcon = null;\n            }\n\n            var createDirectMessageIcon = _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    className: 'hidden-xs',\n                    delayShow: 500,\n                    placement: 'top',\n                    overlay: createDirectMessageTooltip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'add-channel-btn cursor--pointer style--none',\n                        onClick: this.handleOpenMoreDirectChannelsModal\n                    },\n                    '+'\n                )\n            );\n\n            if (!ChannelUtils.showCreateOption(_constants.Constants.PRIVATE_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n                createPrivateChannelIcon = null;\n            }\n\n            var moreDirectChannelsModal = void 0;\n            if (this.state.showDirectChannelsModal) {\n                moreDirectChannelsModal = _react2.default.createElement(_more_direct_channels2.default, {\n                    onModalDismissed: this.hideMoreDirectChannelsModal,\n                    startingUsers: this.state.startingUsers\n                });\n            }\n\n            var moreChannelsModal = void 0;\n            if (this.state.showMoreChannelsModal) {\n                moreChannelsModal = _react2.default.createElement(_more_channels2.default, {\n                    onModalDismissed: this.hideMoreChannelsModal,\n                    handleNewChannel: function handleNewChannel() {\n                        _this3.hideMoreChannelsModal();\n                        _this3.showNewChannelModal(_constants.Constants.OPEN_CHANNEL);\n                    }\n                });\n            }\n\n            var quickSwitchTextShortcutId = 'quick_switch_modal.channelsShortcut.windows';\n            var quickSwitchTextShortcutDefault = '- CTRL+K';\n            if (Utils.isMac()) {\n                quickSwitchTextShortcutId = 'quick_switch_modal.channelsShortcut.mac';\n                quickSwitchTextShortcutDefault = '- ⌘K';\n            }\n\n            var quickSwitchTextShortcut = _react2.default.createElement(\n                'span',\n                { className: 'switch__shortcut hidden-xs' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: quickSwitchTextShortcutId,\n                    defaultMessage: quickSwitchTextShortcutDefault\n                })\n            );\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--left',\n                    id: 'sidebar-left',\n                    key: 'sidebar-left'\n                },\n                _react2.default.createElement(_new_channel_flow2.default, {\n                    show: showChannelModal,\n                    channelType: this.state.newChannelModalType,\n                    onModalDismissed: this.hideNewChannelModal\n                }),\n                moreDirectChannelsModal,\n                moreChannelsModal,\n                _react2.default.createElement(_sidebar_header2.default, {\n                    teamDisplayName: this.state.currentTeam.display_name,\n                    teamDescription: this.state.currentTeam.description,\n                    teamName: this.state.currentTeam.name,\n                    teamType: this.state.currentTeam.type,\n                    currentUser: this.state.currentUser\n                }),\n                _react2.default.createElement(_unread_channel_indicator2.default, {\n                    name: 'Top',\n                    show: this.state.showTopUnread,\n                    onClick: this.scrollToFirstUnreadChannel,\n                    extraClass: 'nav-pills__unread-indicator-top',\n                    content: above\n                }),\n                _react2.default.createElement(_unread_channel_indicator2.default, {\n                    name: 'Bottom',\n                    show: this.state.showBottomUnread,\n                    onClick: this.scrollToLastUnreadChannel,\n                    extraClass: 'nav-pills__unread-indicator-bottom',\n                    content: below\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'sidebarChannelContainer',\n                        ref: 'container',\n                        className: 'nav-pills__container',\n                        onScroll: this.onScroll\n                    },\n                    favoriteItems.length !== 0 && _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'favoriteChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.favorite',\n                                    defaultMessage: 'FAVORITE CHANNELS'\n                                })\n                            )\n                        ),\n                        favoriteItems\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'publicChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.channels',\n                                    defaultMessage: 'PUBLIC CHANNELS'\n                                }),\n                                createPublicChannelIcon\n                            )\n                        ),\n                        publicChannelItems,\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'sidebarChannelsMore',\n                                    className: 'nav-more cursor--pointer style--none btn--block',\n                                    onClick: this.showMoreChannelsModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.moreElips',\n                                    defaultMessage: 'More...'\n                                })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'privateChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.pg',\n                                    defaultMessage: 'PRIVATE CHANNELS'\n                                }),\n                                createPrivateChannelIcon\n                            )\n                        ),\n                        privateChannelItems\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'directChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.direct',\n                                    defaultMessage: 'DIRECT MESSAGES'\n                                }),\n                                createDirectMessageIcon\n                            )\n                        ),\n                        directMessageItems,\n                        directMessageMore\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar__switcher' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'sidebarSwitcherButton',\n                            className: 'btn btn-link',\n                            onClick: this.openQuickSwitcher\n                        },\n                        _react2.default.createElement('span', {\n                            className: 'icon icon__switch',\n                            dangerouslySetInnerHTML: { __html: switchChannelIcon }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_switch_modal.title',\n                            defaultMessage: 'Switch Channels'\n                        }),\n                        quickSwitchTextShortcut\n                    )\n                )\n            );\n        }\n    }]);\n    return Sidebar;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n    var _this4 = this;\n\n    this.getTotalUnreadCount = function () {\n        var unreads = ChannelUtils.getCountsStateFromStores(_this4.state.currentTeam, _this4.state.teamMembers, _this4.state.unreadCounts);\n        return { msgs: unreads.messageCount, mentions: unreads.mentionCount };\n    };\n\n    this.getStateFromStores = function () {\n        var members = _channel_store2.default.getMyMembers();\n        var teamMembers = _team_store2.default.getMyTeamMembers();\n        var currentChannelId = _channel_store2.default.getCurrentId();\n        var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n\n        var displayableChannels = (0, _channels.getChannelsByCategory)(_redux_store2.default.getState());\n\n        return (0, _extends3.default)({\n            activeId: currentChannelId,\n            members: members,\n            teamMembers: teamMembers\n        }, displayableChannels, {\n            unreadCounts: JSON.parse((0, _stringify2.default)(_channel_store2.default.getUnreadCounts())),\n            showTutorialTip: tutorialStep === TutorialSteps.CHANNEL_POPOVER,\n            currentTeam: _team_store2.default.getCurrent(),\n            currentUser: _user_store2.default.getCurrentUser(),\n            townSquare: _channel_store2.default.getByName(_constants.Constants.DEFAULT_CHANNEL),\n            offTopic: _channel_store2.default.getByName(_constants.Constants.OFFTOPIC_CHANNEL)\n        });\n    };\n\n    this.onInChannelChange = function () {\n        _this4.setState({ inChannelChange: !_this4.state.inChannelChange });\n    };\n\n    this.onModalChange = function (value, args) {\n        _this4.showMoreDirectChannelsModal(_user_store2.default.getProfileListInChannel(args.channelId, true, false));\n    };\n\n    this.handleOpenMoreDirectChannelsModal = function (e) {\n        e.preventDefault();\n        if (_this4.state.showDirectChannelsModal) {\n            _this4.hideMoreDirectChannelsModal();\n        } else {\n            _this4.showMoreDirectChannelsModal();\n        }\n    };\n\n    this.onChange = function () {\n        if (_this4.state.currentTeam.id !== _team_store2.default.getCurrentId()) {\n            _channel_store2.default.clear();\n        }\n        _this4.setState(_this4.getStateFromStores());\n        _this4.updateTitle();\n    };\n\n    this.updateTitle = function () {\n        var channel = _channel_store2.default.getCurrent();\n        if (channel && _this4.state.currentTeam) {\n            var currentSiteName = '';\n            if (global.window.mm_config.SiteName != null) {\n                currentSiteName = global.window.mm_config.SiteName;\n            }\n\n            var currentChannelName = channel.display_name;\n            if (channel.type === _constants.Constants.DM_CHANNEL) {\n                var teammate = Utils.getDirectTeammate(channel.id);\n                if (teammate != null) {\n                    currentChannelName = teammate.username;\n                }\n            }\n\n            var unread = _this4.getTotalUnreadCount();\n            var mentionTitle = unread.mentions > 0 ? '(' + unread.mentions + ') ' : '';\n            var unreadTitle = unread.msgs > 0 ? '* ' : '';\n            document.title = mentionTitle + unreadTitle + currentChannelName + ' - ' + _this4.state.currentTeam.display_name + ' ' + currentSiteName;\n        }\n    };\n\n    this.onScroll = function () {\n        _this4.updateUnreadIndicators();\n    };\n\n    this.scrollToFirstUnreadChannel = function () {\n        if (_this4.firstUnreadChannel) {\n            var unreadMargin = 15;\n            var container = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this4.refs.container));\n            var firstUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this4.refs[_this4.firstUnreadChannel]));\n            var scrollTop = container.scrollTop() + firstUnreadElement.position().top - unreadMargin;\n            container.stop().animate({ scrollTop: scrollTop }, 500, 'swing');\n        }\n    };\n\n    this.scrollToLastUnreadChannel = function () {\n        if (_this4.lastUnreadChannel) {\n            var unreadMargin = 15;\n            var container = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this4.refs.container));\n            var lastUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this4.refs[_this4.lastUnreadChannel]));\n            var elementBottom = lastUnreadElement.position().top + lastUnreadElement.height();\n            var scrollTop = container.scrollTop() + (elementBottom - container.height()) + unreadMargin;\n            container.stop().animate({ scrollTop: scrollTop }, 500, 'swing');\n        }\n    };\n\n    this.updateUnreadIndicators = function () {\n        var container = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this4.refs.container));\n\n        var showTopUnread = false;\n        var showBottomUnread = false;\n\n        // Consider partially obscured channels as above/below\n        var unreadMargin = 15;\n\n        if (_this4.firstUnreadChannel) {\n            var firstUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this4.refs[_this4.firstUnreadChannel]));\n\n            if (firstUnreadElement.position().top + firstUnreadElement.height() < unreadMargin) {\n                showTopUnread = true;\n            }\n        }\n\n        if (_this4.lastUnreadChannel) {\n            var lastUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this4.refs[_this4.lastUnreadChannel]));\n\n            if (lastUnreadElement.position().top > container.height() - unreadMargin) {\n                showBottomUnread = true;\n            }\n        }\n\n        _this4.setState({\n            showTopUnread: showTopUnread,\n            showBottomUnread: showBottomUnread\n        });\n    };\n\n    this.updateScrollbarOnChannelChange = function (channel) {\n        var curChannel = _this4.refs[channel.name].getBoundingClientRect();\n        if (curChannel.top - _constants.Constants.CHANNEL_SCROLL_ADJUSTMENT < 0 || curChannel.top + curChannel.height > _this4.refs.container.getBoundingClientRect().height) {\n            _this4.refs.container.scrollTop = _this4.refs.container.scrollTop + (curChannel.top - _constants.Constants.CHANNEL_SCROLL_ADJUSTMENT);\n            (0, _jquery2.default)('.nav-pills__container').perfectScrollbar('update');\n        }\n    };\n\n    this.navigateChannelShortcut = function (e) {\n        if (e.altKey && !e.shiftKey && (e.keyCode === _constants.Constants.KeyCodes.UP || e.keyCode === _constants.Constants.KeyCodes.DOWN)) {\n            e.preventDefault();\n\n            if (_this4.isSwitchingChannel) {\n                return;\n            }\n\n            _this4.isSwitchingChannel = true;\n            var allChannels = _this4.getDisplayedChannels();\n            var curChannelId = _this4.state.activeId;\n            var curIndex = -1;\n            for (var i = 0; i < allChannels.length; i++) {\n                if (allChannels[i].id === curChannelId) {\n                    curIndex = i;\n                }\n            }\n            var nextIndex = curIndex;\n            if (e.keyCode === _constants.Constants.KeyCodes.DOWN) {\n                nextIndex = curIndex + 1;\n            } else if (e.keyCode === _constants.Constants.KeyCodes.UP) {\n                nextIndex = curIndex - 1;\n            }\n            var nextChannel = allChannels[Utils.mod(nextIndex, allChannels.length)];\n            ChannelActions.goToChannel(nextChannel);\n            _this4.updateScrollbarOnChannelChange(nextChannel);\n            _this4.isSwitchingChannel = false;\n        } else if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && e.keyCode === _constants.Constants.KeyCodes.K) {\n            _this4.handleOpenMoreDirectChannelsModal(e);\n        }\n    };\n\n    this.navigateUnreadChannelShortcut = function (e) {\n        if (e.altKey && e.shiftKey && (e.keyCode === _constants.Constants.KeyCodes.UP || e.keyCode === _constants.Constants.KeyCodes.DOWN)) {\n            e.preventDefault();\n\n            if (_this4.isSwitchingChannel) {\n                return;\n            }\n\n            _this4.isSwitchingChannel = true;\n            var allChannels = _this4.getDisplayedChannels();\n            var curChannelId = _this4.state.activeId;\n            var curIndex = -1;\n            for (var i = 0; i < allChannels.length; i++) {\n                if (allChannels[i].id === curChannelId) {\n                    curIndex = i;\n                }\n            }\n            var nextIndex = curIndex;\n            var count = 0;\n            var increment = 0;\n            if (e.keyCode === _constants.Constants.KeyCodes.UP) {\n                increment = -1;\n            } else if (e.keyCode === _constants.Constants.KeyCodes.DOWN) {\n                increment = 1;\n            }\n            var unreadCounts = _channel_store2.default.getUnreadCount(allChannels[nextIndex].id);\n            while (count < allChannels.length && unreadCounts.msgs === 0 && unreadCounts.mentions === 0) {\n                nextIndex += increment;\n                count++;\n                nextIndex = Utils.mod(nextIndex, allChannels.length);\n                unreadCounts = _channel_store2.default.getUnreadCount(allChannels[nextIndex].id);\n            }\n            if (unreadCounts.msgs !== 0 || unreadCounts.mentions !== 0) {\n                var nextChannel = allChannels[nextIndex];\n                ChannelActions.goToChannel(nextChannel);\n                _this4.updateScrollbarOnChannelChange(nextChannel);\n            }\n            _this4.isSwitchingChannel = false;\n        }\n    };\n\n    this.getDisplayedChannels = function () {\n        return _this4.getDisplayedChannelsForState(_this4.state);\n    };\n\n    this.getDisplayedChannelsForState = function (state) {\n        return state.favoriteChannels.concat(state.publicChannels).concat(state.privateChannels).concat(state.directAndGroupChannels);\n    };\n\n    this.channelIdIsDisplayedForState = function (state, id) {\n        var allChannels = _this4.getDisplayedChannelsForState(state);\n        for (var i = 0; i < allChannels.length; i++) {\n            if (allChannels[i].id === id) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    this.handleLeavePublicChannel = function (e, channel) {\n        e.preventDefault();\n        ChannelActions.leaveChannel(channel.id);\n        (0, _diagnostics_actions.trackEvent)('ui', 'ui_public_channel_x_button_clicked');\n    };\n\n    this.handleLeavePrivateChannel = function (e, channel) {\n        e.preventDefault();\n        GlobalActions.showLeavePrivateChannelModal(channel);\n        (0, _diagnostics_actions.trackEvent)('ui', 'ui_private_channel_x_button_clicked');\n    };\n\n    this.handleLeaveDirectChannel = function (e, channel) {\n        e.preventDefault();\n\n        if (!_this4.isLeaving.get(channel.id)) {\n            _this4.isLeaving.set(channel.id, true);\n\n            var id = void 0;\n            var category = void 0;\n            if (channel.type === _constants.Constants.DM_CHANNEL) {\n                id = channel.teammate_id;\n                category = _constants.Constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW;\n            } else {\n                id = channel.id;\n                category = _constants.Constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW;\n            }\n\n            var currentUserId = _user_store2.default.getCurrentId();\n            (0, _preferences.savePreferences)(currentUserId, [{ user_id: currentUserId, category: category, name: id, value: 'false' }])(dispatch, getState).then(function () {\n                _this4.isLeaving.set(channel.id, false);\n            });\n\n            _this4.setState(_this4.getStateFromStores());\n            (0, _diagnostics_actions.trackEvent)('ui', 'ui_direct_channel_x_button_clicked');\n        }\n\n        if (channel.id === _this4.state.activeId) {\n            _this4.closedDirectChannel = true;\n            _reactRouter.browserHistory.push('/' + _this4.state.currentTeam.name + '/channels/town-square');\n        }\n    };\n\n    this.handleClick = function (link) {\n        _this4.trackChannelSelectedEvent();\n        _reactRouter.browserHistory.push(link);\n    };\n\n    this.showMoreChannelsModal = function () {\n        _this4.setState({ showMoreChannelsModal: true });\n        (0, _diagnostics_actions.trackEvent)('ui', 'ui_channels_more_public');\n    };\n\n    this.hideMoreChannelsModal = function () {\n        _this4.setState({ showMoreChannelsModal: false });\n    };\n\n    this.showNewChannelModal = function (type) {\n        _this4.setState({ newChannelModalType: type });\n    };\n\n    this.hideNewChannelModal = function () {\n        _this4.setState({ newChannelModalType: '' });\n    };\n\n    this.showMoreDirectChannelsModal = function (startingUsers) {\n        (0, _diagnostics_actions.trackEvent)('ui', 'ui_channels_more_direct');\n        _this4.setState({ showDirectChannelsModal: true, startingUsers: startingUsers });\n    };\n\n    this.hideMoreDirectChannelsModal = function () {\n        _this4.setState({ showDirectChannelsModal: false, startingUsers: null });\n    };\n\n    this.openLeftSidebar = function () {\n        if (Utils.isMobile()) {\n            setTimeout(function () {\n                document.querySelector('.app__body .inner-wrap').classList.add('move--right');\n                document.querySelector('.app__body .sidebar--left').classList.add('move--right');\n            });\n        }\n    };\n\n    this.openQuickSwitcher = function (e) {\n        e.preventDefault();\n        _app_dispatcher2.default.handleViewAction({\n            type: _constants.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL\n        });\n    };\n\n    this.createTutorialTip = function () {\n        var screens = [];\n\n        var townSquareDisplayName = _constants.Constants.DEFAULT_CHANNEL_UI_NAME;\n        if (_this4.state.townSquare) {\n            townSquareDisplayName = _this4.state.townSquare.display_name;\n        }\n\n        var offTopicDisplayName = _constants.Constants.OFFTOPIC_CHANNEL_UI_NAME;\n        if (_this4.state.offTopic) {\n            offTopicDisplayName = _this4.state.offTopic.display_name;\n        }\n\n        screens.push(_react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                id: 'sidebar.tutorialScreen1',\n                defaultMessage: '<h4>Channels</h4><p><strong>Channels</strong> organize conversations across different topics. They\\u2019re open to everyone on your team. To send private communications use <strong>Direct Messages</strong> for a single person or <strong>Private Channels</strong> for multiple people.</p>'\n            })\n        ));\n\n        screens.push(_react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                id: 'sidebar.tutorialScreen2',\n                defaultMessage: '<h4>\"{townsquare}\" and \"{offtopic}\" channels</h4> <p>Here are two public channels to start:</p> <p><strong>{townsquare}</strong> is a place for team-wide communication. Everyone in your team is a member of this channel.</p> <p><strong>{offtopic}</strong> is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.</p>',\n                values: {\n                    townsquare: townSquareDisplayName,\n                    offtopic: offTopicDisplayName\n                }\n            })\n        ));\n\n        screens.push(_react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                id: 'sidebar.tutorialScreen3',\n                defaultMessage: '<h4>Creating and Joining Channels</h4> <p>Click <strong>\"More...\"</strong> to create a new channel or join an existing one.</p> <p>You can also create a new public or private channel by clicking the <strong>\"+\" symbol</strong> next to the public or private channel header.</p>'\n            })\n        ));\n\n        return _react2.default.createElement(_tutorial_tip2.default, {\n            placement: 'right',\n            screens: screens,\n            overlayClass: 'tip-overlay--sidebar',\n            diagnosticsTag: 'tutorial_tip_2_channels'\n        });\n    };\n\n    this.createChannelElement = function (channel, index, arr, handleClose) {\n        var members = _this4.state.members;\n        var activeId = _this4.state.activeId;\n        var channelMember = members[channel.id];\n        var unreadCount = _this4.state.unreadCounts[channel.id] || { msgs: 0, mentions: 0 };\n        var msgCount = void 0;\n\n        var linkClass = '';\n        if (channel.id === activeId) {\n            linkClass = 'active';\n        }\n\n        var rowClass = 'sidebar-item';\n\n        var unread = false;\n        if (channelMember) {\n            msgCount = unreadCount.msgs + unreadCount.mentions;\n            unread = msgCount > 0 || channelMember.mention_count > 0;\n        }\n\n        if (unread) {\n            rowClass += ' unread-title';\n\n            if (channel.id !== activeId) {\n                if (!_this4.firstUnreadChannel) {\n                    _this4.firstUnreadChannel = channel.name;\n                }\n                _this4.lastUnreadChannel = channel.name;\n            }\n        }\n\n        var badge = null;\n        if (channelMember) {\n            if (unreadCount.mentions) {\n                badge = _react2.default.createElement(\n                    'span',\n                    { className: 'badge' },\n                    unreadCount.mentions\n                );\n                _this4.badgesActive = true;\n            }\n        } else if (_this4.state.loadingDMChannel === index && channel.type === _constants.Constants.DM_CHANNEL) {\n            badge = _react2.default.createElement('img', {\n                className: 'channel-loading-gif pull-right',\n                src: _load2.default\n            });\n        }\n\n        if (unreadCount.mentions > 0) {\n            rowClass += ' has-badge';\n        }\n\n        var icon = null;\n        var globeIcon = _constants.Constants.GLOBE_ICON_SVG;\n        var lockIcon = _constants.Constants.LOCK_ICON_SVG;\n        if (channel.type === _constants.Constants.OPEN_CHANNEL) {\n            icon = _react2.default.createElement('span', {\n                className: 'icon icon__globe',\n                dangerouslySetInnerHTML: { __html: globeIcon }\n            });\n        } else if (channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n            icon = _react2.default.createElement('span', {\n                className: 'icon icon__lock',\n                dangerouslySetInnerHTML: { __html: lockIcon }\n            });\n        } else if (channel.type === _constants.Constants.GM_CHANNEL) {\n            icon = _react2.default.createElement(\n                'div',\n                { className: 'status status--group' },\n                _user_store2.default.getProfileListInChannel(channel.id, true).length\n            );\n        } else if (channel.type === _constants.Constants.DM_CHANNEL) {\n            var teammate = Utils.getDirectTeammate(channel.id);\n            if (teammate && teammate.delete_at) {\n                icon = _react2.default.createElement('span', {\n                    className: 'icon icon__archive',\n                    dangerouslySetInnerHTML: { __html: _constants.Constants.ARCHIVE_ICON_SVG }\n                });\n            } else {\n                icon = _react2.default.createElement(_status_icon2.default, {\n                    type: 'avatar',\n                    status: channel.status\n                });\n            }\n        }\n\n        var closeButton = null;\n        var removeTooltip = _react2.default.createElement(\n            _reactBootstrap.Tooltip,\n            { id: 'remove-dm-tooltip' },\n            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'sidebar.removeList',\n                defaultMessage: 'Remove from list'\n            })\n        );\n        if (channel.type === _constants.Constants.OPEN_CHANNEL || channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n            removeTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'remove-dm-tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.leave',\n                    defaultMessage: 'Leave channel'\n                })\n            );\n        }\n        if (handleClose && !badge) {\n            closeButton = _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: ['hover', 'focus'],\n                    delayShow: 1000,\n                    placement: 'top',\n                    overlay: removeTooltip\n                },\n                _react2.default.createElement(\n                    'span',\n                    {\n                        onClick: function onClick(e) {\n                            e.stopPropagation();\n                            handleClose(e, channel);\n                        },\n                        className: 'btn-close'\n                    },\n                    '×'\n                )\n            );\n\n            rowClass += ' has-close';\n        }\n\n        var tutorialTip = null;\n        if (_this4.state.showTutorialTip && channel.name === _constants.Constants.DEFAULT_CHANNEL) {\n            tutorialTip = _this4.createTutorialTip();\n            _this4.openLeftSidebar();\n        }\n\n        var link = '';\n        if (channel.fake) {\n            link = '/' + _this4.state.currentTeam.name + '/channels/' + channel.name + '?fakechannel=' + encodeURIComponent((0, _stringify2.default)(channel));\n        } else {\n            link = '/' + _this4.state.currentTeam.name + '/channels/' + channel.name;\n        }\n\n        var user = _user_store2.default.getCurrentUser();\n        var displayName = '';\n        if (user.id === channel.teammate_id) {\n            displayName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'sidebar.directchannel.you',\n                defaultMessage: '{displayname} (you)',\n                values: {\n                    displayname: channel.display_name\n                }\n            });\n        } else {\n            displayName = channel.display_name;\n        }\n\n        var channelLink = _this4.createChannelButtonOrLink(link, rowClass, icon, displayName, badge, closeButton);\n\n        return _react2.default.createElement(\n            'li',\n            {\n                key: channel.name,\n                ref: channel.name,\n                className: linkClass\n            },\n            channelLink,\n            tutorialTip\n        );\n    };\n\n    this.trackChannelSelectedEvent = function () {\n        (0, _diagnostics_actions.trackEvent)('ui', 'ui_channel_selected');\n    };\n};\n\nexports.default = Sidebar;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(23)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.25c5f9d36667d9d1a0b8.js","module.exports = __webpack_public_path__ + \"files/b0d0ad99214c4723703614b6c6723e33.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./images/favicon/redfavicon-16x16.png\n// module id = 2368\n// module chunks = 0","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getChannels} from 'mattermost-redux/actions/channels';\n\nimport MoreChannels from './more_channels.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getChannels\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MoreChannels);\n\n\n\n// WEBPACK FOOTER //\n// ./components/more_channels/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router';\n\nimport {joinChannel, searchMoreChannels} from 'actions/channel_actions.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport {showCreateOption} from 'utils/channel_utils.jsx';\nimport Constants from 'utils/constants.jsx';\n\nimport SearchableChannelList from 'components/searchable_channel_list.jsx';\n\nconst CHANNELS_CHUNK_SIZE = 50;\nconst CHANNELS_PER_PAGE = 50;\nconst SEARCH_TIMEOUT_MILLISECONDS = 100;\n\nexport default class MoreChannels extends React.Component {\n    static propTypes = {\n        onModalDismissed: PropTypes.func,\n        handleNewChannel: PropTypes.func,\n        actions: PropTypes.shape({\n            getChannels: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.handleJoin = this.handleJoin.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.handleExit = this.handleExit.bind(this);\n        this.nextPage = this.nextPage.bind(this);\n        this.search = this.search.bind(this);\n\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.searchTimeoutId = 0;\n\n        this.state = {\n            show: true,\n            search: false,\n            channels: null,\n            serverError: null\n        };\n    }\n\n    componentDidMount() {\n        ChannelStore.addChangeListener(this.onChange);\n        this.props.actions.getChannels(TeamStore.getCurrentId(), 0, CHANNELS_CHUNK_SIZE * 2);\n    }\n\n    componentWillUnmount() {\n        ChannelStore.removeChangeListener(this.onChange);\n    }\n\n    handleHide() {\n        this.setState({show: false});\n    }\n\n    handleExit() {\n        if (this.props.onModalDismissed) {\n            this.props.onModalDismissed();\n        }\n    }\n\n    onChange(force) {\n        if (this.state.search && !force) {\n            return;\n        }\n\n        this.setState({\n            channels: ChannelStore.getMoreChannelsList(),\n            serverError: null\n        });\n    }\n\n    nextPage(page) {\n        this.props.actions.getChannels(TeamStore.getCurrentId(), page + 1, CHANNELS_PER_PAGE);\n    }\n\n    handleJoin(channel, done) {\n        joinChannel(\n            channel,\n            () => {\n                browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/channels/' + channel.name);\n                if (done) {\n                    done();\n                }\n\n                this.handleHide();\n            },\n            (err) => {\n                this.setState({serverError: err.message});\n                if (done) {\n                    done();\n                }\n            }\n        );\n    }\n\n    search(term) {\n        clearTimeout(this.searchTimeoutId);\n\n        if (term === '') {\n            this.onChange(true);\n            this.setState({search: false});\n            this.searchTimeoutId = '';\n            return;\n        }\n\n        const searchTimeoutId = setTimeout(\n            () => {\n                searchMoreChannels(\n                    term,\n                    (channels) => {\n                        if (searchTimeoutId !== this.searchTimeoutId) {\n                            return;\n                        }\n                        this.setState({search: true, channels});\n                    }\n                );\n            },\n            SEARCH_TIMEOUT_MILLISECONDS\n        );\n\n        this.searchTimeoutId = searchTimeoutId;\n    }\n\n    render() {\n        let serverError;\n        if (this.state.serverError) {\n            serverError = <div className='form-group has-error'><label className='control-label'>{this.state.serverError}</label></div>;\n        }\n\n        let createNewChannelButton = (\n            <button\n                id='createNewChannel'\n                type='button'\n                className='btn btn-primary channel-create-btn'\n                onClick={this.props.handleNewChannel}\n            >\n                <FormattedMessage\n                    id='more_channels.create'\n                    defaultMessage='Create New Channel'\n                />\n            </button>\n        );\n\n        let createChannelHelpText = (\n            <p className='secondary-message'>\n                <FormattedMessage\n                    id='more_channels.createClick'\n                    defaultMessage=\"Click 'Create New Channel' to make a new one\"\n                />\n            </p>\n        );\n\n        const isTeamAdmin = TeamStore.isTeamAdminForCurrentTeam();\n        const isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n\n        if (!showCreateOption(Constants.OPEN_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n            createNewChannelButton = null;\n            createChannelHelpText = null;\n        }\n\n        return (\n            <Modal\n                dialogClassName='more-modal more-modal--action'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='more_channels.title'\n                            defaultMessage='More Channels'\n                        />\n                    </Modal.Title>\n                    {createNewChannelButton}\n                </Modal.Header>\n                <Modal.Body>\n                    <SearchableChannelList\n                        channels={this.state.channels}\n                        channelsPerPage={CHANNELS_PER_PAGE}\n                        nextPage={this.nextPage}\n                        isSearch={this.state.search}\n                        search={this.search}\n                        handleJoin={this.handleJoin}\n                        noResultsText={createChannelHelpText}\n                    />\n                    {serverError}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/more_channels/more_channels.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport loadingGif from 'images/load.gif';\n\nimport LoadingScreen from './loading_screen.jsx';\n\nconst NEXT_BUTTON_TIMEOUT_MILLISECONDS = 500;\n\nexport default class SearchableChannelList extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.createChannelRow = this.createChannelRow.bind(this);\n        this.nextPage = this.nextPage.bind(this);\n        this.previousPage = this.previousPage.bind(this);\n        this.doSearch = this.doSearch.bind(this);\n\n        this.nextTimeoutId = 0;\n\n        this.state = {\n            joiningChannel: '',\n            page: 0,\n            nextDisabled: false\n        };\n    }\n\n    componentDidMount() {\n        // only focus the search box on desktop so that we don't cause the keyboard to open on mobile\n        if (!UserAgent.isMobile()) {\n            this.refs.filter.focus();\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.page !== this.state.page) {\n            $(this.refs.channelList).scrollTop(0);\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.isSearch && !this.props.isSearch) {\n            this.setState({page: 0});\n        }\n    }\n\n    handleJoin(channel) {\n        this.setState({joiningChannel: channel.id});\n        this.props.handleJoin(\n            channel,\n            () => {\n                this.setState({joiningChannel: ''});\n            }\n        );\n    }\n\n    createChannelRow(channel) {\n        let joinButton;\n        if (this.state.joiningChannel === channel.id) {\n            joinButton = (\n                <img\n                    className='join-channel-loading-gif'\n                    src={loadingGif}\n                />\n            );\n        } else {\n            joinButton = (\n                <button\n                    onClick={this.handleJoin.bind(this, channel)}\n                    className='btn btn-primary'\n                    disabled={this.state.joiningChannel !== '' && this.state.joiningChannel !== channel.id}\n                >\n                    <FormattedMessage\n                        id='more_channels.join'\n                        defaultMessage='Join'\n                    />\n                </button>\n            );\n        }\n\n        return (\n            <div\n                className='more-modal__row'\n                key={channel.id}\n            >\n                <div className='more-modal__details'>\n                    <p className='more-modal__name'>{channel.display_name}</p>\n                    <p className='more-modal__description'>{channel.purpose}</p>\n                </div>\n                <div className='more-modal__actions'>\n                    {joinButton}\n                </div>\n            </div>\n        );\n    }\n\n    nextPage(e) {\n        e.preventDefault();\n        this.setState({page: this.state.page + 1, nextDisabled: true});\n        this.nextTimeoutId = setTimeout(() => this.setState({nextDisabled: false}), NEXT_BUTTON_TIMEOUT_MILLISECONDS);\n        this.props.nextPage(this.state.page + 1);\n        $(ReactDOM.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n    }\n\n    previousPage(e) {\n        e.preventDefault();\n        this.setState({page: this.state.page - 1});\n        $(ReactDOM.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n    }\n\n    doSearch() {\n        const term = this.refs.filter.value;\n        this.props.search(term);\n        if (term === '') {\n            this.setState({page: 0});\n        }\n    }\n\n    render() {\n        const channels = this.props.channels;\n        let listContent;\n        let nextButton;\n        let previousButton;\n\n        if (channels == null) {\n            listContent = <LoadingScreen/>;\n        } else if (channels.length === 0) {\n            listContent = (\n                <div className='no-channel-message'>\n                    <p className='primary-message'>\n                        <FormattedMessage\n                            id='more_channels.noMore'\n                            defaultMessage='No more channels to join'\n                        />\n                    </p>\n                    {this.props.noResultsText}\n                </div>\n            );\n        } else {\n            const pageStart = this.state.page * this.props.channelsPerPage;\n            const pageEnd = pageStart + this.props.channelsPerPage;\n            const channelsToDisplay = this.props.channels.slice(pageStart, pageEnd);\n            listContent = channelsToDisplay.map(this.createChannelRow);\n\n            if (channelsToDisplay.length >= this.props.channelsPerPage && pageEnd < this.props.channels.length) {\n                nextButton = (\n                    <button\n                        className='btn btn-default filter-control filter-control__next'\n                        onClick={this.nextPage}\n                        disabled={this.state.nextDisabled}\n                    >\n                        <FormattedMessage\n                            id='more_channels.next'\n                            defaultMessage='Next'\n                        />\n                    </button>\n                );\n            }\n\n            if (this.state.page > 0) {\n                previousButton = (\n                    <button\n                        className='btn btn-default filter-control filter-control__prev'\n                        onClick={this.previousPage}\n                    >\n                        <FormattedMessage\n                            id='more_channels.prev'\n                            defaultMessage='Previous'\n                        />\n                    </button>\n                );\n            }\n        }\n\n        return (\n            <div className='filtered-user-list'>\n                <div className='filter-row'>\n                    <div className='col-sm-12'>\n                        <input\n                            id='searchChannelsTextbox'\n                            ref='filter'\n                            className='form-control filter-textbox'\n                            placeholder={localizeMessage('filtered_channels_list.search', 'Search channels')}\n                            onInput={this.doSearch}\n                        />\n                    </div>\n                </div>\n                <div\n                    ref='channelList'\n                    className='more-modal__list'\n                >\n                    <div ref='channelListScroll'>\n                        {listContent}\n                    </div>\n                </div>\n                <div className='filter-controls'>\n                    {previousButton}\n                    {nextButton}\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchableChannelList.defaultProps = {\n    channels: [],\n    isSearch: false\n};\n\nSearchableChannelList.propTypes = {\n    channels: PropTypes.arrayOf(PropTypes.object),\n    channelsPerPage: PropTypes.number,\n    nextPage: PropTypes.func.isRequired,\n    isSearch: PropTypes.bool,\n    search: PropTypes.func.isRequired,\n    handleJoin: PropTypes.func.isRequired,\n    noResultsText: PropTypes.object\n};\n\n\n// WEBPACK FOOTER //\n// ./components/searchable_channel_list.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getProfiles, getProfilesInTeam} from 'mattermost-redux/actions/users';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport MoreDirectChannels from './more_direct_channels.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        currentUserId: getCurrentUserId(state)\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getProfiles,\n            getProfilesInTeam\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MoreDirectChannels);\n\n\n\n// WEBPACK FOOTER //\n// ./components/more_direct_channels/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router';\n\nimport {Client4} from 'mattermost-redux/client';\nimport {searchProfiles, searchProfilesInCurrentTeam} from 'mattermost-redux/selectors/entities/users';\n\nimport {openDirectChannelToUser, openGroupChannelToUsers} from 'actions/channel_actions.jsx';\nimport {searchUsers} from 'actions/user_actions.jsx';\nimport store from 'stores/redux_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport {displayEntireNameForUser, localizeMessage} from 'utils/utils.jsx';\n\nimport MultiSelect from 'components/multiselect/multiselect.jsx';\nimport ProfilePicture from 'components/profile_picture.jsx';\n\nconst USERS_PER_PAGE = 50;\nconst MAX_SELECTABLE_VALUES = Constants.MAX_USERS_IN_GM - 1;\n\nexport default class MoreDirectChannels extends React.Component {\n    static propTypes = {\n        currentUserId: PropTypes.string.isRequired,\n        startingUsers: PropTypes.arrayOf(PropTypes.object),\n        onModalDismissed: PropTypes.func,\n        actions: PropTypes.shape({\n            getProfiles: PropTypes.func.isRequired,\n            getProfilesInTeam: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleHide = this.handleHide.bind(this);\n        this.handleExit = this.handleExit.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handlePageChange = this.handlePageChange.bind(this);\n        this.onChange = this.onChange.bind(this);\n        this.search = this.search.bind(this);\n        this.addValue = this.addValue.bind(this);\n\n        this.searchTimeoutId = 0;\n        this.term = '';\n        this.listType = global.window.mm_config.RestrictDirectMessage;\n\n        const values = [];\n\n        if (props.startingUsers) {\n            for (let i = 0; i < props.startingUsers.length; i++) {\n                const user = Object.assign({}, props.startingUsers[i]);\n                user.value = user.id;\n                user.label = '@' + user.username;\n                values.push(user);\n            }\n        }\n\n        this.state = {\n            users: null,\n            values,\n            show: true,\n            search: false,\n            loadingChannel: false\n        };\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onChange);\n        UserStore.addInTeamChangeListener(this.onChange);\n        UserStore.addStatusesChangeListener(this.onChange);\n        if (this.listType === 'any') {\n            this.props.actions.getProfiles(0, USERS_PER_PAGE * 2, false);\n        } else {\n            this.props.actions.getProfilesInTeam(TeamStore.getCurrentId(), 0, USERS_PER_PAGE * 2);\n        }\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onChange);\n        UserStore.removeInTeamChangeListener(this.onChange);\n        UserStore.removeStatusesChangeListener(this.onChange);\n    }\n\n    handleHide() {\n        this.setState({show: false});\n    }\n\n    handleExit() {\n        if (this.exitToChannel) {\n            browserHistory.push(this.exitToChannel);\n        }\n\n        if (this.props.onModalDismissed) {\n            this.props.onModalDismissed();\n        }\n    }\n\n    handleSubmit(values = this.state.values) {\n        if (this.state.loadingChannel) {\n            return;\n        }\n\n        const userIds = values.map((v) => v.id);\n        if (userIds.length === 0) {\n            return;\n        }\n\n        this.setState({loadingChannel: true});\n\n        const success = (channel) => {\n            // Due to how react-overlays Modal handles focus, we delay pushing\n            // the new channel information until the modal is fully exited.\n            // The channel information will be pushed in `handleExit`\n            this.exitToChannel = TeamStore.getCurrentTeamRelativeUrl() + '/channels/' + channel.name;\n            this.setState({loadingChannel: false});\n            this.handleHide();\n        };\n\n        const error = () => {\n            this.setState({loadingChannel: false});\n        };\n\n        if (userIds.length === 1) {\n            openDirectChannelToUser(userIds[0], success, error);\n        } else {\n            openGroupChannelToUsers(userIds, success, error);\n        }\n    }\n\n    addValue(value) {\n        const values = Object.assign([], this.state.values);\n\n        if (values.indexOf(value) === -1) {\n            values.push(value);\n        }\n\n        this.setState({values});\n    }\n\n    onChange() {\n        let users;\n\n        if (this.term) {\n            if (this.listType === 'any') {\n                users = Object.assign([], searchProfiles(store.getState(), this.term, false));\n            } else {\n                users = Object.assign([], searchProfilesInCurrentTeam(store.getState(), this.term, false));\n            }\n        } else if (this.listType === 'any') {\n            users = Object.assign([], UserStore.getProfileList(false, true));\n        } else {\n            users = Object.assign([], UserStore.getProfileListInTeam(TeamStore.getCurrentId(), false, false));\n        }\n\n        for (let i = 0; i < users.length; i++) {\n            const user = Object.assign({}, users[i]);\n            user.value = user.id;\n            user.label = '@' + user.username;\n            users[i] = user;\n        }\n\n        this.setState({\n            users\n        });\n    }\n\n    handlePageChange(page, prevPage) {\n        if (page > prevPage) {\n            if (this.listType === 'any') {\n                this.props.actions.getProfiles(page + 1, USERS_PER_PAGE);\n            } else {\n                this.props.actions.getProfilesInTeam(page + 1, USERS_PER_PAGE);\n            }\n        }\n    }\n\n    resetPaging = () => {\n        if (this.refs.multiselect) {\n            this.refs.multiselect.resetPaging();\n        }\n    }\n\n    search(term) {\n        clearTimeout(this.searchTimeoutId);\n        this.term = term;\n\n        if (term === '') {\n            this.resetPaging();\n            this.onChange();\n            return;\n        }\n\n        let teamId;\n        if (this.listType === 'any') {\n            teamId = '';\n        } else {\n            teamId = TeamStore.getCurrentId();\n        }\n\n        this.searchTimeoutId = setTimeout(\n            () => {\n                searchUsers(term, teamId, {}, this.resetPaging);\n            },\n            Constants.SEARCH_TIMEOUT_MILLISECONDS\n        );\n    }\n\n    handleDelete(values) {\n        this.setState({values});\n    }\n\n    renderOption(option, isSelected, onAdd) {\n        const currentUser = UserStore.getCurrentUser();\n        const displayName = displayEntireNameForUser(option);\n\n        let modalName = displayName;\n        if (option.id === currentUser.id) {\n            modalName = (\n                <FormattedMessage\n                    id='more_direct_channels.directchannel.you'\n                    defaultMessage='{displayname} (you)'\n                    values={{\n                        displayname: displayName\n                    }}\n                />\n            );\n        } else if (option.delete_at) {\n            modalName = (\n                <FormattedMessage\n                    id='more_direct_channels.directchannel.deactivated'\n                    defaultMessage='{displayname} - Deactivated'\n                    values={{\n                        displayname: displayName\n                    }}\n                />\n            );\n        }\n\n        var rowSelected = '';\n        if (isSelected) {\n            rowSelected = 'more-modal__row--selected';\n        }\n\n        const status = option.delete_at ? null : UserStore.getStatus(option.id);\n\n        return (\n            <div\n                key={option.id}\n                ref={isSelected ? 'selected' : option.id}\n                className={'more-modal__row clickable ' + rowSelected}\n                onClick={() => onAdd(option)}\n            >\n                <ProfilePicture\n                    src={Client4.getProfilePictureUrl(option.id, option.last_picture_update)}\n                    status={status}\n                    width='32'\n                    height='32'\n                />\n                <div\n                    className='more-modal__details'\n                >\n                    <div className='more-modal__name'>\n                        {modalName}\n                    </div>\n                    <div className='more-modal__description'>\n                        {option.email}\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <div className='more-modal__actions--round'>\n                        <i className='fa fa-plus'/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderValue(user) {\n        return user.username;\n    }\n\n    render() {\n        let note;\n        if (this.props.startingUsers) {\n            if (this.state.values && this.state.values.length >= MAX_SELECTABLE_VALUES) {\n                note = (\n                    <FormattedMessage\n                        id='more_direct_channels.new_convo_note.full'\n                        defaultMessage='You’ve reached the maximum number of people for this conversation. Consider creating a private channel instead.'\n                    />\n                );\n            } else {\n                note = (\n                    <FormattedMessage\n                        id='more_direct_channels.new_convo_note'\n                        defaultMessage='This will start a new conversation. If you’re adding a lot of people, consider creating a private channel instead.'\n                    />\n                );\n            }\n        }\n\n        const buttonSubmitText = localizeMessage('multiselect.go', 'Go');\n\n        const numRemainingText = (\n            <FormattedMessage\n                id='multiselect.numPeopleRemaining'\n                defaultMessage='Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. '\n                values={{\n                    num: MAX_SELECTABLE_VALUES - this.state.values.length\n                }}\n            />\n        );\n\n        let users = this.state.users || [];\n\n        if (this.state.values.length) {\n            users = users.filter((user) => user.delete_at === 0 && user.id !== this.props.currentUserId);\n        } else {\n            const active = [];\n            const inactive = [];\n            for (const user of users) {\n                (user.delete_at ? inactive : active).push(user);\n            }\n            users = active.concat(inactive);\n        }\n\n        return (\n            <Modal\n                dialogClassName={'more-modal more-direct-channels'}\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='more_direct_channels.title'\n                            defaultMessage='Direct Messages'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <MultiSelect\n                        key='moreDirectChannelsList'\n                        ref='multiselect'\n                        options={users}\n                        optionRenderer={this.renderOption}\n                        values={this.state.values}\n                        valueRenderer={this.renderValue}\n                        perPage={USERS_PER_PAGE}\n                        handlePageChange={this.handlePageChange}\n                        handleInput={this.search}\n                        handleDelete={this.handleDelete}\n                        handleAdd={this.addValue}\n                        handleSubmit={this.handleSubmit}\n                        noteText={note}\n                        maxValues={MAX_SELECTABLE_VALUES}\n                        numRemainingText={numRemainingText}\n                        buttonSubmitText={buttonSubmitText}\n                        submitImmediatelyOn={(value) => {\n                            return value.id === this.props.currentUserId || value.delete_at;\n                        }}\n                        saving={this.state.loadingChannel}\n                    />\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/more_direct_channels/more_direct_channels.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router';\n\nimport {createChannel} from 'actions/channel_actions.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport {cleanUpUrlable} from 'utils/url.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport NewChannelModal from 'components/new_channel_modal';\n\nimport ChangeURLModal from './change_url_modal.jsx';\n\nconst SHOW_NEW_CHANNEL = 1;\nconst SHOW_EDIT_URL = 2;\nconst SHOW_EDIT_URL_THEN_COMPLETE = 3;\n\nexport default class NewChannelFlow extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.doSubmit = this.doSubmit.bind(this);\n        this.onModalExited = this.onModalExited.bind(this);\n        this.typeSwitched = this.typeSwitched.bind(this);\n        this.urlChangeRequested = this.urlChangeRequested.bind(this);\n        this.urlChangeSubmitted = this.urlChangeSubmitted.bind(this);\n        this.urlChangeDismissed = this.urlChangeDismissed.bind(this);\n        this.channelDataChanged = this.channelDataChanged.bind(this);\n\n        this.state = {\n            serverError: '',\n            channelType: props.channelType || 'O',\n            flowState: SHOW_NEW_CHANNEL,\n            channelDisplayName: '',\n            channelName: '',\n            channelPurpose: '',\n            channelHeader: '',\n            nameModified: false\n        };\n    }\n    componentWillReceiveProps(nextProps) {\n        // If we are being shown, grab channel type from props and clear\n        if (nextProps.show === true && this.props.show === false) {\n            this.setState({\n                serverError: '',\n                channelType: nextProps.channelType,\n                flowState: SHOW_NEW_CHANNEL,\n                channelDisplayName: '',\n                channelName: '',\n                channelPurpose: '',\n                channelHeader: '',\n                nameModified: false\n            });\n        }\n    }\n    doSubmit() {\n        if (!this.state.channelDisplayName) {\n            this.setState({serverError: Utils.localizeMessage('channel_flow.invalidName', 'Invalid Channel Name')});\n            return;\n        }\n\n        if (this.state.channelName < 2) {\n            this.setState({flowState: SHOW_EDIT_URL_THEN_COMPLETE});\n            return;\n        }\n\n        const channel = {\n            team_id: TeamStore.getCurrentId(),\n            name: this.state.channelName,\n            display_name: this.state.channelDisplayName,\n            purpose: this.state.channelPurpose,\n            header: this.state.channelHeader,\n            type: this.state.channelType\n        };\n\n        createChannel(\n            channel,\n            (data) => {\n                this.doOnModalExited = () => {\n                    browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/channels/' + data.name);\n                };\n\n                this.props.onModalDismissed();\n            },\n            (err) => {\n                if (err.id === 'model.channel.is_valid.2_or_more.app_error') {\n                    this.setState({\n                        flowState: SHOW_EDIT_URL_THEN_COMPLETE,\n                        serverError: (\n                            <FormattedMessage\n                                id='channel_flow.handleTooShort'\n                                defaultMessage='Channel URL must be 2 or more lowercase alphanumeric characters'\n                            />\n                        )\n                    });\n                    return;\n                }\n                if (err.id === 'store.sql_channel.update.exists.app_error') {\n                    this.setState({serverError: Utils.localizeMessage('channel_flow.alreadyExist', 'A channel with that URL already exists')});\n                    return;\n                }\n                this.setState({serverError: err.message});\n            }\n        );\n    }\n    onModalExited() {\n        if (this.doOnModalExited) {\n            this.doOnModalExited();\n        }\n    }\n    typeSwitched(e) {\n        e.preventDefault();\n        if (this.state.channelType === 'P') {\n            this.setState({channelType: 'O'});\n        } else {\n            this.setState({channelType: 'P'});\n        }\n    }\n    urlChangeRequested(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        this.setState({flowState: SHOW_EDIT_URL});\n    }\n    urlChangeSubmitted(newURL) {\n        if (this.state.flowState === SHOW_EDIT_URL_THEN_COMPLETE) {\n            this.setState({channelName: newURL, nameModified: true}, this.doSubmit);\n        } else {\n            this.setState({flowState: SHOW_NEW_CHANNEL, serverError: null, channelName: newURL, nameModified: true});\n        }\n    }\n    urlChangeDismissed() {\n        this.setState({flowState: SHOW_NEW_CHANNEL});\n    }\n    channelDataChanged(data) {\n        this.setState({\n            channelDisplayName: data.displayName,\n            channelPurpose: data.purpose,\n            channelHeader: data.header\n        });\n        if (!this.state.nameModified) {\n            this.setState({channelName: cleanUpUrlable(data.displayName.trim())});\n        }\n    }\n    render() {\n        const channelData = {\n            name: this.state.channelName,\n            displayName: this.state.channelDisplayName,\n            purpose: this.state.channelPurpose\n        };\n\n        let showChannelModal = false;\n        let showGroupModal = false;\n        let showChangeURLModal = false;\n\n        let changeURLTitle = '';\n        let changeURLSubmitButtonText = '';\n\n        // Only listen to flow state if we are being shown\n        if (this.props.show) {\n            switch (this.state.flowState) {\n            case SHOW_NEW_CHANNEL:\n                if (this.state.channelType === 'O') {\n                    showChannelModal = true;\n                } else {\n                    showGroupModal = true;\n                }\n                break;\n            case SHOW_EDIT_URL:\n                showChangeURLModal = true;\n                changeURLTitle = (\n                    <FormattedMessage\n                        id='channel_flow.changeUrlTitle'\n                        defaultMessage='Change Channel URL'\n                    />\n                );\n                changeURLSubmitButtonText = changeURLTitle;\n                break;\n            case SHOW_EDIT_URL_THEN_COMPLETE:\n                showChangeURLModal = true;\n                changeURLTitle = (\n                    <FormattedMessage\n                        id='channel_flow.set_url_title'\n                        defaultMessage='Set Channel URL'\n                    />\n                );\n                changeURLSubmitButtonText = (\n                    <FormattedMessage\n                        id='channel_flow.create'\n                        defaultMessage='Create Channel'\n                    />\n                );\n                break;\n            }\n        }\n        return (\n            <span>\n                <NewChannelModal\n                    show={showChannelModal}\n                    channelType={'O'}\n                    channelData={channelData}\n                    serverError={this.state.serverError}\n                    onSubmitChannel={this.doSubmit}\n                    onModalDismissed={this.props.onModalDismissed}\n                    onModalExited={this.onModalExited}\n                    onTypeSwitched={this.typeSwitched}\n                    onChangeURLPressed={this.urlChangeRequested}\n                    onDataChanged={this.channelDataChanged}\n                />\n                <NewChannelModal\n                    show={showGroupModal}\n                    channelType={'P'}\n                    channelData={channelData}\n                    serverError={this.state.serverError}\n                    onSubmitChannel={this.doSubmit}\n                    onModalExited={this.onModalExited}\n                    onModalDismissed={this.props.onModalDismissed}\n                    onTypeSwitched={this.typeSwitched}\n                    onChangeURLPressed={this.urlChangeRequested}\n                    onDataChanged={this.channelDataChanged}\n                />\n                <ChangeURLModal\n                    show={showChangeURLModal}\n                    title={changeURLTitle}\n                    submitButtonText={changeURLSubmitButtonText}\n                    currentURL={this.state.channelName}\n                    serverError={this.state.serverError}\n                    onModalSubmit={this.urlChangeSubmitted}\n                    onModalDismissed={this.urlChangeDismissed}\n                    onModalExited={this.onModalExited}\n                />\n            </span>\n        );\n    }\n}\n\nNewChannelFlow.defaultProps = {\n    show: false,\n    channelType: 'O'\n};\n\nNewChannelFlow.propTypes = {\n    show: PropTypes.bool.isRequired,\n    channelType: PropTypes.string.isRequired,\n    onModalDismissed: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/new_channel_flow.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {isCurrentUserCurrentTeamAdmin} from 'mattermost-redux/selectors/entities/teams';\nimport {isCurrentUserSystemAdmin} from 'mattermost-redux/selectors/entities/users';\n\nimport NewChannelModal from './new_channel_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        ctrlSend: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        isTeamAdmin: isCurrentUserCurrentTeamAdmin(state),\n        isSystemAdmin: isCurrentUserSystemAdmin(state)\n    };\n}\n\nexport default connect(mapStateToProps)(NewChannelModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/new_channel_modal/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as ChannelUtils from 'utils/channel_utils.jsx';\nimport Constants from 'utils/constants.jsx';\nimport {getShortenedURL} from 'utils/url.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class NewChannelModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Set whether to show the modal or not\n         */\n        show: PropTypes.bool.isRequired,\n\n        /**\n         * The type of channel to create, 'O' or 'P'\n         */\n        channelType: PropTypes.string.isRequired,\n\n        /**\n         * The data needed to create the channel\n         */\n        channelData: PropTypes.object.isRequired,\n\n        /**\n         * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n         */\n        ctrlSend: PropTypes.bool,\n\n        /**\n         * Set to show options available to team admins\n         */\n        isTeamAdmin: PropTypes.bool,\n\n        /**\n         * Set to show options available to system admins\n         */\n        isSystemAdmin: PropTypes.bool,\n\n        /**\n         * Server error from failed channel creation\n         */\n        serverError: PropTypes.node,\n\n        /**\n         * Function used to submit the channel\n         */\n        onSubmitChannel: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when modal is dimissed\n         */\n        onModalDismissed: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when modal has exited\n         */\n        onModalExited: PropTypes.func,\n\n        /**\n         * Function to call to switch channel type\n         */\n        onTypeSwitched: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when edit URL button is pressed\n         */\n        onChangeURLPressed: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when channel data is modified\n         */\n        onDataChanged: PropTypes.func.isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.onEnterKeyDown = this.onEnterKeyDown.bind(this);\n\n        this.state = {\n            displayNameError: ''\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.show === true && this.props.show === false) {\n            this.setState({\n                displayNameError: ''\n            });\n\n            document.addEventListener('keydown', this.onEnterKeyDown);\n        } else if (nextProps.show === false && this.props.show === true) {\n            document.removeEventListener('keydown', this.onEnterKeyDown);\n        }\n    }\n\n    componentDidMount() {\n        // ???\n        if (UserAgent.isInternetExplorer() || UserAgent.isEdge()) {\n            $('body').addClass('browser--ie');\n        }\n    }\n\n    onEnterKeyDown(e) {\n        if (this.props.ctrlSend && e.keyCode === Constants.KeyCodes.ENTER && e.ctrlKey) {\n            this.handleSubmit(e);\n        } else if (!this.props.ctrlSend && e.keyCode === Constants.KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n            this.handleSubmit(e);\n        }\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        const displayName = ReactDOM.findDOMNode(this.refs.display_name).value.trim();\n        if (displayName.length < Constants.MIN_CHANNELNAME_LENGTH) {\n            this.setState({displayNameError: true});\n            return;\n        }\n\n        this.props.onSubmitChannel();\n    }\n\n    handleChange() {\n        const newData = {\n            displayName: this.refs.display_name.value,\n            header: this.refs.channel_header.value,\n            purpose: this.refs.channel_purpose.value\n        };\n        this.props.onDataChanged(newData);\n    }\n\n    render() {\n        var displayNameError = null;\n        var serverError = null;\n        var displayNameClass = 'form-group';\n\n        if (this.state.displayNameError) {\n            displayNameError = (\n                <p className='input__help error'>\n                    <FormattedMessage\n                        id='channel_modal.displayNameError'\n                        defaultMessage='Channel name must be 2 or more characters'\n                    />\n                    {this.state.displayNameError}\n                </p>\n            );\n            displayNameClass += ' has-error';\n        }\n\n        if (this.props.serverError) {\n            serverError = <div className='form-group has-error'><div className='col-sm-12'><p className='input__help error'>{this.props.serverError}</p></div></div>;\n        }\n\n        let createPublicChannelLink = (\n            <button\n                className='style--none color--link'\n                onClick={this.props.onTypeSwitched}\n            >\n                <FormattedMessage\n                    id='channel_modal.publicChannel1'\n                    defaultMessage='Create a public channel'\n                />\n            </button>\n        );\n\n        let createPrivateChannelLink = (\n            <button\n                className='style--none color--link'\n                onClick={this.props.onTypeSwitched}\n            >\n                <FormattedMessage\n                    id='channel_modal.privateGroup2'\n                    defaultMessage='Create a private channel'\n                />\n            </button>\n        );\n\n        if (!ChannelUtils.showCreateOption(Constants.OPEN_CHANNEL, this.props.isTeamAdmin, this.props.isSystemAdmin)) {\n            createPublicChannelLink = null;\n        }\n\n        if (!ChannelUtils.showCreateOption(Constants.PRIVATE_CHANNEL, this.props.isTeamAdmin, this.props.isSystemAdmin)) {\n            createPrivateChannelLink = null;\n        }\n\n        var channelSwitchText = '';\n        let inputPrefixId = '';\n        switch (this.props.channelType) {\n        case 'P':\n            channelSwitchText = (\n                <div className='modal-intro'>\n                    <FormattedMessage\n                        id='channel_modal.privateGroup1'\n                        defaultMessage='Create a new private channel with restricted membership. '\n                    />\n                    {createPublicChannelLink}\n                </div>\n            );\n            inputPrefixId = 'newPrivateChannel';\n            break;\n        case 'O':\n            channelSwitchText = (\n                <div className='modal-intro'>\n                    <FormattedMessage\n                        id='channel_modal.publicChannel2'\n                        defaultMessage='Create a new public channel anyone can join. '\n                    />\n                    {createPrivateChannelLink}\n                </div>\n            );\n            inputPrefixId = 'newPublicChannel';\n            break;\n        }\n\n        const prettyTeamURL = getShortenedURL();\n\n        return (\n            <span>\n                <Modal\n                    dialogClassName='new-channel__modal'\n                    show={this.props.show}\n                    bsSize='large'\n                    onHide={this.props.onModalDismissed}\n                    onExited={this.props.onModalExited}\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title>\n                            <FormattedMessage\n                                id='channel_modal.modalTitle'\n                                defaultMessage='New Channel'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <form\n                        role='form'\n                        className='form-horizontal'\n                    >\n                        <Modal.Body>\n                            <div>\n                                {channelSwitchText}\n                            </div>\n                            <div className={displayNameClass}>\n                                <label className='col-sm-3 form__label control-label'>\n                                    <FormattedMessage\n                                        id='channel_modal.name'\n                                        defaultMessage='Name'\n                                    />\n                                </label>\n                                <div className='col-sm-9'>\n                                    <input\n                                        id={inputPrefixId + 'Name'}\n                                        onChange={this.handleChange}\n                                        type='text'\n                                        ref='display_name'\n                                        className='form-control'\n                                        placeholder={Utils.localizeMessage('channel_modal.nameEx', 'E.g.: \"Bugs\", \"Marketing\", \"客户支持\"')}\n                                        maxLength={Constants.MAX_CHANNELNAME_LENGTH}\n                                        value={this.props.channelData.displayName}\n                                        autoFocus={true}\n                                        tabIndex='1'\n                                    />\n                                    {displayNameError}\n                                    <p className='input__help dark'>\n                                        {'URL: ' + prettyTeamURL + this.props.channelData.name + ' ('}\n                                        <button\n                                            className='color--link style--none'\n                                            onClick={(e) => {\n                                                e.preventDefault();\n                                                this.props.onChangeURLPressed();\n                                            }}\n                                        >\n                                            <FormattedMessage\n                                                id='channel_modal.edit'\n                                                defaultMessage='Edit'\n                                            />\n                                        </button>\n                                        {')'}\n                                    </p>\n                                </div>\n                            </div>\n                            <div className='form-group'>\n                                <div className='col-sm-3'>\n                                    <label className='form__label control-label'>\n                                        <FormattedMessage\n                                            id='channel_modal.purpose'\n                                            defaultMessage='Purpose'\n                                        />\n                                    </label>\n                                    <label className='form__label light'>\n                                        <FormattedMessage\n                                            id='channel_modal.optional'\n                                            defaultMessage='(optional)'\n                                        />\n                                    </label>\n                                </div>\n                                <div className='col-sm-9'>\n                                    <textarea\n                                        id={inputPrefixId + 'Purpose'}\n                                        className='form-control no-resize'\n                                        ref='channel_purpose'\n                                        rows='4'\n                                        placeholder={Utils.localizeMessage('channel_modal.purposeEx', 'E.g.: \"A channel to file bugs and improvements\"')}\n                                        maxLength='250'\n                                        value={this.props.channelData.purpose}\n                                        onChange={this.handleChange}\n                                        tabIndex='2'\n                                    />\n                                    <p className='input__help'>\n                                        <FormattedMessage\n                                            id='channel_modal.descriptionHelp'\n                                            defaultMessage='Describe how this channel should be used.'\n                                        />\n                                    </p>\n                                </div>\n                            </div>\n                            <div className='form-group less'>\n                                <div className='col-sm-3'>\n                                    <label className='form__label control-label'>\n                                        <FormattedMessage\n                                            id='channel_modal.header'\n                                            defaultMessage='Header'\n                                        />\n                                    </label>\n                                    <label className='form__label light'>\n                                        <FormattedMessage\n                                            id='channel_modal.optional'\n                                            defaultMessage='(optional)'\n                                        />\n                                    </label>\n                                </div>\n                                <div className='col-sm-9'>\n                                    <textarea\n                                        id={inputPrefixId + 'Header'}\n                                        className='form-control no-resize'\n                                        ref='channel_header'\n                                        rows='4'\n                                        placeholder={Utils.localizeMessage('channel_modal.headerEx', 'E.g.: \"[Link Title](http://example.com)\"')}\n                                        maxLength='1024'\n                                        value={this.props.channelData.header}\n                                        onChange={this.handleChange}\n                                        tabIndex='2'\n                                    />\n                                    <p className='input__help'>\n                                        <FormattedMessage\n                                            id='channel_modal.headerHelp'\n                                            defaultMessage='Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).'\n                                        />\n                                    </p>\n                                    {serverError}\n                                </div>\n                            </div>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                type='button'\n                                className='btn btn-default'\n                                onClick={this.props.onModalDismissed}\n                            >\n                                <FormattedMessage\n                                    id='channel_modal.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                onClick={this.handleSubmit}\n                                type='submit'\n                                className='btn btn-primary'\n                                tabIndex='3'\n                            >\n                                <FormattedMessage\n                                    id='channel_modal.createNew'\n                                    defaultMessage='Create New Channel'\n                                />\n                            </button>\n                        </Modal.Footer>\n                    </form>\n                </Modal>\n            </span>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/new_channel_modal/new_channel_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal, OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as URL from 'utils/url.jsx';\n\nexport default class ChangeUrlModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onURLChanged = this.onURLChanged.bind(this);\n        this.doSubmit = this.doSubmit.bind(this);\n        this.doCancel = this.doCancel.bind(this);\n\n        this.state = {\n            currentURL: props.currentURL,\n            urlError: '',\n            userEdit: false\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // This check prevents the url being deleted when we re-render\n        // because of user status check\n        if (!this.state.userEdit) {\n            this.setState({\n                currentURL: nextProps.currentURL\n            });\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.show === true && prevProps.show === false) {\n            ReactDOM.findDOMNode(this.refs.urlinput).select();\n        }\n    }\n\n    onURLChanged(e) {\n        const url = e.target.value.trim();\n        this.setState({currentURL: url.replace(/[^A-Za-z0-9-_]/g, '').toLowerCase(), userEdit: true});\n    }\n\n    getURLError(url) {\n        let error = []; //eslint-disable-line prefer-const\n        if (url.length < 2) {\n            error.push(\n                <span key='error1'>\n                    <FormattedMessage\n                        id='change_url.longer'\n                        defaultMessage='URL must be two or more characters.'\n                    />\n                    <br/>\n                </span>\n            );\n        }\n        if (url.charAt(0) === '-' || url.charAt(0) === '_') {\n            error.push(\n                <span key='error2'>\n                    <FormattedMessage\n                        id='change_url.startWithLetter'\n                        defaultMessage='URL must start with a letter or number.'\n                    />\n                    <br/>\n                </span>\n            );\n        }\n        if (url.length > 1 && (url.charAt(url.length - 1) === '-' || url.charAt(url.length - 1) === '_')) {\n            error.push(\n                <span key='error3'>\n                    <FormattedMessage\n                        id='change_url.endWithLetter'\n                        defaultMessage='URL must end with a letter or number.'\n                    />\n                    <br/>\n                </span>);\n        }\n        if (url.indexOf('__') > -1) {\n            error.push(\n                <span key='error4'>\n                    <FormattedMessage\n                        id='change_url.noUnderscore'\n                        defaultMessage='URL can not contain two underscores in a row.'\n                    />\n                    <br/>\n                </span>);\n        }\n\n        // In case of error we don't detect\n        if (error.length === 0) {\n            error.push(\n                <span key='errorlast'>\n                    <FormattedMessage\n                        id='change_url.invalidUrl'\n                        defaultMessage='Invalid URL'\n                    />\n                    <br/>\n                </span>);\n        }\n        return error;\n    }\n\n    doSubmit(e) {\n        e.preventDefault();\n\n        const url = ReactDOM.findDOMNode(this.refs.urlinput).value;\n        const cleanedURL = URL.cleanUpUrlable(url);\n        if (cleanedURL !== url || url.length < 2 || url.indexOf('__') > -1) {\n            this.setState({urlError: this.getURLError(url)});\n            return;\n        }\n        this.setState({urlError: '', userEdit: false});\n        this.props.onModalSubmit(url);\n    }\n\n    doCancel() {\n        this.setState({urlError: '', userEdit: false});\n        this.props.onModalDismissed();\n    }\n\n    render() {\n        let urlClass = 'input-group input-group--limit';\n        let error = null;\n\n        if (this.state.urlError) {\n            urlClass += ' has-error';\n        }\n\n        if (this.props.serverError || this.state.urlError) {\n            error = (\n                <div className='has-error'>\n                    <p className='input__help error'>\n                        {this.state.urlError || this.props.serverError}\n                    </p>\n                </div>\n            );\n        }\n\n        const fullUrl = TeamStore.getCurrentTeamUrl() + '/channels';\n        const shortURL = URL.getShortenedURL(fullUrl);\n        const urlTooltip = (\n            <Tooltip id='urlTooltip'>{fullUrl}</Tooltip>\n        );\n\n        return (\n            <Modal\n                show={this.props.show}\n                onHide={this.doCancel}\n                onExited={this.props.onModalExited}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>{this.props.title}</Modal.Title>\n                </Modal.Header>\n                <form\n                    role='form'\n                    className='form-horizontal'\n                >\n                    <Modal.Body>\n                        <div className='modal-intro'>\n                            <FormattedMessage\n                                id='channel_flow.changeUrlDescription'\n                                defaultMessage='Some characters are now allowed in URLs and may be removed.'\n                            />\n                        </div>\n                        <div className='form-group'>\n                            <label className='col-sm-3 form__label control-label'>\n                                <FormattedMessage\n                                    id='change_url.urlLabel'\n                                    defaultMessage='Channel URL'\n                                />\n                            </label>\n                            <div className='col-sm-9'>\n                                <div className={urlClass}>\n                                    <OverlayTrigger\n                                        trigger={['hover', 'focus']}\n                                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                                        placement='top'\n                                        overlay={urlTooltip}\n                                    >\n                                        <span className='input-group-addon'>{shortURL}</span>\n                                    </OverlayTrigger>\n                                    <input\n                                        type='text'\n                                        ref='urlinput'\n                                        className='form-control'\n                                        maxLength={Constants.MAX_CHANNELNAME_LENGTH}\n                                        onChange={this.onURLChanged}\n                                        value={this.state.currentURL}\n                                        autoFocus={true}\n                                        tabIndex='1'\n                                    />\n                                </div>\n                                {error}\n                            </div>\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type='button'\n                            className='btn btn-default'\n                            onClick={this.doCancel}\n                        >\n                            <FormattedMessage\n                                id='change_url.close'\n                                defaultMessage='Close'\n                            />\n                        </button>\n                        <button\n                            onClick={this.doSubmit}\n                            type='submit'\n                            className='btn btn-primary'\n                            tabIndex='2'\n                        >\n                            {this.props.submitButtonText}\n                        </button>\n                    </Modal.Footer>\n                </form>\n            </Modal>\n        );\n    }\n}\n\nChangeUrlModal.defaultProps = {\n    show: false,\n    title: 'Change URL',\n    submitButtonText: 'Save',\n    currentURL: '',\n    serverError: null\n};\n\nChangeUrlModal.propTypes = {\n    show: PropTypes.bool.isRequired,\n    title: PropTypes.node,\n    submitButtonText: PropTypes.node,\n    currentURL: PropTypes.string,\n    serverError: PropTypes.node,\n    onModalSubmit: PropTypes.func.isRequired,\n    onModalExited: PropTypes.func,\n    onModalDismissed: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/change_url_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\n\nimport PreferenceStore from 'stores/preference_store.jsx';\n\nimport {Constants, Preferences, TutorialSteps} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport StatusDropdown from 'components/status_dropdown/index.jsx';\nimport {createMenuTip} from 'components/tutorial/tutorial_tip.jsx';\n\nimport SidebarHeaderDropdown from './sidebar_header_dropdown.jsx';\n\nexport default class SidebarHeader extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = this.getStateFromStores();\n    }\n\n    componentDidMount() {\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        window.addEventListener('resize', this.handleResize);\n    }\n\n    componentWillUnmount() {\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    handleResize = () => {\n        const isMobile = Utils.isMobile();\n        this.setState({isMobile});\n    }\n\n    getPreferences = () => {\n        if (!this.props.currentUser) {\n            return {};\n        }\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, this.props.currentUser.id, 999);\n        const showTutorialTip = tutorialStep === TutorialSteps.MENU_POPOVER && !Utils.isMobile();\n\n        return {showTutorialTip};\n    }\n\n    getStateFromStores = () => {\n        const preferences = this.getPreferences();\n        const isMobile = Utils.isMobile();\n        return {...preferences, isMobile};\n    }\n\n    onPreferenceChange = () => {\n        this.setState(this.getPreferences());\n    }\n\n    toggleDropdown = (e) => {\n        e.preventDefault();\n\n        this.refs.dropdown.toggleDropdown();\n    }\n\n    renderStatusDropdown = () => {\n        if (this.state.isMobile) {\n            return null;\n        }\n        return (\n            <StatusDropdown/>\n        );\n    }\n\n    render() {\n        const statusDropdown = this.renderStatusDropdown();\n\n        let tutorialTip = null;\n        if (this.state.showTutorialTip) {\n            tutorialTip = createMenuTip(this.toggleDropdown);\n        }\n\n        let teamNameWithToolTip = null;\n        if (this.props.teamDescription === '') {\n            teamNameWithToolTip = (\n                <div\n                    id='headerTeamName'\n                    className='team__name'\n                >\n                    {this.props.teamDisplayName}\n                </div>\n            );\n        } else {\n            teamNameWithToolTip = (\n                <OverlayTrigger\n                    trigger={['hover', 'focus']}\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='bottom'\n                    overlay={<Tooltip id='team-name__tooltip'>{this.props.teamDescription}</Tooltip>}\n                    ref='descriptionOverlay'\n                >\n                    <div\n                        id='headerTeamName'\n                        className='team__name'\n                    >\n                        {this.props.teamDisplayName}\n                    </div>\n                </OverlayTrigger>\n            );\n        }\n\n        return (\n            <div\n                id='teamHeader'\n                className='team__header theme'\n            >\n                {tutorialTip}\n                <div\n                    id='headerInfo'\n                    className='header__info'\n                >\n                    {teamNameWithToolTip}\n                    <div\n                        id='headerUsername'\n                        className='user__name'\n                    >\n                        {'@' + this.props.currentUser.username}\n                    </div>\n                </div>\n                <div id='sidebarDropdownMenuContainer'>\n                    <SidebarHeaderDropdown\n                        ref='dropdown'\n                        teamType={this.props.teamType}\n                        teamDisplayName={this.props.teamDisplayName}\n                        teamName={this.props.teamName}\n                        currentUser={this.props.currentUser}\n                    />\n                </div>\n                {statusDropdown}\n            </div>\n        );\n    }\n}\n\nSidebarHeader.defaultProps = {\n    teamDisplayName: '',\n    teamDescription: '',\n    teamType: ''\n};\nSidebarHeader.propTypes = {\n    teamDisplayName: PropTypes.string,\n    teamDescription: PropTypes.string,\n    teamName: PropTypes.string,\n    teamType: PropTypes.string,\n    currentUser: PropTypes.object\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_header.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {setStatus} from 'mattermost-redux/actions/users';\nimport {Client4} from 'mattermost-redux/client';\nimport {getCurrentUser, getStatusForUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport StatusDropdown from 'components/status_dropdown/status_dropdown.jsx';\n\nfunction mapStateToProps(state) {\n    const currentUser = getCurrentUser(state);\n    const userId = currentUser.id;\n    const lastPicUpdate = currentUser.last_picture_update;\n    const profilePicture = Client4.getProfilePictureUrl(userId, lastPicUpdate);\n    const status = getStatusForUserId(state, currentUser.id);\n    return {\n        userId,\n        profilePicture,\n        status\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            setStatus\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StatusDropdown);\n\n\n\n// WEBPACK FOOTER //\n// ./components/status_dropdown/index.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Dropdown} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {UserStatuses} from 'utils/constants.jsx';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport BootstrapSpan from 'components/bootstrap_span.jsx';\nimport StatusIcon from 'components/status_icon.jsx';\n\nexport default class StatusDropdown extends React.Component {\n\n    static propTypes = {\n        style: PropTypes.object,\n        status: PropTypes.string,\n        userId: PropTypes.string.isRequired,\n        profilePicture: PropTypes.string,\n        actions: PropTypes.shape({\n            setStatus: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    state = {\n        showDropdown: false\n    }\n\n    onToggle = (showDropdown) => {\n        this.setState({showDropdown});\n    }\n\n    closeDropdown = () => {\n        this.setState({showDropdown: false});\n    }\n\n    setStatus = (status) => {\n        this.props.actions.setStatus({\n            user_id: this.props.userId,\n            status\n        });\n        this.closeDropdown();\n    }\n\n    setOnline = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.ONLINE);\n    }\n\n    setOffline = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.OFFLINE);\n    }\n\n    setAway = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.AWAY);\n    }\n\n    setDnd = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.DND);\n    }\n\n    renderStatusOnlineAction = () => {\n        return this.renderStatusAction(UserStatuses.ONLINE, this.setOnline);\n    }\n\n    renderStatusAwayAction = () => {\n        return this.renderStatusAction(UserStatuses.AWAY, this.setAway);\n    }\n\n    renderStatusOfflineAction = () => {\n        return this.renderStatusAction(UserStatuses.OFFLINE, this.setOffline);\n    }\n\n    renderStatusDndAction = () => {\n        return this.renderStatusAction(UserStatuses.DND, this.setDnd, localizeMessage('status_dropdown.set_dnd.extra', 'Disables Desktop and Push Notifications'));\n    }\n\n    renderProfilePicture = () => {\n        if (!this.props.profilePicture) {\n            return null;\n        }\n        return (\n            <img\n                className='user__picture'\n                src={this.props.profilePicture}\n            />\n        );\n    }\n\n    renderStatusAction = (status, onClick, extraText) => {\n        return (\n            <li key={status}>\n                <a\n                    id={'status' + status}\n                    href={'#'}\n                    onClick={onClick}\n                >\n                    <FormattedMessage\n                        id={`status_dropdown.set_${status}`}\n                        defaultMessage={status}\n                    />\n                    <span className='status-dropdown-extra'>{extraText}</span>\n                </a>\n            </li>\n        );\n    }\n\n    render() {\n        const profilePicture = this.renderProfilePicture();\n        const actions = [\n            this.renderStatusOnlineAction(),\n            this.renderStatusAwayAction(),\n            this.renderStatusDndAction(),\n            this.renderStatusOfflineAction()\n        ];\n        return (\n            <Dropdown\n                id={'status-dropdown'}\n                open={this.state.showDropdown}\n                onToggle={this.onToggle}\n                style={this.props.style}\n            >\n                <BootstrapSpan\n                    bsRole={'toggle'}\n                >\n                    <div className='status-wrapper status-selector'>\n                        {profilePicture}\n                        <StatusIcon status={this.props.status}/>\n                        <span className={'status status-edit edit'}>\n                            <i className={'fa fa-caret-down'}/>\n                        </span>\n                    </div>\n                </BootstrapSpan>\n                <Dropdown.Menu id='editStatusMenu'>\n                    {actions}\n                </Dropdown.Menu>\n            </Dropdown>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/status_dropdown/status_dropdown.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass BootstrapSpan extends React.PureComponent {\n\n    static propTypes = {\n        children: PropTypes.element\n    }\n\n    render() {\n        const {children, ...props} = this.props;\n        delete props.bsRole;\n        delete props.bsClass;\n\n        return <span {...props}>{children}</span>;\n    }\n}\n\nexport default BootstrapSpan;\n\n\n\n// WEBPACK FOOTER //\n// ./components/bootstrap_span.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Dropdown} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport {Constants, WebrtcActionTypes} from 'utils/constants.jsx';\nimport {useSafeUrl} from 'utils/url';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport AboutBuildModal from 'components/about_build_modal';\nimport AddUsersToTeam from 'components/add_users_to_team';\nimport TeamMembersModal from 'components/team_members_modal';\n\nimport SidebarHeaderDropdownButton from './sidebar_header_dropdown_button.jsx';\n\nexport default class SidebarHeaderDropdown extends React.Component {\n    static propTypes = {\n        teamType: PropTypes.string,\n        teamDisplayName: PropTypes.string,\n        teamName: PropTypes.string,\n        currentUser: PropTypes.object\n    };\n\n    static defaultProps = {\n        teamType: ''\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.toggleDropdown = this.toggleDropdown.bind(this);\n\n        this.handleAboutModal = this.handleAboutModal.bind(this);\n        this.aboutModalDismissed = this.aboutModalDismissed.bind(this);\n        this.showAccountSettingsModal = this.showAccountSettingsModal.bind(this);\n        this.showAddUsersToTeamModal = this.showAddUsersToTeamModal.bind(this);\n        this.hideAddUsersToTeamModal = this.hideAddUsersToTeamModal.bind(this);\n        this.showInviteMemberModal = this.showInviteMemberModal.bind(this);\n        this.showGetTeamInviteLinkModal = this.showGetTeamInviteLinkModal.bind(this);\n        this.showTeamMembersModal = this.showTeamMembersModal.bind(this);\n        this.hideTeamMembersModal = this.hideTeamMembersModal.bind(this);\n        this.toggleShortcutsModal = this.toggleShortcutsModal.bind(this);\n\n        this.onTeamChange = this.onTeamChange.bind(this);\n\n        this.renderCustomEmojiLink = this.renderCustomEmojiLink.bind(this);\n\n        this.handleClick = this.handleClick.bind(this);\n\n        this.state = {\n            teamMembers: TeamStore.getMyTeamMembers(),\n            teamListings: TeamStore.getTeamListings(),\n            showAboutModal: false,\n            showDropdown: false,\n            showTeamMembersModal: false,\n            showAddUsersToTeamModal: false\n        };\n    }\n\n    handleClick(e) {\n        if (WebrtcStore.isBusy()) {\n            WebrtcStore.emitChanged({action: WebrtcActionTypes.IN_PROGRESS});\n            e.preventDefault();\n        }\n    }\n\n    toggleDropdown(val) {\n        if (typeof (val) === 'boolean') {\n            this.setState({showDropdown: val});\n            return;\n        }\n\n        if (val && val.preventDefault) {\n            val.preventDefault();\n        }\n\n        this.setState({showDropdown: !this.state.showDropdown});\n    }\n\n    handleAboutModal(e) {\n        e.preventDefault();\n\n        this.setState({\n            showAboutModal: true,\n            showDropdown: false\n        });\n    }\n\n    aboutModalDismissed() {\n        this.setState({showAboutModal: false});\n    }\n\n    showAccountSettingsModal(e) {\n        e.preventDefault();\n\n        this.setState({showDropdown: false});\n\n        GlobalActions.showAccountSettingsModal();\n    }\n\n    toggleShortcutsModal(e) {\n        e.preventDefault();\n        this.setState({showDropdown: false});\n\n        GlobalActions.toggleShortcutsModal();\n    }\n\n    showAddUsersToTeamModal(e) {\n        e.preventDefault();\n\n        this.setState({\n            showAddUsersToTeamModal: true,\n            showDropdown: false\n        });\n    }\n\n    hideAddUsersToTeamModal() {\n        this.setState({\n            showAddUsersToTeamModal: false\n        });\n    }\n\n    showInviteMemberModal(e) {\n        e.preventDefault();\n\n        this.setState({showDropdown: false});\n\n        GlobalActions.showInviteMemberModal();\n    }\n\n    showGetTeamInviteLinkModal(e) {\n        e.preventDefault();\n\n        this.setState({showDropdown: false});\n\n        GlobalActions.showGetTeamInviteLinkModal();\n    }\n\n    showTeamMembersModal(e) {\n        e.preventDefault();\n\n        this.setState({\n            showTeamMembersModal: true\n        });\n    }\n\n    hideTeamMembersModal() {\n        this.setState({\n            showTeamMembersModal: false\n        });\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onTeamChange);\n    }\n\n    onTeamChange() {\n        this.setState({\n            teamMembers: TeamStore.getMyTeamMembers(),\n            teamListings: TeamStore.getTeamListings(),\n            showDropdown: false\n        });\n    }\n\n    componentWillUnmount() {\n        $(ReactDOM.findDOMNode(this.refs.dropdown)).off('hide.bs.dropdown');\n        TeamStore.removeChangeListener(this.onTeamChange);\n    }\n\n    renderCustomEmojiLink() {\n        if (window.mm_config.EnableCustomEmoji !== 'true' || !Utils.canCreateCustomEmoji(this.props.currentUser)) {\n            return null;\n        }\n\n        return (\n            <li>\n                <Link\n                    id='customEmoji'\n                    onClick={this.handleClick}\n                    to={'/' + this.props.teamName + '/emoji'}\n                >\n                    <FormattedMessage\n                        id='navbar_dropdown.emoji'\n                        defaultMessage='Custom Emoji'\n                    />\n                </Link>\n            </li>\n        );\n    }\n\n    render() {\n        const config = global.mm_config;\n        const currentUser = this.props.currentUser;\n        let teamLink = '';\n        let inviteLink = '';\n        let addMemberToTeam = '';\n        let manageLink = '';\n        let sysAdminLink = '';\n        let isAdmin = false;\n        let isSystemAdmin = false;\n        let teamSettings = null;\n        let integrationsLink = null;\n\n        if (!currentUser) {\n            return null;\n        }\n\n        if (currentUser != null) {\n            isAdmin = TeamStore.isTeamAdminForCurrentTeam() || UserStore.isSystemAdminForCurrentUser();\n            isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n\n            inviteLink = (\n                <li>\n                    <button\n                        className='style--none'\n                        id='sendEmailInvite'\n                        onClick={this.showInviteMemberModal}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.inviteMember'\n                            defaultMessage='Send Email Invite'\n                        />\n                    </button>\n                </li>\n            );\n\n            addMemberToTeam = (\n                <li>\n                    <button\n                        className='style--none'\n                        id='addUsersToTeam'\n                        onClick={this.showAddUsersToTeamModal}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.addMemberToTeam'\n                            defaultMessage='Add Members to Team'\n                        />\n                    </button>\n                </li>\n            );\n\n            if (this.props.teamType === Constants.OPEN_TEAM && config.EnableUserCreation === 'true') {\n                teamLink = (\n                    <li>\n                        <button\n                            className='style--none'\n                            id='getTeamInviteLink'\n                            onClick={this.showGetTeamInviteLinkModal}\n                        >\n                            <FormattedMessage\n                                id='navbar_dropdown.teamLink'\n                                defaultMessage='Get Team Invite Link'\n                            />\n                        </button>\n                    </li>\n                );\n            }\n\n            if (global.window.mm_license.IsLicensed === 'true') {\n                if (config.RestrictTeamInvite === Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addMemberToTeam = null;\n                } else if (config.RestrictTeamInvite === Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addMemberToTeam = null;\n                }\n            }\n        }\n\n        let membersName = (\n            <FormattedMessage\n                id='navbar_dropdown.manageMembers'\n                defaultMessage='Manage Members'\n            />\n        );\n\n        if (isAdmin) {\n            teamSettings = (\n                <li>\n                    <button\n                        className='style--none'\n                        id='teamSettings'\n                        data-toggle='modal'\n                        data-target='#team_settings'\n                        onClick={this.toggleDropdown}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.teamSettings'\n                            defaultMessage='Team Settings'\n                        />\n                    </button>\n                </li>\n            );\n        } else {\n            membersName = (\n                <FormattedMessage\n                    id='navbar_dropdown.viewMembers'\n                    defaultMessage='View Members'\n                />\n            );\n        }\n\n        manageLink = (\n            <li>\n                <button\n                    id='manageMembers'\n                    className='style--none'\n                    onClick={this.showTeamMembersModal}\n                >\n                    {membersName}\n                </button>\n            </li>\n        );\n\n        const integrationsEnabled =\n            config.EnableIncomingWebhooks === 'true' ||\n            config.EnableOutgoingWebhooks === 'true' ||\n            config.EnableCommands === 'true' ||\n            (config.EnableOAuthServiceProvider === 'true' && (isSystemAdmin || config.EnableOnlyAdminIntegrations !== 'true'));\n        if (integrationsEnabled && (isAdmin || config.EnableOnlyAdminIntegrations !== 'true')) {\n            integrationsLink = (\n                <li>\n                    <Link\n                        id='Integrations'\n                        to={'/' + this.props.teamName + '/integrations'}\n                        onClick={this.handleClick}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.integrations'\n                            defaultMessage='Integrations'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        if (isSystemAdmin) {\n            sysAdminLink = (\n                <li>\n                    <Link\n                        id='systemConsole'\n                        to={'/admin_console'}\n                        onClick={this.handleClick}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.console'\n                            defaultMessage='System Console'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        const teams = [];\n        let moreTeams = false;\n\n        if (config.EnableTeamCreation === 'true' || UserStore.isSystemAdminForCurrentUser()) {\n            teams.push(\n                <li key='newTeam_li'>\n                    <Link\n                        id='createTeam'\n                        key='newTeam_a'\n                        to='/create_team'\n                        onClick={this.handleClick}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.create'\n                            defaultMessage='Create a New Team'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        const isAlreadyMember = this.state.teamMembers.reduce((result, item) => {\n            result[item.team_id] = true;\n            return result;\n        }, {});\n\n        for (const id in this.state.teamListings) {\n            if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                moreTeams = true;\n                break;\n            }\n        }\n\n        if (moreTeams) {\n            teams.push(\n                <li key='joinTeam_li'>\n                    <Link\n                        id='joinAnotherTeam'\n                        onClick={this.handleClick}\n                        to='/select_team'\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.join'\n                            defaultMessage='Join Another Team'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        teams.push(\n            <li key='leaveTeam_li'>\n                <button\n                    className='style--none'\n                    id='leaveTeam'\n                    onClick={GlobalActions.showLeaveTeamModal}\n                >\n                    <FormattedMessage\n                        id='navbar_dropdown.leave'\n                        defaultMessage='Leave Team'\n                    />\n                </button>\n            </li>\n        );\n\n        let helpLink = null;\n        if (config.HelpLink) {\n            helpLink = (\n                <li>\n                    <Link\n                        id='helpLink'\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={config.HelpLink}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.help'\n                            defaultMessage='Help'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let reportLink = null;\n        if (config.ReportAProblemLink) {\n            reportLink = (\n                <li>\n                    <Link\n                        id='reportLink'\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={config.ReportAProblemLink}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.report'\n                            defaultMessage='Report a Problem'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let nativeAppLink = null;\n        if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n            nativeAppLink = (\n                <li>\n                    <Link\n                        id='nativeAppLink'\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={useSafeUrl(global.window.mm_config.AppDownloadLink)}\n                    >\n                        <FormattedMessage\n                            id='navbar_dropdown.nativeApps'\n                            defaultMessage='Download Apps'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let teamMembersModal;\n        if (this.state.showTeamMembersModal) {\n            teamMembersModal = (\n                <TeamMembersModal\n                    onLoad={this.toggleDropdown}\n                    onHide={this.hideTeamMembersModal}\n                    isAdmin={isAdmin}\n                />\n            );\n        }\n\n        let addUsersToTeamModal;\n        if (this.state.showAddUsersToTeamModal) {\n            addUsersToTeamModal = (\n                <AddUsersToTeam\n                    onModalDismissed={this.hideAddUsersToTeamModal}\n                />\n            );\n        }\n\n        const keyboardShortcuts = (\n            <li>\n                <button\n                    className='style--none'\n                    id='keyboardShortcuts'\n                    onClick={this.toggleShortcutsModal}\n                >\n                    <FormattedMessage\n                        id='navbar_dropdown.keyboardShortcuts'\n                        defaultMessage='Keyboard Shortcuts'\n                    />\n                </button>\n            </li>\n        );\n\n        const accountSettings = (\n            <li>\n                <button\n                    className='style--none'\n                    id='accountSettings'\n                    onClick={this.showAccountSettingsModal}\n                >\n                    <FormattedMessage\n                        id='navbar_dropdown.accountSettings'\n                        defaultMessage='Account Settings'\n                    />\n                </button>\n            </li>\n        );\n\n        const about = (\n            <li>\n                <button\n                    id='about'\n                    className='style--none'\n                    onClick={this.handleAboutModal}\n                >\n                    <FormattedMessage\n                        id='navbar_dropdown.about'\n                        defaultMessage='About Mattermost'\n                    />\n                </button>\n            </li>\n        );\n\n        const logout = (\n            <li>\n                <button\n                    className='style--none'\n                    id='logout'\n                    onClick={() => GlobalActions.emitUserLoggedOutEvent()}\n                >\n                    <FormattedMessage\n                        id='navbar_dropdown.logout'\n                        defaultMessage='Logout'\n                    />\n                </button>\n            </li>\n        );\n\n        const customEmoji = this.renderCustomEmojiLink();\n\n        // Dividers.\n        let inviteDivider = null;\n        if (inviteLink || teamLink || addMemberToTeam) {\n            inviteDivider = <li className='divider'/>;\n        }\n\n        let teamDivider = null;\n        if (teamSettings || manageLink || teams) {\n            teamDivider = <li className='divider'/>;\n        }\n\n        let backstageDivider = null;\n        if (integrationsLink || customEmoji) {\n            backstageDivider = <li className='divider'/>;\n        }\n\n        let sysAdminDivider = null;\n        if (sysAdminLink) {\n            sysAdminDivider = <li className='divider'/>;\n        }\n\n        let helpDivider = null;\n        if (helpLink || reportLink || nativeAppLink || about) {\n            helpDivider = <li className='divider'/>;\n        }\n\n        let logoutDivider = null;\n        if (logout) {\n            logoutDivider = <li className='divider'/>;\n        }\n\n        return (\n            <Dropdown\n                id='sidebar-header-dropdown'\n                open={this.state.showDropdown}\n                onToggle={this.toggleDropdown}\n                className='sidebar-header-dropdown'\n                pullRight={true}\n            >\n                <SidebarHeaderDropdownButton\n                    bsRole='toggle'\n                    onClick={this.toggleDropdown}\n                />\n                <Dropdown.Menu id='sidebarDropdownMenu'>\n                    {accountSettings}\n                    {inviteDivider}\n                    {inviteLink}\n                    {teamLink}\n                    {addMemberToTeam}\n                    {teamDivider}\n                    {teamSettings}\n                    {manageLink}\n                    {teams}\n                    {backstageDivider}\n                    {integrationsLink}\n                    {customEmoji}\n                    {sysAdminDivider}\n                    {sysAdminLink}\n                    {helpDivider}\n                    {helpLink}\n                    {keyboardShortcuts}\n                    {reportLink}\n                    {nativeAppLink}\n                    {about}\n                    {logoutDivider}\n                    {logout}\n                    {teamMembersModal}\n                    <AboutBuildModal\n                        show={this.state.showAboutModal}\n                        onModalDismissed={this.aboutModalDismissed}\n                    />\n                    {addUsersToTeamModal}\n                </Dropdown.Menu>\n            </Dropdown>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_header_dropdown.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants.jsx';\n\nexport default class SidebarHeaderDropdownButton extends React.PureComponent {\n    static propTypes = {\n        bsRole: PropTypes.oneOf(['toggle']).isRequired, // eslint-disable-line react/no-unused-prop-types\n        onClick: PropTypes.func.isRequired\n    };\n\n    render() {\n        const mainMenuToolTip = (\n            <Tooltip id='main-menu__tooltip'>\n                <FormattedMessage\n                    id='sidebar.mainMenu'\n                    defaultMessage='Main menu'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <OverlayTrigger\n                trigger={['hover', 'focus']}\n                delayShow={Constants.OVERLAY_TIME_DELAY}\n                placement='right'\n                overlay={mainMenuToolTip}\n            >\n                <button\n                    id='sidebarHeaderDropdownButton'\n                    className='sidebar-header-dropdown__toggle cursor--pointer style--none'\n                    onClick={this.props.onClick}\n                >\n                    <span\n                        className='sidebar-header-dropdown__icon'\n                        dangerouslySetInnerHTML={{__html: Constants.MENU_ICON}}\n                    />\n                </button>\n            </OverlayTrigger>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_header_dropdown_button.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Constants from 'utils/constants.jsx';\n\nexport default class UnreadChannelIndicator extends React.PureComponent {\n    static propTypes = {\n\n      /**\n       * Function to call when the indicator is clicked\n       */\n        onClick: PropTypes.func.isRequired,\n\n      /**\n       * Set whether to show the indicator or not\n       */\n        show: PropTypes.bool,\n\n      /**\n       * The additional CSS class for the indicator\n       */\n        extraClass: PropTypes.string,\n\n      /**\n       * The content of the indicator\n       */\n        content: PropTypes.node,\n\n      /**\n       * The name of the indicator\n       */\n        name: PropTypes.string\n    }\n\n    static defaultProps = {\n        show: false,\n        extraClass: '',\n        content: ''\n    }\n\n    render() {\n        const unreadIcon = Constants.UNREAD_ICON_SVG;\n\n        let displayValue = 'none';\n        if (this.props.show) {\n            displayValue = 'block';\n        }\n\n        return (\n            <div\n                id={'unreadIndicator' + this.props.name}\n                className={'nav-pills__unread-indicator ' + this.props.extraClass}\n                style={{display: displayValue}}\n                onClick={this.props.onClick}\n            >\n                {this.props.content}\n                <span\n                    className='icon icon__unread'\n                    dangerouslySetInnerHTML={{__html: unreadIcon}}\n                />\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/unread_channel_indicator.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {FormattedHTMLMessage, FormattedMessage} from 'react-intl';\nimport {browserHistory, Link} from 'react-router';\n\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\nimport {getChannelsByCategory} from 'mattermost-redux/selectors/entities/channels';\n\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport store from 'stores/redux_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as ChannelUtils from 'utils/channel_utils.jsx';\nimport {ActionTypes, Constants} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport {isDesktopApp} from 'utils/user_agent.jsx';\n\nimport favicon from 'images/favicon/favicon-16x16.png';\nimport redFavicon from 'images/favicon/redfavicon-16x16.png';\nimport loadingGif from 'images/load.gif';\n\nimport MoreChannels from 'components/more_channels';\nimport MoreDirectChannels from 'components/more_direct_channels';\n\nimport NewChannelFlow from './new_channel_flow.jsx';\nimport SidebarHeader from './sidebar_header.jsx';\nimport StatusIcon from './status_icon.jsx';\nimport TutorialTip from './tutorial/tutorial_tip.jsx';\nimport UnreadChannelIndicator from './unread_channel_indicator.jsx';\n\nconst Preferences = Constants.Preferences;\nconst TutorialSteps = Constants.TutorialSteps;\n\nconst dispatch = store.dispatch;\nconst getState = store.getState;\n\nexport default class Sidebar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.badgesActive = false;\n        this.firstUnreadChannel = null;\n        this.lastUnreadChannel = null;\n\n        this.isLeaving = new Map();\n        this.isSwitchingChannel = false;\n        this.closedDirectChannel = false;\n\n        const state = this.getStateFromStores();\n        state.newChannelModalType = '';\n        state.showDirectChannelsModal = false;\n        state.showMoreChannelsModal = false;\n        state.loadingDMChannel = -1;\n        state.inChannelChange = false;\n        this.state = state;\n    }\n\n    getTotalUnreadCount = () => {\n        const unreads = ChannelUtils.getCountsStateFromStores(this.state.currentTeam, this.state.teamMembers, this.state.unreadCounts);\n        return {msgs: unreads.messageCount, mentions: unreads.mentionCount};\n    }\n\n    getStateFromStores = () => {\n        const members = ChannelStore.getMyMembers();\n        const teamMembers = TeamStore.getMyTeamMembers();\n        const currentChannelId = ChannelStore.getCurrentId();\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, UserStore.getCurrentId(), 999);\n\n        const displayableChannels = getChannelsByCategory(store.getState());\n\n        return {\n            activeId: currentChannelId,\n            members,\n            teamMembers,\n            ...displayableChannels,\n            unreadCounts: JSON.parse(JSON.stringify(ChannelStore.getUnreadCounts())),\n            showTutorialTip: tutorialStep === TutorialSteps.CHANNEL_POPOVER,\n            currentTeam: TeamStore.getCurrent(),\n            currentUser: UserStore.getCurrentUser(),\n            townSquare: ChannelStore.getByName(Constants.DEFAULT_CHANNEL),\n            offTopic: ChannelStore.getByName(Constants.OFFTOPIC_CHANNEL)\n        };\n    }\n\n    onInChannelChange = () => {\n        this.setState({inChannelChange: !this.state.inChannelChange});\n    }\n\n    componentDidMount() {\n        ChannelStore.addChangeListener(this.onChange);\n        UserStore.addChangeListener(this.onChange);\n        UserStore.addInTeamChangeListener(this.onChange);\n        UserStore.addInChannelChangeListener(this.onInChannelChange);\n        UserStore.addStatusesChangeListener(this.onChange);\n        TeamStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onChange);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_DM_MODAL, this.onModalChange);\n\n        this.updateTitle();\n        this.updateUnreadIndicators();\n\n        document.addEventListener('keydown', this.navigateChannelShortcut);\n        document.addEventListener('keydown', this.navigateUnreadChannelShortcut);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState, this.state)) {\n            return true;\n        }\n        return false;\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        // if the active channel disappeared (which can happen when dm channels autoclose), go to town square\n        if (this.state.currentTeam === prevState.currentTeam &&\n            this.state.activeId === prevState.activeId &&\n            !this.channelIdIsDisplayedForState(this.state, this.state.activeId) &&\n            this.channelIdIsDisplayedForState(prevState, this.state.activeId)\n        ) {\n            this.closedDirectChannel = true;\n            browserHistory.push('/' + this.state.currentTeam.name + '/channels/town-square');\n            return;\n        }\n\n        this.updateTitle();\n        this.updateUnreadIndicators();\n        if (!Utils.isMobile()) {\n            $('.sidebar--left .nav-pills__container').perfectScrollbar();\n        }\n\n        // reset the scrollbar upon switching teams\n        if (this.state.currentTeam !== prevState.currentTeam) {\n            this.refs.container.scrollTop = 0;\n            $('.nav-pills__container').perfectScrollbar('update');\n        }\n\n        // close the LHS on mobile when you change channels\n        if (this.state.activeId !== prevState.activeId) {\n            if (this.closedDirectChannel) {\n                this.closedDirectChannel = false;\n            } else {\n                $('.app__body .inner-wrap').removeClass('move--right');\n                $('.app__body .sidebar--left').removeClass('move--right');\n                $('.multi-teams .team-sidebar').removeClass('move--right');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        ChannelStore.removeChangeListener(this.onChange);\n        UserStore.removeChangeListener(this.onChange);\n        UserStore.removeInTeamChangeListener(this.onChange);\n        UserStore.removeInChannelChangeListener(this.onChange);\n        UserStore.removeStatusesChangeListener(this.onChange);\n        TeamStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onChange);\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_DM_MODAL, this.onModalChange);\n        document.removeEventListener('keydown', this.navigateChannelShortcut);\n        document.removeEventListener('keydown', this.navigateUnreadChannelShortcut);\n    }\n\n    onModalChange = (value, args) => {\n        this.showMoreDirectChannelsModal(UserStore.getProfileListInChannel(args.channelId, true, false));\n    }\n\n    handleOpenMoreDirectChannelsModal = (e) => {\n        e.preventDefault();\n        if (this.state.showDirectChannelsModal) {\n            this.hideMoreDirectChannelsModal();\n        } else {\n            this.showMoreDirectChannelsModal();\n        }\n    }\n\n    onChange = () => {\n        if (this.state.currentTeam.id !== TeamStore.getCurrentId()) {\n            ChannelStore.clear();\n        }\n        this.setState(this.getStateFromStores());\n        this.updateTitle();\n    }\n\n    updateTitle = () => {\n        const channel = ChannelStore.getCurrent();\n        if (channel && this.state.currentTeam) {\n            let currentSiteName = '';\n            if (global.window.mm_config.SiteName != null) {\n                currentSiteName = global.window.mm_config.SiteName;\n            }\n\n            let currentChannelName = channel.display_name;\n            if (channel.type === Constants.DM_CHANNEL) {\n                const teammate = Utils.getDirectTeammate(channel.id);\n                if (teammate != null) {\n                    currentChannelName = teammate.username;\n                }\n            }\n\n            const unread = this.getTotalUnreadCount();\n            const mentionTitle = unread.mentions > 0 ? '(' + unread.mentions + ') ' : '';\n            const unreadTitle = unread.msgs > 0 ? '* ' : '';\n            document.title = mentionTitle + unreadTitle + currentChannelName + ' - ' + this.state.currentTeam.display_name + ' ' + currentSiteName;\n        }\n    }\n\n    onScroll = () => {\n        this.updateUnreadIndicators();\n    }\n\n    scrollToFirstUnreadChannel = () => {\n        if (this.firstUnreadChannel) {\n            const unreadMargin = 15;\n            const container = $(ReactDOM.findDOMNode(this.refs.container));\n            const firstUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.firstUnreadChannel]));\n            const scrollTop = (container.scrollTop() + firstUnreadElement.position().top) - unreadMargin;\n            container.stop().animate({scrollTop}, 500, 'swing');\n        }\n    }\n\n    scrollToLastUnreadChannel = () => {\n        if (this.lastUnreadChannel) {\n            const unreadMargin = 15;\n            const container = $(ReactDOM.findDOMNode(this.refs.container));\n            const lastUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.lastUnreadChannel]));\n            const elementBottom = lastUnreadElement.position().top + lastUnreadElement.height();\n            const scrollTop = (container.scrollTop() + (elementBottom - container.height())) + unreadMargin;\n            container.stop().animate({scrollTop}, 500, 'swing');\n        }\n    }\n\n    updateUnreadIndicators = () => {\n        const container = $(ReactDOM.findDOMNode(this.refs.container));\n\n        var showTopUnread = false;\n        var showBottomUnread = false;\n\n        // Consider partially obscured channels as above/below\n        const unreadMargin = 15;\n\n        if (this.firstUnreadChannel) {\n            var firstUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.firstUnreadChannel]));\n\n            if (firstUnreadElement.position().top + firstUnreadElement.height() < unreadMargin) {\n                showTopUnread = true;\n            }\n        }\n\n        if (this.lastUnreadChannel) {\n            var lastUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.lastUnreadChannel]));\n\n            if (lastUnreadElement.position().top > container.height() - unreadMargin) {\n                showBottomUnread = true;\n            }\n        }\n\n        this.setState({\n            showTopUnread,\n            showBottomUnread\n        });\n    }\n\n    updateScrollbarOnChannelChange = (channel) => {\n        const curChannel = this.refs[channel.name].getBoundingClientRect();\n        if ((curChannel.top - Constants.CHANNEL_SCROLL_ADJUSTMENT < 0) || (curChannel.top + curChannel.height > this.refs.container.getBoundingClientRect().height)) {\n            this.refs.container.scrollTop = this.refs.container.scrollTop + (curChannel.top - Constants.CHANNEL_SCROLL_ADJUSTMENT);\n            $('.nav-pills__container').perfectScrollbar('update');\n        }\n    }\n\n    navigateChannelShortcut = (e) => {\n        if (e.altKey && !e.shiftKey && (e.keyCode === Constants.KeyCodes.UP || e.keyCode === Constants.KeyCodes.DOWN)) {\n            e.preventDefault();\n\n            if (this.isSwitchingChannel) {\n                return;\n            }\n\n            this.isSwitchingChannel = true;\n            const allChannels = this.getDisplayedChannels();\n            const curChannelId = this.state.activeId;\n            let curIndex = -1;\n            for (let i = 0; i < allChannels.length; i++) {\n                if (allChannels[i].id === curChannelId) {\n                    curIndex = i;\n                }\n            }\n            let nextIndex = curIndex;\n            if (e.keyCode === Constants.KeyCodes.DOWN) {\n                nextIndex = curIndex + 1;\n            } else if (e.keyCode === Constants.KeyCodes.UP) {\n                nextIndex = curIndex - 1;\n            }\n            const nextChannel = allChannels[Utils.mod(nextIndex, allChannels.length)];\n            ChannelActions.goToChannel(nextChannel);\n            this.updateScrollbarOnChannelChange(nextChannel);\n            this.isSwitchingChannel = false;\n        } else if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && e.keyCode === Constants.KeyCodes.K) {\n            this.handleOpenMoreDirectChannelsModal(e);\n        }\n    }\n\n    navigateUnreadChannelShortcut = (e) => {\n        if (e.altKey && e.shiftKey && (e.keyCode === Constants.KeyCodes.UP || e.keyCode === Constants.KeyCodes.DOWN)) {\n            e.preventDefault();\n\n            if (this.isSwitchingChannel) {\n                return;\n            }\n\n            this.isSwitchingChannel = true;\n            const allChannels = this.getDisplayedChannels();\n            const curChannelId = this.state.activeId;\n            let curIndex = -1;\n            for (let i = 0; i < allChannels.length; i++) {\n                if (allChannels[i].id === curChannelId) {\n                    curIndex = i;\n                }\n            }\n            let nextIndex = curIndex;\n            let count = 0;\n            let increment = 0;\n            if (e.keyCode === Constants.KeyCodes.UP) {\n                increment = -1;\n            } else if (e.keyCode === Constants.KeyCodes.DOWN) {\n                increment = 1;\n            }\n            let unreadCounts = ChannelStore.getUnreadCount(allChannels[nextIndex].id);\n            while (count < allChannels.length && unreadCounts.msgs === 0 && unreadCounts.mentions === 0) {\n                nextIndex += increment;\n                count++;\n                nextIndex = Utils.mod(nextIndex, allChannels.length);\n                unreadCounts = ChannelStore.getUnreadCount(allChannels[nextIndex].id);\n            }\n            if (unreadCounts.msgs !== 0 || unreadCounts.mentions !== 0) {\n                const nextChannel = allChannels[nextIndex];\n                ChannelActions.goToChannel(nextChannel);\n                this.updateScrollbarOnChannelChange(nextChannel);\n            }\n            this.isSwitchingChannel = false;\n        }\n    }\n\n    getDisplayedChannels = () => {\n        return this.getDisplayedChannelsForState(this.state);\n    }\n\n    getDisplayedChannelsForState = (state) => {\n        return state.favoriteChannels.concat(state.publicChannels).concat(state.privateChannels).concat(state.directAndGroupChannels);\n    }\n\n    channelIdIsDisplayedForState = (state, id) => {\n        const allChannels = this.getDisplayedChannelsForState(state);\n        for (let i = 0; i < allChannels.length; i++) {\n            if (allChannels[i].id === id) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    handleLeavePublicChannel = (e, channel) => {\n        e.preventDefault();\n        ChannelActions.leaveChannel(channel.id);\n        trackEvent('ui', 'ui_public_channel_x_button_clicked');\n    }\n\n    handleLeavePrivateChannel = (e, channel) => {\n        e.preventDefault();\n        GlobalActions.showLeavePrivateChannelModal(channel);\n        trackEvent('ui', 'ui_private_channel_x_button_clicked');\n    }\n\n    handleLeaveDirectChannel = (e, channel) => {\n        e.preventDefault();\n\n        if (!this.isLeaving.get(channel.id)) {\n            this.isLeaving.set(channel.id, true);\n\n            let id;\n            let category;\n            if (channel.type === Constants.DM_CHANNEL) {\n                id = channel.teammate_id;\n                category = Constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW;\n            } else {\n                id = channel.id;\n                category = Constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW;\n            }\n\n            const currentUserId = UserStore.getCurrentId();\n            savePreferences(currentUserId, [{user_id: currentUserId, category, name: id, value: 'false'}])(dispatch, getState).then(\n                () => {\n                    this.isLeaving.set(channel.id, false);\n                }\n            );\n\n            this.setState(this.getStateFromStores());\n            trackEvent('ui', 'ui_direct_channel_x_button_clicked');\n        }\n\n        if (channel.id === this.state.activeId) {\n            this.closedDirectChannel = true;\n            browserHistory.push('/' + this.state.currentTeam.name + '/channels/town-square');\n        }\n    }\n\n    handleClick = (link) => {\n        this.trackChannelSelectedEvent();\n        browserHistory.push(link);\n    }\n\n    showMoreChannelsModal = () => {\n        this.setState({showMoreChannelsModal: true});\n        trackEvent('ui', 'ui_channels_more_public');\n    }\n\n    hideMoreChannelsModal = () => {\n        this.setState({showMoreChannelsModal: false});\n    }\n\n    showNewChannelModal = (type) => {\n        this.setState({newChannelModalType: type});\n    }\n\n    hideNewChannelModal = () => {\n        this.setState({newChannelModalType: ''});\n    }\n\n    showMoreDirectChannelsModal = (startingUsers) => {\n        trackEvent('ui', 'ui_channels_more_direct');\n        this.setState({showDirectChannelsModal: true, startingUsers});\n    }\n\n    hideMoreDirectChannelsModal = () => {\n        this.setState({showDirectChannelsModal: false, startingUsers: null});\n    }\n\n    openLeftSidebar = () => {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.add('move--right');\n                document.querySelector('.app__body .sidebar--left').classList.add('move--right');\n            });\n        }\n    }\n\n    openQuickSwitcher = (e) => {\n        e.preventDefault();\n        AppDispatcher.handleViewAction({\n            type: ActionTypes.TOGGLE_QUICK_SWITCH_MODAL\n        });\n    }\n\n    createTutorialTip = () => {\n        const screens = [];\n\n        let townSquareDisplayName = Constants.DEFAULT_CHANNEL_UI_NAME;\n        if (this.state.townSquare) {\n            townSquareDisplayName = this.state.townSquare.display_name;\n        }\n\n        let offTopicDisplayName = Constants.OFFTOPIC_CHANNEL_UI_NAME;\n        if (this.state.offTopic) {\n            offTopicDisplayName = this.state.offTopic.display_name;\n        }\n\n        screens.push(\n            <div>\n                <FormattedHTMLMessage\n                    id='sidebar.tutorialScreen1'\n                    defaultMessage='<h4>Channels</h4><p><strong>Channels</strong> organize conversations across different topics. They’re open to everyone on your team. To send private communications use <strong>Direct Messages</strong> for a single person or <strong>Private Channels</strong> for multiple people.</p>'\n                />\n            </div>\n        );\n\n        screens.push(\n            <div>\n                <FormattedHTMLMessage\n                    id='sidebar.tutorialScreen2'\n                    defaultMessage='<h4>\"{townsquare}\" and \"{offtopic}\" channels</h4>\n                    <p>Here are two public channels to start:</p>\n                    <p><strong>{townsquare}</strong> is a place for team-wide communication. Everyone in your team is a member of this channel.</p>\n                    <p><strong>{offtopic}</strong> is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.</p>'\n                    values={{\n                        townsquare: townSquareDisplayName,\n                        offtopic: offTopicDisplayName\n                    }}\n                />\n            </div>\n        );\n\n        screens.push(\n            <div>\n                <FormattedHTMLMessage\n                    id='sidebar.tutorialScreen3'\n                    defaultMessage='<h4>Creating and Joining Channels</h4>\n                    <p>Click <strong>\"More...\"</strong> to create a new channel or join an existing one.</p>\n                    <p>You can also create a new public or private channel by clicking the <strong>\"+\" symbol</strong> next to the public or private channel header.</p>'\n                />\n            </div>\n        );\n\n        return (\n            <TutorialTip\n                placement='right'\n                screens={screens}\n                overlayClass='tip-overlay--sidebar'\n                diagnosticsTag='tutorial_tip_2_channels'\n            />\n        );\n    }\n\n    createChannelElement = (channel, index, arr, handleClose) => {\n        const members = this.state.members;\n        const activeId = this.state.activeId;\n        const channelMember = members[channel.id];\n        const unreadCount = this.state.unreadCounts[channel.id] || {msgs: 0, mentions: 0};\n        let msgCount;\n\n        let linkClass = '';\n        if (channel.id === activeId) {\n            linkClass = 'active';\n        }\n\n        let rowClass = 'sidebar-item';\n\n        var unread = false;\n        if (channelMember) {\n            msgCount = unreadCount.msgs + unreadCount.mentions;\n            unread = msgCount > 0 || channelMember.mention_count > 0;\n        }\n\n        if (unread) {\n            rowClass += ' unread-title';\n\n            if (channel.id !== activeId) {\n                if (!this.firstUnreadChannel) {\n                    this.firstUnreadChannel = channel.name;\n                }\n                this.lastUnreadChannel = channel.name;\n            }\n        }\n\n        var badge = null;\n        if (channelMember) {\n            if (unreadCount.mentions) {\n                badge = <span className='badge'>{unreadCount.mentions}</span>;\n                this.badgesActive = true;\n            }\n        } else if (this.state.loadingDMChannel === index && channel.type === Constants.DM_CHANNEL) {\n            badge = (\n                <img\n                    className='channel-loading-gif pull-right'\n                    src={loadingGif}\n                />\n            );\n        }\n\n        if (unreadCount.mentions > 0) {\n            rowClass += ' has-badge';\n        }\n\n        var icon = null;\n        const globeIcon = Constants.GLOBE_ICON_SVG;\n        const lockIcon = Constants.LOCK_ICON_SVG;\n        if (channel.type === Constants.OPEN_CHANNEL) {\n            icon = (\n                <span\n                    className='icon icon__globe'\n                    dangerouslySetInnerHTML={{__html: globeIcon}}\n                />\n            );\n        } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n            icon = (\n                <span\n                    className='icon icon__lock'\n                    dangerouslySetInnerHTML={{__html: lockIcon}}\n                />\n            );\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            icon = <div className='status status--group'>{UserStore.getProfileListInChannel(channel.id, true).length}</div>;\n        } else if (channel.type === Constants.DM_CHANNEL) {\n            const teammate = Utils.getDirectTeammate(channel.id);\n            if (teammate && teammate.delete_at) {\n                icon = (\n                    <span\n                        className='icon icon__archive'\n                        dangerouslySetInnerHTML={{__html: Constants.ARCHIVE_ICON_SVG}}\n                    />\n                );\n            } else {\n                icon = (\n                    <StatusIcon\n                        type='avatar'\n                        status={channel.status}\n                    />);\n            }\n        }\n\n        let closeButton = null;\n        let removeTooltip = (\n            <Tooltip id='remove-dm-tooltip'>\n                <FormattedMessage\n                    id='sidebar.removeList'\n                    defaultMessage='Remove from list'\n                />\n            </Tooltip>\n        );\n        if (channel.type === Constants.OPEN_CHANNEL || channel.type === Constants.PRIVATE_CHANNEL) {\n            removeTooltip = (\n                <Tooltip id='remove-dm-tooltip'>\n                    <FormattedMessage\n                        id='sidebar.leave'\n                        defaultMessage='Leave channel'\n                    />\n                </Tooltip>\n            );\n        }\n        if (handleClose && !badge) {\n            closeButton = (\n                <OverlayTrigger\n                    trigger={['hover', 'focus']}\n                    delayShow={1000}\n                    placement='top'\n                    overlay={removeTooltip}\n                >\n                    <span\n                        onClick={(e) => {\n                            e.stopPropagation();\n                            handleClose(e, channel);\n                        }}\n                        className='btn-close'\n                    >\n                        {'×'}\n                    </span>\n                </OverlayTrigger>\n            );\n\n            rowClass += ' has-close';\n        }\n\n        let tutorialTip = null;\n        if (this.state.showTutorialTip && channel.name === Constants.DEFAULT_CHANNEL) {\n            tutorialTip = this.createTutorialTip();\n            this.openLeftSidebar();\n        }\n\n        let link = '';\n        if (channel.fake) {\n            link = '/' + this.state.currentTeam.name + '/channels/' + channel.name + '?fakechannel=' + encodeURIComponent(JSON.stringify(channel));\n        } else {\n            link = '/' + this.state.currentTeam.name + '/channels/' + channel.name;\n        }\n\n        const user = UserStore.getCurrentUser();\n        let displayName = '';\n        if (user.id === channel.teammate_id) {\n            displayName = (\n                <FormattedMessage\n                    id='sidebar.directchannel.you'\n                    defaultMessage='{displayname} (you)'\n                    values={{\n                        displayname: channel.display_name\n                    }}\n                />\n            );\n        } else {\n            displayName = channel.display_name;\n        }\n\n        const channelLink = this.createChannelButtonOrLink(link, rowClass, icon, displayName, badge, closeButton);\n\n        return (\n            <li\n                key={channel.name}\n                ref={channel.name}\n                className={linkClass}\n            >\n                {channelLink}\n                {tutorialTip}\n            </li>\n        );\n    }\n\n    createChannelButtonOrLink(link, rowClass, icon, displayName, badge, closeButton) {\n        let element;\n        if (isDesktopApp()) {\n            element = (\n                <button\n                    className={'btn btn-link ' + rowClass}\n                    onClick={() => this.handleClick(link)}\n                >\n                    {icon}\n                    <span className='sidebar-item__name'>{displayName}</span>\n                    {badge}\n                    {closeButton}\n                </button>\n            );\n        } else {\n            element = (\n                <Link\n                    to={link}\n                    className={rowClass}\n                    onClick={this.trackChannelSelectedEvent}\n                >\n                    {icon}\n                    <span className='sidebar-item__name'>{displayName}</span>\n                    {badge}\n                    {closeButton}\n                </Link>\n            );\n        }\n\n        return element;\n    }\n\n    trackChannelSelectedEvent = () => {\n        trackEvent('ui', 'ui_channel_selected');\n    }\n\n    render() {\n        const switchChannelIcon = Constants.SWITCH_CHANNEL_ICON_SVG;\n\n        // Check if we have all info needed to render\n        if (this.state.currentTeam == null || this.state.currentUser == null) {\n            return (<div/>);\n        }\n\n        this.lastBadgesActive = this.badgesActive;\n        this.badgesActive = false;\n\n        // keep track of the first and last unread channels so we can use them to set the unread indicators\n        this.firstUnreadChannel = null;\n        this.lastUnreadChannel = null;\n\n        // create elements for all 4 types of channels\n        const visibleFavoriteChannels = this.state.favoriteChannels.filter(ChannelUtils.isChannelVisible);\n\n        const favoriteItems = visibleFavoriteChannels.\n            map((channel, index, arr) => {\n                if (channel.type === Constants.DM_CHANNEL || channel.type === Constants.GM_CHANNEL) {\n                    return this.createChannelElement(channel, index, arr, this.handleLeaveDirectChannel);\n                } else if (global.window.mm_config.EnableXToLeaveChannelsFromLHS === 'true') {\n                    if (channel.type === Constants.OPEN_CHANNEL && channel.name !== Constants.DEFAULT_CHANNEL) {\n                        return this.createChannelElement(channel, index, arr, this.handleLeavePublicChannel);\n                    } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n                        return this.createChannelElement(channel, index, arr, this.handleLeavePrivateChannel);\n                    }\n                }\n\n                return this.createChannelElement(channel);\n            });\n\n        const publicChannelItems = this.state.publicChannels.map((channel, index, arr) => {\n            if (global.window.mm_config.EnableXToLeaveChannelsFromLHS !== 'true' ||\n                channel.name === Constants.DEFAULT_CHANNEL\n            ) {\n                return this.createChannelElement(channel);\n            }\n            return this.createChannelElement(channel, index, arr, this.handleLeavePublicChannel);\n        });\n\n        const privateChannelItems = this.state.privateChannels.map((channel, index, arr) => {\n            if (global.window.mm_config.EnableXToLeaveChannelsFromLHS !== 'true') {\n                return this.createChannelElement(channel);\n            }\n            return this.createChannelElement(channel, index, arr, this.handleLeavePrivateChannel);\n        });\n\n        const directMessageItems = this.state.directAndGroupChannels.map((channel, index, arr) => {\n            return this.createChannelElement(channel, index, arr, this.handleLeaveDirectChannel);\n        });\n\n        // update the favicon to show if there are any notifications\n        if (this.lastBadgesActive !== this.badgesActive) {\n            var link = document.createElement('link');\n            link.type = 'image/x-icon';\n            link.rel = 'shortcut icon';\n            link.id = 'favicon';\n            if (this.badgesActive) {\n                link.href = redFavicon;\n            } else {\n                link.href = favicon;\n            }\n            var head = document.getElementsByTagName('head')[0];\n            var oldLink = document.getElementById('favicon');\n            if (oldLink) {\n                head.removeChild(oldLink);\n            }\n            head.appendChild(link);\n        }\n\n        var directMessageMore = (\n            <li key='more'>\n                <button\n                    id='moreDirectMessage'\n                    className='nav-more cursor--pointer style--none btn--block'\n                    onClick={this.handleOpenMoreDirectChannelsModal}\n                >\n                    <FormattedMessage\n                        id='sidebar.moreElips'\n                        defaultMessage='More...'\n                    />\n                </button>\n            </li>\n        );\n\n        let showChannelModal = false;\n        if (this.state.newChannelModalType !== '') {\n            showChannelModal = true;\n        }\n\n        const createChannelTootlip = (\n            <Tooltip id='new-channel-tooltip' >\n                <FormattedMessage\n                    id='sidebar.createChannel'\n                    defaultMessage='Create new public channel'\n                />\n            </Tooltip>\n        );\n        const createGroupTootlip = (\n            <Tooltip id='new-group-tooltip'>\n                <FormattedMessage\n                    id='sidebar.createGroup'\n                    defaultMessage='Create new private channel'\n                />\n            </Tooltip>\n        );\n\n        const createDirectMessageTooltip = (\n            <Tooltip\n                id='new-group-tooltip'\n                className='hidden-xs'\n            >\n                <FormattedMessage\n                    id='sidebar.createDirectMessage'\n                    defaultMessage='Create new direct message'\n                />\n            </Tooltip>\n        );\n\n        const above = (\n            <FormattedMessage\n                id='sidebar.unreads'\n                defaultMessage='More unreads'\n            />\n        );\n\n        const below = (\n            <FormattedMessage\n                id='sidebar.unreads'\n                defaultMessage='More unreads'\n            />\n        );\n\n        const isTeamAdmin = TeamStore.isTeamAdminForCurrentTeam();\n        const isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n\n        let createPublicChannelIcon = (\n            <OverlayTrigger\n                trigger={['hover', 'focus']}\n                delayShow={500}\n                placement='top'\n                overlay={createChannelTootlip}\n            >\n                <button\n                    id='createPublicChannel'\n                    className='add-channel-btn cursor--pointer style--none'\n                    onClick={this.showNewChannelModal.bind(this, Constants.OPEN_CHANNEL)}\n                >\n                    {'+'}\n                </button>\n            </OverlayTrigger>\n        );\n\n        let createPrivateChannelIcon = (\n            <OverlayTrigger\n                trigger={['hover', 'focus']}\n                delayShow={500}\n                placement='top'\n                overlay={createGroupTootlip}\n            >\n                <button\n                    id='createPrivateChannel'\n                    className='add-channel-btn cursor--pointer style--none'\n                    onClick={this.showNewChannelModal.bind(this, Constants.PRIVATE_CHANNEL)}\n                >\n                    {'+'}\n                </button>\n            </OverlayTrigger>\n        );\n\n        if (!ChannelUtils.showCreateOption(Constants.OPEN_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n            createPublicChannelIcon = null;\n        }\n\n        const createDirectMessageIcon = (\n            <OverlayTrigger\n                className='hidden-xs'\n                delayShow={500}\n                placement='top'\n                overlay={createDirectMessageTooltip}\n            >\n                <button\n                    className='add-channel-btn cursor--pointer style--none'\n                    onClick={this.handleOpenMoreDirectChannelsModal}\n                >\n                    {'+'}\n                </button>\n            </OverlayTrigger>\n        );\n\n        if (!ChannelUtils.showCreateOption(Constants.PRIVATE_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n            createPrivateChannelIcon = null;\n        }\n\n        let moreDirectChannelsModal;\n        if (this.state.showDirectChannelsModal) {\n            moreDirectChannelsModal = (\n                <MoreDirectChannels\n                    onModalDismissed={this.hideMoreDirectChannelsModal}\n                    startingUsers={this.state.startingUsers}\n                />\n            );\n        }\n\n        let moreChannelsModal;\n        if (this.state.showMoreChannelsModal) {\n            moreChannelsModal = (\n                <MoreChannels\n                    onModalDismissed={this.hideMoreChannelsModal}\n                    handleNewChannel={() => {\n                        this.hideMoreChannelsModal();\n                        this.showNewChannelModal(Constants.OPEN_CHANNEL);\n                    }}\n                />\n            );\n        }\n\n        let quickSwitchTextShortcutId = 'quick_switch_modal.channelsShortcut.windows';\n        let quickSwitchTextShortcutDefault = '- CTRL+K';\n        if (Utils.isMac()) {\n            quickSwitchTextShortcutId = 'quick_switch_modal.channelsShortcut.mac';\n            quickSwitchTextShortcutDefault = '- ⌘K';\n        }\n\n        const quickSwitchTextShortcut = (\n            <span className='switch__shortcut hidden-xs'>\n                <FormattedMessage\n                    id={quickSwitchTextShortcutId}\n                    defaultMessage={quickSwitchTextShortcutDefault}\n                />\n            </span>\n        );\n\n        return (\n            <div\n                className='sidebar--left'\n                id='sidebar-left'\n                key='sidebar-left'\n            >\n                <NewChannelFlow\n                    show={showChannelModal}\n                    channelType={this.state.newChannelModalType}\n                    onModalDismissed={this.hideNewChannelModal}\n                />\n                {moreDirectChannelsModal}\n                {moreChannelsModal}\n\n                <SidebarHeader\n                    teamDisplayName={this.state.currentTeam.display_name}\n                    teamDescription={this.state.currentTeam.description}\n                    teamName={this.state.currentTeam.name}\n                    teamType={this.state.currentTeam.type}\n                    currentUser={this.state.currentUser}\n                />\n\n                <UnreadChannelIndicator\n                    name='Top'\n                    show={this.state.showTopUnread}\n                    onClick={this.scrollToFirstUnreadChannel}\n                    extraClass='nav-pills__unread-indicator-top'\n                    content={above}\n                />\n                <UnreadChannelIndicator\n                    name='Bottom'\n                    show={this.state.showBottomUnread}\n                    onClick={this.scrollToLastUnreadChannel}\n                    extraClass='nav-pills__unread-indicator-bottom'\n                    content={below}\n                />\n\n                <div\n                    id='sidebarChannelContainer'\n                    ref='container'\n                    className='nav-pills__container'\n                    onScroll={this.onScroll}\n                >\n                    {favoriteItems.length !== 0 && <ul className='nav nav-pills nav-stacked'>\n                        <li>\n                            <h4 id='favoriteChannel'>\n                                <FormattedMessage\n                                    id='sidebar.favorite'\n                                    defaultMessage='FAVORITE CHANNELS'\n                                />\n                            </h4>\n                        </li>\n                        {favoriteItems}\n                    </ul>}\n                    <ul className='nav nav-pills nav-stacked'>\n                        <li>\n                            <h4 id='publicChannel'>\n                                <FormattedMessage\n                                    id='sidebar.channels'\n                                    defaultMessage='PUBLIC CHANNELS'\n                                />\n                                {createPublicChannelIcon}\n                            </h4>\n                        </li>\n                        {publicChannelItems}\n                        <li>\n                            <button\n                                id='sidebarChannelsMore'\n                                className='nav-more cursor--pointer style--none btn--block'\n                                onClick={this.showMoreChannelsModal}\n                            >\n                                <FormattedMessage\n                                    id='sidebar.moreElips'\n                                    defaultMessage='More...'\n                                />\n                            </button>\n                        </li>\n                    </ul>\n\n                    <ul className='nav nav-pills nav-stacked'>\n                        <li>\n                            <h4 id='privateChannel'>\n                                <FormattedMessage\n                                    id='sidebar.pg'\n                                    defaultMessage='PRIVATE CHANNELS'\n                                />\n                                {createPrivateChannelIcon}\n                            </h4>\n                        </li>\n                        {privateChannelItems}\n                    </ul>\n                    <ul className='nav nav-pills nav-stacked'>\n                        <li>\n                            <h4 id='directChannel'>\n                                <FormattedMessage\n                                    id='sidebar.direct'\n                                    defaultMessage='DIRECT MESSAGES'\n                                />\n                                {createDirectMessageIcon}\n                            </h4>\n                        </li>\n                        {directMessageItems}\n                        {directMessageMore}\n                    </ul>\n                </div>\n                <div className='sidebar__switcher'>\n                    <button\n                        id='sidebarSwitcherButton'\n                        className='btn btn-link'\n                        onClick={this.openQuickSwitcher}\n                    >\n                        <span\n                            className='icon icon__switch'\n                            dangerouslySetInnerHTML={{__html: switchChannelIcon}}\n                        />\n                        <FormattedMessage\n                            id={'channel_switch_modal.title'}\n                            defaultMessage='Switch Channels'\n                        />\n                        {quickSwitchTextShortcut}\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar.jsx"],"sourceRoot":""}